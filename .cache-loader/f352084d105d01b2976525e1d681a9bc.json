{"remainingRequest":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/babel-loader/lib/index.js??ref--1-1!/home/travis/build/csrdelft/csrdelft.nl/node_modules/eslint-loader/index.js!/home/travis/build/csrdelft/csrdelft.nl/resources/assets/js/main-menu.js","dependencies":[{"path":"/home/travis/build/csrdelft/csrdelft.nl/resources/assets/js/main-menu.js","mtime":1545951909668},{"path":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/cache-loader/dist/cjs.js","mtime":1545951596000},{"path":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/babel-loader/lib/index.js","mtime":1545951596000},{"path":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/eslint-loader/index.js","mtime":1545951596000}],"contextDependencies":[],"result":["'use strict';\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _hammerjs = require('hammerjs');\n\nvar _hammerjs2 = _interopRequireDefault(_hammerjs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _jquery2.default)(function () {\n\n\tvar active = null;\n\n\tfunction isVisible(id) {\n\t\treturn active === id;\n\t}\n\n\t/**\n  * Zorg ervoor dat de body niet kan scrollen als de overlay zichtbaar is.\n  */\n\tfunction toggleScroll() {\n\t\tif (active === '#search' || active === '#menu') {\n\t\t\t(0, _jquery2.default)('body').removeClass('overflow-x-hidden').addClass('overflow-hidden');\n\t\t} else if (active === '#zijbalk') {\n\t\t\t(0, _jquery2.default)('body').removeClass('overflow-hidden').addClass('overflow-x-hidden');\n\t\t} else {\n\t\t\t// Sta toe om te scrollen _nadat_ de animatie klaar is.\n\t\t\tsetTimeout(function () {\n\t\t\t\treturn (0, _jquery2.default)('body').removeClass('overflow-hidden overflow-x-hidden');\n\t\t\t}, 300);\n\t\t}\n\t}\n\n\t/**\n  * Terug naar gewone view.\n  * @param event\n  */\n\tfunction reset(event) {\n\t\tif (event && active != null) event.preventDefault();\n\n\t\tactive = null;\n\n\t\t(0, _jquery2.default)('.target').removeClass('target');\n\n\t\ttoggleScroll();\n\t}\n\n\t/**\n  *\n  * @param id\n  */\n\tfunction view(id) {\n\t\tactive = id;\n\n\t\t(0, _jquery2.default)('.target').not(id).removeClass('target');\n\t\t(0, _jquery2.default)(id).addClass('target');\n\n\t\ttoggleScroll();\n\t}\n\n\t/**\n  * Toggle view met id.\n  * @param id\n  */\n\tfunction toggle(id) {\n\t\treturn function (event) {\n\t\t\tevent.preventDefault();\n\t\t\tif (active === id) {\n\t\t\t\treset();\n\t\t\t} else {\n\t\t\t\tactive = id;\n\n\t\t\t\t(0, _jquery2.default)('.target').not(id).removeClass('target');\n\t\t\t\t(0, _jquery2.default)(id).toggleClass('target');\n\n\t\t\t\ttoggleScroll();\n\t\t\t}\n\t\t};\n\t}\n\n\t//open submenu\n\t(0, _jquery2.default)('.has-children').children('a').on('click', function (event) {\n\t\tevent.preventDefault();\n\t\tvar selected = (0, _jquery2.default)(this);\n\t\tif (selected.next('ul').hasClass('is-hidden')) {\n\t\t\t//desktop version only\n\t\t\tselected.addClass('selected').next('ul').removeClass('is-hidden').end().parent('.has-children').parent('ul').addClass('moves-out');\n\t\t\tselected.parent('.has-children').siblings('.has-children').children('ul').addClass('is-hidden').end().children('a').removeClass('selected');\n\t\t} else {\n\t\t\tselected.removeClass('selected').next('ul').addClass('is-hidden').end().parent('.has-children').parent('ul').removeClass('moves-out');\n\t\t}\n\t});\n\n\t//submenu items - go back link\n\t(0, _jquery2.default)('.go-back').on('click', function () {\n\t\t(0, _jquery2.default)(this).parent('ul').addClass('is-hidden').parent('.has-children').parent('ul').removeClass('moves-out');\n\t});\n\n\t(0, _jquery2.default)('.trigger[href=\"#menu\"]').on('click', toggle('#menu'));\n\t(0, _jquery2.default)('.trigger[href=\"#zijbalk\"]').on('click', toggle('#zijbalk'));\n\t(0, _jquery2.default)('.trigger[href=\"#search\"]').on('click', toggle('#search'));\n\n\t(0, _jquery2.default)('#cd-main-overlay,.cd-main-content').on('click', reset);\n\n\tvar $searchfield = (0, _jquery2.default)('.cd-search').find('input[type=\"search\"]');\n\n\t// Catch keystrokes for instant search\n\t(0, _jquery2.default)(document).on('keydown', function (event) {\n\t\t// Geen instantsearch met modifiers\n\t\tif (event.ctrlKey || event.altKey || event.metaKey) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Geen instantsearch als we in een input-element of text-area zitten.\n\t\tvar element = event.target.tagName.toUpperCase();\n\t\tif (element === 'INPUT' || element === 'TEXTAREA' || element === 'SELECT') {\n\t\t\treturn;\n\t\t}\n\n\t\t// a-z en 0-9 incl. numpad\n\t\tif (event.keyCode > 64 && event.keyCode < 91 || event.keyCode > 47 && event.keyCode < 58 || event.keyCode > 95 && event.keyCode < 106) {\n\t\t\tview('#search');\n\t\t\t$searchfield.val('');\n\t\t\t$searchfield.trigger('focus');\n\t\t}\n\t});\n\n\t(0, _jquery2.default)(document).on('keyup', function (event) {\n\t\tif (event.keyCode === 27) {\n\t\t\t// esc\n\t\t\treset();\n\t\t}\n\t});\n\n\t// Maak het mogelijk om nog tekst te kunnen selecteren.\n\tdelete _hammerjs2.default.defaults.cssProps.userSelect;\n\n\tvar hammertime = new _hammerjs2.default(document.body, { inputClass: _hammerjs2.default.SUPPORT_POINTER_EVENTS ? _hammerjs2.default.PointerEventInput : _hammerjs2.default.TouchInput });\n\n\thammertime.on('swiperight', function () {\n\t\tif (isVisible('#zijbalk') || isVisible('#menu')) {\n\t\t\treset();\n\t\t} else {\n\t\t\tview('#zijbalk');\n\t\t}\n\t});\n\n\thammertime.on('swipeleft', function () {\n\t\tif (isVisible('#zijbalk') || isVisible('#menu')) {\n\t\t\treset();\n\t\t} else {\n\t\t\tview('#menu');\n\t\t}\n\t});\n});",{"version":3,"sources":["resources/assets/js/main-menu.js"],"names":["active","isVisible","id","toggleScroll","removeClass","addClass","setTimeout","reset","event","preventDefault","view","not","toggle","toggleClass","children","on","selected","next","hasClass","end","parent","siblings","$searchfield","find","document","ctrlKey","altKey","metaKey","element","target","tagName","toUpperCase","keyCode","val","trigger","Hammer","defaults","cssProps","userSelect","hammertime","body","inputClass","SUPPORT_POINTER_EVENTS","PointerEventInput","TouchInput"],"mappings":"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","file":"main-menu.js","sourceRoot":"/home/travis/build/csrdelft/csrdelft.nl","sourcesContent":["import $ from 'jquery';\nimport Hammer from 'hammerjs';\n\n$(function () {\n\n\tlet active = null;\n\n\tfunction isVisible(id) {\n\t\treturn active === id;\n\t}\n\n\t/**\n\t * Zorg ervoor dat de body niet kan scrollen als de overlay zichtbaar is.\n\t */\n\tfunction toggleScroll() {\n\t\tif (active === '#search' || active === '#menu') {\n\t\t\t$('body')\n\t\t\t\t.removeClass('overflow-x-hidden')\n\t\t\t\t.addClass('overflow-hidden');\n\t\t} else if (active === '#zijbalk') {\n\t\t\t$('body')\n\t\t\t\t.removeClass('overflow-hidden')\n\t\t\t\t.addClass('overflow-x-hidden');\n\t\t} else {\n\t\t\t// Sta toe om te scrollen _nadat_ de animatie klaar is.\n\t\t\tsetTimeout(() => $('body').removeClass('overflow-hidden overflow-x-hidden'), 300);\n\t\t}\n\t}\n\n\t/**\n\t * Terug naar gewone view.\n\t * @param event\n\t */\n\tfunction reset(event) {\n\t\tif (event && active != null) event.preventDefault();\n\n\t\tactive = null;\n\n\t\t$('.target').removeClass('target');\n\n\t\ttoggleScroll();\n\t}\n\n\t/**\n\t *\n\t * @param id\n\t */\n\tfunction view(id) {\n\t\tactive = id;\n\n\t\t$('.target').not(id).removeClass('target');\n\t\t$(id).addClass('target');\n\n\t\ttoggleScroll();\n\t}\n\n\t/**\n\t * Toggle view met id.\n\t * @param id\n\t */\n\tfunction toggle(id) {\n\t\treturn function (event) {\n\t\t\tevent.preventDefault();\n\t\t\tif (active === id) {\n\t\t\t\treset();\n\t\t\t} else {\n\t\t\t\tactive = id;\n\n\t\t\t\t$('.target').not(id).removeClass('target');\n\t\t\t\t$(id).toggleClass('target');\n\n\t\t\t\ttoggleScroll();\n\t\t\t}\n\t\t};\n\t}\n\n\t//open submenu\n\t$('.has-children').children('a').on('click', function (event) {\n\t\tevent.preventDefault();\n\t\tlet selected = $(this);\n\t\tif (selected.next('ul').hasClass('is-hidden')) {\n\t\t\t//desktop version only\n\t\t\tselected.addClass('selected').next('ul').removeClass('is-hidden').end().parent('.has-children').parent('ul').addClass('moves-out');\n\t\t\tselected.parent('.has-children').siblings('.has-children').children('ul').addClass('is-hidden').end().children('a').removeClass('selected');\n\t\t} else {\n\t\t\tselected.removeClass('selected').next('ul').addClass('is-hidden').end().parent('.has-children').parent('ul').removeClass('moves-out');\n\t\t}\n\t});\n\n\t//submenu items - go back link\n\t$('.go-back').on('click', function () {\n\t\t$(this).parent('ul').addClass('is-hidden').parent('.has-children').parent('ul').removeClass('moves-out');\n\t});\n\n\t$('.trigger[href=\"#menu\"]').on('click', toggle('#menu'));\n\t$('.trigger[href=\"#zijbalk\"]').on('click', toggle('#zijbalk'));\n\t$('.trigger[href=\"#search\"]').on('click', toggle('#search'));\n\n\t$('#cd-main-overlay,.cd-main-content').on('click', reset);\n\n\tlet $searchfield = $('.cd-search').find('input[type=\"search\"]');\n\n\t// Catch keystrokes for instant search\n\t$(document).on('keydown', (event) => {\n\t\t// Geen instantsearch met modifiers\n\t\tif (event.ctrlKey || event.altKey || event.metaKey) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Geen instantsearch als we in een input-element of text-area zitten.\n\t\tlet element = event.target.tagName.toUpperCase();\n\t\tif (element === 'INPUT' || element === 'TEXTAREA' || element === 'SELECT') {\n\t\t\treturn;\n\t\t}\n\n\t\t// a-z en 0-9 incl. numpad\n\t\tif ((event.keyCode > 64 && event.keyCode < 91) || (event.keyCode > 47 && event.keyCode < 58) || (event.keyCode > 95 && event.keyCode < 106)) {\n\t\t\tview('#search');\n\t\t\t$searchfield.val('');\n\t\t\t$searchfield.trigger('focus');\n\t\t}\n\t});\n\n\t$(document).on('keyup', (event) => {\n\t\tif (event.keyCode === 27) { // esc\n\t\t\treset();\n\t\t}\n\t});\n\n\t// Maak het mogelijk om nog tekst te kunnen selecteren.\n\tdelete Hammer.defaults.cssProps.userSelect;\n\n\tlet hammertime = new Hammer(document.body, {inputClass: Hammer.SUPPORT_POINTER_EVENTS ? Hammer.PointerEventInput : Hammer.TouchInput});\n\n\thammertime.on('swiperight', () => {\n\t\tif (isVisible('#zijbalk') || isVisible('#menu')) {\n\t\t\treset();\n\t\t} else {\n\t\t\tview('#zijbalk');\n\t\t}\n\t});\n\n\thammertime.on('swipeleft', () => {\n\t\tif (isVisible('#zijbalk') || isVisible('#menu')) {\n\t\t\treset();\n\t\t} else {\n\t\t\tview('#menu');\n\t\t}\n\t});\n});\n"]}]}