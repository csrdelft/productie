{"remainingRequest":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/babel-loader/lib/index.js??ref--1-1!/home/travis/build/csrdelft/csrdelft.nl/node_modules/eslint-loader/index.js!/home/travis/build/csrdelft/csrdelft.nl/resources/assets/js/bbcode.js","dependencies":[{"path":"/home/travis/build/csrdelft/csrdelft.nl/resources/assets/js/bbcode.js","mtime":1545951539341},{"path":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/cache-loader/dist/cjs.js","mtime":1545951596970},{"path":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/babel-loader/lib/index.js","mtime":1545951596898},{"path":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/eslint-loader/index.js","mtime":1545951596454}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.bbvideoDisplay = exports.CsrBBPreview = undefined;\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _context = require('./context');\n\nvar _context2 = _interopRequireDefault(_context);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @see templates/courant/courantbeheer.tpl\n * @see blade_templates/forum/partial/post_forum.blade.php\n * @see templates/mededelingen/mededeling.tpl\n * @see templates/roodschopper/roodschopper.tpl\n * @see forum.js\n * @see view/formulier/invoervelden/BBCodeField.class.php\n * @param sourceId\n * @param targetId\n * @constructor\n */\nvar CsrBBPreview = exports.CsrBBPreview = function CsrBBPreview(sourceId, targetId) {\n    if (sourceId.charAt(0) !== '#') {\n        sourceId = '#' + sourceId;\n    }\n    if (targetId.charAt(0) !== '#') {\n        targetId = '#' + targetId;\n    }\n    var bbcode = (0, _jquery2.default)(sourceId).val();\n    if (typeof bbcode !== 'string' || bbcode.trim() === '') {\n        (0, _jquery2.default)(targetId).html('').hide();\n        return;\n    }\n    _jquery2.default.post('/tools/bbcode.php', {\n        data: encodeURIComponent(bbcode)\n    }).done(function (data) {\n        (0, _jquery2.default)(targetId).html(data);\n        (0, _context2.default)((0, _jquery2.default)(targetId));\n        (0, _jquery2.default)(targetId).show();\n    }).fail(function (error) {\n        alert(error);\n    });\n};\n\n/**\n * @see view/bbcode/CsrBB.class.php\n * @param elem\n * @returns {boolean}\n */\nvar bbvideoDisplay = exports.bbvideoDisplay = function bbvideoDisplay(elem) {\n    var $previewdiv = (0, _jquery2.default)(elem);\n    var params = $previewdiv.data('params');\n    if (params.iframe) {\n        //vervang de thumb door een iframe\n        $previewdiv.parent().html('<iframe frameborder=\"0\" width=\"' + params.width + '\" height=\"' + params.height + '\" src=\"' + params.src + '\" allowfullscreen></iframe>');\n    } else {\n        //godtube is nog flash (of alternatief iets met javascript, maar geen iframe versie beschikbaar)\n        $previewdiv.parent().html('<object type=\"application/x-shockwave-flash\" data=\"http://www.godtube.com/resource/mediaplayer/5.3/player.swf\"  width=\"' + params.width + '\" height=\"' + params.height + '\">' + '<param name=\"allowfullscreen\" value=\"true\" />' + '<param name=\"allowscriptaccess\" value=\"always\" />' + '<param name=\"wmode\" value=\"opaque\" />' + '<param name=\"movie\" value=\"http://www.godtube.com/resource/mediaplayer/5.3/player.swf\" />' + '<param name=\"autostart\" value=\"true\" />' + '<param name=\"flashvars\" value=\"file=http://www.godtube.com/resource/mediaplayer/' + params.id + '.file' + '&image=http://www.godtube.com/resource/mediaplayer/' + params.id + '.jpg' + '&screencolor=000000' + '&type=video' + '&autostart=true' + '&playonce=true' + '&skin=http://www.godtube.com//resource/mediaplayer/skin/carbon/carbon.zip' + '&logo.file=http://media.salemwebnetwork.com/godtube/theme/default/media/embed-logo.png' + '&logo.link=http://www.godtube.com/watch/?v=' + params.id + '&logo.position=top-left' + '&logo.hide=false' + '&controlbar.position=over\">' + '</object>');\n    }\n\n    return false;\n};",{"version":3,"sources":["resources/assets/js/bbcode.js"],"names":["CsrBBPreview","sourceId","targetId","charAt","bbcode","val","trim","html","hide","$","post","data","encodeURIComponent","done","show","fail","error","alert","bbvideoDisplay","elem","$previewdiv","params","iframe","parent","width","height","src","id"],"mappings":";;;;;;;AAAA;;;;AACA;;;;;;AAEA;;;;;;;;;;;AAWO,IAAMA,sCAAe,SAAfA,YAAe,CAACC,QAAD,EAAWC,QAAX,EAAwB;AAChD,QAAID,SAASE,MAAT,CAAgB,CAAhB,MAAuB,GAA3B,EAAgC;AAC5BF,yBAAeA,QAAf;AACH;AACD,QAAIC,SAASC,MAAT,CAAgB,CAAhB,MAAuB,GAA3B,EAAgC;AAC5BD,yBAAeA,QAAf;AACH;AACD,QAAIE,SAAS,sBAAEH,QAAF,EAAYI,GAAZ,EAAb;AACA,QAAI,OAAOD,MAAP,KAAkB,QAAlB,IAA8BA,OAAOE,IAAP,OAAkB,EAApD,EAAwD;AACpD,8BAAEJ,QAAF,EAAYK,IAAZ,CAAiB,EAAjB,EAAqBC,IAArB;AACA;AACH;AACDC,qBAAEC,IAAF,CAAO,mBAAP,EAA4B;AACxBC,cAAMC,mBAAmBR,MAAnB;AADkB,KAA5B,EAEGS,IAFH,CAEQ,UAACF,IAAD,EAAU;AACd,8BAAET,QAAF,EAAYK,IAAZ,CAAiBI,IAAjB;AACA,+BAAY,sBAAET,QAAF,CAAZ;AACA,8BAAEA,QAAF,EAAYY,IAAZ;AACH,KAND,EAMGC,IANH,CAMQ,UAACC,KAAD,EAAW;AACfC,cAAMD,KAAN;AACH,KARD;AASH,CArBM;;AAuBP;;;;;AAKO,IAAME,0CAAiB,SAAjBA,cAAiB,CAASC,IAAT,EAAe;AACzC,QAAIC,cAAc,sBAAED,IAAF,CAAlB;AACA,QAAIE,SAASD,YAAYT,IAAZ,CAAiB,QAAjB,CAAb;AACA,QAAGU,OAAOC,MAAV,EAAkB;AACd;AACAF,oBAAYG,MAAZ,GAAqBhB,IAArB,CACI,oCAAoCc,OAAOG,KAA3C,GAAmD,YAAnD,GAAkEH,OAAOI,MAAzE,GAAkF,SAAlF,GAA8FJ,OAAOK,GAArG,GAA2G,6BAD/G;AAGH,KALD,MAKO;AACH;AACAN,oBAAYG,MAAZ,GAAqBhB,IAArB,CACI,4HAA4Hc,OAAOG,KAAnI,GAA2I,YAA3I,GAA0JH,OAAOI,MAAjK,GAA0K,IAA1K,GACA,+CADA,GAEA,mDAFA,GAGA,uCAHA,GAIA,2FAJA,GAKA,yCALA,GAMA,kFANA,GAMqFJ,OAAOM,EAN5F,GAMiG,OANjG,GAOA,qDAPA,GAOwDN,OAAOM,EAP/D,GAOoE,MAPpE,GAQA,qBARA,GASA,aATA,GAUA,iBAVA,GAWA,gBAXA,GAYA,2EAZA,GAaA,wFAbA,GAcA,6CAdA,GAcgDN,OAAOM,EAdvD,GAeA,yBAfA,GAgBA,kBAhBA,GAiBA,6BAjBA,GAkBA,WAnBJ;AAqBH;;AAED,WAAO,KAAP;AACH,CAlCM","file":"bbcode.js","sourceRoot":"/home/travis/build/csrdelft/csrdelft.nl","sourcesContent":["import $ from 'jquery';\nimport initContext from './context';\n\n/**\n * @see templates/courant/courantbeheer.tpl\n * @see blade_templates/forum/partial/post_forum.blade.php\n * @see templates/mededelingen/mededeling.tpl\n * @see templates/roodschopper/roodschopper.tpl\n * @see forum.js\n * @see view/formulier/invoervelden/BBCodeField.class.php\n * @param sourceId\n * @param targetId\n * @constructor\n */\nexport const CsrBBPreview = (sourceId, targetId) => {\n    if (sourceId.charAt(0) !== '#') {\n        sourceId = `#${sourceId}`;\n    }\n    if (targetId.charAt(0) !== '#') {\n        targetId = `#${targetId}`;\n    }\n    let bbcode = $(sourceId).val();\n    if (typeof bbcode !== 'string' || bbcode.trim() === '') {\n        $(targetId).html('').hide();\n        return;\n    }\n    $.post('/tools/bbcode.php', {\n        data: encodeURIComponent(bbcode)\n    }).done((data) => {\n        $(targetId).html(data);\n        initContext($(targetId));\n        $(targetId).show();\n    }).fail((error) => {\n        alert(error);\n    });\n};\n\n/**\n * @see view/bbcode/CsrBB.class.php\n * @param elem\n * @returns {boolean}\n */\nexport const bbvideoDisplay = function(elem) {\n    let $previewdiv = $(elem);\n    let params = $previewdiv.data('params');\n    if(params.iframe) {\n        //vervang de thumb door een iframe\n        $previewdiv.parent().html(\n            '<iframe frameborder=\"0\" width=\"' + params.width + '\" height=\"' + params.height + '\" src=\"' + params.src + '\" allowfullscreen></iframe>'\n        );\n    } else {\n        //godtube is nog flash (of alternatief iets met javascript, maar geen iframe versie beschikbaar)\n        $previewdiv.parent().html(\n            '<object type=\"application/x-shockwave-flash\" data=\"http://www.godtube.com/resource/mediaplayer/5.3/player.swf\"  width=\"' + params.width + '\" height=\"' + params.height + '\">' +\n            '<param name=\"allowfullscreen\" value=\"true\" />' +\n            '<param name=\"allowscriptaccess\" value=\"always\" />' +\n            '<param name=\"wmode\" value=\"opaque\" />' +\n            '<param name=\"movie\" value=\"http://www.godtube.com/resource/mediaplayer/5.3/player.swf\" />' +\n            '<param name=\"autostart\" value=\"true\" />' +\n            '<param name=\"flashvars\" value=\"file=http://www.godtube.com/resource/mediaplayer/' + params.id + '.file' +\n            '&image=http://www.godtube.com/resource/mediaplayer/' + params.id + '.jpg' +\n            '&screencolor=000000' +\n            '&type=video' +\n            '&autostart=true' +\n            '&playonce=true' +\n            '&skin=http://www.godtube.com//resource/mediaplayer/skin/carbon/carbon.zip' +\n            '&logo.file=http://media.salemwebnetwork.com/godtube/theme/default/media/embed-logo.png' +\n            '&logo.link=http://www.godtube.com/watch/?v=' + params.id +\n            '&logo.position=top-left' +\n            '&logo.hide=false' +\n            '&controlbar.position=over\">' +\n            '</object>'\n        );\n    }\n\n    return false;\n};\n"]}]}