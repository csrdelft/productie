{"remainingRequest":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/babel-loader/lib/index.js??ref--1-1!/home/travis/build/csrdelft/csrdelft.nl/node_modules/eslint-loader/index.js!/home/travis/build/csrdelft/csrdelft.nl/resources/assets/js/ledenmemory.js","dependencies":[{"path":"/home/travis/build/csrdelft/csrdelft.nl/resources/assets/js/ledenmemory.js","mtime":1545951539341},{"path":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/cache-loader/dist/cjs.js","mtime":1545951596970},{"path":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/babel-loader/lib/index.js","mtime":1545951596898},{"path":"/home/travis/build/csrdelft/csrdelft.nl/node_modules/eslint-loader/index.js","mtime":1545951596454}],"contextDependencies":[],"result":["'use strict';\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nrequire('jquery-ui/ui/effect.js');\n\nrequire('jquery-ui/ui/effects/effect-shake.js');\n\nrequire('jquery-ui/ui/widgets/dialog');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _jquery2.default)(function () {\n\tvar first = true,\n\t    delayed = false,\n\t    learnmode = document.title.indexOf('oefenen') >= 0,\n\t    finished = false,\n\t    flip1 = false,\n\t    flip2 = false,\n\t    beurten = 0,\n\t    goed = 0,\n\t    starttijd = void 0;\n\n\tfunction showReel() {\n\t\tvar content = '<div class=\"box\"><table><tbody><tr><td>';\n\n\t\tif (flip1.hasClass('pasfoto')) {\n\t\t\tcontent += flip1.find('img').parent().html();\n\t\t\tcontent += '</td><td><h3>' + flip2.find('h3').attr('title') + '</h3>';\n\t\t} else if (flip2.hasClass('pasfoto')) {\n\t\t\tcontent += flip2.find('img').parent().html();\n\t\t\tcontent += '</td><td><h3>' + flip1.find('h3').attr('title') + '</h3>';\n\t\t} else {\n\t\t\talert('error');\n\t\t}\n\n\t\tcontent += '</td></tr></tbody></table></div>';\n\n\t\tvar box = (0, _jquery2.default)(content).appendTo('body');\n\n\t\tbox.animate({\n\t\t\tleft: '60%'\n\t\t}, 'slow', function () {\n\t\t\t(0, _jquery2.default)(this).css('left', '60%');\n\t\t});\n\n\t\t(0, _jquery2.default)(box).delay(1200).animate({\n\t\t\tleft: '-50%'\n\t\t}, 'slow', function () {\n\t\t\t(0, _jquery2.default)(box).remove();\n\t\t});\n\t}\n\n\tfunction flipback() {\n\t\tif (delayed) {\n\t\t\tdelayed = false;\n\t\t\tif (learnmode) {\n\t\t\t\t(0, _jquery2.default)('.memorycard').fadeTo('slow', 1.0);\n\t\t\t\tif (flip1.hasClass('goed') && flip2.hasClass('goed')) {\n\t\t\t\t\tflip1.removeClass('flipped');\n\t\t\t\t\tflip2.removeClass('flipped');\n\t\t\t\t} else {\n\t\t\t\t\t(0, _jquery2.default)('.memorycard[uid=' + flip1.attr('uid') + ']').not(flip1).effect('shake');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (flip1.hasClass('goed') && flip2.hasClass('goed')) {\n\t\t\t\t\tflip1.fadeTo('slow', 0.5);\n\t\t\t\t\tflip2.fadeTo('slow', 0.5);\n\t\t\t\t} else {\n\t\t\t\t\tflip1.removeClass('flipped');\n\t\t\t\t\tflip2.removeClass('flipped');\n\t\t\t\t}\n\t\t\t}\n\t\t\tflip1 = false;\n\t\t\tflip2 = false;\n\t\t}\n\t}\n\n\tfunction checkCorrectness() {\n\t\tbeurten += 1;\n\n\t\tif (flip1.attr('uid') === flip2.attr('uid')) {\n\t\t\t// goed\n\t\t\tflip1.addClass('goed');\n\t\t\tflip2.addClass('goed');\n\t\t\tgoed += 1;\n\t\t\tshowReel();\n\t\t}\n\n\t\tvar memorycard = (0, _jquery2.default)('.memorycard'),\n\t\t    memorycardGoed = (0, _jquery2.default)('.memorycard.goed');\n\n\t\tif (memorycard.length === memorycardGoed.length) {\n\t\t\t// einde: toon alles\n\t\t\tfinished = true;\n\t\t\tmemorycard.addClass('flipped').fadeTo('fast', 0.5);\n\t\t} else {\n\t\t\tdelayed = true;\n\t\t\twindow.setTimeout(flipback, 1000);\n\t\t}\n\t}\n\n\tfunction updateTitle() {\n\n\t\tvar nu = new Date(),\n\t\t    seconds = (nu - starttijd) / 1000,\n\t\t    minutes = parseInt(seconds / 60);\n\n\t\tseconds = parseInt(seconds % 60);\n\n\t\tdocument.title = goed + '/' + beurten + ' (' + minutes + ':' + (seconds < 10 ? '0' : '') + seconds + ')';\n\n\t\tif (!finished) {\n\t\t\treturn window.setTimeout(updateTitle, 1000);\n\t\t}\n\t\t// einde: stop de tijd\n\n\t\tvar dialog = {\n\t\t\tmodal: true,\n\t\t\twidth: 484,\n\t\t\theight: 334,\n\t\t\tresizable: false\n\t\t};\n\t\tvar content = 'Gefeliciteerd! U heeft alle ' + goed + ' namen goed in ' + beurten + ' beurten';\n\t\tcontent += ' en heeft daar in totaal ' + minutes + ' minuten en ' + seconds + ' seconden over gedaan.';\n\n\t\tif (!learnmode) {\n\t\t\tcontent += '<p>Wilt u deze score toevoegen aan de lijst met hoogste scores?</p>';\n\t\t\tcontent += '<input name=\"eerlijk\" id=\"eerlijk\" type=\"checkbox\" /><label for=\"eerlijk\"> Ik heb deze score eerlijk verkregen</label>';\n\n\t\t\tvar eerlijk = false;\n\t\t\t(0, _jquery2.default)(document).on('change', '#eerlijk', function () {\n\t\t\t\teerlijk = this.checked;\n\t\t\t});\n\n\t\t\tdialog['buttons'] = {\n\t\t\t\t'Ja': function Ja() {\n\t\t\t\t\t_jquery2.default.post('/leden/memoryscore/', {\n\t\t\t\t\t\ttijd: minutes * 60 + seconds,\n\t\t\t\t\t\tbeurten: beurten,\n\t\t\t\t\t\tgoed: goed,\n\t\t\t\t\t\tgroep: (0, _jquery2.default)('body').data('groep'),\n\t\t\t\t\t\teerlijk: eerlijk ? 1 : 0\n\t\t\t\t\t});\n\t\t\t\t\t(0, _jquery2.default)(this).dialog('close');\n\t\t\t\t},\n\t\t\t\t'Nee': function Nee() {\n\t\t\t\t\t(0, _jquery2.default)(this).dialog('close');\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t(0, _jquery2.default)('<div id=\"dialog-finish\" class=\"blue\">' + content + '</div>').appendTo('body');\n\n\t\t(0, _jquery2.default)('#dialog-finish').dialog(dialog);\n\t}\n\n\t(0, _jquery2.default)('.memorycard').click(function () {\n\n\t\tflipback(); // gebruiker hoeft niet te wachten op delayed flipback\n\n\t\tif (first) {\n\t\t\t// start de tijd\n\t\t\tfirst = false;\n\t\t\tstarttijd = new Date();\n\t\t\tupdateTitle();\n\t\t}\n\n\t\tif ((0, _jquery2.default)(this).hasClass('goed')) {// goed?\n\t\t\t// ignore\n\t\t} else if (learnmode) {\n\t\t\t// faden?\n\n\t\t\tif (flip1 && flip2) {\n\t\t\t\talert('reset failed');\n\t\t\t} else if (flip1) {\n\t\t\t\t// dit is de tweede\n\n\t\t\t\tif ((0, _jquery2.default)(this).hasClass('naam') && flip1.hasClass('pasfoto') || (0, _jquery2.default)(this).hasClass('pasfoto') && flip1.hasClass('naam')) {\n\t\t\t\t\tflip2 = (0, _jquery2.default)(this);\n\t\t\t\t\tif (flip2.hasClass('pasfoto')) {\n\t\t\t\t\t\t(0, _jquery2.default)('.memorycard.pasfoto').not(flip2).fadeTo('fast', 0.5);\n\t\t\t\t\t} else if (flip2.hasClass('naam')) {\n\t\t\t\t\t\t(0, _jquery2.default)('.memorycard.naam').not(flip2).fadeTo('fast', 0.5);\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('error');\n\t\t\t\t\t}\n\n\t\t\t\t\tcheckCorrectness();\n\t\t\t\t} else {\n\t\t\t\t\t// ignore\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// dit is de eerste\n\n\t\t\t\tflip1 = (0, _jquery2.default)(this);\n\t\t\t\tif (flip1.hasClass('pasfoto')) {\n\t\t\t\t\t(0, _jquery2.default)('.memorycard.pasfoto').not(flip1).fadeTo('slow', 0.3);\n\t\t\t\t} else if (flip1.hasClass('naam')) {\n\t\t\t\t\t(0, _jquery2.default)('.memorycard.naam').not(flip1).fadeTo('slow', 0.3);\n\t\t\t\t} else {\n\t\t\t\t\talert('error');\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// omdraaien?\n\n\t\t\tif ((0, _jquery2.default)(this).hasClass('flipped')) {\n\n\t\t\t\tif (flip1.get(0) === (0, _jquery2.default)(this).get(0)) {\n\t\t\t\t\t// ignore\n\t\t\t\t} else if (flip2.get(0) === (0, _jquery2.default)(this).get(0)) {\n\t\t\t\t\t// ignore\n\t\t\t\t} else {\n\t\t\t\t\talert('flipback failed');\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\tif (flip1 && flip2) {\n\t\t\t\t\talert('reset failed');\n\t\t\t\t} else if (flip1) {\n\t\t\t\t\t// dit is de tweede\n\n\t\t\t\t\tif ((0, _jquery2.default)(this).hasClass('naam') && flip1.hasClass('pasfoto') || (0, _jquery2.default)(this).hasClass('pasfoto') && flip1.hasClass('naam')) {\n\t\t\t\t\t\tflip2 = (0, _jquery2.default)(this);\n\t\t\t\t\t\tflip2.addClass('flipped');\n\n\t\t\t\t\t\tcheckCorrectness();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ignore\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// dit is de eerste\n\t\t\t\t\tflip1 = (0, _jquery2.default)(this);\n\t\t\t\t\tflip1.addClass('flipped');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n});",{"version":3,"sources":["resources/assets/js/ledenmemory.js"],"names":["first","delayed","learnmode","document","title","indexOf","finished","flip1","flip2","beurten","goed","starttijd","showReel","content","hasClass","find","parent","html","attr","alert","box","appendTo","animate","left","css","delay","remove","flipback","fadeTo","removeClass","not","effect","checkCorrectness","addClass","memorycard","memorycardGoed","length","window","setTimeout","updateTitle","nu","Date","seconds","minutes","parseInt","dialog","modal","width","height","resizable","eerlijk","on","checked","$","post","tijd","groep","data","click","get"],"mappings":";;AAAA;;;;AACA;;AACA;;AACA;;;;AAEA,sBAAE,YAAY;AACb,KAAIA,QAAQ,IAAZ;AAAA,KACCC,UAAU,KADX;AAAA,KAECC,YAAYC,SAASC,KAAT,CAAeC,OAAf,CAAuB,SAAvB,KAAqC,CAFlD;AAAA,KAGCC,WAAW,KAHZ;AAAA,KAICC,QAAQ,KAJT;AAAA,KAKCC,QAAQ,KALT;AAAA,KAMCC,UAAU,CANX;AAAA,KAOCC,OAAO,CAPR;AAAA,KAQCC,kBARD;;AAUA,UAASC,QAAT,GAAoB;AACnB,MAAIC,UAAU,yCAAd;;AAEA,MAAIN,MAAMO,QAAN,CAAe,SAAf,CAAJ,EAA+B;AAC9BD,cAAWN,MAAMQ,IAAN,CAAW,KAAX,EAAkBC,MAAlB,GAA2BC,IAA3B,EAAX;AACAJ,cAAW,kBAAkBL,MAAMO,IAAN,CAAW,IAAX,EAAiBG,IAAjB,CAAsB,OAAtB,CAAlB,GAAmD,OAA9D;AACA,GAHD,MAGO,IAAIV,MAAMM,QAAN,CAAe,SAAf,CAAJ,EAA+B;AACrCD,cAAWL,MAAMO,IAAN,CAAW,KAAX,EAAkBC,MAAlB,GAA2BC,IAA3B,EAAX;AACAJ,cAAW,kBAAkBN,MAAMQ,IAAN,CAAW,IAAX,EAAiBG,IAAjB,CAAsB,OAAtB,CAAlB,GAAmD,OAA9D;AACA,GAHM,MAGA;AACNC,SAAM,OAAN;AACA;;AAEDN,aAAW,kCAAX;;AAEA,MAAIO,MAAM,sBAAEP,OAAF,EAAWQ,QAAX,CAAoB,MAApB,CAAV;;AAEAD,MAAIE,OAAJ,CAAY;AACXC,SAAM;AADK,GAAZ,EAEG,MAFH,EAEW,YAAY;AACtB,yBAAE,IAAF,EAAQC,GAAR,CAAY,MAAZ,EAAoB,KAApB;AACA,GAJD;;AAMA,wBAAEJ,GAAF,EAAOK,KAAP,CAAa,IAAb,EAAmBH,OAAnB,CAA2B;AAC1BC,SAAM;AADoB,GAA3B,EAEG,MAFH,EAEW,YAAY;AACtB,yBAAEH,GAAF,EAAOM,MAAP;AACA,GAJD;AAKA;;AAEE,UAASC,QAAT,GAAoB;AAChB,MAAI1B,OAAJ,EAAa;AACTA,aAAU,KAAV;AACA,OAAIC,SAAJ,EAAe;AACX,0BAAE,aAAF,EAAiB0B,MAAjB,CAAwB,MAAxB,EAAgC,GAAhC;AACA,QAAIrB,MAAMO,QAAN,CAAe,MAAf,KAA0BN,MAAMM,QAAN,CAAe,MAAf,CAA9B,EAAsD;AAClDP,WAAMsB,WAAN,CAAkB,SAAlB;AACArB,WAAMqB,WAAN,CAAkB,SAAlB;AACH,KAHD,MAGO;AACH,2BAAE,qBAAqBtB,MAAMW,IAAN,CAAW,KAAX,CAArB,GAAyC,GAA3C,EAAgDY,GAAhD,CAAoDvB,KAApD,EAA2DwB,MAA3D,CAAkE,OAAlE;AACH;AACJ,IARD,MAQO;AACH,QAAIxB,MAAMO,QAAN,CAAe,MAAf,KAA0BN,MAAMM,QAAN,CAAe,MAAf,CAA9B,EAAsD;AAClDP,WAAMqB,MAAN,CAAa,MAAb,EAAqB,GAArB;AACApB,WAAMoB,MAAN,CAAa,MAAb,EAAqB,GAArB;AACH,KAHD,MAGO;AACHrB,WAAMsB,WAAN,CAAkB,SAAlB;AACArB,WAAMqB,WAAN,CAAkB,SAAlB;AACH;AACJ;AACDtB,WAAQ,KAAR;AACAC,WAAQ,KAAR;AACH;AACJ;;AAEJ,UAASwB,gBAAT,GAA4B;AAC3BvB,aAAW,CAAX;;AAEA,MAAIF,MAAMW,IAAN,CAAW,KAAX,MAAsBV,MAAMU,IAAN,CAAW,KAAX,CAA1B,EAA6C;AAAE;AAC9CX,SAAM0B,QAAN,CAAe,MAAf;AACAzB,SAAMyB,QAAN,CAAe,MAAf;AACAvB,WAAQ,CAAR;AACAE;AACA;;AAED,MAAIsB,aAAa,sBAAE,aAAF,CAAjB;AAAA,MACCC,iBAAiB,sBAAE,kBAAF,CADlB;;AAGA,MAAID,WAAWE,MAAX,KAAsBD,eAAeC,MAAzC,EAAiD;AAAE;AAClD9B,cAAW,IAAX;AACA4B,cAAWD,QAAX,CAAoB,SAApB,EAA+BL,MAA/B,CAAsC,MAAtC,EAA8C,GAA9C;AACA,GAHD,MAGO;AACN3B,aAAU,IAAV;AACAoC,UAAOC,UAAP,CAAkBX,QAAlB,EAA4B,IAA5B;AACA;AAED;;AAED,UAASY,WAAT,GAAuB;;AAEtB,MAAIC,KAAK,IAAIC,IAAJ,EAAT;AAAA,MACCC,UAAU,CAACF,KAAK7B,SAAN,IAAmB,IAD9B;AAAA,MAECgC,UAAUC,SAASF,UAAU,EAAnB,CAFX;;AAIAA,YAAUE,SAASF,UAAU,EAAnB,CAAV;;AAEAvC,WAASC,KAAT,GAAiBM,OAAO,GAAP,GAAaD,OAAb,GAAuB,IAAvB,GAA8BkC,OAA9B,GAAwC,GAAxC,IAA+CD,UAAU,EAAV,GAAe,GAAf,GAAqB,EAApE,IAA0EA,OAA1E,GAAoF,GAArG;;AAEA,MAAI,CAACpC,QAAL,EAAe;AACd,UAAO+B,OAAOC,UAAP,CAAkBC,WAAlB,EAA+B,IAA/B,CAAP;AACA;AACD;;AAEA,MAAIM,SAAS;AACZC,UAAO,IADK;AAEZC,UAAO,GAFK;AAGZC,WAAQ,GAHI;AAIZC,cAAW;AAJC,GAAb;AAMA,MAAIpC,UAAU,iCAAiCH,IAAjC,GAAwC,iBAAxC,GAA4DD,OAA5D,GAAsE,UAApF;AACAI,aAAW,8BAA8B8B,OAA9B,GAAwC,cAAxC,GAAyDD,OAAzD,GAAmE,wBAA9E;;AAEA,MAAI,CAACxC,SAAL,EAAgB;AACfW,cAAW,qEAAX;AACAA,cAAW,wHAAX;;AAEA,OAAIqC,UAAU,KAAd;AACA,yBAAE/C,QAAF,EAAYgD,EAAZ,CAAe,QAAf,EAAyB,UAAzB,EAAqC,YAAY;AAChDD,cAAU,KAAKE,OAAf;AACA,IAFD;;AAIAP,UAAO,SAAP,IAAoB;AACnB,UAAM,cAAY;AACjBQ,sBAAEC,IAAF,CAAO,qBAAP,EAA8B;AAC7BC,YAAMZ,UAAU,EAAV,GAAeD,OADQ;AAE7BjC,sBAF6B;AAG7BC,gBAH6B;AAI7B8C,aAAO,sBAAE,MAAF,EAAUC,IAAV,CAAe,OAAf,CAJsB;AAK7BP,eAASA,UAAU,CAAV,GAAc;AALM,MAA9B;AAOA,2BAAE,IAAF,EAAQL,MAAR,CAAe,OAAf;AACA,KAVkB;AAWnB,WAAO,eAAY;AAClB,2BAAE,IAAF,EAAQA,MAAR,CAAe,OAAf;AACA;AAbkB,IAApB;AAeA;AACD,wBAAE,0CAA0ChC,OAA1C,GAAoD,QAAtD,EAAgEQ,QAAhE,CAAyE,MAAzE;;AAEA,wBAAE,gBAAF,EAAoBwB,MAApB,CAA2BA,MAA3B;AACA;;AAED,uBAAE,aAAF,EAAiBa,KAAjB,CAAuB,YAAY;;AAElC/B,aAFkC,CAEtB;;AAEZ,MAAI3B,KAAJ,EAAW;AAAE;AACZA,WAAQ,KAAR;AACAW,eAAY,IAAI8B,IAAJ,EAAZ;AACAF;AACA;;AAED,MAAI,sBAAE,IAAF,EAAQzB,QAAR,CAAiB,MAAjB,CAAJ,EAA8B,CAAE;AAC/B;AACA,GAFD,MAEO,IAAIZ,SAAJ,EAAe;AAAE;;AAEvB,OAAIK,SAASC,KAAb,EAAoB;AACnBW,UAAM,cAAN;AACA,IAFD,MAEO,IAAIZ,KAAJ,EAAW;AAAE;;AAEnB,QAAK,sBAAE,IAAF,EAAQO,QAAR,CAAiB,MAAjB,KAA4BP,MAAMO,QAAN,CAAe,SAAf,CAA7B,IAA4D,sBAAE,IAAF,EAAQA,QAAR,CAAiB,SAAjB,KAA+BP,MAAMO,QAAN,CAAe,MAAf,CAA/F,EAAwH;AACvHN,aAAQ,sBAAE,IAAF,CAAR;AACA,SAAIA,MAAMM,QAAN,CAAe,SAAf,CAAJ,EAA+B;AAC9B,4BAAE,qBAAF,EAAyBgB,GAAzB,CAA6BtB,KAA7B,EAAoCoB,MAApC,CAA2C,MAA3C,EAAmD,GAAnD;AACA,MAFD,MAEO,IAAIpB,MAAMM,QAAN,CAAe,MAAf,CAAJ,EAA4B;AAClC,4BAAE,kBAAF,EAAsBgB,GAAtB,CAA0BtB,KAA1B,EAAiCoB,MAAjC,CAAwC,MAAxC,EAAgD,GAAhD;AACA,MAFM,MAEA;AACNT,YAAM,OAAN;AACA;;AAEDa;AACA,KAXD,MAWO;AACN;AACA;AAED,IAjBM,MAiBA;AAAE;;AAERzB,YAAQ,sBAAE,IAAF,CAAR;AACA,QAAIA,MAAMO,QAAN,CAAe,SAAf,CAAJ,EAA+B;AAC9B,2BAAE,qBAAF,EAAyBgB,GAAzB,CAA6BvB,KAA7B,EAAoCqB,MAApC,CAA2C,MAA3C,EAAmD,GAAnD;AACA,KAFD,MAEO,IAAIrB,MAAMO,QAAN,CAAe,MAAf,CAAJ,EAA4B;AAClC,2BAAE,kBAAF,EAAsBgB,GAAtB,CAA0BvB,KAA1B,EAAiCqB,MAAjC,CAAwC,MAAxC,EAAgD,GAAhD;AACA,KAFM,MAEA;AACNT,WAAM,OAAN;AACA;AAED;AAED,GAlCM,MAkCA;AAAE;;AAER,OAAI,sBAAE,IAAF,EAAQL,QAAR,CAAiB,SAAjB,CAAJ,EAAiC;;AAEhC,QAAIP,MAAMoD,GAAN,CAAU,CAAV,MAAiB,sBAAE,IAAF,EAAQA,GAAR,CAAY,CAAZ,CAArB,EAAqC;AACpC;AACA,KAFD,MAEO,IAAInD,MAAMmD,GAAN,CAAU,CAAV,MAAiB,sBAAE,IAAF,EAAQA,GAAR,CAAY,CAAZ,CAArB,EAAqC;AAC3C;AACA,KAFM,MAEA;AACNxC,WAAM,iBAAN;AACA;AACD,IATD,MASO;;AAEN,QAAIZ,SAASC,KAAb,EAAoB;AACnBW,WAAM,cAAN;AACA,KAFD,MAEO,IAAIZ,KAAJ,EAAW;AAAE;;AAEnB,SAAK,sBAAE,IAAF,EAAQO,QAAR,CAAiB,MAAjB,KAA4BP,MAAMO,QAAN,CAAe,SAAf,CAA7B,IAA4D,sBAAE,IAAF,EAAQA,QAAR,CAAiB,SAAjB,KAA+BP,MAAMO,QAAN,CAAe,MAAf,CAA/F,EAAwH;AACvHN,cAAQ,sBAAE,IAAF,CAAR;AACAA,YAAMyB,QAAN,CAAe,SAAf;;AAEAD;AACA,MALD,MAKO;AACN;AACA;AAED,KAXM,MAWA;AAAE;AACRzB,aAAQ,sBAAE,IAAF,CAAR;AACAA,WAAM0B,QAAN,CAAe,SAAf;AACA;AAED;AACD;AAED,EAhFD;AAkFA,CAjOD","file":"ledenmemory.js","sourceRoot":"/home/travis/build/csrdelft/csrdelft.nl","sourcesContent":["import $ from 'jquery';\nimport 'jquery-ui/ui/effect.js';\nimport 'jquery-ui/ui/effects/effect-shake.js';\nimport 'jquery-ui/ui/widgets/dialog';\n\n$(function () {\n\tlet first = true,\n\t\tdelayed = false,\n\t\tlearnmode = document.title.indexOf('oefenen') >= 0,\n\t\tfinished = false,\n\t\tflip1 = false,\n\t\tflip2 = false,\n\t\tbeurten = 0,\n\t\tgoed = 0,\n\t\tstarttijd;\n\n\tfunction showReel() {\n\t\tlet content = '<div class=\"box\"><table><tbody><tr><td>';\n\n\t\tif (flip1.hasClass('pasfoto')) {\n\t\t\tcontent += flip1.find('img').parent().html();\n\t\t\tcontent += '</td><td><h3>' + flip2.find('h3').attr('title') + '</h3>';\n\t\t} else if (flip2.hasClass('pasfoto')) {\n\t\t\tcontent += flip2.find('img').parent().html();\n\t\t\tcontent += '</td><td><h3>' + flip1.find('h3').attr('title') + '</h3>';\n\t\t} else {\n\t\t\talert('error');\n\t\t}\n\n\t\tcontent += '</td></tr></tbody></table></div>';\n\n\t\tlet box = $(content).appendTo('body');\n\n\t\tbox.animate({\n\t\t\tleft: '60%'\n\t\t}, 'slow', function () {\n\t\t\t$(this).css('left', '60%');\n\t\t});\n\n\t\t$(box).delay(1200).animate({\n\t\t\tleft: '-50%'\n\t\t}, 'slow', function () {\n\t\t\t$(box).remove();\n\t\t});\n\t}\n\n    function flipback() {\n        if (delayed) {\n            delayed = false;\n            if (learnmode) {\n                $('.memorycard').fadeTo('slow', 1.0);\n                if (flip1.hasClass('goed') && flip2.hasClass('goed')) {\n                    flip1.removeClass('flipped');\n                    flip2.removeClass('flipped');\n                } else {\n                    $('.memorycard[uid=' + flip1.attr('uid') + ']').not(flip1).effect('shake');\n                }\n            } else {\n                if (flip1.hasClass('goed') && flip2.hasClass('goed')) {\n                    flip1.fadeTo('slow', 0.5);\n                    flip2.fadeTo('slow', 0.5);\n                } else {\n                    flip1.removeClass('flipped');\n                    flip2.removeClass('flipped');\n                }\n            }\n            flip1 = false;\n            flip2 = false;\n        }\n    }\n\n\tfunction checkCorrectness() {\n\t\tbeurten += 1;\n\n\t\tif (flip1.attr('uid') === flip2.attr('uid')) { // goed\n\t\t\tflip1.addClass('goed');\n\t\t\tflip2.addClass('goed');\n\t\t\tgoed += 1;\n\t\t\tshowReel();\n\t\t}\n\n\t\tlet memorycard = $('.memorycard'),\n\t\t\tmemorycardGoed = $('.memorycard.goed');\n\n\t\tif (memorycard.length === memorycardGoed.length) { // einde: toon alles\n\t\t\tfinished = true;\n\t\t\tmemorycard.addClass('flipped').fadeTo('fast', 0.5);\n\t\t} else {\n\t\t\tdelayed = true;\n\t\t\twindow.setTimeout(flipback, 1000);\n\t\t}\n\n\t}\n\n\tfunction updateTitle() {\n\n\t\tlet nu = new Date(),\n\t\t\tseconds = (nu - starttijd) / 1000,\n\t\t\tminutes = parseInt(seconds / 60);\n\n\t\tseconds = parseInt(seconds % 60);\n\n\t\tdocument.title = goed + '/' + beurten + ' (' + minutes + ':' + (seconds < 10 ? '0' : '') + seconds + ')';\n\n\t\tif (!finished) {\n\t\t\treturn window.setTimeout(updateTitle, 1000);\n\t\t}\n\t\t// einde: stop de tijd\n\n\t\tlet dialog = {\n\t\t\tmodal: true,\n\t\t\twidth: 484,\n\t\t\theight: 334,\n\t\t\tresizable: false\n\t\t};\n\t\tlet content = 'Gefeliciteerd! U heeft alle ' + goed + ' namen goed in ' + beurten + ' beurten';\n\t\tcontent += ' en heeft daar in totaal ' + minutes + ' minuten en ' + seconds + ' seconden over gedaan.';\n\n\t\tif (!learnmode) {\n\t\t\tcontent += '<p>Wilt u deze score toevoegen aan de lijst met hoogste scores?</p>';\n\t\t\tcontent += '<input name=\"eerlijk\" id=\"eerlijk\" type=\"checkbox\" /><label for=\"eerlijk\"> Ik heb deze score eerlijk verkregen</label>';\n\n\t\t\tlet eerlijk = false;\n\t\t\t$(document).on('change', '#eerlijk', function () {\n\t\t\t\teerlijk = this.checked;\n\t\t\t});\n\n\t\t\tdialog['buttons'] = {\n\t\t\t\t'Ja': function () {\n\t\t\t\t\t$.post('/leden/memoryscore/', {\n\t\t\t\t\t\ttijd: minutes * 60 + seconds,\n\t\t\t\t\t\tbeurten,\n\t\t\t\t\t\tgoed,\n\t\t\t\t\t\tgroep: $('body').data('groep'),\n\t\t\t\t\t\teerlijk: eerlijk ? 1 : 0\n\t\t\t\t\t});\n\t\t\t\t\t$(this).dialog('close');\n\t\t\t\t},\n\t\t\t\t'Nee': function () {\n\t\t\t\t\t$(this).dialog('close');\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t$('<div id=\"dialog-finish\" class=\"blue\">' + content + '</div>').appendTo('body');\n\n\t\t$('#dialog-finish').dialog(dialog);\n\t}\n\n\t$('.memorycard').click(function () {\n\n\t\tflipback(); // gebruiker hoeft niet te wachten op delayed flipback\n\n\t\tif (first) { // start de tijd\n\t\t\tfirst = false;\n\t\t\tstarttijd = new Date();\n\t\t\tupdateTitle();\n\t\t}\n\n\t\tif ($(this).hasClass('goed')) { // goed?\n\t\t\t// ignore\n\t\t} else if (learnmode) { // faden?\n\n\t\t\tif (flip1 && flip2) {\n\t\t\t\talert('reset failed');\n\t\t\t} else if (flip1) { // dit is de tweede\n\n\t\t\t\tif (($(this).hasClass('naam') && flip1.hasClass('pasfoto')) || ($(this).hasClass('pasfoto') && flip1.hasClass('naam'))) {\n\t\t\t\t\tflip2 = $(this);\n\t\t\t\t\tif (flip2.hasClass('pasfoto')) {\n\t\t\t\t\t\t$('.memorycard.pasfoto').not(flip2).fadeTo('fast', 0.5);\n\t\t\t\t\t} else if (flip2.hasClass('naam')) {\n\t\t\t\t\t\t$('.memorycard.naam').not(flip2).fadeTo('fast', 0.5);\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('error');\n\t\t\t\t\t}\n\n\t\t\t\t\tcheckCorrectness();\n\t\t\t\t} else {\n\t\t\t\t\t// ignore\n\t\t\t\t}\n\n\t\t\t} else { // dit is de eerste\n\n\t\t\t\tflip1 = $(this);\n\t\t\t\tif (flip1.hasClass('pasfoto')) {\n\t\t\t\t\t$('.memorycard.pasfoto').not(flip1).fadeTo('slow', 0.3);\n\t\t\t\t} else if (flip1.hasClass('naam')) {\n\t\t\t\t\t$('.memorycard.naam').not(flip1).fadeTo('slow', 0.3);\n\t\t\t\t} else {\n\t\t\t\t\talert('error');\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else { // omdraaien?\n\n\t\t\tif ($(this).hasClass('flipped')) {\n\n\t\t\t\tif (flip1.get(0) === $(this).get(0)) {\n\t\t\t\t\t// ignore\n\t\t\t\t} else if (flip2.get(0) === $(this).get(0)) {\n\t\t\t\t\t// ignore\n\t\t\t\t} else {\n\t\t\t\t\talert('flipback failed');\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\tif (flip1 && flip2) {\n\t\t\t\t\talert('reset failed');\n\t\t\t\t} else if (flip1) { // dit is de tweede\n\n\t\t\t\t\tif (($(this).hasClass('naam') && flip1.hasClass('pasfoto')) || ($(this).hasClass('pasfoto') && flip1.hasClass('naam'))) {\n\t\t\t\t\t\tflip2 = $(this);\n\t\t\t\t\t\tflip2.addClass('flipped');\n\n\t\t\t\t\t\tcheckCorrectness();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ignore\n\t\t\t\t\t}\n\n\t\t\t\t} else { // dit is de eerste\n\t\t\t\t\tflip1 = $(this);\n\t\t\t\t\tflip1.addClass('flipped');\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n"]}]}