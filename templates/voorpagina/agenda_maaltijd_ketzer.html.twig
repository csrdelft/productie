<div id="maaltijdketzer-{{ maaltijd.maaltijd_id }}" class="ms-1 maaltijdketzer-{{ maaltijd.maaltijd_id }}" data-maaltijdnaam="{{ maaltijd.titel }}">
    {% if is_granted('ROLE_MAAL_IK') %}
        {% if not maaltijd.gesloten %}
            {% if aanmelding is defined and aanmelding is not none %}
                <a
                    onclick="window.ketzerAjax('{{ url('csrdelft_maalcie_mijnmaaltijden_afmelden', {maaltijd_id: maaltijd.maaltijd_id, size: 'klein'}) }}', '.maaltijdketzer-{{ maaltijd.maaltijd_id }}');"
                    class="btn p-0 aanmeldbtn" tabindex="0" title="Aangemeld">
                    <input class="form-check-input" type="checkbox" role="button" checked />
                </a>

            {% elseif maaltijd.aantalAanmeldingen >= maaltijd.aanmeld_limiet %}
                <div class="btn btn-danger disabled">
                    {{ icon("ban", null, "Maaltijd is vol") }}
                </div>
            {% else %}
                <a
                    onclick="window.ketzerAjax('{{ url('csrdelft_maalcie_mijnmaaltijden_aanmelden', {maaltijd_id: maaltijd.maaltijd_id, size: 'klein'}) }}', '.maaltijdketzer-{{ maaltijd.maaltijd_id }}');"
                    class="btn p-0 aanmeldbtn" tabindex="0" title="Niet aangemeld">
                    <input class="form-check-input" type="checkbox" role="button" />
                </a>
            {% endif %}
        {% endif %}

        {% if aanmelding is defined and aanmelding is not none and aanmelding.aantal_gasten > 0 %}
            +{{ aanmelding.aantal_gasten }}
        {% endif %}

        {% if aanmelding is defined and aanmelding is not none and aanmelding.gasten_eetwens %}
            {{ icon("comment", null, aanmelding.gasten_eetwens) }}
        {% endif %}

        {% if maaltijd.gesloten and maaltijd.eindMoment > date().timestamp %}
            {% set date = maaltijd.laatst_gesloten | time_format %}
            {{ icon("lock", null, "Maaltijd is gesloten om " ~ date) }}
        {% endif %}
    {% endif %}
</div>