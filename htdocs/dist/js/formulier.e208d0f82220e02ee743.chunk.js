(window.webpackJsonp=window.webpackJsonp||[]).push([[25,15],{134:function(e,t,a){var n={"./nl":97,"./nl.js":97};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id=134},158:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(30),r=a(1),o=a(4);const s=(e,t="id")=>({attrs:{[t]:{}},group:"block",draggable:!0,toDOM:a=>["div",{["data-"+e]:a.attrs[t],class:"pm-block"},`${e}: ${a.attrs[t]}`],parseDOM:[{tag:"div[data-"+e,getAttrs:a=>({[t]:a.dataset[e]})}]}),l=(e,t,a="id")=>({attrs:{[a]:{}},group:"block",draggable:!0,toDOM:n=>{const i=o.k`
			<div data-${e}="${n.attrs[a]}" class="bb-block"><i class="fa fa-spinner fa-spin"></i></div>`;return fetch(`/groepen/${t}/${n.attrs[a]}/info`).then(e=>e.json()).then(e=>{var a;const n=o.k`
					<div id="groep-leden-content-2152" class="groep-tab-content GroepPasfotosView" style="height: 212.8px;">`;for(const t of e.leden)n.appendChild(o.k`<a href="#" title="${t.naam}" class="lidLink"><img
						class="pasfoto"
						src="/profiel/pasfoto/${t.uid}.jpg"
						alt="Pasfoto van ${t.naam}"></a>`);i.innerHTML="",i.appendChild(o.k`
					<div class="bb-groep bb-block">
						<div class="groep-samenvatting">
							<div class="float-right"><a class="btn" target="_blank" href="/groepen/${t}/${e.id}/wijzigen"
																					title="Wijzig ${e.naam}"><span
								class="fa fa-edit"></span></a></div>
							<h3>${e.naam} <span class="groep-id-hint">(<a target="_blank"
																															 href="/groepen/${t}/${e.id}">#${e.id}</a>)</span>
							</h3>
							${null!==(a=e.samenvatting_html)&&void 0!==a?a:""}
						</div>

						<div id="groep-leden-2152" class="groep-leden">
							<ul class="groep-tabs nobullets">
								<li class="geschiedenis"><a class="btn disabled" href="#" title="Bekijk geschiedenis"><span
									class="fa fa-clock"></span></a></li>
								<li><a class="btn btn-primary disabled" href="#" title="Pasfoto's tonen"><span
									class="fa fa-user"></span></a></li>
								<li><a class="btn disabled" href="#" title="Lijst tonen"><span class="fa fa-align-justify"></span></a>
								</li>
								<li><a class="btn disabled" href="#" title="Statistiek tonen"><span class="fa fa-chart-pie"></span></a>
								</li>
								<li><a class="btn disabled" href="#" title="E-mails tonen"><span class="fa fa-envelope"></span></a></li>
								<li><a class="btn disabled" href="#" title="Allergie/dieet tonen"><span class="fa fa-heartbeat"></span></a>
								</li>
								<li class="knop-vergroot"></li>
							</ul>
							${n}
						</div>
						<div class="clear">&nbsp;</div>
					</div>`)}).catch(()=>{i.innerText="Groep niet gevonden"}),i},parseDOM:[{tag:"div[data-"+t,getAttrs:e=>({[a]:e.dataset[t]})}]}),c=l("activiteit","activiteiten"),d=l("bestuur","besturen"),u=l("commissie","commissies"),p=l("groep","groepen"),f=l("ketzer","ketzers"),b=l("ondervereniging","onderverenigingen"),m=l("verticale","verticalen"),g=l("werkgroep","werkgroepen"),v=l("woonoord","woonoorden"),h=s("boek"),k=s("document"),_=s("maaltijd"),O=s("peiling");var w=a(25);const j={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},citaat:{attrs:{van:{},naam:{default:"Lid"},url:{default:""}},content:"block+",group:"block",defining:!0,parseDOM:[{tag:"div[data-bb-citaat]",getAttrs:e=>({van:e.dataset.bbCitaat,naam:e.dataset.bbCitaatNaam,url:e.dataset.bbCitaatUrl})}],toDOM:e=>["div",{"data-bb-citaat":e.attrs.van,"data-bb-citaat-naam":e.attrs.naam,"data-bb-citaat-url":e.attrs.url},0]},lid:{attrs:{uid:{},naam:{default:null}},group:"inline",inline:!0,parseDOM:[{tag:"span[data-lid]",getAttrs:e=>({uid:e.dataset.lid,naam:e.dataset.lidNaam})}],toDOM:e=>["span",{"data-lid":e.attrs.uid,"data-lidNaam":e.attrs.naam},e.attrs.naam]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>{if(e instanceof HTMLElement)return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")};throw new Error("Unable to process dom")}}],toDOM:e=>{const{src:t,alt:a,title:n}=e.attrs;return["img",{src:t,alt:a,title:n}]}},plaatje:{inline:!0,attrs:{src:{},key:{}},group:"inline",draggable:!0,parseDOM:[{tag:"[data-plaatje]",getAttrs:e=>({key:e.dataset.plaatje,src:e.dataset.plaatjeSrc})}],toDOM:e=>["div",{"data-plaatje":e.attrs.key,"data-plaatje-src":e.attrs.src},["img",{src:e.attrs.src}]]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},verklapper:{content:"block+",group:"block",parseDOM:[{tag:"div[data-bb-verklapper]"}],toDOM:()=>["div",{"data-bb-verklapper":"",class:"pm-verklapper"},0]},bb:{attrs:{bb:{default:null}},group:"block",toDOM:e=>["div",{"data-bb":e.attrs.bb},e.attrs.bb],parseDOM:[{tag:"div[data-bb]",getAttrs:e=>({bb:e.dataset.bb})}]},activiteit:c,bestuur:d,commissie:u,groep:p,ketzer:f,ondervereniging:b,verticale:m,werkgroep:g,woonoord:v,boek:h,document:k,maaltijd:_,peiling:O,twitter:{attrs:{url:{}},group:"block",parseDOM:[{tag:"div[data-bb-twitter]",getAttrs:e=>({url:e.dataset.bbTwitter})}],toDOM:e=>["div",{"data-bb-twitter":e.attrs.url}]},youtube:{attrs:{id:{}},group:"block",parseDOM:[{tag:"div[data-bb-youtube]"}],toDOM:e=>["div",{"data-bb-youtube":e.attrs.id,class:"bb-video",title:"YouTube"},["img",{src:`https://i.ytimg.com/vi/${e.attrs.id}/sddefault.jpg`}]]},video:{attrs:{url:{}},group:"block",parseDOM:[{tag:"div[data-bb-video]",getAttrs:e=>({url:e.dataset.bbVideo})}],toDOM:e=>["div",{"data-bb-video":e.attrs.url}]},audio:{attrs:{url:{}},group:"block",parseDOM:[{tag:"div[data-bb-audio]",getAttrs:e=>({url:e.dataset.bbAudio})}],toDOM:e=>["div",{"data-bb-audio":e.attrs.url}]},spotify:{attrs:{url:{},formaat:{default:"hoog"}},group:"block",parseDOM:[{tag:"div[data-bb-spotify]",getAttrs:e=>({url:e.dataset.bbSpotify,formaat:e.dataset.bbSpotifyFormaat})}],toDOM:e=>["div",{"data-bb-spotify":e.attrs.url,"data-bb-spotify-formaat":e.attrs.formaat}]}},y={link:{attrs:{href:{}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>{if(e instanceof HTMLElement)return{href:e.getAttribute("href")};throw new Error("Cannot process dom")}}],toDOM:e=>{const{href:t}=e.attrs;return["a",{href:t,title:t},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>{if(e instanceof HTMLElement)return"normal"!=e.style.fontWeight&&null;throw new Error("Cannot process dom")}},{style:"font-weight",getAttrs:e=>{if("string"==typeof e)return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null;throw new Error("Cannot process value")}}],toDOM:()=>["strong",0]},superscript:{excludes:"superscript subscript",parseDOM:[{tag:"sup"}],toDOM:()=>["sup",0]},subscript:{excludes:"subscript superscript",parseDOM:[{tag:"sub"}],toDOM:()=>["sub",0]},strikethrough:{parseDOM:[{tag:"del"}],toDOM:()=>["del",0]},underline:{parseDOM:[{tag:"ins"}],toDOM:()=>["ins",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},offtopic:{parseDOM:[{tag:"span[data-offtopic]"}],toDOM:()=>["span",{"data-offtopic":"",class:"offtopic"},0]},neuzen:{parseDom:[{tag:"span[data-neuzen]"}],toDOM:()=>["span",{"data-neuzen":""},0]},prive:{attrs:{prive:{default:null}},parseDOM:[{tag:"span[data-prive]"}],toDOM:e=>["span",{"data-prive":e.attrs.prive,class:"bb-prive",title:"Prive: "+(e.attrs.prive||"P_LOGGED_IN")},0]}},D=a(58).a.from(j),M=new r.k({nodes:Object(w.a)(D,"paragraph block*","block"),marks:y});var E=a(122),T=a(7),L=a(23),A=a(44),C=a.n(A);const S="ProseMirror-popup";function P(e){const t=o.k`
		<button type="submit" class="${S}-submit btn btn-primary">OK</button>`,a=o.k`
		<button type="button" class="${S}-cancel btn btn-primary">Cancel</button>`,n=document.createElement("form"),i=n.appendChild(o.k`
		<div class="modal-body"></div>`),r=n.appendChild(o.k`
		<div class="modal-footer"></div>`);e.description&&i.appendChild(o.k`<p>${e.description}</p>`),Object.entries(e.fields).forEach(([e,t])=>{i.appendChild(o.k`
			<div class="form-group row">
				<label class="col-sm-2 col-form-label" for="${e}">${t.options.label}${t.options.required?o.k`<span class="text-danger">*</span>`:""}</label>
				<div class="col-sm-10">${t.render(e)}</div>
			</div>`)}),r.appendChild(o.k`
		<div class="${S}-buttons">${t} ${a}</div>`);const s=o.k`
		<div class="modal" style="display: block;" tabindex="-1">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">${e.title}</h5>
					</div>
					${n}
				</div>
			</div>
		</div>`;document.body.appendChild(s);const l=e=>{n.contains(e.target)||c()};setTimeout(()=>window.addEventListener("mousedown",l),50);const c=()=>{window.removeEventListener("mousedown",l),s.parentNode&&s.parentNode.removeChild(s)};a.addEventListener("click",c);const d=()=>{const t=function(e,t){const a=Object.create(null);for(const n of Object.keys(e)){const i=e[n],r=t[n],o=i.read(r),s=i.validate(o);if(s)return W(r,s),null;a[n]=i.clean(o)}return a}(e.fields,n);t&&(c(),e.callback(t))};n.addEventListener("submit",e=>{e.preventDefault(),d()}),n.addEventListener("keydown",e=>{"Escape"==e.key?(e.preventDefault(),c()):"Enter"!=e.key||e.ctrlKey||e.metaKey||e.shiftKey||"textarea"==document.activeElement.tagName.toLowerCase()?"Tab"==e.key&&window.setTimeout(()=>{s.contains(document.activeElement)||c()},500):(e.preventDefault(),d())});const u=n.elements[0];u&&u.focus()}function W(e,t){const a=e.parentNode,n=a.appendChild(document.createElement("div"));n.style.left=e.offsetLeft+e.offsetWidth+2+"px",n.style.top=e.offsetTop-5+"px",n.className="ProseMirror-invalid",n.textContent=t,setTimeout(()=>a.removeChild(n),1500)}class x{constructor(e){this.options=e}read(e){return e.value}validateType(e){return null}validate(e){return!e&&this.options.required?"Required field":this.validateType(e)||this.options.validate&&this.options.validate(e)}clean(e){return this.options.clean?this.options.clean(e):e}render(e){return null}}class I extends x{render(e){return o.k`<input type="text" name="${e}" id="${e}" value="${this.options.value||""}" autocomplete="off"
											 class="form-control"/>`}}class U extends x{render(e){return o.k`<div>${this.options.value}</div>`}read(e){return""}}class q extends x{render(e){const t=document.createElement("textarea");return t.id=e,t.name=e,t.classList.add("form-control"),t.placeholder=this.options.label,t.value=this.options.value||"",t.autocomplete="off",t.rows=20,t}}class R extends x{render(e){const t=document.createElement("input");return t.id=e,t.name=e,t.classList.add("form-control"),t.type="file",t}read(e){return e.files[0]}}class z extends x{render(e){this.name=e;const t=o.k`<input type="text" class="form-control" autocomplete="off" name="${e}_naam" value="${this.options.value.naam}">`,a=o.k`<input type="hidden" name="${e}_uid" value="${this.options.value.uid}">`,n=o.k`<input type="hidden" name="${e}">`,i=new C.a({datumTokenizer:C.a.tokenizers.obj.whitespace("value"),queryTokenizer:C.a.tokenizers.whitespace,remote:{url:"/tools/naamsuggesties?vorm=user&zoekin=voorkeur&q=%QUERY",wildcard:"%QUERY"}});i.initialize();let r=this.options.value.naam;return setTimeout(()=>{$(t).typeahead({hint:!0,highlight:!0},{name:"leden",display:"value",limit:20,source:i.ttAdapter(),templates:{suggestion:function(e){let t="<p";return e.title&&(t+=' title="'+e.title+'"'),t+=">",e.icon&&(t+=e.icon),t+=e.value,e.label&&(t+='<span class="lichtgrijs"> - '+e.label+"</span>"),t+"</p>"}}}),$(t).on("typeahead:select",(e,t)=>{a.value=t.uid,r=t.value}),$(t).on("typeahead:change",(e,t)=>{r!=t&&(a.value="")})}),o.k`
			<div>
				${t}
				${a}
				${n}
			</div>`}read(e){return{naam:e.form[this.name+"_naam"].value,uid:e.form[this.name+"_uid"].value}}validate(e){return this.options.required&&!e.uid?"Selecteer een lid":super.validate(e)}}const F=(e,t,a)=>P({title:"Bewerk bb",fields:{bb:new q({label:"Bb",value:t.bb})},callback(t){a.dispatch(a.state.tr.replaceSelectionWith(e.createAndFill(t))),a.focus()}});var B=a(8);const H=new n.d({state:{init:()=>i.b.empty,apply(e,t){t=t.map(e.mapping,e.doc);const a=e.getMeta(this);if(a&&a.add){const n=document.createElement("div");n.classList.add("plaatje-placeholder");const r=i.a.widget(a.add.pos,n,{id:a.add.id});t=t.add(e.doc,[r])}else a&&a.remove&&(t=t.remove(t.find(null,null,e=>e.id==a.remove.id)));return t}},props:{decorations(e){return this.getState(e)}}});var N=a(12),K=a.n(N);async function G(e,t,a){try{const{src:n,key:i}=await async function(e){const t=new FormData;return t.append("image_HF",e,e.name),t.append("image","image_HF"),(await K.a.post("/forum/plaatjes/upload_json",t,{headers:{"content-type":"multipart/form-data"}})).data}(t);await Object(o.t)(n);const r=((e,t)=>{const a=H.getState(e).find(null,null,e=>e.id==t);return a.length?a[0].from:null})(e.state,a);if(null==r)return;e.dispatch(e.state.tr.replaceWith(r,r,e.state.schema.nodes.plaatje.create({src:n,key:i})).setMeta(H,{remove:{id:a}}))}catch(t){throw e.dispatch(e.state.tr.setMeta(H,{remove:{id:a}})),t}}var V=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};function Y(e,t){const a=e.selection.$from;for(let e=a.depth;e>=0;e--){const n=a.index(e);if(a.node(e).canReplaceWith(n,n,t))return!0}return!1}const J=e=>new T.c({title:"Afbeelding invoegen",label:"Afbeelding",enable:t=>Y(t,e),run(t,a,i){let r=null;t.selection instanceof n.c&&t.selection.node.type==e&&(r=t.selection.node.attrs),P({title:"Afbeelding invoegen",fields:{src:new I({label:"Locatie",required:!0,value:r&&r.src})},callback:t=>{i.dispatch(i.state.tr.replaceSelectionWith(e.createAndFill(t))),i.focus()}})}});function Q(e){return new T.c({label:"Citaat",title:"Citaat invoegen",enable:t=>Y(t,e),run:(t,a,i)=>{let r=null,s=null;t.selection instanceof n.c&&t.selection.node.type==e&&(r=t.selection.node.attrs,s=t.selection.node.content),P({description:"",title:r?"Update: "+e.name:"Invoegen: "+e.name,fields:{lid:new z({label:"Lid",required:!1,value:r&&Object(o.x)(r.van)?{naam:r.naam,uid:r.van}:{naam:"",uid:""}}),of:new U({label:"",value:"- Of -"}),naam:new I({label:"Van",required:!1,value:r&&!Object(o.x)(r.van)?r.naam:""}),url:new I({label:"Url",required:!1,value:r&&!Object(o.x)(r.van)?r.url:""})},callback({lid:t,naam:a,url:n}){const r=t.uid?{naam:t.naam,van:t.uid}:{van:a,naam:a,url:n};i.dispatch(i.state.tr.replaceSelectionWith(e.createAndFill(Object.assign({type:e.name},r),s))),i.focus()}})}})}function X(e,t){var{enabled:a}=t,n=V(t,["enabled"]);const i=Object.assign({label:"string"==typeof n.title?n.title:"",run:e},n);return a&&!0!==a||n.select||(i[a?"enable":"select"]=t=>e(t)),new T.c(i)}function Z(e,t){const{from:a,$from:n,to:i,empty:r}=e.selection;return r?!!t.isInSet(e.storedMarks||n.marks()):e.doc.rangeHasMark(a,i,t)}const ee=(e,t)=>X(Object(B.i)(e),Object.assign({active:t=>Z(t,e),enabled:!0},t)),te=(e,t)=>X(Object(w.e)(e,null),t),ae=e=>new T.c({title:"Markeer tekst als prive",label:"Prive",active:t=>Z(t,e),enable:e=>!e.selection.empty,run(t,a,n){if(Z(t,e))return Object(B.i)(e)(t,a),!0;P({title:"Markeer als prive",fields:{prive:new I({label:"Rechten (leeg voor ingelogd)"})},callback(t){Object(B.i)(e,t)(n.state,n.dispatch),n.focus()}})}}),ne=(e,t,a,i="")=>new T.c({title:a,label:t,enable:t=>Y(t,e),run:(t,a,r)=>{let s=null,l=null;t.selection instanceof n.c&&t.selection.node.type==e&&(s=t.selection.node.attrs,l=t.selection.node.content),P({description:i,title:s?"Update: "+e.name:"Invoegen: "+e.name,fields:Object.fromEntries(Object.entries(e.spec.attrs).map(([e,t])=>[e,new I({label:Object(o.w)(e),required:void 0===t.default,value:s?s[e]:t.default})])),callback(t){r.dispatch(r.state.tr.replaceSelectionWith(e.createAndFill(Object.assign({type:e.name},t),l))),r.focus()}})}}),ie=e=>new T.c({title:"BB code als platte tekst invoegen",label:"BB code",enable:t=>Y(t,e),run:(t,a,i)=>{let r={bb:""};t.selection instanceof n.c&&t.selection.node.type==e&&(r=t.selection.node.attrs),F(e,r,i)}}),re=(e,t)=>new T.c({title:"Afbeelding invoegen",label:"Afbeelding",enable:a=>Y(a,e)||Y(a,t),run:(e,a,n)=>{P({title:"Plaatje uploaden",fields:{image:new R({label:"Afbeelding"}),of:new U({label:"",value:"- Of -"}),url:new I({label:"Url"})},callback:e=>{e.url?(n.dispatch(n.state.tr.replaceSelectionWith(t.createAndFill({src:e.url}))),n.focus()):e.image&&async function(e,t){const a={},n=e.state.tr;n.selection.empty||n.deleteSelection(),n.setMeta(H,{add:{id:a,pos:n.selection.from}}),e.dispatch(n),await G(e,t,a)}(n,e.image)}})}});var oe={strong:{dom:o.k`<i class="fa fa-bold"></i>`},em:{dom:o.k`<i class="fa fa-italic"></i>`},link:{dom:o.k`<i class="fa fa-link"></i>`},undo:{dom:o.k`<i class="fa fa-undo"></i>`},redo:{dom:o.k`<i class="fa fa-redo"></i>`},ol:{dom:o.k`<i class="fa fa-list-ol"></i>`},ul:{dom:o.k`<i class="fa fa-list-ul"></i>`},quote:{dom:o.k`<i class="fa fa-quote-right"></i>`},underline:{dom:o.k`<i class="fa fa-underline"></i>`},selectParentNode:{dom:o.k`<i class="fa fa-object-group"></i>`},lift:{dom:o.k`<i class="fa fa-outdent"></i>`},prive:{dom:o.k`<i class="fa fa-user-shield"></i>`},join:{dom:o.k`<i class="fa fa-caret-up"></i>`}};var se=a(17);const le=e=>new n.d({appendTransaction(t,a,n){e.value=JSON.stringify(n.doc.toJSON())}});var ce=a(108);let de=0,ue=[],pe=K.a.CancelToken.source();const fe=(e,t)=>{const a=document.querySelector(".lid-hints");if(!a)return;const n=e.dom.parentElement.getBoundingClientRect();a.style.left=t.left-n.left+"px",a.style.top=t.bottom-n.top+"px"},be=()=>{const e=document.querySelector(".lid-hints");e&&e.remove()},me=()=>{const e=document.querySelector(".lid-hints");for(const t of Array.from(e.children))t.classList.remove("active");const t=e.children.item(de);t&&t.classList.add("active")},ge={noDecorations:!0,char:"@",name:"lid-hint",appendText:"",keyBindings:{ArrowUp:()=>{de=(de-1+ue.length)%ue.length,me()},ArrowDown:()=>{de=(de+1)%ue.length,me()},Enter:({command:e,event:t})=>{t.preventDefault(),e(ue[de])},Tab:({command:e,event:t})=>{t.preventDefault(),e(ue[de])},Esc:()=>{be()}},onChange:async({command:e,queryText:t,range:a,view:n})=>{fe(n,n.coordsAtPos(a.end)),pe.cancel(),pe=K.a.CancelToken.source();try{ue=await async function(e,t){if(e&&1!==e.length){return(await K.a.get("/tools/naamsuggesties?vorm=user&zoekin=voorkeur&q="+encodeURI(e),{cancelToken:t})).data}return[]}(t.full,pe.token),de=0,((e,t,a)=>{Array.from(document.querySelectorAll(".lid-hints")).forEach(e=>e.remove());const n=document.createElement("div");n.classList.add("lid-hints","list-group"),n.style.position="absolute";for(const t of ue){const a=n.appendChild(document.createElement("div"));a.classList.add("list-group-item","list-group-item-action"),a.addEventListener("click",()=>{e(t)}),a.textContent=t.value}t.dom.parentElement.appendChild(n),fe(t,a),me()})(e,n,n.coordsAtPos(a.end))}catch(e){}},onExit:()=>{pe.cancel(),be(),ue=[],de=0},createCommand:({match:e,view:t})=>a=>{if(!a)return;const n=t.state.tr,{from:i,to:r}=e.range;n.replaceWith(i,r,t.state.schema.nodes.lid.createAndFill({uid:a.uid,naam:a.value})),t.dispatch(n)}},ve=Object(ce.a)(ge),he=e=>new n.d({appendTransaction(t,a,n){let i=null;return n.doc.descendants((t,a)=>{t.type==e.nodes.image&&t.attrs.src.startsWith("data:")&&(i=(null!=i?i:n.tr).deleteRange(a,a+1))}),i}}),ke=e=>{let t=null;return new n.d({view:e=>(t=e,{}),appendTransaction(a,n,i){let r=null;return i.doc.descendants((a,n)=>{if(a.type==e.nodes.image&&a.attrs.src.startsWith("data:")){const e={};r=i.tr.deleteRange(n,n+1),r.setMeta(H,{add:{id:e,pos:n}}),(async()=>{const n=await Object(o.b)(a.attrs.src,"pastedImage");await G(t,n,e)})()}}),r}})};se.a.addHandler(".pm-editor",e=>{const t=e.dataset.extern,a=(s=M,l=window.loggedIn&&!t,[Object(o.d)([ee(s.marks.strong,{title:"Schakel dikgedrukt",icon:oe.strong}),ee(s.marks.em,{title:"Schakel schuingedrukt",icon:oe.em}),ee(s.marks.underline,{title:"Schakel onderlijn",icon:oe.underline}),(d=s.marks.link,new T.c({title:"Maak of verwijder link",icon:{dom:o.k`<i class="fa fa-link"></i>`},active:e=>Z(e,d),enable:()=>!0,run(e,t,a){if(Z(e,d))return Object(B.i)(d)(e,t),!0;e.selection.empty?P({title:"Maak een link",fields:{tekst:new I({label:"Link tekst",required:!0}),href:new I({label:"Link doel",required:!0})},callback({tekst:t,href:n}){n.startsWith("/")||n.startsWith("https://")||n.startsWith("http://")||(n="https://"+n),a.dispatch(a.state.tr.replaceSelectionWith(e.schema.text(t).mark([d.create({href:n})]),!1)),a.focus()}}):P({title:"Maak een link",fields:{href:new I({label:"Link doel",required:!0})},callback({href:e}){e.startsWith("/")||e.startsWith("https://")||e.startsWith("http://")||(e="https://"+e),Object(B.i)(d,{href:e})(a.state,a.dispatch),a.focus()}})}})),!l&&ee(s.marks.prive,{title:"Maak prive",icon:oe.prive}),new T.a(Object(o.d)([ee(s.marks.code,{title:"Schakel code",label:"Code"}),ee(s.marks.superscript,{title:"Schakel superscript",label:"Superscript"}),ee(s.marks.subscript,{title:"Schakel subscript",label:"Subscript"}),ee(s.marks.strikethrough,{title:"Schakel doorstreep",label:"Doorstreep"}),ee(s.marks.offtopic,{title:"Schakel offtopic",label:"Offtopic"}),l&&ae(s.marks.prive)]),{label:"Meer"})]),Object(o.d)([l&&(c=s.nodes.lid,new T.c({title:"Lid invoegen",label:"Lid",enable:e=>Y(e,c),run:(e,t,a)=>{let i=null,r=null;e.selection instanceof n.c&&e.selection.node.type==c&&(i=e.selection.node.attrs,r=e.selection.node.content),P({title:i?"Update: "+c.name:"Invoegen: "+c.name,description:"Tip: Type '@' met een zoekterm in je bericht om snel een lid te noemen.",fields:{lid:new z({label:"Lid",required:!0,value:i?{uid:i.uid,naam:i.naam}:{uid:"",naam:""}})},callback(e){a.dispatch(a.state.tr.replaceSelectionWith(c.createAndFill(Object.assign({type:c.name},e.lid),r))),a.focus()}})}}))]),Object(o.d)([new T.a(Object(o.d)([l&&re(s.nodes.plaatje,s.nodes.image),!l&&J(s.nodes.image),l&&Q(s.nodes.citaat),Object(T.l)(s.nodes.blockquote,{title:"Maak een quote",label:"Quote"}),l&&ne(s.nodes.activiteit,"Activiteitenketzer","Activiteit invoegen"),l&&ne(s.nodes.ketzer,"Aanschafketzer","Ketzer invoegen"),l&&new T.b([ne(s.nodes.twitter,"Twitter","Twitter invoegen"),ne(s.nodes.youtube,"YouTube","YouTube invoegen"),ne(s.nodes.spotify,"Spotify","Spotify invoegen"),ne(s.nodes.video,"Video","Video invoegen"),ne(s.nodes.audio,"Geluid","Geluid invoegen")],{label:"Embed"}),l&&new T.b([ne(s.nodes.bestuur,"Bestuur","Bestuur invoegen"),ne(s.nodes.commissie,"Commissie","Commissie invoegen"),ne(s.nodes.groep,"Groep","Groep invoegen"),ne(s.nodes.ondervereniging,"Ondervereniging","Ondervereniging invoegen"),ne(s.nodes.verticale,"Verticale","Verticale invoegen"),ne(s.nodes.werkgroep,"Werkgroep","Werkgroep invoegen"),ne(s.nodes.woonoord,"Woonoord","Woonoord invoegen")],{label:"Groep"}),l&&ne(s.nodes.boek,"Boek","Boek invoegen"),l&&ne(s.nodes.document,"Document","Document invoegen"),l&&ne(s.nodes.maaltijd,"Maaltijd","Maaltijd invoegen"),l&&ne(s.nodes.peiling,"Peiling","Peiling invoegen"),new T.c({title:"Horizontale lijn invoegen",label:"Lijn",enable:e=>Y(e,s.nodes.horizontal_rule),run(e,t){t(e.tr.replaceSelectionWith(s.nodes.horizontal_rule.create()))}}),Object(T.l)(s.nodes.verklapper,{title:"Stop selectie in verklapper",label:"Verklapper"}),ie(s.nodes.bb)]),{label:"Invoegen"}),new T.a([Object(T.d)(s.nodes.paragraph,{title:"Verander naar een paragraaf",label:"Tekst"}),Object(T.d)(s.nodes.code_block,{title:"Verander naar een code blok",label:"Code"}),Object(T.d)(s.nodes.heading,{title:"Verander naar kop 1",label:"Titel",attrs:{level:1}}),Object(T.d)(s.nodes.heading,{title:"Verander naar kop 2",label:"Kop",attrs:{level:2}}),Object(T.d)(s.nodes.heading,{title:"Verander naar kop 3",label:"Subkop",attrs:{level:3}})],{label:"Stijl"})]),[new T.c({title:"Laatste wijziging ongedaan maken",run:L.c,enable:e=>Object(L.c)(e),icon:oe.undo}),new T.c({title:"Herhaal de laatste ongedaan gemaakte wijziging",run:L.b,enable:e=>Object(L.b)(e),icon:oe.redo})],[te(s.nodes.bullet_list,{title:"Maak een puntenlijst",icon:oe.ul}),te(s.nodes.ordered_list,{title:"Maak een geordende lijst",icon:oe.ol}),new T.c({title:"Voeg samen met blok hier boven",run:B.e,select:e=>Object(B.e)(e),icon:oe.join}),new T.c({title:"Til uit omvattende blok",run:B.f,select:e=>Object(B.f)(e),icon:oe.lift}),new T.c({title:"Selecteer dit blok",run:B.g,select:e=>Object(B.g)(e),icon:oe.selectParentNode})]]);var s,l,c,d;const u=document.querySelector("#"+e.dataset.prosemirrorDoc),p=Object(o.l)(u.value.replace(/&quot;/g,'\\"'));window.currentEditor=new i.c(e,{state:n.b.create({doc:r.f.fromJSON(M,JSON.parse(p)),plugins:[ve,window.loggedIn?ke(M):he(M),...Object(E.a)({schema:M,menuContent:a}),H,le(u)]}),handleDoubleClickOn:(e,t,a)=>(a.type==M.nodes.bb&&F(a.type,a.attrs,e),!0)})})},21:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return domUpdate}));var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_ctx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16);function domUpdate(htmlString){if("string"!=typeof htmlString)return;if(htmlString=htmlString.trim(),"<!DOCTYPE"===htmlString.substring(0,9))throw alert("response error"),new Error(htmlString);const elements=Object(_util__WEBPACK_IMPORTED_MODULE_3__.n)(htmlString);for(const element of elements){if(!(element instanceof HTMLElement))continue;const id=element.id,parentId=element.getAttribute("parentid");if(!id&&element instanceof HTMLScriptElement)return eval(element.innerText),void Object(_modal__WEBPACK_IMPORTED_MODULE_2__.a)();const target=id?document.querySelector("#"+id):null,targetParent=parentId?document.querySelector("#"+parentId):null;target?element.classList.contains("remove")?Object(_util__WEBPACK_IMPORTED_MODULE_3__.h)(target,400):jquery__WEBPACK_IMPORTED_MODULE_0___default()(target).replaceWith(jquery__WEBPACK_IMPORTED_MODULE_0___default()(element)):targetParent?targetParent.append(element):element instanceof HTMLScriptElement?document.head.append(element):Object(_dom__WEBPACK_IMPORTED_MODULE_4__.b)("#maalcie-tabel tbody:visible:first").append(element),Object(_ctx__WEBPACK_IMPORTED_MODULE_1__.b)(element),"modal"===id?Object(_modal__WEBPACK_IMPORTED_MODULE_2__.b)():Object(_modal__WEBPACK_IMPORTED_MODULE_2__.a)()}}},29:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n);function r(e=""){const t=i()("#modal"),a=i()(".modal-backdrop");return(""!==t.html()||""!==e)&&(a.length&&a.remove(),""!==e&&(t.replaceWith(e),t.find("input:visible:first").trigger("focus")),t.modal("show"),i()(document.body).trigger("modalOpen"),!0)}function o(){i()("#modal").modal("hide"),i()(document.body).trigger("modalClose")}},34:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(0),i=a.n(n),r=a(29),o=a(12),s=a.n(o),l=a(16);function c(e,t,a,n,o,c,d){if(n)if(n.classList.contains("noanim"))if(n.classList.contains("InlineForm"))try{Object.assign(Object(l.b)(".FormElement:first",n).style,{backgroundImage:'url("/images/loading-fb.gif")',backgroundPosition:"center right",backgroundRepeat:"no-repeat"})}catch(e){}else n.classList.add("loading");else{const e=i()(`<img alt="Laden" id="${n.id}" title="${t}" src="/images/loading-arrows.gif" />`);i()(n).replaceWith(e),n=e.get(0)}s()(t,{method:e,data:a}).then(e=>{n&&(i()(n).hasClass("noanim")?i()(n).hasClass("InlineForm")&&i()(n).find(".FormElement:first").css({"background-image":"","background-position":"","background-repeat":""}):i()(n).hide(),n.classList.remove("loading")),o(e.data)}).catch(e=>{n?i()(n).replaceWith('<img alt="Mislukt" title="'+e.message+'" src="/plaetjes/famfamfam/cancel.png" />'):Object(r.a)(),c&&(e.message.startsWith("<!DOC")&&c("Er ging iets fout, code is: "+e.code),c(e.message))}).then(()=>{d&&d()})}function d(e,t){return i()(t+" .aanmeldbtn").addClass("loading"),i.a.ajax({cache:!1,data:"",type:"GET",url:e}).done(e=>{i()(t).replaceWith(e)}).fail((e,a,n)=>{throw i()(t+" .aanmeldbtn").replaceWith(i()(`<div class="alert alert-danger"><strong>Actie mislukt!</strong> ${n}</div>`)),new Error(e.responseText)}),!0}},36:function(e,t,a){"use strict";a.r(t),a.d(t,"isDataTableResponse",(function(){return l})),a.d(t,"initDataTable",(function(){return c})),a.d(t,"initOfflineDataTable",(function(){return d})),a.d(t,"fnUpdateDataTable",(function(){return u})),a.d(t,"fnGetSelection",(function(){return p})),a.d(t,"getApiFromSettings",(function(){return f})),a.d(t,"fnGetLastUpdate",(function(){return b})),a.d(t,"fnSetLastUpdate",(function(){return m})),a.d(t,"fnAjaxUpdateCallback",(function(){return g})),a.d(t,"replacePlaceholders",(function(){return v}));var n=a(0),i=a.n(n),r=a(17),o=a(4),s=a(98);function l(e){return"object"==typeof e&&"lastUpdate"in e&&"autoUpdate"in e&&"data"in e}async function c(e){await Promise.all([a.e(4),a.e(10)]).then(a.bind(null,132));const t=i()(e),n=t.data("settings"),o=t.data("search");n.ajax&&(n.ajax.data.lastUpdate=b(t),n.ajax.dataSrc=g(t)),n.columns.forEach(e=>e.render=s.a[e.render]);const l=t.DataTable(n);t.dataTable().api().search(o),l.on("page",()=>l.rows({selected:!0}).deselect()),l.on("childRow.dt",(e,t)=>Object(r.b)(t.container.get(0)))}async function d(e){await Promise.all([a.e(4),a.e(10)]).then(a.bind(null,132)),i()(e).DataTable(Object(o.s)(e))}function u(e,t){const a=i()(e).DataTable();t.data.forEach(e=>{const t=i()('tr[data-uuid="'+e.UUID+'"]');1===t.length?"remove"in e?a.row(t).remove():(a.row(t).data(e),Object(r.b)(t.get(0))):0===t.length?a.row.add(e):alert(t.length)}),a.draw(!1)}function p(e){const t=[];return i()(e+" tbody tr.selected").each((function(){const e=i()(this).attr("data-uuid");if(!e)throw new Error("Tablerow heeft geen uuid");t.push(e)})),t}function f(e){return new i.a.fn.dataTable.Api(e)}const b=e=>()=>Number(e.data("lastupdate")),m=e=>t=>e.data("lastupdate",t),g=e=>t=>{m(e)(t.lastUpdate);const a=e.DataTable();if(t.autoUpdate){const n=parseInt(t.autoUpdate,10);!isNaN(n)&&n<6e5&&setTimeout(()=>{i.a.post(a.ajax.url(),{lastUpdate:b(e)},t=>{const a=e.attr("id");if(!a)throw new Error("Table heeft geen id");u(a,t),g(e)(t)})},n)}return function(e){const t=e.parent();if(t.hasClass("dataTables_scrollBody")){const e=t.scrollTop(),a=t.innerHeight();if(!e||!a)throw new Error("$scroll heeft geen top of height");e+a>=t[0].scrollHeight-20&&window.setTimeout(()=>{t.animate({scrollTop:t[0].scrollHeight},800)},200)}}(e),t.data};function v(e,t){const a=/:(\w+)/g.exec(e);if(!a)return e;for(let n=1;n<a.length;n++)e=e.replace(":"+a[n],t[a[n]]);return e}},45:function(e,t,a){"use strict";a.r(t),a.d(t,"formIsChanged",(function(){return b})),a.d(t,"formInlineToggle",(function(){return m})),a.d(t,"formToggle",(function(){return g})),a.d(t,"formReset",(function(){return v})),a.d(t,"formSubmit",(function(){return h})),a.d(t,"formCancel",(function(){return k})),a.d(t,"insertPlaatje",(function(){return _})),a.d(t,"initSterrenField",(function(){return O}));var n=a(12),i=a.n(n),r=a(0),o=a.n(r),s=a(36),l=a(34),c=a(21),d=a(29),u=a(73),p=a(16),f=a(4);function b(e){let t=!1;return o()(e).find(".FormElement").not(".tt-hint").each((function(){const e=o()(this);if(e.is("input:radio")){if(e.is(":checked")&&e.attr("origvalue")!==e.val())return t=!0,!1}else if(e.is("input:checkbox")){if(e.is(":checked")!==("1"===e.attr("origvalue")))return t=!0,!1}else if(e.val()!==e.attr("origvalue"))return t=!0,!1})),t}function m(e){const t=o()(e);t.prev(".InlineFormToggle").toggle(),t.toggle(),t.children(":first").trigger("focus")}function g(e,t){return t.preventDefault(),m(Object(p.b)("form",Object(p.a)(e))),!1}function v(e,t){const a=e.target;if(!(a&&a instanceof HTMLElement))throw new Error("formReset: geen EventTarget");if(t||(t=a.closest("form"),e.preventDefault()),!t)throw new Error("Geen form gevonden in formReset");return a.classList.contains("confirm")&&!confirm(a.title+".\n\nWeet u het zeker?")||Object(p.c)(".FormElement",t).forEach((function(e){const t=e.getAttribute("origvalue");t&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(e.value=t)})),!1}function h(e){const t=e.target;if(t.classList.contains("confirm")){let a=t.title;if(a?a+=".\n\n":a="Weet u het zeker?",!confirm(a))return e.preventDefault(),!1}const a=t.closest("form");if(!a||!a.classList.contains("Formulier"))return!1;if(a.classList.contains("PreventUnchanged")&&!b(a))return e.preventDefault(),alert("Geen wijzigingen"),!1;const n=t.getAttribute("href");if(n&&"#"!=n&&a.setAttribute("action",n),a.classList.contains("ModalForm")||a.classList.contains("InlineForm")){e.preventDefault();const t=new FormData(a);let n=c.a,i=null;if(a.classList.contains("InlineForm")){i=a;const e=a.id;e&&t.append("InlineFormId",e),o()(a).data("submitCallback")&&(n=o()(a).data("submitCallback"))}if(a.classList.contains("ModalForm")&&(n=e=>{"string"==typeof e?Object(c.a)(e):Object(d.a)()}),a.classList.contains("DataTableResponse")){const e=a.dataset.tableid;if(!e||!document.getElementById(e))throw new Error("DataTable not found");t.append("DataTableId",e);const r=Object(s.fnGetSelection)("#"+e);o.a.each(r,(e,a)=>{t.append("DataTableSelection[]",a)}),n=t=>{if(Object(s.isDataTableResponse)(t))Object(s.fnUpdateDataTable)("#"+e,t),t.modal?Object(c.a)(t.modal):Object(d.a)();else{if("string"!=typeof t)throw new Error("onbekende response"+t);Object(c.a)(t)}},a.classList.contains("noanim")||(i=null)}a.classList.contains("ReloadPage")?n=u.b:a.classList.contains("redirect")&&(n=u.a);const r=a.getAttribute("action");if(!r)throw new Error("Form heeft geen action");return Object(l.a)("POST",r,t,i,n,f.v,()=>{a.classList.contains("SubmitReset")&&v(e,a)}),!1}return o()(a).off("submit"),o()(a).trigger("submit"),!0}function k(e){const t=e.target;if(!(t&&t instanceof HTMLElement))throw new Error("formCancel: Geen EventTarget");if(t.classList.contains("confirm")&&!confirm(t.title+".\n\nWeet u het zeker?"))return e.preventDefault(),!1;const a=t.closest("form");if(!a)throw new Error("Geen form in formCancel");if(a.classList.contains("InlineForm"))return e.preventDefault(),m(a),!1;if(a.classList.contains("ModalForm")){e.preventDefault();const n=t.getAttribute("href");return n&&i.a.get(n),b(a)&&!confirm("Sluiten zonder wijzigingen op te slaan?")||Object(d.a)(),!1}return!0}function _(e){o.a.markItUp({replaceWith:"[plaatje]"+e+"[/plaatje]"})}function O(e){o()(e).raty(Object.assign(Object.assign({},JSON.parse(e.dataset.config)),{path:"/images/raty/",cancelHint:"Wis beoordeling",cancelPlace:"right",noRatedMsg:"",click:function(e){console.log(e),o()(this).raty("score",e),o()(this).closest("form").submit()}}))}a(158)},73:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a(21);function i(e){"string"!=typeof e||'<div id="modal" '!==e.substring(0,16)?location.reload():Object(n.a)(e)}function r(e){'<div id="modal" '!==e.substring(0,16)?window.location.href=e:Object(n.a)(e)}},98:function(e,t,a){"use strict";var n=a(40),i=a.n(n),r=a(4),o=a(36);t.a={default(e,t){if(null===e||"object"!=typeof e)return e;switch(t){case"sort":return e.sort;case"export":return e.export;default:return e.display}},bedrag:e=>Object(r.i)(e),check:e=>'<span class="ico '+(e?"tick":"cross")+'"></span>',aanmeldFilter:e=>e?`<span class="ico group_key" title="Aanmeld filter actief: '${e}'"></span>`:"",aanmeldingen:(e,t,a)=>a.aantal_aanmeldingen+" ("+a.aanmeld_limiet+")",totaalPrijs:(e,t,a)=>Object(r.i)(a.aantal_aanmeldingen*parseInt(a.prijs,10)),datetime:e=>Number(e)==e?i.a.unix(e).format("YYYY-MM-DD HH:mm"):e?"<time"===e.substr(0,5)?e:"-"===e.substr(0,1)?"Nooit":i()(e).format("YYYY-MM-DD HH:mm"):"",timeago(e,t,a,n){const i=Object(o.getApiFromSettings)(n.settings).cell(n.row,n.col).node().firstChild;switch(t){case"sort":case"export":return i.dateTime;default:return e}},filesize(e,t){switch(t){case"sort":return Number(e);default:return Object(r.j)(e)}}}}}]);
//# sourceMappingURL=formulier.e208d0f82220e02ee743.chunk.js.map