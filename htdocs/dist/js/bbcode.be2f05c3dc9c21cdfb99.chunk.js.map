{"version":3,"sources":["webpack:///./js/lib/bbcode.ts"],"names":["loadBbImage","el","content","getAttribute","src","Error","_a","_b","foto","indexOf","video","parentElement","classList","contains","hasAnchor","$","closest","length","parent","replaceChild","targetUrl","link","appendChild","replaceWith"],"mappings":"0FAAA,8DACO,MAAMA,EAAeC,IACxB,MAAMC,EAAU,GAAK;;oBAELD,EAAGE,aAAa;sBACdF,EAAGE,aAAa;oBAClBF,EAAGE,aAAa,YAC1BC,EAAMH,EAAGE,aAAa,OAC5B,IAAKC,EACD,MAAM,IAAIC,MAAM,2BAEpB,YAAaD,EAAK,KACd,IAAIE,EAAIC,EACR,MAAMC,EAAOJ,EAAIK,QAAQ,yBAA2B,EAC9CC,EAAiG,QAAxFH,EAAiC,QAA3BD,EAAKL,EAAGU,qBAAkC,IAAPL,OAAgB,EAASA,EAAGK,qBAAkC,IAAPJ,OAAgB,EAASA,EAAGK,UAAUC,SAAS,oBACxJC,EAA0C,IAA9BC,EAAEd,GAAIe,QAAQ,KAAKC,OAC/BC,EAASjB,EAAGU,cAClB,IAAKO,EACD,MAAM,IAAIb,MAAM,8BAEpB,GAAIG,GAAQE,GAASI,EACjBI,EAAOC,aAAajB,EAASD,OAE5B,CACD,MAAMmB,EAA0C,MAA9BnB,EAAGE,aAAa,WAAqBF,EAAGE,aAAa,OAASF,EAAGE,aAAa,WAC1FkB,EAAO,GAAK,kCAAkCD,wCACpDC,EAAKC,YAAYpB,GACjBgB,EAAOC,aAAaE,EAAMpB,KAE/B,KACCA,EAAGsB,YAAY,GAAK","file":"js/bbcode.be2f05c3dc9c21cdfb99.chunk.js","sourcesContent":["import { html, preloadImage } from \"./util\";\nexport const loadBbImage = (el) => {\n    const content = html `<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bb-img\"\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"${el.getAttribute('title')}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"${el.getAttribute('style')}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"${el.getAttribute('src')}\"/>`;\n    const src = el.getAttribute('src');\n    if (!src) {\n        throw new Error('Bb image heeft geen src');\n    }\n    preloadImage(src, () => {\n        var _a, _b;\n        const foto = src.indexOf('/plaetjes/fotoalbum/') >= 0;\n        const video = (_b = (_a = el.parentElement) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.classList.contains('bb-video-preview');\n        const hasAnchor = $(el).closest('a').length !== 0;\n        const parent = el.parentElement;\n        if (!parent) {\n            throw new Error(\"BBimage heeft geen parent.\");\n        }\n        if (foto || video || hasAnchor) {\n            parent.replaceChild(content, el);\n        }\n        else {\n            const targetUrl = el.getAttribute('bb-href') == null ? el.getAttribute('src') : el.getAttribute('bb-href');\n            const link = html `<a class=\"lightbox-link\" href=\"${targetUrl}\" data-lightbox=\"page-lightbox\"></a>`;\n            link.appendChild(content);\n            parent.replaceChild(link, el);\n        }\n    }, () => {\n        el.replaceWith(html `<div class=\"alert alert-danger\" role=\"alert\"><i class=\"fa fa-exclamation-triangle\"></i> Afbeelding kan niet geladen worden.</div>`);\n    });\n};\n"],"sourceRoot":""}