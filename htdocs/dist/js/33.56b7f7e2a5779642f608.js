(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{281:function(e,t,n){"use strict";n.r(t);function a(e){return b()(e).format("YYYY-MM-DD HH:mm:ss")}var r=n(185),i=n(273),o=n.n(i),d=n(235),c=n(274),u=n(275),s=n(276),l=n(9),m=n.n(l),v=n(0),f=n.n(v),g=n(36),b=n.n(g),w=n(15),h=n(12),p=n(6),k=n(3),y=n(2),E=document.getElementById("agenda");if(null==E)throw new Error("Agenda element niet gevonden");var D=E.dataset,_=D.jaar,O=D.maand,Y=D.weergave,G=D.creator;if(null==_||null==O||null==Y||null==G)throw new Error("Agenda opties niet gezet");var L={maand:"dayGridMonth",week:"timeGridWeek",dag:"timeGridDay",agenda:"listMonth"}[Y],M=!1,T={plugins:[d.d,s.a,u.a,c.a],height:"auto",nowIndicator:!0,defaultView:L,locale:o.a,customButtons:{nieuw:{text:"Nieuw",click:function(){var e=a(x.getDate());Object(h.a)("POST","/agenda/toevoegen",{begin_moment:e,eind_moment:e},!1,p.a)}},bewerken:{text:"Bewerken",click:function(){M=!M,x.setOption("editable",M),x.setOption("selectable",M),x.refetchEvents(),setTimeout(function(){var e=E.querySelector(".fc-bewerken-button");M?e.classList.add("fc-button-active"):e.classList.remove("fc-button-active")})}}},eventDataTransform:function(e){return!0===e.editable&&(e.editable=M),e},header:{left:"dayGridMonth,timeGridWeek,timeGridDay,listMonth",center:"title",right:"today prevYear,prev,next,nextYear"},defaultDate:new Date(Number(_),Number(O)-1),firstDay:0,events:"/agenda/feed",selectable:M&&"true"===G,select:function(e){Object(h.a)("POST","/agenda/toevoegen",{begin_moment:a(e.start),eind_moment:a(e.end)},!1,p.a)},eventClick:function(t){m.a.get("/agenda/details/"+t.event.id+"?jaar="+t.event.start.getFullYear()).then(function(e){var n=Object(y.i)(e.data)[0];n.style.zIndex="100",n.style.position="absolute",n.querySelector(".close").addEventListener("click",function(){return n.remove(),!1}),document.body.append(n),k.a.init(n),new w.default(t.el,n,{placement:"bottom"}),setTimeout(function(){var t=function(e){n.contains(e.target)||(n.remove(),document.body.removeEventListener("click",t))};document.body.addEventListener("click",t)})})},eventDrop:function(e){m.a.post("/agenda/verplaatsen/"+e.event.id,{begin_moment:a(e.event.start),eind_moment:a(e.event.end)}).then(function(){return x.refetchEvents()})},eventResize:function(e){m.a.post("/agenda/verplaatsen/"+e.event.id,{begin_moment:a(e.event.start),eind_moment:a(e.event.end)}).then(function(){return x.refetchEvents()})}};if("true"===G){var j=T.header;j.right="bewerken,nieuw "+j.right}var x=new r.a(E,T);x.render(),k.a.addHandler(".ReloadAgenda",function(e){return e.addEventListener("click",function(){return setTimeout(function(){return x.refetchEvents()})})}),f()(document.body).on("modalClose",function(){return x.refetchEvents()})}}]);