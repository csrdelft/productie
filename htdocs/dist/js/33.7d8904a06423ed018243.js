(window.webpackJsonp=window.webpackJsonp||[]).push([[33,39],{10:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o}));var a=r(0),n=r.n(a);function i(e=""){const t=n()("#modal"),r=n()(".modal-backdrop");return(""!==t.html()||""!==e)&&(r.length&&r.remove(),""!==e&&(t.replaceWith(e),t.find("input:visible:first").trigger("focus")),t.modal("show"),n()(document.body).trigger("modalOpen"),!0)}function o(){n()("#modal").modal("hide"),n()(document.body).trigger("modalClose")}},11:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var a=r(0),n=r.n(a),i=r(10);function o(e,t,r,a,o,s,l){a&&(a.hasClass("noanim")?a.hasClass("InlineForm")?n()(a).find(".FormElement:first").css({"background-image":'url("/images/loading-fb.gif")',"background-position":"center right","background-repeat":"no-repeat"}):a.addClass("loading"):(n()(a).replaceWith(`<img alt="Laden" id="${a.attr("id")}" title="${t}" src="/images/loading-arrows.gif" />`),a=n()(`img[title="${t}"]`)));let c="application/x-www-form-urlencoded; charset=UTF-8",d=!0;r instanceof FormData&&(c=!1,d=!1),n.a.ajax({cache:!1,contentType:c,data:r,processData:d,type:e,url:t}).done(e=>{a&&(n()(a).hasClass("noanim")?n()(a).hasClass("InlineForm")&&n()(a).find(".FormElement:first").css({"background-image":"","background-position":"","background-repeat":""}):n()(a).hide(),a.removeClass("loading")),o(e)}).fail((e,t,r)=>{""===r&&(r="Nog bezig met laden!"),a?n()(a).replaceWith('<img alt="Mislukt" title="'+r+'" src="/plaetjes/famfamfam/cancel.png" />'):Object(i.a)(),s&&(e.responseText.startsWith("<!DOC")&&s("Er ging iets fout, code is: "+e.status),s(e.responseText))}).always(()=>{l&&l()})}function s(e,t){return n()(t+" .aanmeldbtn").addClass("loading"),n.a.ajax({cache:!1,data:"",type:"GET",url:e}).done(e=>{n()(t).replaceWith(e)}).fail((e,r,a)=>{n()(t+" .aanmeldbtn").replaceWith(n()(`<div class="alert alert-danger"><strong>Actie mislukt!</strong> ${a}</div>`)),alert(e.responseText)}),!0}},14:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return m}));var a=r(0),n=r.n(a),i=r(3),o=r(2),s=r(45);function l(e,t){const r=n()(e).DataTable();t.data.forEach(e=>{const t=n()('tr[data-uuid="'+e.UUID+'"]');1===t.length?"remove"in e?r.row(t).remove():(r.row(t).data(e),Object(i.b)(t.get(0))):0===t.length?r.row.add(e):alert(t.length)}),r.draw(!1)}function c(e){const t=[];return n()(e+" tbody tr.selected").each((function(){t.push(n()(this).attr("data-uuid"))})),t}function d(e){return new n.a.fn.dataTable.Api(e)}i.a.addHandler(".ctx-datatable",(async function(e){await Promise.all([r.e(0),r.e(1)]).then(r.bind(null,70));const t=n()(e),a=t.data("settings"),o=t.data("search");a.ajax&&(a.ajax.data.lastUpdate=u(t),a.ajax.dataSrc=p(t));a.columns.forEach(e=>e.render=s.a[e.render]);const l=t.DataTable(a);t.dataTable().api().search(o),l.on("page",()=>l.rows({selected:!0}).deselect()),l.on("childRow.dt",(e,t)=>Object(i.b)(t.container.get(0)))})),i.a.addHandler(".ctx-offline-datatable",(async function(e){await Promise.all([r.e(0),r.e(1)]).then(r.bind(null,70)),n()(e).DataTable(Object(o.l)(e))}));const u=e=>()=>Number(e.data("lastupdate")),p=e=>t=>{(e=>t=>e.data("lastupdate",t))(e)(t.lastUpdate);const r=e.DataTable();if(t.autoUpdate){const a=parseInt(t.autoUpdate,10);!isNaN(a)&&a<6e5&&setTimeout(()=>{n.a.post(r.ajax.url(),{lastUpdate:u(e)},t=>{l(e.attr("id"),t),p(e)(t)})},a)}return function(e){const t=e.parent();t.hasClass("dataTables_scrollBody")&&t.scrollTop()+t.innerHeight()>=t[0].scrollHeight-20&&window.setTimeout(()=>{t.animate({scrollTop:t[0].scrollHeight},800)},200)}(e),t.data};function m(e,t){const r=/:(\w+)/g.exec(e);if(!r)return e;for(let a=1;a<r.length;a++)e=e.replace(":"+r[a],t[r[a]]);return e}},175:function(e,t,r){"use strict";r.r(t);var a=r(8),n=r.n(a),i=r(0),o=r.n(i),s=(r(86),r(3));r(22),r(244);r(85),r(83),r(285),r(82),r(84);const l=o()(window),c=o()("#header"),d=o()("#banner");l.on("load",()=>{setTimeout(()=>{o()("div.bb-img-loading").each((function(){const e=o()(document.createElement("img"));e.on("error",(function(){o()(this).attr("title","Afbeelding bestaat niet of is niet toegankelijk!"),o()(this).attr("src","/plaetjes/famfamfam/picture_error.png"),o()(this).css("width","16px"),o()(this).css("height","16px"),o()(this).removeClass("bb-img-loading").addClass("bb-img")})),e.addClass("bb-img"),e.attr("alt",o()(this).attr("title")),e.attr("style",o()(this).attr("style")),e.attr("src",o()(this).attr("src")),o()(this).html(e.toString()),e.on("load",(function(){const t=e.attr("src").indexOf("/plaetjes/fotoalbum/")>=0,r=o()(this).parent().parent().hasClass("bb-video-preview"),a=0!==o()(this).closest("a").length;o()(this).parent().replaceWith(o()(this)),t||r||a||o()(this).wrap(`<a class="lightbox-link" href="${o()(this).attr("src")}" data-lightbox="page-lightbox"></a>`)}))}))})});const u=(()=>{let e=!1;return()=>{e||(e=!0,setTimeout(()=>{o()(".lazy-load").each((function(){o()(this).replaceWith(this.textContent)}))}))}})();l.on("scroll",()=>{o()(window).scrollTop()>0&&u(),window.pageYOffset>d.outerHeight()?c.removeClass("alt"):c.addClass("alt")}),l.on("resize",()=>l.trigger("scroll")),l.trigger("scroll"),Object(s.b)(document.body);const p=document.querySelector("#contact-form");if(p){const e=document.querySelector("#melding"),t=p.submitButton;p.addEventListener("submit",r=>{r.preventDefault(),e.innerHTML="",t.disabled=!0;const a=new FormData(p);return n.a.post("/contactformulier/interesse",a).then(r=>{p.reset(),t.disabled=!1,e.innerHTML='<div class="alert alert-success"><span class="ico accept"></span>'+r.data+"</div>"}).catch(r=>{t.disabled=!1,e.innerHTML='<div class="alert alert-danger"><span class="ico exclamation"></span>'+r.response.data+"</div>"}),!1})}},21:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var a=r(4);function n(e){"string"!=typeof e||'<div id="modal" '!==e.substring(0,16)?location.reload():Object(a.a)(e)}function i(e){'<div id="modal" '!==e.substring(0,16)?window.location.href=e:Object(a.a)(e)}},22:function(e,t,r){"use strict";var a=r(8),n=r.n(a),i=r(0),o=r.n(i),s=r(11),l=r(4),c=r(2);const d={markupSet:[{className:"ico text_bold",name:"Dikgedrukt",key:"B",openWith:"[b]",closeWith:"[/b]"},{className:"ico text_italic",name:"Cursief",key:"I",openWith:"[i]",closeWith:"[/i]"},{className:"ico text_underline",name:"Onderstreept",key:"U",openWith:"[u]",closeWith:"[/u]"},{className:"ico text_strikethrough",name:"Doorgestreept",key:"S",openWith:"[s]",closeWith:"[/s]"},{separator:"|"},{className:"ico text_smallcaps",name:"Offtopic",key:"O",openWith:"[offtopic]",closeWith:"[/offtopic]"},{className:"ico comments",closeWith:"[/citaat]",key:"Q",name:"Citaat",openWith:"[citaat=Naam_of_lidnummer]"},{separator:"|"},{className:"ico link",closeWith:"[/url]",key:"L",name:"Link",openWith:"[url=[![Url]!]]",placeHolder:"Link tekst"},{className:"ico email_link",closeWith:"[/email]",key:"E",name:"Email",openWith:"[email=[![Email adres]!]]",placeHolder:"Link tekst"},{separator:"|"},{className:"ico photos",name:"Fotoalbum",replaceWith:e=>{let t=window.prompt("Url","");if(t){const e=(t=decodeURIComponent(t.trim())).indexOf("/fotoalbum/");if(e>0)return"[fotoalbum]"+(t=t.substring(e+10))+"[/fotoalbum]";alert("Ongeldige url!")}return e.selection}},{className:"ico photo",name:"Poster of foto uit album",replaceWith:e=>{let t=window.prompt("Url","");if(t){const e=(t=decodeURIComponent(t.trim())).indexOf("/fotoalbum/");if(e>0)return"[foto]"+(t=t.substring(e+10).replace("_resized/","").replace("_thumbs/","").replace("#",""))+"[/foto]";alert("Ongeldige url!")}return e.selection}},Object(c.j)()?{className:"ico picture",name:"Plaatje",closeWith:e=>(n.a.get("/forum/plaatjes/upload").then(e=>{Object(l.a)(e.data)}),"")}:{className:"ico picture",name:"Afbeelding",replaceWith:"[img][![Url]!][/img]"},{className:"ico film",name:"Video",replaceWith:"[video][![Url]!][/video]"},{separator:"|"},{className:"ico map",name:"Kaart",openWith:"[locatie]",closeWith:"[/locatie]",placeHolder:"C.S.R. Delft"},{className:"ico sound_mute",name:"Verklapper",openWith:"[verklapper]",closeWith:"[/verklapper]"},{className:"ico shield",closeWith:"[/prive]",name:"PrivÃ©",openWith:"[prive]",placeHolder:"Afgeschermde gegevens"},{separator:"|"},{className:"ico script_code_red",name:"Code",openWith:"[code]",closeWith:"[/code]"},{className:"ico tag",name:"Opmaakcode tonen",openWith:"[tekst]",closeWith:"[/tekst]"}],nameSpace:"CsrBB",previewParserPath:"/tools/bbcode"};var u=r(3),p=r(14),m=r(10),f=r(21);function h(e){let t=!1;return o()(e).find(".FormElement").not(".tt-hint").each((function(){const e=o()(this);if(e.is("input:radio")){if(e.is(":checked")&&e.attr("origvalue")!==e.val())return t=!0,!1}else if(e.is("input:checkbox")){if(e.is(":checked")!==("1"===e.attr("origvalue")))return t=!0,!1}else if(e.val()!==e.attr("origvalue"))return t=!0,!1})),t}function g(e){e.prev(".InlineFormToggle").toggle(),e.toggle(),e.children(":first").trigger("focus")}function b(e,t){return t||(t=o()(e.target).closest("form"),e.preventDefault()),!(o()(e.target).hasClass("confirm")&&!confirm(o()(e.target).attr("title")+".\n\nWeet u het zeker?"))&&(t.find(".FormElement").each((function(){const t=o()(e.target).attr("origvalue");"string"==typeof t&&o()(this).val(t)})),!1)}function v(e){const t=e.target,r=o()(t);if(r.hasClass("confirm")){let t=r.attr("title");if(t?t+=".\n\n":t="Weet u het zeker?",!confirm(t))return e.preventDefault(),!1}const a=r.closest("form");if(!a.hasClass("Formulier"))return!1;if(a.hasClass("PreventUnchanged")&&!h(a))return e.preventDefault(),alert("Geen wijzigingen"),!1;if(r.attr("href")&&a.attr("action",r.attr("href")),a.hasClass("ModalForm")||a.hasClass("InlineForm")){e.preventDefault();const t=new FormData(a.get(0));let r=l.a,n=!1;if(a.hasClass("InlineForm")&&(n=a,t.append("InlineFormId",a.attr("id")),a.data("submitCallback")&&(r=a.data("submitCallback"))),a.hasClass("ModalForm")&&(r=e=>{"string"==typeof e?Object(l.a)(e):Object(m.a)()}),a.hasClass("DataTableResponse")){const e=a.attr("data-tableid");document.getElementById(e)||alert("DataTable not found"),t.append("DataTableId",e);const i=Object(p.a)("#"+e);o.a.each(i,(e,r)=>{t.append("DataTableSelection[]",r)}),r=t=>{"object"==typeof t?(Object(p.b)("#"+e,t),t.modal?Object(l.a)(t.modal):Object(m.a)()):Object(l.a)(t)},a.hasClass("noanim")||(n=!1)}return a.hasClass("ReloadPage")?r=f.b:a.hasClass("redirect")&&(r=f.a),Object(s.a)("POST",a.attr("action"),t,n,r,alert,()=>{a.hasClass("SubmitReset")&&b(e,a)}),!1}return a.off("submit"),a.trigger("submit"),!0}function w(e){const t=o()(e.target);if(t.hasClass("confirm")&&!confirm(t.attr("title")+".\n\nWeet u het zeker?"))return e.preventDefault(),!1;const r=t.closest("form");if(r.hasClass("InlineForm"))return e.preventDefault(),g(r),!1;if(r.hasClass("ModalForm")){e.preventDefault();const a=t.attr("href");return a&&n.a.get(a),h(r)&&!confirm("Sluiten zonder wijzigingen op te slaan?")||Object(m.a)(),!1}return!0}r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return v})),r.d(t,"a",(function(){return w})),u.a.addHandlers({".InlineFormToggle":e=>e.addEventListener("click",t=>(function(e,t){return t.preventDefault(),g(o()(e).next("form")),!1})(e,t)),".SubmitChange":e=>e.addEventListener("change",v),".cancel":e=>e.addEventListener("click",w),".reset":e=>e.addEventListener("click",b),".submit":e=>e.addEventListener("click",v),"form.Formulier":e=>o()(e).on("submit",v),"textarea.BBCodeField":e=>o()(e).markItUp(d),"time.timeago":e=>o()(e).timeago()}),window.insertPlaatje=e=>{o.a.markItUp({replaceWith:"[plaatje]"+e+"[/plaatje]"})}},244:function(e,t,r){"use strict";r.r(t);var a=r(241),n=r.n(a),i=r(192),o=r(181),s=r(187);var l=e=>(class extends e{constructor(e,t){super(e,t);const r=Object(s.a)(Object(o.a)('<span class="j-gallery-icon"><i class="fa fa-download"></i></span>'),{style:{color:t.backgroundColor,background:t.textColor,transform:"translateY(-8px)"},content:"Downloaden"});r.addEventListener("click",()=>window.location.href=`${this.getFullUrl()}?download`),this.appendControlsElements([r])}goToItem(e){return this.currentItem=e,super.goToItem(e)}getFullUrl(){return this.currentItem.fullUrl}}),c=r(190);var d=e=>(class extends e{constructor(e,t){super(e,t);const r=this.preview.setSize.bind(this.preview);this.preview.setSize=e=>(this.updateImage(e),r(e))}async updateImage(e){const t=this.preview.getElement().querySelector(".j-gallery-preview-content");if(e===i.a.auto){await Object(c.a)(this.currentItem.fullUrl);const e=new Image;e.src=this.currentItem.fullUrl,t.style.backgroundImage=`url(${this.currentItem.fullUrl})`,t.style.backgroundSize=`${Math.min(3e3,e.width)}px`}else t.style.backgroundImage=`url(${this.currentItem.url})`}});var u=e=>(class extends e{constructor(e,t){super(e,t);const r=Object(o.a)('<i class="fa fa-expand"></i>'),a=Object(s.a)(Object(o.a)('<span class="j-gallery-icon change-mode"></span>',{children:[r]}),{style:{color:t.backgroundColor,background:t.textColor,transform:"translateY(-8px)"},content:"Volledig scherm"});a.addEventListener("click",()=>this.toggleFullscreen()),this.appendControlsElements([a]),document.addEventListener("fullscreenchange",()=>{document.fullscreenElement?r.classList.replace("fa-expand","fa-compress"):r.classList.replace("fa-compress","fa-expand")})}async toggleFullscreen(){document.fullscreenElement?await document.exitFullscreen():await this.previewElement.requestFullscreen()}});var p=e=>(class extends e{constructor(e,t){super(e,t),document.addEventListener("keydown",e=>{switch(e.key){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next()}})}});var m=e=>(class extends e{goToItem(e){const{items:t}=this.album,r=t[t.indexOf(e)+1];r?Object(c.a)(r.url):Object(c.a)(t[0].url);const a=t[t.indexOf(e)+1];return a?Object(c.a)(a.url):Object(c.a)(t[t.length-1].url),super.goToItem(e)}});(async()=>{const e=document.querySelectorAll(".fotoalbum");for(const t of e){const{isLoggedIn:e,magAanpassen:a,root:o,fotos:s}=t.dataset,c=[u,l,p,m,d];if("true"===e){const e=await r.e(41).then(r.bind(null,290));c.push(e.default)}if("true"===a){const e=await r.e(40).then(r.bind(null,291));c.push(e.default)}t.appendChild(n.a.create(JSON.parse(s),{decorators:c,root:o,previewSize:i.a.contain,tooltipThumbnailsToggle:"Thumbnails weergeven",tooltipChangeSize:"Grootte veranderen",tooltipSeeAllItems:"Alle foto's weergeven",tooltipSeeOtherAlbums:"Andere albums weergeven",tooltipSlideShowPause:"Voorstelling pauzeren",tooltipSlideShowStart:"Voorstelling starten"}).getElement())}})()},3:function(e,t,r){"use strict";r.d(t,"b",(function(){return n}));const a=new class{constructor(){this.handlers=[]}addHandlers(e){for(const t of Object.keys(e))this.addHandler(t,e[t])}addHandler(e,t){this.handlers.push({selector:e,handler:t})}init(e){if(!e.querySelectorAll)throw new Error("Kan geen context initializeren op dit element: "+e);for(const{selector:t,handler:r}of this.handlers)if(""===t)r(e);else for(const a of Array.from(e.querySelectorAll(t)))r(a)}};t.a=a;const n=e=>a.init(e)},4:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var a=r(0),n=r.n(a),i=r(3),o=r(10),s=r(2);function l(e){if("string"!=typeof e)return;"<!DOCTYPE"===(e=n.a.trim(e)).substring(0,9)&&(alert("response error"),document.write(e));const t=Object(s.i)(e);n()(t).each((function(e,t){if(!(t instanceof Element))return;const r=n()(t),a=n()(t).attr("id"),s=n()(t).attr("parentid"),l=n()("#"+a),c=n()("#"+s);if(1===l.length)r.hasClass("remove")?l.effect("fade",{},400,()=>{l.remove()}):l.replaceWith(r.show().get()).effect("highlight");else if(1===c.length)c.append(r.show());else if(t instanceof HTMLScriptElement)n()("head").append(r);else{const e=n()(this).attr("parentid");e?n()(this).prependTo(`#${e}`).show().effect("highlight"):n()(this).prependTo("#maalcie-tabel tbody:visible:first").show().effect("highlight")}Object(i.b)(t),"modal"===a?Object(o.b)():Object(o.a)()}))}i.a.addHandler("div.bb-img-loading",e=>{const t=s.g`<img
													class="bb-img"
													alt="${e.getAttribute("title")}"
													style="${e.getAttribute("style")}"
													src="${e.getAttribute("src")}"/>`;t.onerror=()=>{e.setAttribute("title","Afbeelding bestaat niet of is niet toegankelijk!"),e.setAttribute("src","/plaetjes/famfamafm/picture_error.png"),e.style.width="16px",e.style.height="16px",e.classList.replace("bb-img-loading","bb-img")},Object(s.m)(e.getAttribute("src"),()=>{const r=t.getAttribute("src").indexOf("/plaetjes/fotoalbum/")>=0,a=n()(e).parent().parent().hasClass("bb-video-preview"),i=0!==n()(e).closest("a").length,o=e.parentElement;if(r||a||i)o.replaceChild(t,e);else{const r=null==e.getAttribute("bb-href")?e.getAttribute("src"):e.getAttribute("bb-href"),a=s.g`<a class="lightbox-link" href="${r}" data-lightbox="page-lightbox"></a>`;a.appendChild(t),o.replaceChild(a,e)}})})},45:function(e,t,r){"use strict";var a=r(18),n=r.n(a),i=r(2),o=r(14);t.a={default(e,t){if(null===e||"object"!=typeof e)return e;switch(t){case"sort":return e.sort;case"export":return e.export;default:return e.display}},bedrag:e=>Object(i.e)(e),check:e=>'<span class="ico '+(e?"tick":"cross")+'"></span>',aanmeldFilter:e=>e?`<span class="ico group_key" title="Aanmeld filter actief: '${e}'"></span>`:"",aanmeldingen:(e,t,r)=>r.aantal_aanmeldingen+" ("+r.aanmeld_limiet+")",totaalPrijs:(e,t,r)=>Object(i.e)(r.aantal_aanmeldingen*parseInt(r.prijs,10)),datetime:(e,t,r)=>Number(e)==e?n()(1e3*e).format("L LT"):e?"<time"===e.substr(0,5)?e:n()(e).format("L LT"):"",timeago(e,t,r,a){const n=Object(o.c)(a.settings).cell(a.row,a.col).node().firstChild;switch(t){case"sort":case"export":return n.dateTime;default:return e}},filesize(e,t){switch(t){case"sort":return Number(e);default:return Object(i.f)(e)}}}},81:function(e,t,r){var a={"./nl":43,"./nl.js":43};function n(e){var t=i(e);return r(t)}function i(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id=81},83:function(module,exports){!function($){$.fn.markItUp=function(settings,extraSettings){var method,params,options,selection,ctrlKey,shiftKey,altKey;ctrlKey=shiftKey=altKey=!1,"string"==typeof settings&&(method=settings,params=extraSettings),options={id:"",nameSpace:"",root:"",previewHandler:!1,previewInWindow:"",previewInElement:"",previewAutoRefresh:!0,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParser:!1,previewParserPath:"",previewParserVar:"data",resizeHandle:!0,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]},$.extend(options,settings,extraSettings),options.root||$("script").each((function(e,t){var r;null!==(r=$(t).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/))&&(options.root=r[1])}));var uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},matched=uaMatch(navigator.userAgent),browser={};return matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),this.each((function(){var $$,textarea,levels,scrollPosition,caretPosition,caretOffset,clicked,hash,header,footer,previewWindow,template,iFrame,abort;if($$=$(this),textarea=this,levels=[],abort=!1,scrollPosition=caretPosition=0,caretOffset=-1,options.previewParserPath=localize(options.previewParserPath),options.previewTemplatePath=localize(options.previewTemplatePath),method)switch(method){case"remove":remove();break;case"insert":markup(params);break;default:$.error("Method "+method+" does not exist on jQuery.markItUp")}else init();function localize(e,t){return t?e.replace(/("|')~\//g,"$1"+options.root):e.replace(/^~\//,options.root)}function init(){var e,t="",r="";options.id?t='id="'+options.id+'"':$$.attr("id")&&(t='id="markItUp'+$$.attr("id").substr(0,1).toUpperCase()+$$.attr("id").substr(1)+'"'),options.nameSpace&&(r='class="'+options.nameSpace+'"'),$$.wrap("<div "+r+"></div>"),$$.wrap("<div "+t+' class="markItUp"></div>'),$$.wrap('<div class="markItUpContainer"></div>'),$$.addClass("markItUpEditor"),header=$('<div class="markItUpHeader"></div>').insertBefore($$),$(dropMenus(options.markupSet)).appendTo(header),footer=$('<div class="markItUpFooter"></div>').insertAfter($$),!0===options.resizeHandle&&!0!==browser.safari&&(e=$('<div class="markItUpResizeHandle"></div>').insertAfter($$).bind("mousedown.markItUp",(function(e){var t,r,a=$$.height(),n=e.clientY;t=function(e){return $$.css("height",Math.max(20,e.clientY+a-n)+"px"),!1},r=function(e){return $("html").unbind("mousemove.markItUp",t).unbind("mouseup.markItUp",r),!1},$("html").bind("mousemove.markItUp",t).bind("mouseup.markItUp",r)})),footer.append(e)),$$.bind("keydown.markItUp",keyPressed).bind("keyup",keyPressed),$$.bind("insertion.markItUp",(function(e,t){!1!==t.target&&get(),textarea===$.markItUp.focused&&markup(t)})),$$.bind("focus.markItUp",(function(){$.markItUp.focused=this})),options.previewInElement&&refreshPreview()}function dropMenus(markupSet){var ul=$("<ul></ul>"),i=0,li;return $("li:hover > ul",ul).css("display","block"),$.each(markupSet,(function(){var button=this,t="",title,li,j;title=button.key?(button.name||"")+" [Ctrl+"+button.key+"]":button.name||"";var key=button.key?'accesskey="'+button.key+'"':"";if(button.separator)li=$('<li class="markItUpSeparator">'+(button.separator||"")+"</li>").appendTo(ul);else{for(i++,j=levels.length-1;j>=0;j--)t+=levels[j]+"-";li=$('<li class="markItUpButton markItUpButton'+t+i+" "+(button.className||"")+'"><a href="" '+key+' title="'+title+'">'+(button.name||"")+"</a></li>").bind("contextmenu.markItUp",(function(){return!1})).bind("click.markItUp",(function(e){e.preventDefault()})).bind("focusin.markItUp",(function(){$$.focus()})).bind("mouseup",(function(){return button.call&&eval(button.call)(),setTimeout((function(){markup(button)}),1),!1})).bind("mouseenter.markItUp",(function(){$("> ul",this).show(),$(document).one("click",(function(){$("ul ul",header).hide()}))})).bind("mouseleave.markItUp",(function(){$("> ul",this).hide()})).appendTo(ul),button.dropMenu&&(levels.push(i),$(li).addClass("markItUpDropMenu").append(dropMenus(button.dropMenu)))}})),levels.pop(),ul}function magicMarkups(e){return e?e=(e=(e=e.toString()).replace(/\(\!\(([\s\S]*?)\)\!\)/g,(function(e,t){var r=t.split("|!|");return!0===altKey?void 0!==r[1]?r[1]:r[0]:void 0===r[1]?"":r[0]}))).replace(/\[\!\[([\s\S]*?)\]\!\]/g,(function(e,t){var r=t.split(":!:");if(!0===abort)return!1;var a=prompt(r[0],r[1]?r[1]:"");return null===a&&(abort=!0),a})):""}function prepare(e){return $.isFunction(e)&&(e=e(hash)),magicMarkups(e)}function build(e){var t,r=prepare(clicked.openWith),a=prepare(clicked.placeHolder),n=prepare(clicked.replaceWith),i=prepare(clicked.closeWith),o=prepare(clicked.openBlockWith),s=prepare(clicked.closeBlockWith),l=clicked.multiline;if(""!==n)t=r+n+i;else if(""===selection&&""!==a)t=r+a+i;else{var c=[e=e||selection],d=[];!0===l&&(c=e.split(/\r?\n/));for(var u=0;u<c.length;u++){var p,m=c[u];(p=m.match(/ *$/))?d.push(r+m.replace(/ *$/g,"")+i+p):d.push(r+m+i)}t=d.join("\n")}return{block:t=o+t+s,openBlockWith:o,openWith:r,replaceWith:n,placeHolder:a,closeWith:i,closeBlockWith:s}}function markup(e){var t,r,a,n,i,o,s;if(hash=clicked=e,get(),$.extend(hash,{line:"",root:options.root,textarea:textarea,selection:selection||"",caretPosition:caretPosition,ctrlKey:ctrlKey,shiftKey:shiftKey,altKey:altKey}),prepare(options.beforeInsert),prepare(clicked.beforeInsert),(!0===ctrlKey&&!0===shiftKey||!0===e.multiline)&&prepare(clicked.beforeMultiInsert),$.extend(hash,{line:1}),!0===ctrlKey&&!0===shiftKey){for(r=0,a=(i=selection.split(/\r?\n/)).length,n=0;n<a;n++)""!==$.trim(i[n])?($.extend(hash,{line:++r,selection:i[n]}),i[n]=build(i[n]).block):i[n]="";o={block:i.join("\n")},s=caretPosition,t=o.block.length+(browser.opera?a-1:0)}else!0===ctrlKey?(o=build(selection),s=caretPosition+o.openWith.length,t=o.block.length-o.openWith.length-o.closeWith.length,t-=o.block.match(/ $/)?1:0,t-=fixIeBug(o.block)):!0===shiftKey?(o=build(selection),s=caretPosition,t=o.block.length,t-=fixIeBug(o.block)):(o=build(selection),s=caretPosition+o.block.length,t=0,s-=fixIeBug(o.block));""===selection&&""===o.replaceWith&&(caretOffset+=fixOperaBug(o.block),s=caretPosition+o.openBlockWith.length+o.openWith.length,t=o.block.length-o.openBlockWith.length-o.openWith.length-o.closeWith.length-o.closeBlockWith.length,caretOffset=$$.val().substring(caretPosition,$$.val().length).length,caretOffset-=fixOperaBug($$.val().substring(0,caretPosition))),$.extend(hash,{caretPosition:caretPosition,scrollPosition:scrollPosition}),o.block!==selection&&!1===abort?(insert(o.block),set(s,t)):caretOffset=-1,get(),$.extend(hash,{line:"",selection:selection}),(!0===ctrlKey&&!0===shiftKey||!0===e.multiline)&&prepare(clicked.afterMultiInsert),prepare(clicked.afterInsert),prepare(options.afterInsert),previewWindow&&options.previewAutoRefresh&&refreshPreview(),shiftKey=altKey=ctrlKey=abort=!1}function fixOperaBug(e){return browser.opera?e.length-e.replace(/\n*/g,"").length:0}function fixIeBug(e){return browser.msie?e.length-e.replace(/\r*/g,"").length:0}function insert(e){document.selection?document.selection.createRange().text=e:textarea.value=textarea.value.substring(0,caretPosition)+e+textarea.value.substring(caretPosition+selection.length,textarea.value.length)}function set(e,t){if(textarea.createTextRange){if(browser.opera&&browser.version>=9.5&&0==t)return!1;range=textarea.createTextRange(),range.collapse(!0),range.moveStart("character",e),range.moveEnd("character",t),range.select()}else textarea.setSelectionRange&&textarea.setSelectionRange(e,e+t);textarea.scrollTop=scrollPosition,textarea.focus()}function get(){if(textarea.focus(),scrollPosition=textarea.scrollTop,document.selection)if(selection=document.selection.createRange().text,browser.msie){var e=document.selection.createRange(),t=e.duplicate();for(t.moveToElementText(textarea),caretPosition=-1;t.inRange(e);)t.moveStart("character"),caretPosition++}else caretPosition=textarea.selectionStart;else caretPosition=textarea.selectionStart,selection=textarea.value.substring(caretPosition,textarea.selectionEnd);return selection}function preview(){"function"==typeof options.previewHandler?previewWindow=!0:options.previewInElement?previewWindow=$(options.previewInElement):!previewWindow||previewWindow.closed?options.previewInWindow?(previewWindow=window.open("","preview",options.previewInWindow),$(window).unload((function(){previewWindow.close()}))):(iFrame=$('<iframe class="markItUpPreviewFrame"></iframe>'),"after"==options.previewPosition?iFrame.insertAfter(footer):iFrame.insertBefore(header),previewWindow=iFrame[iFrame.length-1].contentWindow||frame[iFrame.length-1]):!0===altKey&&(iFrame?iFrame.remove():previewWindow.close(),previewWindow=iFrame=!1),options.previewAutoRefresh||refreshPreview(),options.previewInWindow&&previewWindow.focus()}function refreshPreview(){renderPreview()}function renderPreview(){if(options.previewHandler&&"function"==typeof options.previewHandler)options.previewHandler($$.val());else if(options.previewParser&&"function"==typeof options.previewParser){writeInPreview(localize(options.previewParser($$.val()),1))}else""!==options.previewParserPath?$.ajax({type:"POST",dataType:"text",global:!1,url:options.previewParserPath,data:options.previewParserVar+"="+encodeURIComponent($$.val()),success:function(e){writeInPreview(localize(e,1))}}):template||$.ajax({url:options.previewTemplatePath,dataType:"text",global:!1,success:function(e){writeInPreview(localize(e,1).replace(/<!-- content -->/g,$$.val()))}});return!1}function writeInPreview(e){if(options.previewInElement)$(options.previewInElement).html(e);else if(previewWindow&&previewWindow.document){try{sp=previewWindow.document.documentElement.scrollTop}catch(e){sp=0}previewWindow.document.open(),previewWindow.document.write(e),previewWindow.document.close(),previewWindow.document.documentElement.scrollTop=sp}}function keyPressed(e){if(shiftKey=e.shiftKey,altKey=e.altKey,ctrlKey=(!e.altKey||!e.ctrlKey)&&(e.ctrlKey||e.metaKey),"keydown"===e.type){if(!0===ctrlKey&&(li=$('a[accesskey="'+(13==e.keyCode?"\\n":String.fromCharCode(e.keyCode))+'"]',header).parent("li"),0!==li.length))return ctrlKey=!1,setTimeout((function(){li.triggerHandler("mouseup")}),1),!1;if(13===e.keyCode||10===e.keyCode)return!0===ctrlKey?(ctrlKey=!1,markup(options.onCtrlEnter),options.onCtrlEnter.keepDefault):!0===shiftKey?(shiftKey=!1,markup(options.onShiftEnter),options.onShiftEnter.keepDefault):(markup(options.onEnter),options.onEnter.keepDefault);if(9===e.keyCode)return 1!=shiftKey&&1!=ctrlKey&&1!=altKey&&(-1!==caretOffset?(get(),set(caretOffset=$$.val().length-caretOffset,0),caretOffset=-1,!1):(markup(options.onTab),options.onTab.keepDefault))}}function remove(){$$.unbind(".markItUp").removeClass("markItUpEditor"),$$.parent("div").parent("div.markItUp").parent("div").replaceWith($$),$$.data("markItUp",null)}}))},$.fn.markItUpRemove=function(){return this.each((function(){$(this).markItUp("remove")}))},$.markItUp=function(e){var t={target:!1};if($.extend(t,e),t.target)return $(t.target).each((function(){$(this).focus(),$(this).trigger("insertion",[t])}));$("textarea").trigger("insertion",[t])}}(jQuery)},86:function(e,t,r){"use strict";var a=r(8),n=r.n(a),i=r(3);const{Textcomplete:o,Textarea:s}=r(72);function l(e,t){e&&1!==e.length?$.ajax("/tools/naamsuggesties?vorm=user&zoekin=voorkeur&q="+encodeURI(e)).done(e=>{t(e)}).fail(()=>{t([])}):t([])}function c(e,t){return e.value}i.a.addHandler("textarea.BBCodeField",(function(e){const t=new s(e),r=new o(t);r.register([{match:/(^|\s|])@((?:[^ ]+ ?){1,5})$/,replace:e=>"$1[lid="+e.label+"]",search:l,template:c},{index:3,match:/(^|\s|])\[(citaat|lid)=(?:[0-9]{4}|([^\]]+))$/,search:l,template:c,replace:e=>"$1[$2="+e.label}]),r.on("rendered",()=>{r.dropdown.items.length>=1&&r.dropdown.items[0].activate()})})),i.a.addHandler("[data-bbpreview-btn]",e=>{const t=e.dataset.bbpreviewBtn,r=document.querySelector("#"+t),a=document.querySelector("#preview_"+t);if(!r||!a)throw new Error("Bbpreview van niet bestaande elementen");e.addEventListener("click",()=>d(r,a))}),i.a.addHandler("[data-bbpreview]",e=>{const t=e.dataset.bbpreview,r=document.querySelector("#preview_"+t);if(!r)throw new Error("Geen target gevonden voor bbpreview");e.addEventListener("keyup",t=>{"Enter"===t.key&&d(e,r)})});const d=(e,t,r={})=>{const a=e.value;if(""===a.trim())return t.innerHTML="",void(t.style.display="none");n.a.post("/tools/bbcode",Object.assign({data:encodeURIComponent(a)},r)).then(e=>{t.innerHTML=e.data,Object(i.b)(t),t.style.display="block"}).catch(e=>{alert(e)})}}}]);
//# sourceMappingURL=33.7d8904a06423ed018243.js.map