(self.webpackChunk=self.webpackChunk||[]).push([[7704],{7704:(e,t,n)=>{"use strict";n.r(t);var a=n(4013),o=n(1313),r=n(5861),i=n(5774),s=n(7370),d=n(8038),l=n(1339),c=n.n(l),m=n(400),v=n.n(m),g=n(3950),u=n(6141),w=n(1111),h=n(9203),b=n(8742);(0,h.o0)((()=>{const e=e=>v()(e).format("YYYY-MM-DD HH:mm:ss"),t=document.getElementById("agenda");if(null==t)throw new Error("Agenda element niet gevonden");const{jaar:n,maand:l,weergave:m,creator:f}=t.dataset;if(null==n||null==l||null==m||null==f)throw new Error("Agenda opties niet gezet");const k={maand:"dayGridMonth",week:"timeGridWeek",dag:"timeGridDay",agenda:"listMonth"}[m];let p=!1;const y={plugins:[r.ZP,d.ZP,s.Z,i.ZP],height:"auto",nowIndicator:!0,initialView:k,locale:o.Z,customButtons:{nieuw:{text:"Nieuw",click:()=>{const t=e(E.getDate());(0,u.V)("POST","/agenda/toevoegen",{begin_moment:t,eind_moment:t},null,w.q)}},bewerken:{text:"Bewerken",click(){p=!p,E.setOption("editable",p),E.setOption("selectable",p),E.refetchEvents(),setTimeout((()=>{const e=t.querySelector(".fc-bewerken-button");if(!e)throw new Error("Geen bewerken knop gevonden");e.classList.toggle("fc-button-active",p)}))}}},eventDataTransform:e=>(!0===e.editable&&(e.editable=p),e),headerToolbar:{left:"dayGridMonth,timeGridWeek,timeGridDay,listMonth",center:"title",right:"today prevYear,prev,next,nextYear"},initialDate:new Date(Number(n),Number(l)-1),firstDay:0,events:"/agenda/feed",selectable:p&&"true"===f,select:t=>{(0,u.V)("POST","/agenda/toevoegen",{begin_moment:e(t.start),eind_moment:e(t.end)},null,w.q)},eventClick:e=>{const t=e.event.start;t&&c().get(`/agenda/details/${e.event.id}?jaar=${t.getFullYear()}`).then((t=>{const n=(0,h.QA)(t.data)[0];n.style.zIndex="100",n.style.position="absolute";const a=n.querySelector(".close");a&&a.addEventListener("click",(()=>(n.remove(),!1))),document.body.append(n),g.Z.init(n),(0,b.fi)(e.el,n,{placement:"bottom"}),setTimeout((()=>{const e=t=>{n.contains(t.target)||(n.remove(),document.body.removeEventListener("click",e))};document.body.addEventListener("click",e)}))}))},eventDrop:async t=>{const n=t.event.start,a=t.event.end;if(!n||!a)throw new Error("Drop heeft geen start of end");await c().post(`/agenda/verplaatsen/${t.event.id}`,{begin_moment:e(n),eind_moment:e(a)}),E.refetchEvents()},eventResize:async t=>{const n=t.event.start,a=t.event.end;if(!n||!a)throw new Error("Resize heeft geen start of end");await c().post(`/agenda/verplaatsen/${t.event.id}`,{begin_moment:e(n),eind_moment:e(a)}),E.refetchEvents()}};if(g.Z.addHandler(".ReloadAgenda",(e=>e.addEventListener("click",(()=>setTimeout((()=>E.refetchEvents())))))),"true"===f){const e=y.headerToolbar;e.right="bewerken,nieuw "+e.right}const E=new a.faS(t,y);E.render(),document.addEventListener("modalClose",(()=>E.refetchEvents()))}))}}]);
//# sourceMappingURL=7704.4fa4c5787ba5b616f34d.chunk.js.map