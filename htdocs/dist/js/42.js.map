{"version":3,"sources":["webpack:///./js/lib/jquery.markitup.js","webpack:///./js/modal.js","webpack:///./js/ajax.js","webpack:///./js/util.js","webpack:///./js/extern-defer.js","webpack:///./js/datatable-api.js","webpack:///./js/maalcie.js","webpack:///./js/formulier.js","webpack:///./js/context.js","webpack:///./js/knop.js","webpack:///./js/dragobject.ts","webpack:///./js/bbcode-set.js","webpack:///./js/bbcode.js"],"names":["$","fn","markItUp","settings","extraSettings","method","params","options","selection","ctrlKey","shiftKey","altKey","id","nameSpace","root","previewHandler","previewInWindow","previewInElement","previewAutoRefresh","previewPosition","previewTemplatePath","previewParser","previewParserPath","previewParserVar","resizeHandle","beforeInsert","afterInsert","onEnter","onShiftEnter","onCtrlEnter","onTab","markupSet","extend","each","a","tag","miuScript","get","src","match","uaMatch","ua","toLowerCase","exec","indexOf","browser","version","matched","navigator","userAgent","chrome","webkit","safari","this","$$","textarea","levels","scrollPosition","caretPosition","caretOffset","clicked","hash","header","footer","previewWindow","template","iFrame","abort","localize","remove","markup","error","init","data","inText","replace","attr","substr","toUpperCase","wrap","addClass","insertBefore","dropMenus","appendTo","insertAfter","bind","e","mouseMove","mouseUp","h","height","y","clientY","css","Math","max","unbind","append","keyPressed","target","focused","refreshPreview","ul","i","li","button","t","title","j","key","name","separator","length","className","preventDefault","focus","call","eval","setTimeout","show","document","one","hide","dropMenu","push","pop","magicMarkups","string","toString","x","b","split","undefined","value","prompt","prepare","action","isFunction","build","block","openWith","placeHolder","replaceWith","closeWith","openBlockWith","closeBlockWith","multiline","lines","blocks","l","trailingSpaces","line","join","len","n","start","beforeMultiInsert","trim","opera","fixIeBug","fixOperaBug","val","substring","insert","set","afterMultiInsert","msie","createRange","text","createTextRange","range","collapse","moveStart","moveEnd","select","setSelectionRange","scrollTop","rangeCopy","duplicate","moveToElementText","inRange","selectionStart","selectionEnd","preview","closed","window","open","unload","close","contentWindow","frame","renderPreview","writeInPreview","ajax","type","dataType","global","url","encodeURIComponent","success","html","sp","documentElement","write","metaKey","keyCode","String","fromCharCode","parent","triggerHandler","keepDefault","removeClass","markItUpRemove","trigger","jQuery","modalOpen","htmlString","arguments","_jquery2","default","hasClass","confirm","modal","modalBackdrop","body","find","modalClose","__webpack_require__","ajaxRequest","source","onsuccess","onerror","onfinish","background-image","background-repeat","background-position","contentType","processData","FormData","cache","done","fail","textStatus","errorThrown","_modal","responseText","always","ketzerAjax","ketzer","jqXHR","alert","randomIntFromInterval","min","floor","random","selectText","elmnt","getSelection","selectNodeContents","removeAllRanges","addRange","dirname","path","basename","suffix","base","lastChar","charAt","slice","reload","_context","domUpdate","location","redirect","href","route","cb","pathname","startsWith","_bbcode","widget","bridge","ui","tooltip","bbcode","CsrBBPreview","bbvideoDisplay","$window","$body","$header","$banner","on","content","createElement","foto","video","hasAnchor","closest","lazyLoad","hasLoaded","textContent","pageYOffset","outerHeight","_context2","fnUpdateDataTable","tableId","response","table","DataTable","forEach","row","$tr","UUID","add","draw","fnGetSelection","takenToggleDatum","datum","takenToggleDatumFirst","toggle","takenColorDatum","takenShowOld","takenColorSuggesties","takenToggleSuggestie","soort","verborgen","toggleClass","takenSelectRange","withinRange","thisId","lastSelectedId","check","prop","takenSubmitRange","tagName","_ajax","_dragobject","index","eq","$suggestiesTabel","takenMagRuilen","dragObject","el","takenRuilen","formIsChanged","formInlineToggle","formToggle","event","next","formReset","formSubmit","q","form","formData","getElementById","_datatableApi","_typeof","off","formCancel","_util","changed","not","is","prev","children","orig","initHoverIntents","initContext","parseHTML","effect","parentid","prependTo","_knop","_formulier","_bbcodeSet","hoverIntent","over","fadeIn","out","fadeOut","timeout","knopPost","knopGet","knopVergroot","initButtons","submit","initForms","timeago","strings","prefiprefixAgo","prefixFromNow","suffixAgo","suffixFromNow","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","wordSeparator","numbers","initTimeago","bbCodeSet","initMarkitup","uitooltip","track","initTooltips","initLazyImages","radioButtonGroep","Vue","initVue","container","knopAjax","_maalcie","knop","oud","animate","removeAttr","tekst","link","DataTableId","DataTableSelection[]","jquery__WEBPACK_IMPORTED_MODULE_0___default","dragged","oldX","oldY","docScrollLeft","scrollLeft","docScrollTop","mouseX","pageX","clientX","mouseY","pageY","mouseMoveHandler","instance","newX","newY","offset","left","top","addEventListener","Element","overflow","removeEventListener","post","coords","markitup","decodeURIComponent","pos","sourceId","targetId","elem","$previewdiv","iframe","width"],"mappings":"yHA0BA,SAAUA,GACTA,EAAEC,GAAGC,SAAW,SAASC,SAAUC,eAClC,IAAIC,OAAQC,OAAQC,QAASC,UAAWC,QAASC,SAAUC,OAAQF,QAAUC,SAAWC,QAAS,EAE1E,iBAAZR,WACVE,OAASF,SACTG,OAASF,eAGVG,SAAYK,GAAS,GAClBC,UAAc,GACdC,KAAU,GACVC,gBAAkB,EAClBC,gBAAkB,GAClBC,iBAAmB,GACnBC,oBAAqB,EACrBC,gBAAkB,QAClBC,oBAAqB,2BACrBC,eAAiB,EACjBC,kBAAoB,GACpBC,iBAAmB,OACnBC,cAAgB,EAChBC,aAAgB,GAChBC,YAAe,GACfC,WACAC,gBACAC,eACAC,SACAC,gBAEH/B,EAAEgC,OAAOzB,QAASJ,SAAUC,eAGvBG,QAAQO,MACZd,EAAE,UAAUiC,KAAK,SAASC,EAAGC,GAC5B,IAAIC,EAEc,QADlBA,EAAYpC,EAAEmC,GAAKE,IAAI,GAAGC,IAAIC,MAAM,yCAEnChC,QAAQO,KAAOsB,EAAU,MAM5B,IAAII,QAAU,SAASC,GACtBA,EAAKA,EAAGC,cAER,IAAIH,EAAQ,wBAAwBI,KAAKF,IACxC,wBAAwBE,KAAKF,IAC7B,qCAAqCE,KAAKF,IAC1C,kBAAkBE,KAAKF,IACvBA,EAAGG,QAAQ,cAAgB,GAAK,gCAAgCD,KAAKF,OAGtE,OACCI,QAASN,EAAO,IAAO,GACvBO,QAASP,EAAO,IAAO,MAGrBQ,QAAUP,QAASQ,UAAUC,WAC7BJ,WAYJ,OAVIE,QAAQF,UACXA,QAAQE,QAAQF,UAAW,EAC3BA,QAAQC,QAAUC,QAAQD,SAEvBD,QAAQK,OACXL,QAAQM,QAAS,EACPN,QAAQM,SAClBN,QAAQO,QAAS,GAGXC,KAAKpB,KAAK,WAChB,IAAIqB,GAAIC,SAAUC,OAAQC,eAAgBC,cAAeC,YACxDC,QAASC,KAAMC,OAAQC,OAAQC,cAAeC,SAAUC,OAAQC,MAWjE,GAVAb,GAAKtD,EAAEqD,MACPE,SAAWF,KACXG,UACAW,OAAQ,EACRV,eAAiBC,cAAgB,EACjCC,aAAe,EAEfpD,QAAQe,kBAAoB8C,SAAS7D,QAAQe,mBAC7Cf,QAAQa,oBAAsBgD,SAAS7D,QAAQa,qBAE3Cf,OACH,OAAOA,QACN,IAAK,SACJgE,SACD,MACA,IAAK,SACJC,OAAOhE,QACR,MACA,QACCN,EAAEuE,MAAM,UAAalE,OAAS,2CA2gBjCmE,OArgBA,SAASJ,SAASK,EAAMC,GACvB,OAAIA,EACKD,EAAKE,QAAQ,YAAa,KAAKpE,QAAQO,MAExC2D,EAAKE,QAAQ,OAAQpE,QAAQO,MAItC,SAAS0D,OACR,IAA6BhD,EAAzBZ,EAAK,GAAIC,EAAY,GACrBN,QAAQK,GACXA,EAAK,OAAOL,QAAQK,GAAG,IACb0C,GAAGsB,KAAK,QAClBhE,EAAK,eAAgB0C,GAAGsB,KAAK,MAAMC,OAAO,EAAG,GAAGC,cAAgBxB,GAAGsB,KAAK,MAAMC,OAAO,GAAI,KAGtFtE,QAAQM,YACXA,EAAY,UAAUN,QAAQM,UAAU,KAEzCyC,GAAGyB,KAAK,QAAQlE,EAAU,WAC1ByC,GAAGyB,KAAK,QAAQnE,EAAG,4BACnB0C,GAAGyB,KAAK,yCACRzB,GAAG0B,SAAS,kBAGZlB,OAAS9D,EAAE,sCAAsCiF,aAAa3B,IAC9DtD,EAAEkF,UAAU3E,QAAQwB,YAAYoD,SAASrB,QAGzCC,OAAS/D,EAAE,sCAAsCoF,YAAY9B,KAGhC,IAAzB/C,QAAQiB,eAA4C,IAAnBqB,QAAQO,SAC5C5B,EAAexB,EAAE,4CACfoF,YAAY9B,IACZ+B,KAAK,qBAAsB,SAASC,GACpC,IAAoCC,EAAWC,EAA3CC,EAAInC,GAAGoC,SAAUC,EAAIL,EAAEM,QAC3BL,EAAY,SAASD,GAEpB,OADAhC,GAAGuC,IAAI,SAAUC,KAAKC,IAAI,GAAIT,EAAEM,QAAQH,EAAEE,GAAG,OACtC,GAERH,EAAU,SAASF,GAElB,OADAtF,EAAE,QAAQgG,OAAO,qBAAsBT,GAAWS,OAAO,mBAAoBR,IACtE,GAERxF,EAAE,QAAQqF,KAAK,qBAAsBE,GAAWF,KAAK,mBAAoBG,KAE3EzB,OAAOkC,OAAOzE,IAIf8B,GAAG+B,KAAK,mBAAoBa,YAAYb,KAAK,QAASa,YAGtD5C,GAAG+B,KAAK,qBAAsB,SAASC,EAAGnF,IACjB,IAApBA,EAASgG,QACZ9D,MAEGkB,WAAavD,EAAEE,SAASkG,SAC3B9B,OAAOnE,KAKTmD,GAAG+B,KAAK,iBAAkB,WACzBrF,EAAEE,SAASkG,QAAU/C,OAGlB9C,QAAQU,kBACXoF,iBAKF,SAASnB,UAAUnD,WAClB,IAAIuE,GAAKtG,EAAE,aAAcuG,EAAI,EAAGC,GA0ChC,OAzCAxG,EAAE,gBAAiBsG,IAAIT,IAAI,UAAW,SACtC7F,EAAEiC,KAAKF,UAAW,WACjB,IAAI0E,OAASpD,KAAMqD,EAAI,GAAIC,MAAOH,GAAII,EACtCD,MAASF,OAAOI,KAAQJ,OAAOK,MAAM,IAAI,UAAUL,OAAOI,IAAI,IAAOJ,OAAOK,MAAM,GAClF,IAAID,IAASJ,OAAOI,IAAO,cAAcJ,OAAOI,IAAI,IAAM,GAC1D,GAAIJ,OAAOM,UACVP,GAAKxG,EAAE,kCAAkCyG,OAAOM,WAAW,IAAI,SAAS5B,SAASmB,QAC3E,CAEN,IADAC,IACKK,EAAIpD,OAAOwD,OAAQ,EAAGJ,GAAK,EAAGA,IAClCF,GAAKlD,OAAOoD,GAAG,IAEhBJ,GAAKxG,EAAE,2CAA2C0G,EAAGH,EAAG,KAAKE,OAAOQ,WAAW,IAAI,gBAAgBJ,IAAI,WAAWF,MAAM,MAAMF,OAAOK,MAAM,IAAI,aAC9IzB,KAAK,uBAAwB,WAC7B,OAAO,IACLA,KAAK,iBAAkB,SAASC,GAClCA,EAAE4B,mBACA7B,KAAK,mBAAoB,WACN/B,GAAG6D,UACtB9B,KAAK,UAAW,WAKlB,OAJIoB,OAAOW,MACVC,KAAKZ,OAAOW,KAAZC,GAEDC,WAAW,WAAahD,OAAOmC,SAAU,IAClC,IACLpB,KAAK,sBAAuB,WAC7BrF,EAAE,OAAQqD,MAAMkE,OAChBvH,EAAEwH,UAAUC,IAAI,QAAS,WACvBzH,EAAE,QAAS8D,QAAQ4D,WAGpBrC,KAAK,sBAAuB,WAC7BrF,EAAE,OAAQqD,MAAMqE,SACfvC,SAASmB,IACRG,OAAOkB,WACVnE,OAAOoE,KAAKrB,GACZvG,EAAEwG,IAAIxB,SAAS,oBAAoBiB,OAAOf,UAAUuB,OAAOkB,eAI9DnE,OAAOqE,MACAvB,GAIR,SAASwB,aAAaC,GACrB,OAAIA,EAaHA,GAXAA,GADAA,EAASA,EAAOC,YACArD,QAAQ,0BACvB,SAASsD,EAAG/F,GACX,IAAIgG,EAAIhG,EAAEiG,MAAM,OAChB,OAAe,IAAXxH,YACcyH,IAATF,EAAE,GAAoBA,EAAE,GAAKA,EAAE,QAEtBE,IAATF,EAAE,GAAoB,GAAKA,EAAE,MAKxBvD,QAAQ,0BACvB,SAASsD,EAAG/F,GACX,IAAIgG,EAAIhG,EAAEiG,MAAM,OAChB,IAAc,IAAVhE,MACH,OAAO,EAER,IAAIkE,EAAQC,OAAOJ,EAAE,GAAKA,EAAE,GAAMA,EAAE,GAAK,IAIzC,OAHc,OAAVG,IACHlE,OAAQ,GAEFkE,IAKH,GAIR,SAASE,QAAQC,GAIhB,OAHIxI,EAAEyI,WAAWD,KAChBA,EAASA,EAAO3E,OAEViE,aAAaU,GAIrB,SAASE,MAAMX,GACd,IAOIY,EAPAC,EAAcL,QAAQ3E,QAAQgF,UAC9BC,EAAgBN,QAAQ3E,QAAQiF,aAChCC,EAAgBP,QAAQ3E,QAAQkF,aAChCC,EAAeR,QAAQ3E,QAAQmF,WAC/BC,EAAkBT,QAAQ3E,QAAQoF,eAClCC,EAAmBV,QAAQ3E,QAAQqF,gBACnCC,EAAetF,QAAQsF,UAG3B,GAAoB,KAAhBJ,EACHH,EAAQC,EAAWE,EAAcC,OAC3B,GAAkB,KAAdvI,WAAoC,KAAhBqI,EAC9BF,EAAQC,EAAWC,EAAcE,MAC3B,CAGN,IAAII,GAFJpB,EAASA,GAAUvH,WAEG4I,MAEJ,IAAdF,IACHC,EAAQpB,EAAOI,MAAM,UAGtB,IAAK,IAAIkB,EAAI,EAAGA,EAAIF,EAAMnC,OAAQqC,IAAK,CACtC,IACIC,EADAC,EAAOJ,EAAME,IAEbC,EAAiBC,EAAKhH,MAAM,QAC/B6G,EAAOxB,KAAKgB,EAAWW,EAAK5E,QAAQ,OAAQ,IAAMoE,EAAYO,GAE9DF,EAAOxB,KAAKgB,EAAWW,EAAOR,GAIhCJ,EAAQS,EAAOI,KAAK,MAKrB,OAASb,MAFTA,EAAQK,EAAgBL,EAAQM,EAG7BD,cAAcA,EACdJ,SAASA,EACTE,YAAYA,EACZD,YAAYA,EACZE,UAAUA,EACVE,eAAeA,GAKnB,SAAS3E,OAAOmC,GACf,IAAIgD,EAAK7C,EAAG8C,EAAGnD,EAAG4C,EAAOpB,EAAQ4B,EAqBjC,GApBA9F,KAAOD,QAAU6C,EACjBpE,MACArC,EAAEgC,OAAO6B,MAAQ0F,KAAK,GAChBzI,KAAKP,QAAQO,KACdyC,SAASA,SACT/C,UAAWA,WAAW,GACtBkD,cAAcA,cACdjD,QAAQA,QACRC,SAASA,SACTC,OAAOA,SAIZ4H,QAAQhI,QAAQkB,cAChB8G,QAAQ3E,QAAQnC,gBACC,IAAZhB,UAAiC,IAAbC,WAA2C,IAArB+F,EAAOyC,YACrDX,QAAQ3E,QAAQgG,mBAEjB5J,EAAEgC,OAAO6B,MAAQ0F,KAAK,KAEL,IAAZ9I,UAAiC,IAAbC,SAAoB,CAE5C,IAAKkG,EAAI,EAAG8C,GADZP,EAAQ3I,UAAU2H,MAAM,UACFnB,OAAQT,EAAI,EAAGA,EAAImD,EAAGnD,IAClB,KAArBvG,EAAE6J,KAAKV,EAAM5C,KAChBvG,EAAEgC,OAAO6B,MAAQ0F,OAAO3C,EAAGpG,UAAU2I,EAAM5C,KAC3C4C,EAAM5C,GAAKmC,MAAMS,EAAM5C,IAAIoC,OAE3BQ,EAAM5C,GAAK,GAIbwB,GAAWY,MAAMQ,EAAMK,KAAK,OAC5BG,EAAQjG,cACR+F,EAAM1B,EAAOY,MAAM3B,QAAWnE,QAAQiH,MAASJ,EAAE,EAAI,QAC/B,IAAZjJ,SACVsH,EAASW,MAAMlI,WACfmJ,EAAQjG,cAAgBqE,EAAOa,SAAS5B,OACxCyC,EAAM1B,EAAOY,MAAM3B,OAASe,EAAOa,SAAS5B,OAASe,EAAOgB,UAAU/B,OACtEyC,GAAa1B,EAAOY,MAAMpG,MAAM,MAAQ,EAAI,EAC5CkH,GAAOM,SAAShC,EAAOY,SACA,IAAbjI,UACVqH,EAASW,MAAMlI,WACfmJ,EAAQjG,cACR+F,EAAM1B,EAAOY,MAAM3B,OACnByC,GAAOM,SAAShC,EAAOY,SAEvBZ,EAASW,MAAMlI,WACfmJ,EAAQjG,cAAgBqE,EAAOY,MAAM3B,OACrCyC,EAAM,EACNE,GAASI,SAAShC,EAAOY,QAEP,KAAdnI,WAA2C,KAAvBuH,EAAOe,cAC/BnF,aAAeqG,YAAYjC,EAAOY,OAElCgB,EAAQjG,cAAgBqE,EAAOiB,cAAchC,OAASe,EAAOa,SAAS5B,OACtEyC,EAAM1B,EAAOY,MAAM3B,OAASe,EAAOiB,cAAchC,OAASe,EAAOa,SAAS5B,OAASe,EAAOgB,UAAU/B,OAASe,EAAOkB,eAAejC,OAEnIrD,YAAcL,GAAG2G,MAAMC,UAAUxG,cAAgBJ,GAAG2G,MAAMjD,QAAQA,OAClErD,aAAeqG,YAAY1G,GAAG2G,MAAMC,UAAU,EAAGxG,iBAElD1D,EAAEgC,OAAO6B,MAAQH,cAAcA,cAAeD,eAAeA,iBAEzDsE,EAAOY,QAAUnI,YAAuB,IAAV2D,OACjCgG,OAAOpC,EAAOY,OACdyB,IAAIT,EAAOF,IAEX9F,aAAe,EAEhBtB,MAEArC,EAAEgC,OAAO6B,MAAQ0F,KAAK,GAAI/I,UAAUA,cAGnB,IAAZC,UAAiC,IAAbC,WAA2C,IAArB+F,EAAOyC,YACrDX,QAAQ3E,QAAQyG,kBAEjB9B,QAAQ3E,QAAQlC,aAChB6G,QAAQhI,QAAQmB,aAGZsC,eAAiBzD,QAAQW,oBAC5BmF,iBAID3F,SAAWC,OAASF,QAAU0D,OAAQ,EAIvC,SAAS6F,YAAYjC,GACpB,OAAIlF,QAAQiH,MACJ/B,EAAOf,OAASe,EAAOpD,QAAQ,OAAQ,IAAIqC,OAE5C,EAGR,SAAS+C,SAAShC,GACjB,OAAIlF,QAAQyH,KACJvC,EAAOf,OAASe,EAAOpD,QAAQ,OAAQ,IAAIqC,OAE5C,EAIR,SAASmD,OAAOxB,GACXnB,SAAShH,UACOgH,SAAShH,UAAU+J,cACzBC,KAAO7B,EAEpBpF,SAAS8E,MAAS9E,SAAS8E,MAAM6B,UAAU,EAAGxG,eAAkBiF,EAAQpF,SAAS8E,MAAM6B,UAAUxG,cAAgBlD,UAAUwG,OAAQzD,SAAS8E,MAAMrB,QAKpJ,SAASoD,IAAIT,EAAOF,GACnB,GAAIlG,SAASkH,gBAAgB,CAE5B,GAAI5H,QAAQiH,OAASjH,QAAQC,SAAW,KAAc,GAAP2G,EAC9C,OAAO,EAERiB,MAAQnH,SAASkH,kBACjBC,MAAMC,UAAS,GACfD,MAAME,UAAU,YAAajB,GAC7Be,MAAMG,QAAQ,YAAapB,GAC3BiB,MAAMI,cACIvH,SAASwH,mBACnBxH,SAASwH,kBAAkBpB,EAAOA,EAAQF,GAE3ClG,SAASyH,UAAYvH,eACrBF,SAAS4D,QAIV,SAAS9E,MAIR,GAHAkB,SAAS4D,QAET1D,eAAiBF,SAASyH,UACtBxD,SAAShH,UAEZ,GADAA,UAAYgH,SAAShH,UAAU+J,cAAcC,KACzC3H,QAAQyH,KAAM,CACjB,IAAII,EAAQlD,SAAShH,UAAU+J,cAAeU,EAAYP,EAAMQ,YAGhE,IAFAD,EAAUE,kBAAkB5H,UAC5BG,eAAiB,EACXuH,EAAUG,QAAQV,IACvBO,EAAUL,UAAU,aACpBlH,qBAGDA,cAAgBH,SAAS8H,oBAG1B3H,cAAgBH,SAAS8H,eAEzB7K,UAAY+C,SAAS8E,MAAM6B,UAAUxG,cAAeH,SAAS+H,cAE9D,OAAO9K,UAIR,SAAS+K,UAC8B,mBAA3BhL,QAAQQ,eAClBiD,eAAgB,EACNzD,QAAQU,iBAClB+C,cAAgBhE,EAAEO,QAAQU,mBACf+C,eAAiBA,cAAcwH,OACtCjL,QAAQS,iBACXgD,cAAgByH,OAAOC,KAAK,GAAI,UAAWnL,QAAQS,iBACnDhB,EAAEyL,QAAQE,OAAO,WAChB3H,cAAc4H,YAGf1H,OAASlE,EAAE,kDACoB,SAA3BO,QAAQY,gBACX+C,OAAOkB,YAAYrB,QAEnBG,OAAOe,aAAanB,QAErBE,cAAgBE,OAAOA,OAAO8C,OAAS,GAAG6E,eAAiBC,MAAM5H,OAAO8C,OAAS,KAE7D,IAAXrG,SACNuD,OACHA,OAAOG,SAEPL,cAAc4H,QAEf5H,cAAgBE,QAAS,GAErB3D,QAAQW,oBACZmF,iBAEG9F,QAAQS,iBACXgD,cAAcmD,QAKhB,SAASd,iBACP0F,gBAGF,SAASA,gBAER,GAAIxL,QAAQQ,gBAAoD,mBAA3BR,QAAQQ,eAC5CR,QAAQQ,eAAgBuC,GAAG2G,YACrB,GAAI1J,QAAQc,eAAkD,mBAA1Bd,QAAQc,cAA8B,CAEhF2K,eAAe5H,SADJ7D,QAAQc,cAAeiC,GAAG2G,OACP,QACU,KAA9B1J,QAAQe,kBAClBtB,EAAEiM,MACDC,KAAM,OACNC,SAAU,OACVC,QAAQ,EACRC,IAAK9L,QAAQe,kBACbmD,KAAMlE,QAAQgB,iBAAiB,IAAI+K,mBAAmBhJ,GAAG2G,OACzDsC,QAAS,SAAS9H,GACjBuH,eAAgB5H,SAASK,EAAM,OAI5BR,UACJjE,EAAEiM,MACDI,IAAK9L,QAAQa,oBACb+K,SAAU,OACVC,QAAQ,EACRG,QAAS,SAAS9H,GACjBuH,eAAgB5H,SAASK,EAAM,GAAGE,QAAQ,oBAAqBrB,GAAG2G,WAKtE,OAAO,EAGR,SAAS+B,eAAevH,GACvB,GAAIlE,QAAQU,iBACXjB,EAAEO,QAAQU,kBAAkBuL,KAAK/H,QAC3B,GAAIT,eAAiBA,cAAcwD,SAAU,CACnD,IACCiF,GAAKzI,cAAcwD,SAASkF,gBAAgB1B,UAC3C,MAAM1F,GACPmH,GAAK,EAENzI,cAAcwD,SAASkE,OACvB1H,cAAcwD,SAASmF,MAAMlI,GAC7BT,cAAcwD,SAASoE,QACvB5H,cAAcwD,SAASkF,gBAAgB1B,UAAYyB,IAKrD,SAASvG,WAAWZ,GAKnB,GAJA5E,SAAW4E,EAAE5E,SACbC,OAAS2E,EAAE3E,OACXF,UAAa6E,EAAE3E,SAAU2E,EAAE7E,WAAa6E,EAAE7E,SAAW6E,EAAEsH,SAExC,YAAXtH,EAAE4G,KAAoB,CACzB,IAAgB,IAAZzL,UACH+F,GAAKxG,EAAE,iBAA+B,IAAbsF,EAAEuH,QAAiB,MAAQC,OAAOC,aAAazH,EAAEuH,UAAU,KAAM/I,QAAQkJ,OAAO,MACvF,IAAdxG,GAAGQ,QAKN,OAJAvG,SAAU,EACV6G,WAAW,WACVd,GAAGyG,eAAe,YACjB,IACK,EAGT,GAAkB,KAAd3H,EAAEuH,SAAgC,KAAdvH,EAAEuH,QACzB,OAAgB,IAAZpM,SACHA,SAAU,EACV6D,OAAO/D,QAAQsB,aACRtB,QAAQsB,YAAYqL,cACJ,IAAbxM,UACVA,UAAW,EACX4D,OAAO/D,QAAQqB,cACRrB,QAAQqB,aAAasL,cAE5B5I,OAAO/D,QAAQoB,SACRpB,QAAQoB,QAAQuL,aAGzB,GAAkB,IAAd5H,EAAEuH,QACL,OAAgB,GAAZnM,UAA+B,GAAXD,SAA6B,GAAVE,UAGtB,IAAjBgD,aACHtB,MAEA+H,IADAzG,YAAcL,GAAG2G,MAAMjD,OAASrD,YACf,GACjBA,aAAe,GACR,IAEPW,OAAO/D,QAAQuB,OACRvB,QAAQuB,MAAMoL,eAMzB,SAAS7I,SACRf,GAAG0C,OAAO,aAAamH,YAAY,kBACnC7J,GAAG0J,OAAO,OAAOA,OAAO,gBAAgBA,OAAO,OAAOlE,YAAYxF,IAClEA,GAAGmB,KAAK,WAAY,UAOvBzE,EAAEC,GAAGmN,eAAiB,WACrB,OAAO/J,KAAKpB,KAAK,WACfjC,EAAEqD,MAAMnD,SAAS,aAKpBF,EAAEE,SAAW,SAASC,GACrB,IAAII,GAAY4F,QAAO,GAEvB,GADAnG,EAAEgC,OAAOzB,EAASJ,GACdI,EAAQ4F,OACX,OAAOnG,EAAEO,EAAQ4F,QAAQlE,KAAK,WAC7BjC,EAAEqD,MAAM8D,QACRnH,EAAEqD,MAAMgK,QAAQ,aAAc9M,MAG/BP,EAAE,YAAYqN,QAAQ,aAAc9M,KA7nBvC,CAgoBG+M,4FCppBaC,UAAT,WAAoC,IAAjBC,EAAiBC,UAAAzG,OAAA,QAAAoB,IAAAqF,UAAA,GAAAA,UAAA,GAAJ,GACnC,IAAI,EAAAC,EAAAC,SAAEtK,MAAMuK,SAAS,aAAeC,SAAQ,EAAAH,EAAAC,SAAEtK,MAAMuB,KAAK,SAAW,0BAChE,OAAO,EAGX,IAAIkJ,GAAQ,EAAAJ,EAAAC,SAAE,UACVI,GAAgB,EAAAL,EAAAC,SAAE,mBAEtB,GAAqB,KAAjBG,EAAMtB,QAAgC,KAAfgB,EACvB,OAAO,EAGPO,EAAc/G,QACd+G,EAAc1J,SAGlByJ,EAAMA,MAAM,SACZ,EAAAJ,EAAAC,SAAEnG,SAASwG,MAAMX,QAAQ,aAGC,iBAAfG,GAA0C,KAAfA,IAClCM,EAAMtB,KAAKgB,GACXM,EAAMG,KAAK,uBAAuBZ,QAAQ,UAG9C,OAAO,KAGKa,WAAT,YACH,EAAAR,EAAAC,SAAE,UAAUG,MAAM,SAClB,EAAAJ,EAAAC,SAAEnG,SAASwG,MAAMX,QAAQ,eApC7B,wDAAAc,EAAA,wFCagBC,YAAT,SAAqBlC,EAAMG,EAAK5H,EAAM4J,EAAQC,EAAWC,GAA0B,IAAjBC,EAAiBf,UAAAzG,OAAA,QAAAoB,IAAAqF,UAAA,GAAAA,UAAA,GAAN,KAC/EY,IACEA,EAAOT,SAAS,UAIZS,EAAOT,SAAS,eACxB,EAAAF,EAAAC,SAAEU,GAAQJ,KAAK,sBAAsBpI,KACpC4I,mBAAoB,gCACpBC,oBAAqB,YACrBC,sBAAuB,iBAGxBN,EAAOrJ,SAAS,aAVhB,EAAA0I,EAAAC,SAAEU,GAAQvF,YAAV,YAAkCuF,EAAOzJ,KAAK,MAA9C,YAA+DyH,EAA/D,yCACAgC,GAAS,EAAAX,EAAAC,SAAA,cAAgBtB,EAAhB,QAYX,IAAIuC,EAAc,mDACdC,GAAc,EACdpK,aAAgBqK,WACnBF,GAAc,EACdC,GAAc,GAEf7O,UAAEiM,MACDC,OACA6C,OAAO,EACPH,cACAC,cACAxC,MACA5H,SACEuK,KAAK,SAACvK,GACJ4J,KACE,EAAAX,EAAAC,SAAEU,GAAQT,SAAS,WAGf,EAAAF,EAAAC,SAAEU,GAAQT,SAAS,gBAC3B,EAAAF,EAAAC,SAAEU,GAAQJ,KAAK,sBAAsBpI,KACpC4I,mBAAoB,GACpBC,oBAAqB,GACrBC,sBAAuB,MANxB,EAAAjB,EAAAC,SAAEU,GAAQ3G,OASX2G,EAAOlB,YAAY,YAEpBmB,EAAU7J,KACRwK,KAAK,SAACxK,EAAMyK,EAAYC,GACN,KAAhBA,IACHA,EAAc,wBAEXd,GACH,EAAAX,EAAAC,SAAEU,GAAQvF,YAAY,eAAiBqG,EAAc,8CAGrD,EAAAC,EAAAlB,cAEGK,GACHA,EAAQ9J,EAAK4K,gBAEZC,OAAO,WACLd,GACHA,SAUae,WAAT,SAAoBlD,EAAKmD,GAa/B,OAZA,EAAA9B,EAAAC,SAAE6B,EAAS,iBAAiBhD,KAAK,4DACjCxM,UAAEiM,MACDC,KAAM,MACN6C,OAAO,EACP1C,IAAKA,EACL5H,KAAM,KACJuK,KAAK,SAACvK,IACR,EAAAiJ,EAAAC,SAAE6B,GAAQ1G,YAAYrE,KACpBwK,KAAK,SAACQ,EAAOP,EAAYC,IAC3B,EAAAzB,EAAAC,SAAE6B,EAAS,iBAAiBhD,KAAK,qCAAuC2C,GACxEO,MAAMD,EAAMJ,iBAEN,GA/FR,wDAAAlB,EAAA,IACAiB,EAAAjB,EAAA,wFCQgBwB,sBAAT,SAA+BC,EAAK7J,GACvC,OAAOD,KAAK+J,MAAM/J,KAAKgK,UAAY/J,EAAM6J,EAAM,GAAKA,MAUxCG,WAAT,SAAoBC,GACvB,IAAItF,SAAOlK,SACPgH,SAASwG,KAAKvD,kBACdC,EAAQlD,SAASwG,KAAKvD,mBAChBU,kBAAkB6E,GACxBtF,EAAMI,UACCW,OAAOwE,eACdzP,EAAYiL,OAAOwE,gBACnBvF,EAAQlD,SAAS+C,eACX2F,mBAAmBF,GACzBxP,EAAU2P,kBACV3P,EAAU4P,SAAS1F,OAmBX2F,QAAT,SAAiBC,GACpB,OAAOA,EAAK3L,QAAQ,MAAO,KACtBA,QAAQ,cAAe,OAShB4L,SAAT,SAAkBD,EAAME,GAgB3B,IAAIC,EAAOH,EACPI,EAAWD,EAAKE,OAAOF,EAAKzJ,OAAS,GAExB,MAAb0J,GAAiC,OAAbA,IACpBD,EAAOA,EAAKG,MAAM,GAAI,IAG1BH,EAAOA,EAAK9L,QAAQ,YAAa,IAEX,iBAAX6L,GAAuBC,EAAK5L,OAAO4L,EAAKzJ,OAASwJ,EAAOxJ,UAAYwJ,IAC3EC,EAAOA,EAAK5L,OAAO,EAAG4L,EAAKzJ,OAASwJ,EAAOxJ,SAG/C,OAAOyJ,KAMKI,OAAT,SAAgBrD,GAEnB,GAA0B,iBAAfA,GAA2D,qBAAhCA,EAAWtD,UAAU,EAAG,IAE1D,YADJ,EAAA4G,EAAAC,WAAUvD,GAGVwD,SAASH,YAMGI,SAAT,SAAkBzD,GAErB,GAA0B,iBAAfA,GAA2D,qBAAhCA,EAAWtD,UAAU,EAAG,IAE1D,YADA,EAAA4G,EAAAC,WAAUvD,GAGd/B,OAAOuF,SAASE,KAAO1D,KAGX2D,MAAT,SAAeb,EAAMc,GACvB3F,OAAOuF,SAASK,SAASC,WAAWhB,IACvCc,KAvHF,IAAAN,EAAA3C,EAAA,qCCGA,QAAAA,EAAA,QACAA,EAAA,IACAoD,EAAApD,EAAA,uDAEAA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KAERnO,UAAEwR,OAAOC,OAAO,YAAazR,UAAE0R,GAAGC,SAElCxD,EAAQ,KAER1C,OAAOmG,QACNC,4BACAC,iCAGD,IAAIC,GAAU,EAAArE,EAAAC,SAAElC,QACfuG,GAAQ,EAAAtE,EAAAC,SAAE,QACVsE,GAAU,EAAAvE,EAAAC,SAAE,WACZuE,GAAU,EAAAxE,EAAAC,SAAE,gBAEa,IAAfuE,EAAQ,KAClBA,GAAU,EAAAxE,EAAAC,SAAE,kBAGboE,EAAQI,GAAG,OAAQ,WAElB7K,WAAW,YACV,EAAAoG,EAAAC,SAAE,sBAAsB1L,KAAK,WAC5B,IAAMmQ,GAAU,EAAA1E,EAAAC,SAAEnG,SAAS6K,cAAc,QACzCD,EAAQD,GAAG,QAAS,YACnB,EAAAzE,EAAAC,SAAEtK,MAAMuB,KAAK,QAAS,qDACtB,EAAA8I,EAAAC,SAAEtK,MAAMuB,KAAK,MAAO,0CACpB,EAAA8I,EAAAC,SAAEtK,MAAMwC,IAAI,QAAS,SACrB,EAAA6H,EAAAC,SAAEtK,MAAMwC,IAAI,SAAU,SACtB,EAAA6H,EAAAC,SAAEtK,MAAM8J,YAAY,kBAAkBnI,SAAS,YAEhDoN,EAAQpN,SAAS,UACjBoN,EAAQxN,KAAK,OAAO,EAAA8I,EAAAC,SAAEtK,MAAMuB,KAAK,UACjCwN,EAAQxN,KAAK,SAAS,EAAA8I,EAAAC,SAAEtK,MAAMuB,KAAK,UACnCwN,EAAQxN,KAAK,OAAO,EAAA8I,EAAAC,SAAEtK,MAAMuB,KAAK,SACjC,EAAA8I,EAAAC,SAAEtK,MAAMmJ,KAAK4F,GACbA,EAAQD,GAAG,OAAQ,WAClB,IAAMG,EAAOF,EAAQxN,KAAK,OAAOhC,QAAQ,yBAA2B,EAC9D2P,GAAQ,EAAA7E,EAAAC,SAAEtK,MAAM2J,SAASA,SAASY,SAAS,oBAC3C4E,EAA4C,KAAhC,EAAA9E,EAAAC,SAAEtK,MAAMoP,QAAQ,KAAKzL,QACvC,EAAA0G,EAAAC,SAAEtK,MAAM2J,SAASlE,aAAY,EAAA4E,EAAAC,SAAEtK,OAC1BiP,GAASC,GAAUC,IACvB,EAAA9E,EAAAC,SAAEtK,MAAM0B,KAAR,mCAA+C,EAAA2I,EAAAC,SAAEtK,MAAMuB,KAAK,OAA5D,gDAOL,IAAM8N,EAAY,WACjB,IAAIC,GAAY,EAEhB,OAAO,WACFA,IAIJA,GAAY,EAGZrL,WAAW,YACV,EAAAoG,EAAAC,SAAE,cAAc1L,KAAK,YACpB,EAAAyL,EAAAC,SAAEtK,MAAMyF,YAAYzF,KAAKuP,mBAbX,GAoBlBb,EAAQI,GAAG,SAAU,YAChB,EAAAzE,EAAAC,SAAElC,QAAQT,YAAc,GAC3B0H,IAGGjH,OAAOoH,YAAcX,EAAQY,cAChCb,EAAQ9E,YAAY,OAEpB8E,EAAQjN,SAAS,SAInB+M,EAAQI,GAAG,SAAU,kBAAMJ,EAAQ1E,QAAQ,YAC3C0E,EAAQ1E,QAAQ,WAEhB,EAAA0F,EAAApF,SAAYqE,uFCjFIgB,kBAAT,SAA2BC,EAASC,GACvC,IACIC,GADS,EAAAzF,EAAAC,SAAEsF,GACIG,YAEnBF,EAASzO,KAAK4O,QAAQ,SAACC,GACnB,IAAIC,GAAM,EAAA7F,EAAAC,SAAE,iBAAmB2F,EAAIE,KAAO,MACvB,IAAfD,EAAIvM,OACA,WAAYsM,EACZH,EAAMG,IAAIC,GAAKlP,UAGf8O,EAAMG,IAAIC,GAAK9O,KAAK6O,IACpB,EAAAP,EAAApF,SAAY4F,IAGI,IAAfA,EAAIvM,OACTmM,EAAMG,IAAIG,IAAIH,GAGd5D,MAAM6D,EAAIvM,UAGlBmM,EAAMO,MAAK,MAQCC,eAAT,SAAwBV,GAC3B,IAAIzS,KAIJ,OAHA,EAAAkN,EAAAC,SAAEsF,EAAU,sBAAsBhR,KAAK,WACnCzB,EAAUoH,MAAK,EAAA8F,EAAAC,SAAEtK,MAAMuB,KAAK,gBAEzBpE,GAlDX,QAAA2N,EAAA,QAEAA,EAAA,4IC2BgByF,iBAAT,SAA0BC,GAChCC,EAAsBD,EAAO,IAC7B,EAAAnG,EAAAC,SAAE,eAAiBkG,GAAOE,SAC1BD,EAAsBD,EAAO,GAC7BG,OAKeC,aAAT,YACN,EAAAvG,EAAAC,SAAE,0BAA0BpG,QAC5B,EAAAmG,EAAAC,SAAE,qBAAqBpG,OACvByM,OAGeE,yBAUAC,qBAAT,SAA8BC,EAAO7M,IAC3C,EAAAmG,EAAAC,SAAE,sBAAwByG,GAAOnS,KAAK,WAC/B,IAAIoS,EAAY,OACI,IAAT9M,EACZA,GACH,EAAAmG,EAAAC,SAAEtK,MAAM8J,YAAYiH,EAAQ,cAG5B,EAAA1G,EAAAC,SAAEtK,MAAM2B,SAASoP,EAAQ,cAI1B,EAAA1G,EAAAC,SAAEtK,MAAMiR,YAAYF,EAAQ,cAEzB,EAAA1G,EAAAC,SAAEtK,MAAMuK,SAAS,0BACpByG,KAEG,EAAA3G,EAAAC,SAAEtK,MAAMuK,SAAS,oBACpByG,KAEG,EAAA3G,EAAAC,SAAEtK,MAAMuK,SAAS,qBACpByG,KAEG,EAAA3G,EAAAC,SAAEtK,MAAMuK,SAAS,oBACpByG,IAEGA,EAAY,GACf,EAAA3G,EAAAC,SAAEtK,MAAMqE,QAGR,EAAAgG,EAAAC,SAAEtK,MAAMkE,SAGV2M,OAOeK,iBAAT,SAA0BjP,GAChC,IAAIkP,GAAc,GAClB,EAAA9G,EAAAC,SAAE,kBAAkBM,KAAK,8BAA+B,EAAAP,EAAAC,SAAErI,EAAEa,QAAQvB,KAAK,QAAU,cAAc3C,KAAK,WACrG,IAAIwS,GAAS,EAAA/G,EAAAC,SAAEtK,MAAMuB,KAAK,MAI1B,GAHI6P,IAAWC,IACdF,GAAeA,GAEZC,IAAWnP,EAAEa,OAAOvF,GAAI,CAC3B4T,GAAeA,EACf,IAAIG,GAAQ,EAAAjH,EAAAC,SAAEtK,MAAMuR,KAAK,WACzBtN,WAAW,YACV,EAAAoG,EAAAC,SAAE,IAAM8G,GAAQG,KAAK,UAAWD,IAC9B,SAEKrP,EAAE5E,UAAY8T,IACtB,EAAA9G,EAAAC,SAAEtK,MAAMuR,KAAK,WAAW,KAG1BF,EAAiBpP,EAAEa,OAAOvF,MAOXiU,iBAAT,SAA0BvP,GACO,QAAnCA,EAAEa,OAAO2O,QAAQhQ,gBACpBQ,EAAEa,QAAS,EAAAuH,EAAAC,SAAErI,EAAEa,QAAQ6G,UAGxB,IADA,EAAAU,EAAAC,SAAErI,EAAEa,QAAQ8H,KAAK,SAAS2G,KAAK,WAAW,IACtC,EAAAlH,EAAAC,SAAErI,EAAEa,QAAQyH,SAAS,aAAeC,SAAQ,EAAAH,EAAAC,SAAErI,EAAEa,QAAQvB,KAAK,SAAW,0BAC3E,OAAO,GAER,EAAA8I,EAAAC,SAAE,gBAAiB,EAAAD,EAAAC,SAAErI,EAAEa,QAAQ8H,KAAK,eAAerJ,KAAK,QAAU,cAAc3C,KAAK,YAChF,EAAAyL,EAAAC,SAAEtK,MAAMuR,KAAK,aAChB,EAAAG,EAAA3G,aAAY,QAAQ,EAAAV,EAAAC,SAAEtK,MAAM2J,SAASpI,KAAK,SAAS,EAAA8I,EAAAC,SAAEtK,MAAM2J,SAASpI,KAAK,SAAS,EAAA8I,EAAAC,SAAEtK,MAAM2J,SAAU+D,YAAWrB,UA5HlH,wDAAAvB,EAAA,IAEA4G,EAAA5G,EAAA,IACA2C,EAAA3C,EAAA,GACA6G,EAAA7G,EAAA,IAMA,SAAS2F,EAAsBD,EAAOoB,GAC9B,mBAAqBpB,KAAU,EAAAnG,EAAAC,SAAE,6BAA6BuH,GAAGD,GAAOrQ,KAAK,QAC7E,EAAA8I,EAAAC,SAAE,0BAA0BoG,SAIpC,SAASC,KACL,EAAAtG,EAAAC,SAAE,wCAAwC9H,IAAI,mBAAoB,YAClE,EAAA6H,EAAAC,SAAE,yCAAyC9H,IAAI,mBAAoB,WAqBhE,SAASqO,IACZ,IAAIiB,GAAmB,EAAAzH,EAAAC,SAAE,qBACzBwH,EAAiBlH,KAAK,kBAAkBpI,IAAI,mBAAoB,WAChEsP,EAAiBlH,KAAK,mBAAmBpI,IAAI,mBAAoB,WA2CrE,IAAI6O,SAiDJ,SAASU,EAAe9P,GACgB,QAAnCA,EAAEa,OAAO2O,QAAQhQ,gBACpBQ,EAAEa,QAAS,EAAAuH,EAAAC,SAAErI,EAAEa,QAAQ6G,UAGxB,IAAIqB,EAAQgH,aAAWC,IACnB,EAAA5H,EAAAC,SAAEU,GAAQzJ,KAAK,SAAU,EAAA8I,EAAAC,SAAErI,EAAEa,QAAQvB,KAAK,OAC7CU,EAAE4B,iBAOJ,SAASqO,EAAYjQ,GACpBA,EAAE4B,iBACF,IAAI8I,EAAQ1K,EAAEa,OACsB,QAAhC6J,EAAM8E,QAAQhQ,gBACjBkL,GAAQ,EAAAtC,EAAAC,SAAEqC,GAAOhD,UAElB,IAAIqB,EAASgH,aAAWC,GACxB,GAAKzH,QAAQ,sEAAb,CAGA,IAAIjJ,GAAO,EAAA8I,EAAAC,SAAEU,GAAQzJ,KAAK,YACN,IAATA,IAAiC,IAATA,IAClCA,EAAO,KAER,EAAAmQ,EAAA3G,aAAY,QAAQ,EAAAV,EAAAC,SAAEqC,GAAOpL,KAAK,QAAS,OAASA,EAAMoL,EAAOe,YAAWrB,YAExD,KADpB9K,GAAO,EAAA8I,EAAAC,SAAEqC,GAAOpL,KAAK,UACuB,IAATA,IAClCA,EAAO,KAER,EAAAmQ,EAAA3G,aAAY,QAAQ,EAAAV,EAAAC,SAAEU,GAAQzJ,KAAK,QAAS,OAASA,EAAMyJ,EAAQ0C,YAAWrB,SAG/E,EAAAhC,EAAAC,SAAE,YACE,EAAAD,EAAAC,SAAE,YAAY1L,KAAK,YACf,EAAAyL,EAAAC,SAAEtK,MAAM8J,YAAY,WACpB,EAAAO,EAAAC,SAAEtK,MAAM8O,GAAG,WAAYiD,IACvB,EAAA1H,EAAAC,SAAEtK,MAAM8O,GAAG,OAAQoD,2SCzKXC,kBA4BAC,qBAMAC,WAAT,SAAoBC,GAIvB,OAHAA,EAAMzO,iBAENuO,GADW,EAAA/H,EAAAC,SAAEtK,MAAMuS,KAAK,UAEjB,KAGKC,cAuBAC,WAAT,SAAoBH,GACvB,IAAI,EAAAjI,EAAAC,SAAEtK,MAAMuK,SAAS,WAAY,CAC7B,IAAImI,GAAI,EAAArI,EAAAC,SAAEtK,MAAMuB,KAAK,SAOrB,GANImR,EACAA,GAAK,QAGLA,EAAI,qBAEHlI,QAAQkI,GAET,OADAJ,EAAMzO,kBACC,EAIf,IAAI8O,GAAO,EAAAtI,EAAAC,SAAEtK,MAAMoP,QAAQ,QAC3B,IAAKuD,EAAKpI,SAAS,aAAc,CAC7B,IAAI+H,EAIA,OAAO,EAHPK,GAAO,EAAAtI,EAAAC,SAAEgI,EAAMxP,OAAO6P,MAO9B,GAAIA,EAAKpI,SAAS,sBAAwB4H,EAAcQ,GAGpD,OAFAL,EAAMzO,iBACNwI,MAAM,qBACC,GAGP,EAAAhC,EAAAC,SAAEtK,MAAMuB,KAAK,SACboR,EAAKpR,KAAK,UAAU,EAAA8I,EAAAC,SAAEtK,MAAMuB,KAAK,SAGrC,GAAIoR,EAAKpI,SAAS,cAAgBoI,EAAKpI,SAAS,cAAe,CAC3D+H,EAAMzO,iBACN,IAAI+O,EAAW,IAAInH,SAASkH,EAAK3T,IAAI,IACjC2M,EAAO+B,YACP1C,GAAS,EAUb,GARI2H,EAAKpI,SAAS,gBACdS,EAAS2H,EACTC,EAAShQ,OAAO,eAAgB+P,EAAKpR,KAAK,OACtCoR,EAAKvR,KAAK,oBACVuK,EAAOgH,EAAKvR,KAAK,oBAIrBuR,EAAKpI,SAAS,qBAAsB,CAEpC,IAAIqF,EAAU+C,EAAKpR,KAAK,gBACnB4C,SAAS0O,eAAejD,IACzBvD,MAAM,uBAGVuG,EAAShQ,OAAO,cAAegN,GAC/B,IAAIzS,GAAY,EAAA2V,EAAAxC,gBAAe,IAAMV,GACrCjT,UAAEiC,KAAKzB,EAAW,SAAUqG,EAAKwB,GAC7B4N,EAAShQ,OAAO,uBAAwBoC,KAG5C2G,EAAO,SAAUkE,GACW,iBAApB,IAAOA,EAAP,YAAAkD,EAAOlD,MACP,EAAAiD,EAAAnD,mBAAkB,IAAMC,EAASC,GAC7BA,EAASpF,QACT,EAAAsB,EAAA7B,WAAU2F,EAASpF,QACnB,EAAAiF,EAAApF,UAAY,EAAAD,EAAAC,SAAE,aAGd,EAAAyB,EAAAlB,gBAIJ,EAAA4C,EAAAC,WAAUmC,IAIb8C,EAAKpI,SAAS,YACfS,GAAS,GAiBjB,OAbI2H,EAAKpI,SAAS,cACdoB,EAAO6B,SAEFmF,EAAKpI,SAAS,cACnBoB,EAAOiC,aAGX,EAAA8D,EAAA3G,aAAY,OAAQ4H,EAAKpR,KAAK,UAAWqR,EAAU5H,EAAQW,EAAMU,MAAO,WAChEsG,EAAKpI,SAAS,gBACdiI,EAAUF,EAAOK,MAIlB,EAIX,OAFAA,EAAKK,IAAI,UACTL,EAAK3I,QAAQ,WACN,KAQKiJ,WAAT,SAAoBX,GACvB,IAAItH,GAAS,EAAAX,EAAAC,SAAEgI,EAAMxP,QACC,IAAlBkI,EAAOrH,SACPqH,GAAS,EAAAX,EAAAC,SAAEtK,OAEf,GAAIgL,EAAOT,SAAS,aAAeC,QAAQQ,EAAOzJ,KAAK,SAAW,0BAE9D,OADA+Q,EAAMzO,kBACC,EAEX,IAAI8O,EAAO3H,EAAOoE,QAAQ,QAC1B,GAAIuD,EAAKpI,SAAS,cAGd,OAFA+H,EAAMzO,iBACNuO,EAAiBO,IACV,EAEX,GAAIA,EAAKpI,SAAS,aAKd,OAJA+H,EAAMzO,iBACDsO,EAAcQ,KAASnI,QAAQ,6CAChC,EAAAuB,EAAAlB,eAEG,EAEX,OAAO,GA5MX,QAAAC,EAAA,IAEAiB,EAAAjB,EAAA,IACA4G,EAAA5G,EAAA,IACA2C,EAAA3C,EAAA,UACAgI,EAAAhI,EAAA,IAEAoI,EAAApI,EAAA,uDAGO,SAASqH,EAAcQ,GAC1B,IAAIQ,GAAU,EAoBd,OAnBA,EAAA9I,EAAAC,SAAEqI,GAAM/H,KAAK,gBAAgBwI,IAAI,YAAYxU,KAAK,WAC9C,IAAI+N,GAAQ,EAAAtC,EAAAC,SAAEtK,MACd,GAAI2M,EAAM0G,GAAG,gBACT,GAAI1G,EAAM0G,GAAG,aAAe1G,EAAMpL,KAAK,eAAiBoL,EAAM/F,MAE1D,OADAuM,GAAU,GACH,OAGV,GAAIxG,EAAM0G,GAAG,mBACd,GAAI1G,EAAM0G,GAAG,eAA6C,MAA5B1G,EAAMpL,KAAK,cAErC,OADA4R,GAAU,GACH,OAGV,GAAIxG,EAAM/F,QAAU+F,EAAMpL,KAAK,aAEhC,OADA4R,GAAU,GACH,IAGRA,EAOJ,SAASf,EAAiBO,GAC7BA,EAAKW,KAAK,qBAAqB5C,SAC/BiC,EAAKjC,SACLiC,EAAKY,SAAS,UAAUzP,QAUrB,SAAS0O,EAAUF,EAAOK,GAK7B,OAJKA,IACDA,GAAO,EAAAtI,EAAAC,SAAEtK,MAAMoP,QAAQ,QACvBkD,EAAMzO,qBAEN,EAAAwG,EAAAC,SAAEtK,MAAMuK,SAAS,aAAeC,SAAQ,EAAAH,EAAAC,SAAEtK,MAAMuB,KAAK,SAAW,6BAGpEoR,EAAK/H,KAAK,gBAAgBhM,KAAK,WAC3B,IAAI4U,GAAO,EAAAnJ,EAAAC,SAAEtK,MAAMuB,KAAK,aACJ,iBAATiS,IACP,EAAAnJ,EAAAC,SAAEtK,MAAM4G,IAAI4M,MAGb,uFCCKC,6BA6CQC,IAYRhG,UAAT,SAAmBvD,GAEa,eADnCA,EAAaxN,UAAE6J,KAAK2D,IACLtD,UAAU,EAAG,KACxBwF,MAAM,kBACNlI,SAASmF,MAAMa,IAEnB,IAAIhB,EAAOxM,UAAEgX,UAAUxJ,EAAYhG,UAAU,IAC7C,EAAAkG,EAAAC,SAAEnB,GAAMvK,KAAK,WACT,IAAIrB,GAAK,EAAA8M,EAAAC,SAAEtK,MAAMuB,KAAK,MAElBoL,GAAQ,EAAAtC,EAAAC,SAAE,IAAM/M,GACpB,GAAqB,IAAjBoP,EAAMhJ,QACF,EAAA0G,EAAAC,SAAEtK,MAAMuK,SAAS,UACjBoC,EAAMiH,OAAO,UAAY,IAAK,YAC1B,EAAAvJ,EAAAC,SAAEtK,MAAMgB,WAIZ2L,EAAMlH,aAAY,EAAA4E,EAAAC,SAAEtK,MAAMkE,QAAQ0P,OAAO,iBAG5C,CACD,IAAIC,GAAW,EAAAxJ,EAAAC,SAAEtK,MAAMuB,KAAK,YACxBsS,GACA,EAAAxJ,EAAAC,SAAEtK,MAAM8T,UAAR,IAAsBD,GAAY3P,OAAO0P,OAAO,cAGhD,EAAAvJ,EAAAC,SAAEtK,MAAM8T,UAAU,sCAAsC5P,OAAO0P,OAAO,aAG9EF,GAAY,EAAArJ,EAAAC,SAAEtK,OAEH,UAAPzC,GACA,EAAAwO,EAAA7B,cAGA,EAAA6B,EAAAlB,iBA/JZ,QAAAC,EAAA,QACAA,EAAA,KACAiJ,EAAAjJ,EAAA,IACAiB,EAAAjB,EAAA,IACAkJ,EAAAlJ,EAAA,IAEAmJ,EAAAnJ,EAAA,uDA4DO,SAAS2I,EAAiB9J,IAC7B,EAAAU,EAAAC,SAAEX,GAAQiB,KAAK,gBAAgBsJ,aAC3BC,KADuC,YAEnC,EAAA9J,EAAAC,SAAEtK,MAAM4K,KAAK,uBAAuBwJ,UAExCC,IAJuC,YAKnC,EAAAhK,EAAAC,SAAEtK,MAAM4K,KAAK,uBAAuB0J,WAExCC,QAAS,MAqCF,SAASb,EAAY/J,IAvGpC,SAAqBA,IACjB,EAAAU,EAAAC,SAAEX,GAAQiB,KAAK,YAAY5I,KAAK,gBAAiB,SAAUsQ,GACvDA,EAAMzO,iBACN,IAAIT,GAAS,EAAAiH,EAAAC,SAAEtK,MACX+O,EAAU3L,EAAOmP,KAAK,uBACJ,oBAAlBnP,EAAO+F,OACP/F,EAAO+F,KAAK,sBAGZ/F,EAAO+F,KAAK,mBAEhB4F,EAAQ2B,OAAO,IAAK,qBAExB,EAAArG,EAAAC,SAAEX,GAAQiB,KAAK,SAAS5I,KAAK,aAAcwS,aAC3C,EAAAnK,EAAAC,SAAEX,GAAQiB,KAAK,QAAQ5I,KAAK,YAAayS,YACzC,EAAApK,EAAAC,SAAEX,GAAQiB,KAAK,aAAa5I,KAAK,iBAAkB0S,gBAyFnDC,CAAYhL,GAtFhB,SAAmBA,IACf,EAAAU,EAAAC,SAAEX,GAAQiB,KAAK,QAAQgK,OAAOnC,eAC9B,EAAApI,EAAAC,SAAEX,GAAQiB,KAAK,WAAW5I,KAAK,eAAgByQ,eAC/C,EAAApI,EAAAC,SAAEX,GAAQiB,KAAK,UAAU5I,KAAK,cAAewQ,cAC7C,EAAAnI,EAAAC,SAAEX,GAAQiB,KAAK,WAAW5I,KAAK,eAAgBiR,eAC/C,EAAA5I,EAAAC,SAAEX,GAAQiB,KAAK,qBAAqB5I,KAAK,eAAgBqQ,eACzD,EAAAhI,EAAAC,SAAEX,GAAQiB,KAAK,iBAAiB5I,KAAK,gBAAiByQ,cAiFtDoC,CAAUlL,GA9Ed,SAAqBA,GACpBhN,UAAEmY,QAAQhY,SAASiY,SAClBC,eAAgB,GAChBC,cAAe,QACfC,UAAW,UACXC,cAAe,GACfC,QAAS,kBACTC,OAAQ,WACRC,QAAS,aACTC,KAAM,QACNC,MAAO,SACPC,IAAK,QACLC,KAAM,WACNC,MAAO,UACPC,OAAQ,aACRC,KAAM,SACNC,MAAO,UACPC,cAAe,IACfC,aAEE,EAAA3L,EAAAC,SAAEX,GAAQiB,KAAK,gBAAgBkK,UA2D/BmB,CAAYtM,GAxDhB,SAAsBA,IAClB,EAAAU,EAAAC,SAAEX,GAAQiB,KAAK,wBAAwB/N,SAASqZ,aAwDhDC,CAAaxM,GArDjB,SAAsBA,IAClB,EAAAU,EAAAC,SAAEX,GAAQyM,WAAWC,OAAO,IAqD5BC,CAAa3M,GACb8J,EAAiB9J,GAvCrB,SAAwBA,IACpB,EAAAU,EAAAC,SAAEX,GAAQiB,KAAK,sBAAsBhM,KAAK,WACtC,IAAImQ,GAAU,EAAA1E,EAAAC,SAAEnG,SAAS6K,cAAc,QACvCD,EAAQD,GAAG,QAAS,YAChB,EAAAzE,EAAAC,SAAEtK,MAAMuB,KAAK,QAAS,qDACtB,EAAA8I,EAAAC,SAAEtK,MAAMuB,KAAK,MAAO,0CACpB,EAAA8I,EAAAC,SAAEtK,MAAMwC,IAAI,QAAS,SACrB,EAAA6H,EAAAC,SAAEtK,MAAMwC,IAAI,SAAU,SACtB,EAAA6H,EAAAC,SAAEtK,MAAM8J,YAAY,kBAAkBnI,SAAS,YAEnDoN,EAAQpN,SAAS,UACjBoN,EAAQxN,KAAK,OAAO,EAAA8I,EAAAC,SAAEtK,MAAMuB,KAAK,UACjCwN,EAAQxN,KAAK,SAAS,EAAA8I,EAAAC,SAAEtK,MAAMuB,KAAK,UACnCwN,EAAQxN,KAAK,OAAO,EAAA8I,EAAAC,SAAEtK,MAAMuB,KAAK,SACjC,EAAA8I,EAAAC,SAAEtK,MAAMmJ,KAAK4F,GACbA,EAAQD,GAAG,OAAQ,WACf,IAAIG,EAAOF,EAAQxN,KAAK,OAAOhC,QAAQ,yBAA2B,EAC9D2P,GAAQ,EAAA7E,EAAAC,SAAEtK,MAAM2J,SAASA,SAASY,SAAS,oBAC3C4E,EAA4C,KAAhC,EAAA9E,EAAAC,SAAEtK,MAAMoP,QAAQ,KAAKzL,QACrC,EAAA0G,EAAAC,SAAEtK,MAAM2J,SAASlE,aAAY,EAAA4E,EAAAC,SAAEtK,OAC1BiP,GAASC,GAAUC,IACpB,EAAA9E,EAAAC,SAAEtK,MAAM0B,KAAR,mCAA+C,EAAA2I,EAAAC,SAAEtK,MAAMuB,KAAK,OAA5D,4CAmBZgV,CAAe5M,IACf,EAAAoK,EAAAyC,kBAAiB7M,GAdrB,SAAiBA,IAChB,EAAAU,EAAAC,SAAEX,GAAQiB,KAAK,gBAAgBhM,KAAK,WACnC,IAAI6X,WAAKxE,GAAIjS,SAaX0W,CAAQ/M,wSC/GI6M,iBAAT,SAA0B7M,IAChC,EAAAU,EAAAC,SAAEX,GAAQiB,KAAK,wBAAwBhM,KAAK,WAC3C,IAAI+X,GAAY,EAAAtM,EAAAC,SAAEtK,MAElB2W,EAAU/L,KAAK,SAASkE,GAAG,QAAS,SAAUwD,GAC7CqE,EAAU/L,KAAK,WAAWd,YAAY,WAEtC,EAAAO,EAAAC,SAAEgI,EAAMxP,QAAQnB,SAAS,iBAKZiV,aA6EApC,SAAT,SAAkBlC,GAErB,GADAA,EAAMzO,kBACF,EAAAwG,EAAAC,SAAEtK,MAAMuK,SAAS,SAOjB,MAN2C,UAAvC+H,EAAMxP,OAAO2O,QAAQhQ,eACrB,EAAAoV,EAAA3F,kBAAiBoB,IAGjB,EAAAuE,EAAArF,kBAAiBc,IAEd,EAGX,OADAsE,GAAS,EAAAvM,EAAAC,SAAEtK,MAAO,SACX,KAGKyU,QAAT,SAAiBnC,GAGpB,OAFAA,EAAMzO,iBACN+S,GAAS,EAAAvM,EAAAC,SAAEtK,MAAO,QACX,KAGK0U,aAAT,WACH,IAAIoC,GAAO,EAAAzM,EAAAC,SAAEtK,MACTzC,EAAKuZ,EAAKvV,KAAK,iBACfwV,EAAMD,EAAKvV,KAAK,qBAEhBwV,IACA,EAAA1M,EAAAC,SAAE/M,GAAIyZ,SAAS3U,OAAU0U,GAAM,KAC/BD,EAAKG,WAAW,qBAChBH,EAAKlM,KAAK,WAAWd,YAAY,eAAenI,SAAS,aACzDmV,EAAKvV,KAAK,QAAS,gBAGnBuV,EAAKvV,KAAK,QAAS,aACnBuV,EAAKlM,KAAK,WAAWd,YAAY,aAAanI,SAAS,eACvDmV,EAAKvV,KAAK,qBAAqB,EAAA8I,EAAAC,SAAE/M,GAAI8E,WACrC,EAAAgI,EAAAC,SAAE/M,GAAIyZ,SACF3U,QAAU,EAAAgI,EAAAC,SAAE/M,GAAIgU,KAAK,gBAAkB,GACxC,OAxIX,QAAAzG,EAAA,IAEAiB,EAAAjB,EAAA,IACA4G,EAAA5G,EAAA,IACA2C,EAAA3C,EAAA,UACA+L,EAAA/L,EAAA,IACAgI,EAAAhI,EAAA,IACAoI,EAAApI,EAAA,uDAcO,SAAS8L,EAASE,EAAMjO,GAC3B,GAAIiO,EAAKvM,SAAS,aAAeC,QAAQsM,EAAKvV,KAAK,SAAW,0BAE1D,OADA,EAAAwK,EAAAlB,eACO,EAEX,IAAIG,EAAS8L,EACTnL,EAAO+B,YACPtM,EAAO0V,EAAK1V,OAKhB,GAHI0V,EAAKvM,SAAS,WACdS,GAAS,GAET8L,EAAKvM,SAAS,UAAW,CACzBnJ,EAAOA,EAAK0D,MAAM,KAClB,IAAI8B,EAAM3B,OAAO7D,EAAK,GAAIA,EAAK,IAC/B,IAAKwF,EACD,OAAO,EAEXxF,EAAO6H,mBAAmB7H,EAAK,IAAM,IAAM6H,mBAAmBrC,GAQlE,GANIkQ,EAAKvM,SAAS,YACdnJ,GACI8V,MAAS/S,SAASb,MAAMhC,QAAQ,kBAAmB,IACnD6V,KAAQ/O,OAAOuF,SAASE,OAG5BiJ,EAAKvM,SAAS,qBAAsB,CAEpC,IAAIqF,EAAUkH,EAAKvV,KAAK,gBACnB4C,SAAS0O,eAAejD,KACzBA,EAAUkH,EAAK1H,QAAQ,QAAQ7N,KAAK,gBAC/B4C,SAAS0O,eAAejD,IACzBvD,MAAM,wBAId,IAAIlP,GAAY,EAAA2V,EAAAxC,gBAAe,IAAMV,GACrCxO,GACIgW,YAAexH,EACfyH,uBAAwBla,GAG5BwO,EAAO,SAAUkE,GACW,iBAApB,IAAOA,EAAP,YAAAkD,EAAOlD,MACP,EAAAiD,EAAAnD,mBAAkB,IAAMC,EAASC,GAC7BA,EAASpF,QACT,EAAAsB,EAAA7B,WAAU2F,EAASpF,QACnB,EAAAiF,EAAApF,UAAY,EAAAD,EAAAC,SAAE,aAGd,EAAAyB,EAAAlB,gBAIJ,EAAA4C,EAAAC,WAAUmC,IAIbiH,EAAKvM,SAAS,eACfS,GAAS,GAGb8L,EAAKvM,SAAS,cACdoB,EAAO6B,SAEFsJ,EAAKvM,SAAS,cACnBoB,EAAOiC,aAGX,EAAA8D,EAAA3G,aAAYlC,EAAMiO,EAAKvV,KAAK,QAASH,EAAM4J,EAAQW,EAAMU,6GCzF7D2F,GACAC,QAAAlN,GAEAuS,IAAA,WACA,IAAAC,EAAAC,EAAAC,EACA,SAAAC,IACA,OAAAvT,SAAAkF,gBAAAsO,WAAAxT,SAAAkF,gBAAAsO,WAAAxT,SAAAwG,KAAAgN,WAEA,SAAAC,IACA,OAAAzT,SAAAkF,gBAAA1B,UAAAxD,SAAAkF,gBAAA1B,UAAAxD,SAAAwG,KAAAhD,UAEA,SAAAkQ,EAAA5V,GACA,OAAAA,EAAA6V,MACA7V,EAAA6V,MAEA7V,EAAA8V,QACA9V,EAAA8V,QAAAL,IAEA,EAEA,SAAAM,EAAA/V,GACA,OAAAA,EAAAgW,MACAhW,EAAAgW,MAEAhW,EAAAM,QACAN,EAAAM,QAAAqV,IAEA,EAEA,SAAAM,EAAAjW,GACA,GAAA+P,EAAAC,GAAA,CAGA,IAAAkG,EAAAnG,EAAAC,GAEAmG,EAAAP,EADA5V,KAAAmG,OAAAkK,OAEA+F,EAAAL,EAAA/V,GACAsV,EAAAY,EAAA5N,SAAA,WACA,IAAA5C,EAAAwQ,EAAAxQ,aAAA,EAAAgQ,EAAAQ,EAAAR,cAAA,EACA,GAAAQ,EAAA5N,SAAA,gBACA4N,EAAAxQ,YAAA8P,EAAAY,QAEA,GAAAF,EAAA5N,SAAA,kBACA4N,EAAAR,aAAAH,EAAAY,OAEA,CACA,IAAAE,EAAAH,EAAAG,WAA+CC,KAAA,EAAAC,IAAA,GAC/CL,EAAA3V,KACAgW,IAAAF,EAAAE,IAAAZ,IAAAS,EAAAZ,EAAA,KACAc,KAAAD,EAAAC,KAAAb,IAAAU,EAAAZ,EAAA,OAGAA,EAAAY,EACAX,EAAAY,GAsDAjQ,OAAAqQ,iBAAA,YApDA,SAAAxW,GAEA,IAAAa,GADAb,KAAAmG,OAAAkK,OACAxP,OACA,GAAAA,aAAA4V,QAAA,CACA,IAAA5Z,EAAAgE,EAAA2O,QAAAhQ,cACAkX,EAAArB,IAAAxU,GAAAN,IAAA,YACA,WAAA1D,GAAA,OAAAA,GAAA,SAAA6Z,GAAA,WAAAA,EACA,OAEA3G,EAAAC,GAAAqF,IAAAxU,QACA,IAAAkP,EAAAC,IAAAD,EAAAC,GAAA1H,SAAA,gBACAyH,EAAAC,GAAAqF,IAAAxU,GAAAsM,QAAA,qBAEA,IAAA4C,EAAAC,IACAuF,EAAAK,EAAA5V,GACAwV,EAAAO,EAAA/V,GACAmG,OAAAqQ,iBAAA,YAAAP,GAAA,IAGAlG,EAAAC,QAAAlN,EAGAwS,GAAA,IA8BA,GACAnP,OAAAqQ,iBAAA,UA7BA,WACA,GAAAzG,EAAAC,GAAA,CAIA,GADA7J,OAAAwQ,oBAAA,YAAAV,GAAA,GACAX,EAAA,CACA,IAAAY,EAAAnG,EAAAC,GACAuG,OAAA,EAAAD,OAAA,EACA,GAAAJ,EAAA5N,SAAA,iBAAA4N,EAAA5N,SAAA,kBACAiO,EAAAL,EAAAxQ,YACA4Q,EAAAJ,EAAAR,iBAEA,CACA,IAAAW,EAAAH,EAAAG,WAAmDE,IAAA,EAAAD,KAAA,GACnDC,EAAAF,EAAAE,IAAAZ,IACAW,EAAAD,EAAAC,KAAAb,IAEAJ,EAAAzY,EAAAga,KAAA,yBACAtb,GAAA4a,EAAA5W,KAAA,MACAuX,QACAN,MACAD,UAGAhB,GAAA,EAEAvF,EAAAC,QAAAlN,KAGA,uFClGamR,aACT1Y,UAAW,QACXS,kBAAmB,oBACnBS,YACKkF,UAAW,gBAAiBH,KAAM,aAAcD,IAAK,IAAK+B,SAAU,MAAOG,UAAW,SACtF9B,UAAW,kBAAmBH,KAAM,UAAWD,IAAK,IAAK+B,SAAU,MAAOG,UAAW,SACrF9B,UAAW,qBAAsBH,KAAM,eAAgBD,IAAK,IAAK+B,SAAU,MAAOG,UAAW,SAC7F9B,UAAW,yBAA0BH,KAAM,gBAAiBD,IAAK,IAAK+B,SAAU,MAAOG,UAAW,SAClGhC,UAAW,MACXE,UAAW,qBAAsBH,KAAM,WAAYD,IAAK,IAAK+B,SAAU,aAAcG,UAAW,gBAChG9B,UAAW,eAAgBH,KAAM,SAAUD,IAAK,IAAK+B,SAAU,6BAA8BG,UAAW,cACxGhC,UAAW,MACXE,UAAW,WAAYH,KAAM,OAAQD,IAAK,IAAK+B,SAAU,kBAAmBG,UAAW,SAAUF,YAAa,eAC9G5B,UAAW,iBAAkBH,KAAM,QAASD,IAAK,IAAK+B,SAAU,4BAA6BG,UAAW,WAAYF,YAAa,eACjI9B,UAAW,MACXE,UAAW,aAAcH,KAAM,YAAagC,YAAa,SAACsT,GACnD,IAAI/P,EAAMgQ,mBAAmB5Q,OAAOnD,OAAO,MAAO,IAAIuB,QAClDyS,EAAMjQ,EAAIzJ,QAAQ,eACtB,OAAI0Z,EAAM,EAEC,eADPjQ,EAAMA,EAAInC,UAAUoS,EAAM,KACG,gBAEjC5M,MAAM,kBACC0M,EAAS5b,cAEvByG,UAAW,YAAaH,KAAM,2BAA4BgC,YAAa,SAACsT,GACjE,IAAI/P,EAAMgQ,mBAAmB5Q,OAAOnD,OAAO,MAAO,IAAIuB,QAClDyS,EAAMjQ,EAAIzJ,QAAQ,eACtB,OAAI0Z,EAAM,EAEC,UADPjQ,EAAMA,EAAInC,UAAUoS,EAAM,IAAI3X,QAAQ,YAAa,IAAIA,QAAQ,WAAY,IAAIA,QAAQ,IAAK,KACpE,WAE5B+K,MAAM,kBACC0M,EAAS5b,cAEvByG,UAAW,cAAeH,KAAM,aAAcgC,YAAa,yBAC3D7B,UAAW,WAAYH,KAAM,QAASgC,YAAa,6BACnD/B,UAAW,MACXE,UAAW,UAAWH,KAAM,QAAS8B,SAAU,YAAaG,UAAW,aAAcF,YAAa,iBAClG5B,UAAW,iBAAkBH,KAAM,aAAc8B,SAAU,eAAgBG,UAAW,kBACtF9B,UAAW,aAAcH,KAAM,QAAS8B,SAAU,UAAWG,UAAW,WAAYF,YAAa,0BAcjG9B,UAAW,MACXE,UAAW,sBAAuBH,KAAM,OAAQ8B,SAAU,SAAUG,UAAW,YAC/E9B,UAAW,UAAWH,KAAM,mBAAoB8B,SAAU,UAAWG,UAAW,uICnEzF,QAAAoF,EAAA,QACAA,EAAA,uDAaa0D,eAAe,SAAC0K,EAAUC,GACR,MAAvBD,EAAS5L,OAAO,KAChB4L,MAAeA,GAEQ,MAAvBC,EAAS7L,OAAO,KAChB6L,MAAeA,GAEnB,IAAI5K,GAAS,EAAAlE,EAAAC,SAAE4O,GAAUtS,MACH,iBAAX2H,GAAyC,KAAlBA,EAAO/H,OAIzC7J,UAAEkc,KAAK,qBACHzX,KAAM6H,mBAAmBsF,KAC1B5C,KAAK,SAACvK,IACL,EAAAiJ,EAAAC,SAAE6O,GAAUhQ,KAAK/H,IACjB,EAAAsO,EAAApF,UAAY,EAAAD,EAAAC,SAAE6O,KACd,EAAA9O,EAAAC,SAAE6O,GAAUjV,SACb0H,KAAK,SAAC1K,GACLmL,MAAMnL,MAVN,EAAAmJ,EAAAC,SAAE6O,GAAUhQ,KAAK,IAAI9E,QAmBhBoK,iBAAiB,SAAS2K,GACnC,IAAIC,GAAc,EAAAhP,EAAAC,SAAE8O,GAChBnc,EAASoc,EAAYjY,KAAK,UA+B9B,OA9BGnE,EAAOqc,OAEND,EAAY1P,SAASR,KACjB,kCAAoClM,EAAOsc,MAAQ,aAAetc,EAAOoF,OAAS,UAAYpF,EAAOgC,IAAM,+BAI/Goa,EAAY1P,SAASR,KACjB,0HAA4HlM,EAAOsc,MAAQ,aAAetc,EAAOoF,OAAS,wVAMrFpF,EAAOM,GAAK,2DACzCN,EAAOM,GAAK,4QAOpBN,EAAOM,GACvD,gFAOD","file":"js/42.js","sourcesContent":["// ----------------------------------------------------------------------------\n// markItUp! Universal MarkUp Engine, JQuery plugin\n// v 1.1.x\n// Dual licensed under the MIT and GPL licenses.\n// ----------------------------------------------------------------------------\n// Copyright (C) 2007-2012 Jay Salvat\n// http://markitup.jaysalvat.com/\n// ----------------------------------------------------------------------------\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n// ----------------------------------------------------------------------------\n(function($) {\n\t$.fn.markItUp = function(settings, extraSettings) {\n\t\tvar method, params, options, selection, ctrlKey, shiftKey, altKey; ctrlKey = shiftKey = altKey = false;\n\n\t\tif (typeof settings == 'string') {\n\t\t\tmethod = settings;\n\t\t\tparams = extraSettings;\n\t\t}\n\n\t\toptions = {\tid:\t\t\t\t\t\t'',\n\t\t\t\t\tnameSpace:\t\t\t\t'',\n\t\t\t\t\troot:\t\t\t\t\t'',\n\t\t\t\t\tpreviewHandler:\t\t\tfalse,\n\t\t\t\t\tpreviewInWindow:\t\t'', // 'width=800, height=600, resizable=yes, scrollbars=yes'\n\t\t\t\t\tpreviewInElement:\t\t'',\n\t\t\t\t\tpreviewAutoRefresh:\t\ttrue,\n\t\t\t\t\tpreviewPosition:\t\t'after',\n\t\t\t\t\tpreviewTemplatePath:\t'~/templates/preview.html',\n\t\t\t\t\tpreviewParser:\t\t\tfalse,\n\t\t\t\t\tpreviewParserPath:\t\t'',\n\t\t\t\t\tpreviewParserVar:\t\t'data',\n\t\t\t\t\tresizeHandle:\t\t\ttrue,\n\t\t\t\t\tbeforeInsert:\t\t\t'',\n\t\t\t\t\tafterInsert:\t\t\t'',\n\t\t\t\t\tonEnter:\t\t\t\t{},\n\t\t\t\t\tonShiftEnter:\t\t\t{},\n\t\t\t\t\tonCtrlEnter:\t\t\t{},\n\t\t\t\t\tonTab:\t\t\t\t\t{},\n\t\t\t\t\tmarkupSet:\t\t\t[\t{ /* set */ } ]\n\t\t\t\t};\n\t\t$.extend(options, settings, extraSettings);\n\n\t\t// compute markItUp! path\n\t\tif (!options.root) {\n\t\t\t$('script').each(function(a, tag) {\n\t\t\t\tvar miuScript;\n\t\t\t\tmiuScript = $(tag).get(0).src.match(/(.*)jquery\\.markitup(\\.pack)?\\.js$/);\n\t\t\t\tif (miuScript !== null) {\n\t\t\t\t\toptions.root = miuScript[1];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Quick patch to keep compatibility with jQuery 1.9\n\t\tvar uaMatch = function(ua) {\n\t\t\tua = ua.toLowerCase();\n\n\t\t\tvar match = /(chrome)[ \\/]([\\w.]+)/.exec(ua) ||\n\t\t\t\t/(webkit)[ \\/]([\\w.]+)/.exec(ua) ||\n\t\t\t\t/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) ||\n\t\t\t\t/(msie) ([\\w.]+)/.exec(ua) ||\n\t\t\t\tua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) ||\n\t\t\t\t[];\n\n\t\t\treturn {\n\t\t\t\tbrowser: match[ 1 ] || \"\",\n\t\t\t\tversion: match[ 2 ] || \"0\"\n\t\t\t};\n\t\t};\n\t\tvar matched = uaMatch( navigator.userAgent );\n\t\tvar browser = {};\n\n\t\tif (matched.browser) {\n\t\t\tbrowser[matched.browser] = true;\n\t\t\tbrowser.version = matched.version;\n\t\t}\n\t\tif (browser.chrome) {\n\t\t\tbrowser.webkit = true;\n\t\t} else if (browser.webkit) {\n\t\t\tbrowser.safari = true;\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar $$, textarea, levels, scrollPosition, caretPosition, caretOffset,\n\t\t\t\tclicked, hash, header, footer, previewWindow, template, iFrame, abort;\n\t\t\t$$ = $(this);\n\t\t\ttextarea = this;\n\t\t\tlevels = [];\n\t\t\tabort = false;\n\t\t\tscrollPosition = caretPosition = 0;\n\t\t\tcaretOffset = -1;\n\n\t\t\toptions.previewParserPath = localize(options.previewParserPath);\n\t\t\toptions.previewTemplatePath = localize(options.previewTemplatePath);\n\n\t\t\tif (method) {\n\t\t\t\tswitch(method) {\n\t\t\t\t\tcase 'remove':\n\t\t\t\t\t\tremove();\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'insert':\n\t\t\t\t\t\tmarkup(params);\n\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$.error('Method ' +  method + ' does not exist on jQuery.markItUp');\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// apply the computed path to ~/\n\t\t\tfunction localize(data, inText) {\n\t\t\t\tif (inText) {\n\t\t\t\t\treturn \tdata.replace(/(\"|')~\\//g, \"$1\"+options.root);\n\t\t\t\t}\n\t\t\t\treturn \tdata.replace(/^~\\//, options.root);\n\t\t\t}\n\n\t\t\t// init and build editor\n\t\t\tfunction init() {\n\t\t\t\tvar id = '', nameSpace = '', resizeHandle;\n\t\t\t\tif (options.id) {\n\t\t\t\t\tid = 'id=\"'+options.id+'\"';\n\t\t\t\t} else if ($$.attr(\"id\")) {\n\t\t\t\t\tid = 'id=\"markItUp'+($$.attr(\"id\").substr(0, 1).toUpperCase())+($$.attr(\"id\").substr(1))+'\"';\n\n\t\t\t\t}\n\t\t\t\tif (options.nameSpace) {\n\t\t\t\t\tnameSpace = 'class=\"'+options.nameSpace+'\"';\n\t\t\t\t}\n\t\t\t\t$$.wrap('<div '+nameSpace+'></div>');\n\t\t\t\t$$.wrap('<div '+id+' class=\"markItUp\"></div>');\n\t\t\t\t$$.wrap('<div class=\"markItUpContainer\"></div>');\n\t\t\t\t$$.addClass(\"markItUpEditor\");\n\n\t\t\t\t// add the header before the textarea\n\t\t\t\theader = $('<div class=\"markItUpHeader\"></div>').insertBefore($$);\n\t\t\t\t$(dropMenus(options.markupSet)).appendTo(header);\n\n\t\t\t\t// add the footer after the textarea\n\t\t\t\tfooter = $('<div class=\"markItUpFooter\"></div>').insertAfter($$);\n\n\t\t\t\t// add the resize handle after textarea\n\t\t\t\tif (options.resizeHandle === true && browser.safari !== true) {\n\t\t\t\t\tresizeHandle = $('<div class=\"markItUpResizeHandle\"></div>')\n\t\t\t\t\t\t.insertAfter($$)\n\t\t\t\t\t\t.bind(\"mousedown.markItUp\", function(e) {\n\t\t\t\t\t\t\tvar h = $$.height(), y = e.clientY, mouseMove, mouseUp;\n\t\t\t\t\t\t\tmouseMove = function(e) {\n\t\t\t\t\t\t\t\t$$.css(\"height\", Math.max(20, e.clientY+h-y)+\"px\");\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tmouseUp = function(e) {\n\t\t\t\t\t\t\t\t$(\"html\").unbind(\"mousemove.markItUp\", mouseMove).unbind(\"mouseup.markItUp\", mouseUp);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t$(\"html\").bind(\"mousemove.markItUp\", mouseMove).bind(\"mouseup.markItUp\", mouseUp);\n\t\t\t\t\t});\n\t\t\t\t\tfooter.append(resizeHandle);\n\t\t\t\t}\n\n\t\t\t\t// listen key events\n\t\t\t\t$$.bind('keydown.markItUp', keyPressed).bind('keyup', keyPressed);\n\n\t\t\t\t// bind an event to catch external calls\n\t\t\t\t$$.bind(\"insertion.markItUp\", function(e, settings) {\n\t\t\t\t\tif (settings.target !== false) {\n\t\t\t\t\t\tget();\n\t\t\t\t\t}\n\t\t\t\t\tif (textarea === $.markItUp.focused) {\n\t\t\t\t\t\tmarkup(settings);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// remember the last focus\n\t\t\t\t$$.bind('focus.markItUp', function() {\n\t\t\t\t\t$.markItUp.focused = this;\n\t\t\t\t});\n\n\t\t\t\tif (options.previewInElement) {\n\t\t\t\t\trefreshPreview();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// recursively build header with dropMenus from markupset\n\t\t\tfunction dropMenus(markupSet) {\n\t\t\t\tvar ul = $('<ul></ul>'), i = 0, li;\n\t\t\t\t$('li:hover > ul', ul).css('display', 'block');\n\t\t\t\t$.each(markupSet, function() {\n\t\t\t\t\tvar button = this, t = '', title, li, j;\n\t\t\t\t\ttitle = (button.key) ? (button.name||'')+' [Ctrl+'+button.key+']' : (button.name||'');\n\t\t\t\t\tvar key   = (button.key) ? 'accesskey=\"'+button.key+'\"' : '';\n\t\t\t\t\tif (button.separator) {\n\t\t\t\t\t\tli = $('<li class=\"markItUpSeparator\">'+(button.separator||'')+'</li>').appendTo(ul);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\tfor (j = levels.length -1; j >= 0; j--) {\n\t\t\t\t\t\t\tt += levels[j]+\"-\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tli = $('<li class=\"markItUpButton markItUpButton'+t+(i)+' '+(button.className||'')+'\"><a href=\"\" '+key+' title=\"'+title+'\">'+(button.name||'')+'</a></li>')\n\t\t\t\t\t\t.bind(\"contextmenu.markItUp\", function() { // prevent contextmenu on mac and allow ctrl+click\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).bind('click.markItUp', function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}).bind(\"focusin.markItUp\", function(){\n                            $$.focus();\n\t\t\t\t\t\t}).bind('mouseup', function() {\n\t\t\t\t\t\t\tif (button.call) {\n\t\t\t\t\t\t\t\teval(button.call)();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetTimeout(function() { markup(button) },1);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).bind('mouseenter.markItUp', function() {\n\t\t\t\t\t\t\t\t$('> ul', this).show();\n\t\t\t\t\t\t\t\t$(document).one('click', function() { // close dropmenu if click outside\n\t\t\t\t\t\t\t\t\t\t$('ul ul', header).hide();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}).bind('mouseleave.markItUp', function() {\n\t\t\t\t\t\t\t\t$('> ul', this).hide();\n\t\t\t\t\t\t}).appendTo(ul);\n\t\t\t\t\t\tif (button.dropMenu) {\n\t\t\t\t\t\t\tlevels.push(i);\n\t\t\t\t\t\t\t$(li).addClass('markItUpDropMenu').append(dropMenus(button.dropMenu));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlevels.pop();\n\t\t\t\treturn ul;\n\t\t\t}\n\n\t\t\t// markItUp! markups\n\t\t\tfunction magicMarkups(string) {\n\t\t\t\tif (string) {\n\t\t\t\t\tstring = string.toString();\n\t\t\t\t\tstring = string.replace(/\\(\\!\\(([\\s\\S]*?)\\)\\!\\)/g,\n\t\t\t\t\t\tfunction(x, a) {\n\t\t\t\t\t\t\tvar b = a.split('|!|');\n\t\t\t\t\t\t\tif (altKey === true) {\n\t\t\t\t\t\t\t\treturn (b[1] !== undefined) ? b[1] : b[0];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn (b[1] === undefined) ? \"\" : b[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\t// [![prompt]!], [![prompt:!:value]!]\n\t\t\t\t\tstring = string.replace(/\\[\\!\\[([\\s\\S]*?)\\]\\!\\]/g,\n\t\t\t\t\t\tfunction(x, a) {\n\t\t\t\t\t\t\tvar b = a.split(':!:');\n\t\t\t\t\t\t\tif (abort === true) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar value = prompt(b[0], (b[1]) ? b[1] : '');\n\t\t\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\t\t\tabort = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\treturn string;\n\t\t\t\t}\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\t// prepare action\n\t\t\tfunction prepare(action) {\n\t\t\t\tif ($.isFunction(action)) {\n\t\t\t\t\taction = action(hash);\n\t\t\t\t}\n\t\t\t\treturn magicMarkups(action);\n\t\t\t}\n\n\t\t\t// build block to insert\n\t\t\tfunction build(string) {\n\t\t\t\tvar openWith \t\t\t= prepare(clicked.openWith);\n\t\t\t\tvar placeHolder \t\t= prepare(clicked.placeHolder);\n\t\t\t\tvar replaceWith \t\t= prepare(clicked.replaceWith);\n\t\t\t\tvar closeWith \t\t\t= prepare(clicked.closeWith);\n\t\t\t\tvar openBlockWith \t\t= prepare(clicked.openBlockWith);\n\t\t\t\tvar closeBlockWith \t\t= prepare(clicked.closeBlockWith);\n\t\t\t\tvar multiline \t\t\t= clicked.multiline;\n\t\t\t\tvar block;\n\n\t\t\t\tif (replaceWith !== \"\") {\n\t\t\t\t\tblock = openWith + replaceWith + closeWith;\n\t\t\t\t} else if (selection === '' && placeHolder !== '') {\n\t\t\t\t\tblock = openWith + placeHolder + closeWith;\n\t\t\t\t} else {\n\t\t\t\t\tstring = string || selection;\n\n\t\t\t\t\tvar lines = [string], blocks = [];\n\n\t\t\t\t\tif (multiline === true) {\n\t\t\t\t\t\tlines = string.split(/\\r?\\n/);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var l = 0; l < lines.length; l++) {\n\t\t\t\t\t\tvar line = lines[l];\n\t\t\t\t\t\tvar trailingSpaces;\n\t\t\t\t\t\tif (trailingSpaces = line.match(/ *$/)) {\n\t\t\t\t\t\t\tblocks.push(openWith + line.replace(/ *$/g, '') + closeWith + trailingSpaces);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tblocks.push(openWith + line + closeWith);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tblock = blocks.join(\"\\n\");\n\t\t\t\t}\n\n\t\t\t\tblock = openBlockWith + block + closeBlockWith;\n\n\t\t\t\treturn {\tblock:block,\n\t\t\t\t\t\t\topenBlockWith:openBlockWith,\n\t\t\t\t\t\t\topenWith:openWith,\n\t\t\t\t\t\t\treplaceWith:replaceWith,\n\t\t\t\t\t\t\tplaceHolder:placeHolder,\n\t\t\t\t\t\t\tcloseWith:closeWith,\n\t\t\t\t\t\t\tcloseBlockWith:closeBlockWith\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\t// define markup to insert\n\t\t\tfunction markup(button) {\n\t\t\t\tvar len, j, n, i, lines, string, start;\n\t\t\t\thash = clicked = button;\n\t\t\t\tget();\n\t\t\t\t$.extend(hash, {\tline:\"\",\n\t\t\t\t\t\t \t\t\troot:options.root,\n\t\t\t\t\t\t\t\t\ttextarea:textarea,\n\t\t\t\t\t\t\t\t\tselection:(selection||''),\n\t\t\t\t\t\t\t\t\tcaretPosition:caretPosition,\n\t\t\t\t\t\t\t\t\tctrlKey:ctrlKey,\n\t\t\t\t\t\t\t\t\tshiftKey:shiftKey,\n\t\t\t\t\t\t\t\t\taltKey:altKey\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t// callbacks before insertion\n\t\t\t\tprepare(options.beforeInsert);\n\t\t\t\tprepare(clicked.beforeInsert);\n\t\t\t\tif ((ctrlKey === true && shiftKey === true) || button.multiline === true) {\n\t\t\t\t\tprepare(clicked.beforeMultiInsert);\n\t\t\t\t}\n\t\t\t\t$.extend(hash, { line:1 });\n\n\t\t\t\tif ((ctrlKey === true && shiftKey === true)) {\n\t\t\t\t\tlines = selection.split(/\\r?\\n/);\n\t\t\t\t\tfor (j = 0, n = lines.length, i = 0; i < n; i++) {\n\t\t\t\t\t\tif ($.trim(lines[i]) !== '') {\n\t\t\t\t\t\t\t$.extend(hash, { line:++j, selection:lines[i] } );\n\t\t\t\t\t\t\tlines[i] = build(lines[i]).block;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlines[i] = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tstring = { block:lines.join('\\n')};\n\t\t\t\t\tstart = caretPosition;\n\t\t\t\t\tlen = string.block.length + ((browser.opera) ? n-1 : 0);\n\t\t\t\t} else if (ctrlKey === true) {\n\t\t\t\t\tstring = build(selection);\n\t\t\t\t\tstart = caretPosition + string.openWith.length;\n\t\t\t\t\tlen = string.block.length - string.openWith.length - string.closeWith.length;\n\t\t\t\t\tlen = len - (string.block.match(/ $/) ? 1 : 0);\n\t\t\t\t\tlen -= fixIeBug(string.block);\n\t\t\t\t} else if (shiftKey === true) {\n\t\t\t\t\tstring = build(selection);\n\t\t\t\t\tstart = caretPosition;\n\t\t\t\t\tlen = string.block.length;\n\t\t\t\t\tlen -= fixIeBug(string.block);\n\t\t\t\t} else {\n\t\t\t\t\tstring = build(selection);\n\t\t\t\t\tstart = caretPosition + string.block.length ;\n\t\t\t\t\tlen = 0;\n\t\t\t\t\tstart -= fixIeBug(string.block);\n\t\t\t\t}\n\t\t\t\tif ((selection === '' && string.replaceWith === '')) {\n\t\t\t\t\tcaretOffset += fixOperaBug(string.block);\n\n\t\t\t\t\tstart = caretPosition + string.openBlockWith.length + string.openWith.length;\n\t\t\t\t\tlen = string.block.length - string.openBlockWith.length - string.openWith.length - string.closeWith.length - string.closeBlockWith.length;\n\n\t\t\t\t\tcaretOffset = $$.val().substring(caretPosition,  $$.val().length).length;\n\t\t\t\t\tcaretOffset -= fixOperaBug($$.val().substring(0, caretPosition));\n\t\t\t\t}\n\t\t\t\t$.extend(hash, { caretPosition:caretPosition, scrollPosition:scrollPosition } );\n\n\t\t\t\tif (string.block !== selection && abort === false) {\n\t\t\t\t\tinsert(string.block);\n\t\t\t\t\tset(start, len);\n\t\t\t\t} else {\n\t\t\t\t\tcaretOffset = -1;\n\t\t\t\t}\n\t\t\t\tget();\n\n\t\t\t\t$.extend(hash, { line:'', selection:selection });\n\n\t\t\t\t// callbacks after insertion\n\t\t\t\tif ((ctrlKey === true && shiftKey === true) || button.multiline === true) {\n\t\t\t\t\tprepare(clicked.afterMultiInsert);\n\t\t\t\t}\n\t\t\t\tprepare(clicked.afterInsert);\n\t\t\t\tprepare(options.afterInsert);\n\n\t\t\t\t// refresh preview if opened\n\t\t\t\tif (previewWindow && options.previewAutoRefresh) {\n\t\t\t\t\trefreshPreview();\n\t\t\t\t}\n\n\t\t\t\t// reinit keyevent\n\t\t\t\tshiftKey = altKey = ctrlKey = abort = false;\n\t\t\t}\n\n\t\t\t// Substract linefeed in Opera\n\t\t\tfunction fixOperaBug(string) {\n\t\t\t\tif (browser.opera) {\n\t\t\t\t\treturn string.length - string.replace(/\\n*/g, '').length;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\t// Substract linefeed in IE\n\t\t\tfunction fixIeBug(string) {\n\t\t\t\tif (browser.msie) {\n\t\t\t\t\treturn string.length - string.replace(/\\r*/g, '').length;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\t// add markup\n\t\t\tfunction insert(block) {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tvar newSelection = document.selection.createRange();\n\t\t\t\t\tnewSelection.text = block;\n\t\t\t\t} else {\n\t\t\t\t\ttextarea.value =  textarea.value.substring(0, caretPosition)  + block + textarea.value.substring(caretPosition + selection.length, textarea.value.length);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// set a selection\n\t\t\tfunction set(start, len) {\n\t\t\t\tif (textarea.createTextRange){\n\t\t\t\t\t// quick fix to make it work on Opera 9.5\n\t\t\t\t\tif (browser.opera && browser.version >= 9.5 && len == 0) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\trange = textarea.createTextRange();\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\trange.moveStart('character', start);\n\t\t\t\t\trange.moveEnd('character', len);\n\t\t\t\t\trange.select();\n\t\t\t\t} else if (textarea.setSelectionRange ){\n\t\t\t\t\ttextarea.setSelectionRange(start, start + len);\n\t\t\t\t}\n\t\t\t\ttextarea.scrollTop = scrollPosition;\n\t\t\t\ttextarea.focus();\n\t\t\t}\n\n\t\t\t// get the selection\n\t\t\tfunction get() {\n\t\t\t\ttextarea.focus();\n\n\t\t\t\tscrollPosition = textarea.scrollTop;\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tselection = document.selection.createRange().text;\n\t\t\t\t\tif (browser.msie) { // ie\n\t\t\t\t\t\tvar range = document.selection.createRange(), rangeCopy = range.duplicate();\n\t\t\t\t\t\trangeCopy.moveToElementText(textarea);\n\t\t\t\t\t\tcaretPosition = -1;\n\t\t\t\t\t\twhile(rangeCopy.inRange(range)) {\n\t\t\t\t\t\t\trangeCopy.moveStart('character');\n\t\t\t\t\t\t\tcaretPosition ++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // opera\n\t\t\t\t\t\tcaretPosition = textarea.selectionStart;\n\t\t\t\t\t}\n\t\t\t\t} else { // gecko & webkit\n\t\t\t\t\tcaretPosition = textarea.selectionStart;\n\n\t\t\t\t\tselection = textarea.value.substring(caretPosition, textarea.selectionEnd);\n\t\t\t\t}\n\t\t\t\treturn selection;\n\t\t\t}\n\n\t\t\t// open preview window\n\t\t\tfunction preview() {\n\t\t\t\tif (typeof options.previewHandler === 'function') {\n\t\t\t\t\tpreviewWindow = true;\n\t\t\t\t} else if (options.previewInElement) {\n\t\t\t\t\tpreviewWindow = $(options.previewInElement);\n\t\t\t\t} else if (!previewWindow || previewWindow.closed) {\n\t\t\t\t\tif (options.previewInWindow) {\n\t\t\t\t\t\tpreviewWindow = window.open('', 'preview', options.previewInWindow);\n\t\t\t\t\t\t$(window).unload(function() {\n\t\t\t\t\t\t\tpreviewWindow.close();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tiFrame = $('<iframe class=\"markItUpPreviewFrame\"></iframe>');\n\t\t\t\t\t\tif (options.previewPosition == 'after') {\n\t\t\t\t\t\t\tiFrame.insertAfter(footer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tiFrame.insertBefore(header);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpreviewWindow = iFrame[iFrame.length - 1].contentWindow || frame[iFrame.length - 1];\n\t\t\t\t\t}\n\t\t\t\t} else if (altKey === true) {\n\t\t\t\t\tif (iFrame) {\n\t\t\t\t\t\tiFrame.remove();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpreviewWindow.close();\n\t\t\t\t\t}\n\t\t\t\t\tpreviewWindow = iFrame = false;\n\t\t\t\t}\n\t\t\t\tif (!options.previewAutoRefresh) {\n\t\t\t\t\trefreshPreview();\n\t\t\t\t}\n\t\t\t\tif (options.previewInWindow) {\n\t\t\t\t\tpreviewWindow.focus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// refresh Preview window\n\t\t\tfunction refreshPreview() {\n \t\t\t\trenderPreview();\n\t\t\t}\n\n\t\t\tfunction renderPreview() {\n\t\t\t\tvar phtml;\n\t\t\t\tif (options.previewHandler && typeof options.previewHandler === 'function') {\n\t\t\t\t\toptions.previewHandler( $$.val() );\n\t\t\t\t} else if (options.previewParser && typeof options.previewParser === 'function') {\n\t\t\t\t\tvar data = options.previewParser( $$.val() );\n\t\t\t\t\twriteInPreview(localize(data, 1) );\n\t\t\t\t} else if (options.previewParserPath !== '') {\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdataType: 'text',\n\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\turl: options.previewParserPath,\n\t\t\t\t\t\tdata: options.previewParserVar+'='+encodeURIComponent($$.val()),\n\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\twriteInPreview( localize(data, 1) );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (!template) {\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: options.previewTemplatePath,\n\t\t\t\t\t\t\tdataType: 'text',\n\t\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\twriteInPreview( localize(data, 1).replace(/<!-- content -->/g, $$.val()) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfunction writeInPreview(data) {\n\t\t\t\tif (options.previewInElement) {\n\t\t\t\t\t$(options.previewInElement).html(data);\n\t\t\t\t} else if (previewWindow && previewWindow.document) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tsp = previewWindow.document.documentElement.scrollTop\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tsp = 0;\n\t\t\t\t\t}\n\t\t\t\t\tpreviewWindow.document.open();\n\t\t\t\t\tpreviewWindow.document.write(data);\n\t\t\t\t\tpreviewWindow.document.close();\n\t\t\t\t\tpreviewWindow.document.documentElement.scrollTop = sp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// set keys pressed\n\t\t\tfunction keyPressed(e) {\n\t\t\t\tshiftKey = e.shiftKey;\n\t\t\t\taltKey = e.altKey;\n\t\t\t\tctrlKey = (!(e.altKey && e.ctrlKey)) ? (e.ctrlKey || e.metaKey) : false;\n\n\t\t\t\tif (e.type === 'keydown') {\n\t\t\t\t\tif (ctrlKey === true) {\n\t\t\t\t\t\tli = $('a[accesskey=\"'+((e.keyCode == 13) ? '\\\\n' : String.fromCharCode(e.keyCode))+'\"]', header).parent('li');\n\t\t\t\t\t\tif (li.length !== 0) {\n\t\t\t\t\t\t\tctrlKey = false;\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tli.triggerHandler('mouseup');\n\t\t\t\t\t\t\t},1);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode === 13 || e.keyCode === 10) { // Enter key\n\t\t\t\t\t\tif (ctrlKey === true) {  // Enter + Ctrl\n\t\t\t\t\t\t\tctrlKey = false;\n\t\t\t\t\t\t\tmarkup(options.onCtrlEnter);\n\t\t\t\t\t\t\treturn options.onCtrlEnter.keepDefault;\n\t\t\t\t\t\t} else if (shiftKey === true) { // Enter + Shift\n\t\t\t\t\t\t\tshiftKey = false;\n\t\t\t\t\t\t\tmarkup(options.onShiftEnter);\n\t\t\t\t\t\t\treturn options.onShiftEnter.keepDefault;\n\t\t\t\t\t\t} else { // only Enter\n\t\t\t\t\t\t\tmarkup(options.onEnter);\n\t\t\t\t\t\t\treturn options.onEnter.keepDefault;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode === 9) { // Tab key\n\t\t\t\t\t\tif (shiftKey == true || ctrlKey == true || altKey == true) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (caretOffset !== -1) {\n\t\t\t\t\t\t\tget();\n\t\t\t\t\t\t\tcaretOffset = $$.val().length - caretOffset;\n\t\t\t\t\t\t\tset(caretOffset, 0);\n\t\t\t\t\t\t\tcaretOffset = -1;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmarkup(options.onTab);\n\t\t\t\t\t\t\treturn options.onTab.keepDefault;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction remove() {\n\t\t\t\t$$.unbind(\".markItUp\").removeClass('markItUpEditor');\n\t\t\t\t$$.parent('div').parent('div.markItUp').parent('div').replaceWith($$);\n\t\t\t\t$$.data('markItUp', null);\n\t\t\t}\n\n\t\t\tinit();\n\t\t});\n\t};\n\n\t$.fn.markItUpRemove = function() {\n\t\treturn this.each(function() {\n\t\t\t\t$(this).markItUp('remove');\n\t\t\t}\n\t\t);\n\t};\n\n\t$.markItUp = function(settings) {\n\t\tvar options = { target:false };\n\t\t$.extend(options, settings);\n\t\tif (options.target) {\n\t\t\treturn $(options.target).each(function() {\n\t\t\t\t$(this).focus();\n\t\t\t\t$(this).trigger('insertion', [options]);\n\t\t\t});\n\t\t} else {\n\t\t\t$('textarea').trigger('insertion', [options]);\n\t\t}\n\t};\n})(jQuery);\n","import $ from 'jquery';\n\n/**\n * @param {string} htmlString\n * @returns {boolean}\n */\nexport function modalOpen(htmlString = '') {\n    if ($(this).hasClass('confirm') && !confirm($(this).attr('title') + '.\\n\\nWeet u het zeker?')) {\n        return false;\n    }\n\n    let modal = $('#modal'),\n        modalBackdrop = $('.modal-backdrop');\n\n    if (modal.html() === '' && htmlString === '') {\n        return false;\n    }\n\n    if (modalBackdrop.length){\n        modalBackdrop.remove();\n    }\n\n    modal.modal('show');\n    $(document.body).trigger('modalOpen');\n\n\n    if (typeof htmlString === 'string' && htmlString !== '') {\n        modal.html(htmlString);\n        modal.find('input:visible:first').trigger('focus');\n    }\n\n    return true;\n}\n\nexport function modalClose() {\n    $('#modal').modal('hide');\n    $(document.body).trigger('modalClose');\n}\n","import $ from 'jquery';\nimport {modalClose} from './modal';\n\n/**\n * @see maalcie.js\n * @param {string} type\n * @param {string} url\n * @param {string} data\n * @param {jQuery} source\n * @param {function} onsuccess\n * @param {function|null} onerror\n * @param {function|null} onfinish\n */\nexport function ajaxRequest(type, url, data, source, onsuccess, onerror, onfinish = null) {\n\tif (source) {\n\t\tif (!source.hasClass('noanim')) {\n\t\t\t$(source).replaceWith(`<img id=\"${source.attr('id')}\" title=\"${url}\" src=\"/images/loading-arrows.gif\" />`);\n\t\t\tsource = $(`img[title=\"${url}\"]`);\n\t\t}\n\t\telse if (source.hasClass('InlineForm')) {\n\t\t\t$(source).find('.FormElement:first').css({\n\t\t\t\t'background-image': 'url(\"/images/loading-fb.gif\")',\n\t\t\t\t'background-repeat': 'no-repeat',\n\t\t\t\t'background-position': 'center right',\n\t\t\t});\n\t\t} else {\n\t\t\tsource.addClass('loading');\n\t\t}\n\t}\n\tlet contentType = 'application/x-www-form-urlencoded; charset=UTF-8';\n\tlet processData = true;\n\tif (data instanceof FormData) {\n\t\tcontentType = false;\n\t\tprocessData = false;\n\t}\n\t$.ajax({\n\t\ttype,\n\t\tcache: false,\n\t\tcontentType,\n\t\tprocessData,\n\t\turl,\n\t\tdata,\n\t}).done((data) => {\n\t\tif (source) {\n\t\t\tif (!$(source).hasClass('noanim')) {\n\t\t\t\t$(source).hide();\n\t\t\t}\n\t\t\telse if ($(source).hasClass('InlineForm')) {\n\t\t\t\t$(source).find('.FormElement:first').css({\n\t\t\t\t\t'background-image': '',\n\t\t\t\t\t'background-repeat': '',\n\t\t\t\t\t'background-position': '',\n\t\t\t\t});\n\t\t\t}\n\t\t\tsource.removeClass('loading');\n\t\t}\n\t\tonsuccess(data);\n\t}).fail((data, textStatus, errorThrown) => {\n\t\tif (errorThrown === '') {\n\t\t\terrorThrown = 'Nog bezig met laden!';\n\t\t}\n\t\tif (source) {\n\t\t\t$(source).replaceWith('<img title=\"' + errorThrown + '\" src=\"/plaetjes/famfamfam/cancel.png\" />');\n\t\t}\n\t\telse {\n\t\t\tmodalClose();\n\t\t}\n\t\tif (onerror) {\n\t\t\tonerror(data.responseText);\n\t\t}\n\t}).always(() => {\n\t\tif (onfinish) {\n\t\t\tonfinish();\n\t\t}\n\t});\n}\n\n/**\n * @param url\n * @param ketzer\n * @returns {boolean}\n */\nexport function ketzerAjax(url, ketzer) {\n\t$(ketzer + ' .aanmelddata').html('Aangemeld:<br /><img src=\"/images/loading-arrows.gif\" />');\n\t$.ajax({\n\t\ttype: 'GET',\n\t\tcache: false,\n\t\turl: url,\n\t\tdata: '',\n\t}).done((data) => {\n\t\t$(ketzer).replaceWith(data);\n\t}).fail((jqXHR, textStatus, errorThrown) => {\n\t\t$(ketzer + ' .aanmelddata').html('<span class=\"error\">Error: </span>' + errorThrown);\n\t\talert(jqXHR.responseText);\n\t});\n\treturn true;\n}\n","import {domUpdate} from './context';\n\n/**\n * @source http://stackoverflow.com/a/7228322\n * @see templates/fotoalbum/slider.tpl\n * @param {number} min\n * @param {number} max\n * @returns {number}\n */\nexport function randomIntFromInterval(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n/**\n * Selecteer de tekst van een DOM-element.\n * @source http://stackoverflow.com/questions/985272/jquery-selecting-text-in-an-element-akin-to-highlighting-with-your-mouse/987376#987376\n *\n * @see templates/fotoalbum/album.tpl\n * @param {Node} elmnt DOM-object\n */\nexport function selectText(elmnt) {\n    let range, selection;\n    if (document.body.createTextRange) { //ms\n        range = document.body.createTextRange();\n        range.moveToElementText(elmnt);\n        range.select();\n    } else if (window.getSelection) { //all others\n        selection = window.getSelection();\n        range = document.createRange();\n        range.selectNodeContents(elmnt);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    }\n}\n\n\n/**\n //  discuss at: http://phpjs.org/functions/dirname/\n // original by: Ozh\n // improved by: XoraX (http://www.xorax.info)\n //   example 1: dirname('/etc/passwd');\n //   returns 1: '/etc'\n //   example 2: dirname('c:/Temp/x');\n //   returns 2: 'c:/Temp'\n //   example 3: dirname('/dir/test/');\n //   returns 3: '/dir'\n * @see templates/fotoalbum/album.tpl\n * @param {string} path\n * @returns {string}\n */\nexport function dirname(path) {\n    return path.replace(/\\\\/g, '/')\n        .replace(/\\/[^/]*\\/?$/, '');\n}\n\n/**\n * @see templates/fotoalbum/album.tpl\n * @param {string} path\n * @param {string} suffix\n * @returns {string}\n */\nexport function basename(path, suffix) {\n    //  discuss at: http://phpjs.org/functions/basename/\n    // original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // improved by: Ash Searle (http://hexmen.com/blog/)\n    // improved by: Lincoln Ramsay\n    // improved by: djmix\n    // improved by: Dmitry Gorelenkov\n    //   example 1: basename('/www/site/home.htm', '.htm');\n    //   returns 1: 'home'\n    //   example 2: basename('ecra.php?p=1');\n    //   returns 2: 'ecra.php?p=1'\n    //   example 3: basename('/some/path/');\n    //   returns 3: 'path'\n    //   example 4: basename('/some/path_ext.ext/','.ext');\n    //   returns 4: 'path_ext'\n\n    let base = path;\n    let lastChar = base.charAt(base.length - 1);\n\n    if (lastChar === '/' || lastChar === '\\\\') {\n        base = base.slice(0, -1);\n    }\n\n    base = base.replace(/^.*[/\\\\]/g, '');\n\n    if (typeof suffix === 'string' && base.substr(base.length - suffix.length) === suffix) {\n        base = base.substr(0, base.length - suffix.length);\n    }\n\n    return base;\n}\n\n/**\n * @param {string} htmlString\n */\nexport function reload(htmlString) {\n    // prevent hidden errors\n    if (typeof htmlString === 'string' && htmlString.substring(0, 16) === '<div id=\"modal\" ') {\n\t\t\t\tdomUpdate(htmlString);\n        return;\n    }\n    location.reload();\n}\n\n/**\n * @param {string} htmlString\n */\nexport function redirect(htmlString) {\n    // prevent hidden errors\n    if (typeof htmlString === 'string' && htmlString.substring(0, 16) === '<div id=\"modal\" ') {\n        domUpdate(htmlString);\n        return;\n    }\n    window.location.href = htmlString;\n}\n\nexport function route(path, cb) {\n\tif (window.location.pathname.startsWith(path)) {\n\t\tcb();\n\t}\n}\n","/**\n * Wordt geladen als de pagina geladen is.\n */\nimport $ from 'jquery';\nimport initContext from './context';\nimport {bbvideoDisplay, CsrBBPreview} from './bbcode';\n\nrequire('lightbox2');\nrequire('./lib/jquery.markitup');\nrequire('jquery-ui/ui/widgets/tooltip');\nrequire('jquery-hoverintent');\nrequire('jgallery/dist/js/jgallery');\n\n$.widget.bridge('uitooltip', $.ui.tooltip);\n\nrequire('timeago');\n\nwindow.bbcode = {\n\tCsrBBPreview,\n\tbbvideoDisplay,\n};\n\nlet $window = $(window),\n\t$body = $('body'),\n\t$header = $('#header'),\n\t$banner = $('#banner');\n\nif (typeof $banner[0] === 'undefined') {\n\t$banner = $('#banner-small');\n}\n\n$window.on('load', function () {\n\t// Lazy load cms pages, these should be loaded always, not on scroll\n\tsetTimeout(function () {\n\t\t$('div.bb-img-loading').each(function () {\n\t\t\tconst content = $(document.createElement('img'));\n\t\t\tcontent.on('error', function () {\n\t\t\t\t$(this).attr('title', 'Afbeelding bestaat niet of is niet toegankelijk!');\n\t\t\t\t$(this).attr('src', '/plaetjes/famfamfam/picture_error.png');\n\t\t\t\t$(this).css('width', '16px');\n\t\t\t\t$(this).css('height', '16px');\n\t\t\t\t$(this).removeClass('bb-img-loading').addClass('bb-img');\n\t\t\t});\n\t\t\tcontent.addClass('bb-img');\n\t\t\tcontent.attr('alt', $(this).attr('title'));\n\t\t\tcontent.attr('style', $(this).attr('style'));\n\t\t\tcontent.attr('src', $(this).attr('src'));\n\t\t\t$(this).html(content);\n\t\t\tcontent.on('load', function () {\n\t\t\t\tconst foto = content.attr('src').indexOf('/plaetjes/fotoalbum/') >= 0;\n\t\t\t\tconst video = $(this).parent().parent().hasClass('bb-video-preview');\n\t\t\t\tconst hasAnchor = $(this).closest('a').length !== 0;\n\t\t\t\t$(this).parent().replaceWith($(this));\n\t\t\t\tif (!foto && !video && !hasAnchor) {\n\t\t\t\t\t$(this).wrap(`<a class=\"lightbox-link\" href=\"${$(this).attr('src')}\" data-lightbox=\"page-lightbox\"></a>`);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n});\n\nconst lazyLoad = (function () {\n\tlet hasLoaded = false;\n\n\treturn function () {\n\t\tif (hasLoaded) {\n\t\t\treturn;\n\t\t}\n\n\t\thasLoaded = true;\n\n\t\t// Lazy load frontpage\n\t\tsetTimeout(function () {\n\t\t\t$('.lazy-load').each(function () {\n\t\t\t\t$(this).replaceWith(this.textContent);\n\t\t\t});\n\t\t});\n\t};\n})();\n\n// Lazy load after animations have finished and user has scrolled\n$window.on('scroll', () => {\n\tif ($(window).scrollTop() > 0) {\n\t\tlazyLoad();\n\t}\n\n\tif (window.pageYOffset > $banner.outerHeight()) {\n\t\t$header.removeClass('alt');\n\t} else {\n\t\t$header.addClass('alt');\n\t}\n});\n\n$window.on('resize', () => $window.trigger('scroll'));\n$window.trigger('scroll');\n\ninitContext($body);\n","import $ from 'jquery';\n\nimport initContext from './context';\n\n/****************************\n * Een paar functies om met datatables te\n * praten, laadt datatables zelf niet in.\n */\n\n/**\n * @see datatable.js\n * @see view/formulier/datatable/DataTable.php\n * @param tableId\n * @param response\n */\nexport function fnUpdateDataTable(tableId, response) {\n    let $table = $(tableId);\n    let table = $table.DataTable();\n    // update or remove existing rows or add new rows\n    response.data.forEach((row) => {\n        let $tr = $('tr[data-uuid=\"' + row.UUID + '\"]');\n        if ($tr.length === 1) {\n            if ('remove' in row) {\n                table.row($tr).remove();\n            }\n            else {\n                table.row($tr).data(row);\n                initContext($tr);\n            }\n        }\n        else if ($tr.length === 0) {\n            table.row.add(row);\n        }\n        else {\n            alert($tr.length);\n        }\n    });\n    table.draw(false);\n}\n\n/**\n * @see csrdelft.js\n * @param tableId\n * @returns {Array}\n */\nexport function fnGetSelection(tableId) {\n    let selection = [];\n    $(tableId + ' tbody tr.selected').each(function () {\n        selection.push($(this).attr('data-uuid'));\n    });\n    return selection;\n}","/**\n * maalcie.js\t|\tP.W.G. Brussee (brussee@live.nl)\n *\n * requires jQuery & dragobject.js\n */\nimport $ from 'jquery';\n\nimport {ajaxRequest} from './ajax';\nimport {domUpdate} from './context';\nimport {dragObject} from './dragobject';\n\n/**\n * @param {string} datum\n * @param {number} index\n */\nfunction takenToggleDatumFirst(datum, index) {\n    if ('taak-datum-head-' + datum === $('#maalcie-tabel tr:visible').eq(index).attr('id')) {\n        $('#taak-datum-head-first').toggle();\n    }\n}\n\nfunction takenColorDatum() {\n    $('tr.taak-datum-summary:visible:odd th').css('background-color', '#FAFAFA');\n    $('tr.taak-datum-summary:visible:even th').css('background-color', '#f5f5f5');\n}\n\n/**\n * @param {string} datum\n */\nexport function takenToggleDatum(datum) {\n\ttakenToggleDatumFirst(datum, 0);\n\t$('.taak-datum-' + datum).toggle();\n\ttakenToggleDatumFirst(datum, 1);\n\ttakenColorDatum();\n\n}\n\n\nexport function takenShowOld() {\n\t$('#taak-datum-head-first').show();\n\t$('tr.taak-datum-oud').show();\n\ttakenColorDatum();\n}\n\nexport function takenColorSuggesties() {\n    let $suggestiesTabel = $('#suggesties-tabel');\n    $suggestiesTabel.find('tr:visible:odd').css('background-color', '#FAFAFA');\n    $suggestiesTabel.find('tr:visible:even').css('background-color', '#EBEBEB');\n}\n\n/**\n * @param {string} soort\n * @param {boolean} show\n */\nexport function takenToggleSuggestie(soort, show) {\n\t$('#suggesties-tabel .' + soort).each(function () {\n        let verborgen = 0;\n        if (typeof show !== 'undefined') {\n\t\t\tif (show) {\n\t\t\t\t$(this).removeClass(soort + 'verborgen');\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$(this).addClass(soort + 'verborgen');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t$(this).toggleClass(soort + 'verborgen');\n\t\t}\n\t\tif ($(this).hasClass('geenvoorkeurverborgen')) {\n\t\t\tverborgen++;\n\t\t}\n\t\tif ($(this).hasClass('recentverborgen')) {\n\t\t\tverborgen++;\n\t\t}\n\t\tif ($(this).hasClass('jongsteverborgen')) {\n\t\t\tverborgen++;\n\t\t}\n\t\tif ($(this).hasClass('oudereverborgen')) {\n\t\t\tverborgen++;\n\t\t}\n\t\tif (verborgen > 0) {\n\t\t\t$(this).hide();\n\t\t}\n\t\telse {\n\t\t\t$(this).show();\n\t\t}\n\t});\n\ttakenColorSuggesties();\n}\n\nlet lastSelectedId;\n/**\n * @param {KeyboardEvent} e\n */\nexport function takenSelectRange(e) {\n\tlet withinRange = false;\n\t$('#maalcie-tabel').find('tbody tr td a input[name=\"' + $(e.target).attr('name') + '\"]:visible').each(function () {\n\t\tlet thisId = $(this).attr('id');\n\t\tif (thisId === lastSelectedId) {\n\t\t\twithinRange = !withinRange;\n\t\t}\n\t\tif (thisId === e.target.id) {\n\t\t\twithinRange = !withinRange;\n\t\t\tlet check = $(this).prop('checked');\n\t\t\tsetTimeout(function () { // workaround e.preventDefault()\n\t\t\t\t$('#' + thisId).prop('checked', check);\n\t\t\t}, 50);\n\t\t}\n\t\telse if (e.shiftKey && withinRange) {\n\t\t\t$(this).prop('checked', true);\n\t\t}\n\t});\n\tlastSelectedId = e.target.id;\n}\n\n/**\n * @param {Event} e\n * @returns {boolean}\n */\nexport function takenSubmitRange(e) {\n\tif (e.target.tagName.toUpperCase() === 'IMG') { // over an image inside of anchor\n\t\te.target = $(e.target).parent();\n\t}\n\t$(e.target).find('input').prop('checked', true);\n\tif ($(e.target).hasClass('confirm') && !confirm($(e.target).attr('title') + '.\\n\\nWeet u het zeker?')) {\n\t\treturn false;\n\t}\n\t$('input[name=\"' + $(e.target).find('input:first').attr('name') + '\"]:visible').each(function () {\n\t\tif ($(this).prop('checked')) {\n\t\t\tajaxRequest('POST', $(this).parent().attr('href'), $(this).parent().attr('post'), $(this).parent(), domUpdate, alert);\n\t\t}\n\t});\n}\n\n/* Ruilen van CorveeTaak */\n\n/**\n * @param {Event} e\n */\nfunction takenMagRuilen(e) {\n\tif (e.target.tagName.toUpperCase() === 'IMG') { // over an image inside of anchor\n\t\te.target = $(e.target).parent();\n\t}\n\n\tlet source= dragObject.el;\n\tif ($(source).attr('id') !== $(e.target).attr('id')) {\n\t\te.preventDefault();\n\t}\n}\n\n/**\n * @param {Event} e\n */\nfunction takenRuilen(e) {\n\te.preventDefault();\n\tlet elmnt = e.target;\n\tif (elmnt.tagName.toUpperCase() === 'IMG') { // dropped on image inside of anchor\n\t\telmnt = $(elmnt).parent();\n\t}\n\tlet source = dragObject.el;\n\tif (!confirm('Toegekende corveepunten worden meegeruild!\\n\\nDoorgaan met ruilen?')) {\n\t\treturn;\n\t}\n\tlet attr = $(source).attr('uid');\n\tif (typeof attr === 'undefined' || attr === false) {\n\t\tattr = '';\n\t}\n\tajaxRequest('POST', $(elmnt).attr('href'), 'uid=' + attr, elmnt, domUpdate, alert);\n\tattr = $(elmnt).attr('uid');\n\tif (typeof attr === 'undefined' || attr === false) {\n\t\tattr = '';\n\t}\n\tajaxRequest('POST', $(source).attr('href'), 'uid=' + attr, source, domUpdate, alert);\n}\n\n$(function () {\n    $('a.ruilen').each(function () {\n        $(this).removeClass('ruilen');\n        $(this).on('dragover', takenMagRuilen);\n        $(this).on('drop', takenRuilen);\n    });\n});\n","import $ from 'jquery';\n\nimport {modalClose, modalOpen} from './modal';\nimport {ajaxRequest} from './ajax';\nimport initContext, {domUpdate} from './context';\nimport {fnUpdateDataTable} from './datatable-api';\n\nimport {redirect, reload} from './util';\nimport {fnGetSelection} from './datatable-api';\n\nexport function formIsChanged(form) {\n    let changed = false;\n    $(form).find('.FormElement').not('.tt-hint').each(function () {\n        let elmnt = $(this);\n        if (elmnt.is('input:radio')) {\n            if (elmnt.is(':checked') && elmnt.attr('origvalue') !== elmnt.val()) {\n                changed = true;\n                return false; // break each\n            }\n        }\n        else if (elmnt.is('input:checkbox')) {\n            if (elmnt.is(':checked') !== (elmnt.attr('origvalue') === '1')) {\n                changed = true;\n                return false; // break each\n            }\n        }\n        else if (elmnt.val() !== elmnt.attr('origvalue')) {\n            changed = true;\n            return false; // break each\n        }\n    });\n    return changed;\n}\n\n/**\n * @see templates/instellingen/beheer/instelling_row.tpl\n * @param form\n */\nexport function formInlineToggle(form) {\n    form.prev('.InlineFormToggle').toggle();\n    form.toggle();\n    form.children(':first').focus();\n}\n\nexport function formToggle(event) {\n    event.preventDefault();\n    let form = $(this).next('form');\n    formInlineToggle(form);\n    return false;\n}\n\nexport function formReset(event, form) {\n    if (!form) {\n        form = $(this).closest('form');\n        event.preventDefault();\n    }\n    if ($(this).hasClass('confirm') && !confirm($(this).attr('title') + '.\\n\\nWeet u het zeker?')) {\n        return false;\n    }\n    form.find('.FormElement').each(function () {\n        let orig = $(this).attr('origvalue');\n        if (typeof orig === 'string') {\n            $(this).val(orig);\n        }\n    });\n    return false;\n}\n\n/**\n * @see view/formulier/invoervelden/InputField.abstract.php\n * @see view/formulier/invoervelden/ZoekField.php\n * @param event\n * @returns {boolean}\n */\nexport function formSubmit(event) {\n    if ($(this).hasClass('confirm')) {\n        let q = $(this).attr('title');\n        if (q) {\n            q += '.\\n\\n';\n        }\n        else {\n            q = 'Weet u het zeker?';\n        }\n        if (!confirm(q)) {\n            event.preventDefault();\n            return false;\n        }\n    }\n\n    let form = $(this).closest('form');\n    if (!form.hasClass('Formulier')) {\n        if (event) {\n            form = $(event.target.form);\n        }\n        else {\n            return false;\n        }\n    }\n\n    if (form.hasClass('PreventUnchanged') && !formIsChanged(form)) {\n        event.preventDefault();\n        alert('Geen wijzigingen');\n        return false;\n    }\n\n    if ($(this).attr('href')) {\n        form.attr('action', $(this).attr('href'));\n    }\n\n    if (form.hasClass('ModalForm') || form.hasClass('InlineForm')) {\n        event.preventDefault();\n        let formData = new FormData(form.get(0)),\n            done = domUpdate,\n            source = false;\n\n        if (form.hasClass('InlineForm')) {\n            source = form;\n            formData.append('InlineFormId', form.attr('id'));\n            if (form.data('submitCallback')) {\n                done = form.data('submitCallback');\n            }\n        }\n\n        if (form.hasClass('DataTableResponse')) {\n\n            let tableId = form.attr('data-tableid');\n            if (!document.getElementById(tableId)) {\n                alert('DataTable not found');\n            }\n\n            formData.append('DataTableId', tableId);\n            let selection = fnGetSelection('#' + tableId);\n            $.each(selection, function (key, value) {\n                formData.append('DataTableSelection[]', value);\n            });\n\n            done = function (response) {\n                if (typeof response === 'object') { // JSON\n                    fnUpdateDataTable('#' + tableId, response);\n                    if (response.modal) {\n                        modalOpen(response.modal);\n                        initContext($('#modal'));\n                    }\n                    else {\n                        modalClose();\n                    }\n                }\n                else { // HTML\n                    domUpdate(response);\n                }\n            };\n\n            if (!form.hasClass('noanim')) {\n                source = false;\n            }\n        }\n\n        if (form.hasClass('ReloadPage')) {\n            done = reload;\n        }\n        else if (form.hasClass('redirect')) {\n            done = redirect;\n        }\n\n        ajaxRequest('POST', form.attr('action'), formData, source, done, alert, function () {\n            if (form.hasClass('SubmitReset')) {\n                formReset(event, form);\n            }\n        });\n\n        return false;\n    }\n    form.off('submit');\n    form.trigger('submit');\n    return true;\n}\n\n/**\n * @see view/formulier/invoervelden/InputField.abstract.php\n * @param event\n * @returns {boolean}\n */\nexport function formCancel(event) {\n    let source = $(event.target);\n    if (source.length === 0) {\n        source = $(this);\n    }\n    if (source.hasClass('confirm') && !confirm(source.attr('title') + '.\\n\\nWeet u het zeker?')) {\n        event.preventDefault();\n        return false;\n    }\n    let form = source.closest('form');\n    if (form.hasClass('InlineForm')) {\n        event.preventDefault();\n        formInlineToggle(form);\n        return false;\n    }\n    if (form.hasClass('ModalForm')) {\n        event.preventDefault();\n        if (!formIsChanged(form) || confirm('Sluiten zonder wijzigingen op te slaan?')) {\n            modalClose();\n        }\n        return false;\n    }\n    return true;\n}","import $ from 'jquery';\nimport Vue from 'vue';\nimport {knopGet, knopPost, knopVergroot, radioButtonGroep} from './knop';\nimport {modalClose, modalOpen} from './modal';\nimport {formCancel, formReset, formSubmit, formToggle} from './formulier';\n\nimport {bbCodeSet} from './bbcode-set';\n\nfunction initButtons(parent) {\n    $(parent).find('.spoiler').bind('click.spoiler', function (event) {\n        event.preventDefault();\n        let button = $(this);\n        let content = button.next('div.spoiler-content');\n        if (button.html() === 'Toon verklapper') {\n            button.html('Verberg verklapper');\n        }\n        else {\n            button.html('Toon verklapper');\n        }\n        content.toggle(800, 'easeInOutCubic');\n    });\n    $(parent).find('.post').bind('click.post', knopPost);\n    $(parent).find('.get').bind('click.get', knopGet);\n    $(parent).find('.vergroot').bind('click.vergroot', knopVergroot);\n}\n\nfunction initForms(parent) {\n    $(parent).find('form').submit(formSubmit);\n    $(parent).find('.submit').bind('click.submit', formSubmit);\n    $(parent).find('.reset').bind('click.reset', formReset);\n    $(parent).find('.cancel').bind('click.cancel', formCancel);\n    $(parent).find('.InlineFormToggle').bind('click.toggle', formToggle);\n    $(parent).find('.SubmitChange').bind('change.change', formSubmit);\n}\n\nfunction initTimeago(parent) {\n\t$.timeago.settings.strings = {\n\t\tprefiprefixAgo: '',\n\t\tprefixFromNow: 'sinds',\n\t\tsuffixAgo: 'geleden',\n\t\tsuffixFromNow: '',\n\t\tseconds: 'nog geen minuut',\n\t\tminute: '1 minuut',\n\t\tminutes: '%d minuten',\n\t\thour: '1 uur',\n\t\thours: '%d uur',\n\t\tday: '1 dag',\n\t\tdays: '%d dagen',\n\t\tmonth: '1 maand',\n\t\tmonths: '%d maanden',\n\t\tyear: '1 jaar',\n\t\tyears: '%d jaar',\n\t\twordSeparator: ' ',\n\t\tnumbers: [],\n\t};\n    $(parent).find('time.timeago').timeago();\n}\n\nfunction initMarkitup(parent) {\n    $(parent).find('textarea.BBCodeField').markItUp(bbCodeSet);\n}\n\nfunction initTooltips(parent) {\n    $(parent).uitooltip({track: true});\n}\n\nexport function initHoverIntents(parent) {\n    $(parent).find('.hoverIntent').hoverIntent({\n        over() {\n            $(this).find('.hoverIntentContent').fadeIn();\n        },\n        out() {\n            $(this).find('.hoverIntentContent').fadeOut();\n        },\n        timeout: 250\n    });\n}\n\nfunction initLazyImages(parent) {\n    $(parent).find('div.bb-img-loading').each(function () {\n        let content = $(document.createElement('IMG'));\n        content.on('error', function () {\n            $(this).attr('title', 'Afbeelding bestaat niet of is niet toegankelijk!');\n            $(this).attr('src', '/plaetjes/famfamfam/picture_error.png');\n            $(this).css('width', '16px');\n            $(this).css('height', '16px');\n            $(this).removeClass('bb-img-loading').addClass('bb-img');\n        });\n        content.addClass('bb-img');\n        content.attr('alt', $(this).attr('title'));\n        content.attr('style', $(this).attr('style'));\n        content.attr('src', $(this).attr('src'));\n        $(this).html(content);\n        content.on('load', function () {\n            let foto = content.attr('src').indexOf('/plaetjes/fotoalbum/') >= 0;\n            let video = $(this).parent().parent().hasClass('bb-video-preview');\n            let hasAnchor = $(this).closest('a').length !== 0;\n            $(this).parent().replaceWith($(this));\n            if (!foto && !video && !hasAnchor) {\n                $(this).wrap(`<a class=\"lightbox-link\" href=\"${$(this).attr('src')}\" data-lightbox=\"page-lightbox\"></a>`);\n            }\n        });\n    });\n}\n\nfunction initVue(parent) {\n\t$(parent).find('.vue-context').each(function () {\n\t\tnew Vue({el: this});\n\t});\n}\n\nexport default function initContext(parent) {\n    initButtons(parent);\n    initForms(parent);\n    initTimeago(parent);\n    initMarkitup(parent);\n    initTooltips(parent);\n    initHoverIntents(parent);\n    initLazyImages(parent);\n    radioButtonGroep(parent);\n    initVue(parent);\n}\n\nexport function domUpdate(htmlString) {\n    htmlString = $.trim(htmlString);\n    if (htmlString.substring(0, 9) === '<!DOCTYPE') {\n        alert('response error');\n        document.write(htmlString);\n    }\n    let html = $.parseHTML(htmlString, document, true);\n    $(html).each(function () {\n        let id = $(this).attr('id');\n\n        let elmnt = $('#' + id);\n        if (elmnt.length === 1) {\n            if ($(this).hasClass('remove')) {\n                elmnt.effect('fade', {}, 400, function() {\n                    $(this).remove();\n                });\n            }\n            else {\n                elmnt.replaceWith($(this).show()).effect('highlight');\n            }\n        }\n        else {\n            let parentid = $(this).attr('parentid');\n            if (parentid) {\n                $(this).prependTo(`#${parentid}`).show().effect('highlight');\n            }\n            else {\n                $(this).prependTo('#maalcie-tabel tbody:visible:first').show().effect('highlight'); //FIXME: make generic\n            }\n        }\n        initContext($(this));\n\n        if (id === 'modal') {\n            modalOpen();\n        }\n        else {\n            modalClose();\n        }\n    });\n}\n","import $ from 'jquery';\n\nimport {modalClose, modalOpen} from './modal';\nimport {ajaxRequest} from './ajax';\nimport initContext, {domUpdate} from './context';\nimport {takenSelectRange, takenSubmitRange} from './maalcie';\nimport {fnGetSelection, fnUpdateDataTable} from './datatable-api';\nimport {redirect, reload} from './util';\n\nexport function radioButtonGroep(parent) {\n\t$(parent).find('[data-buttons=radio]').each(function () {\n\t\tlet container = $(this);\n\n\t\tcontainer.find('a.btn').on('click', function (event) {\n\t\t\tcontainer.find('.active').removeClass('active');\n\n\t\t\t$(event.target).addClass('active');\n\t\t});\n\t});\n}\n\nexport function knopAjax(knop, type) {\n    if (knop.hasClass('confirm') && !confirm(knop.attr('title') + '.\\n\\nWeet u het zeker?')) {\n        modalClose();\n        return false;\n    }\n    let source = knop,\n        done = domUpdate,\n        data = knop.data();\n\n    if (knop.hasClass('popup')) {\n        source = false;\n    }\n    if (knop.hasClass('prompt')) {\n        data = data.split('=');\n        let val = prompt(data[0], data[1]);\n        if (!val) {\n            return false;\n        }\n        data = encodeURIComponent(data[0]) + '=' + encodeURIComponent(val);\n    }\n    if (knop.hasClass('addfav')) {\n        data = {\n            'tekst': document.title.replace('C.S.R. Delft - ', ''),\n            'link': window.location.href\n        };\n    }\n    if (knop.hasClass('DataTableResponse')) {\n\n        let tableId = knop.attr('data-tableid');\n        if (!document.getElementById(tableId)) {\n            tableId = knop.closest('form').attr('data-tableid');\n            if (!document.getElementById(tableId)) {\n                alert('DataTable not found');\n            }\n        }\n\n        let selection = fnGetSelection('#' + tableId);\n        data = {\n            'DataTableId': tableId,\n            'DataTableSelection[]': selection\n        };\n\n        done = function (response) {\n            if (typeof response === 'object') { // JSON\n                fnUpdateDataTable('#' + tableId, response);\n                if (response.modal) {\n                    modalOpen(response.modal);\n                    initContext($('#modal'));\n                }\n                else {\n                    modalClose();\n                }\n            }\n            else { // HTML\n                domUpdate(response);\n            }\n        };\n\n        if (!knop.hasClass('SingleRow')) {\n            source = false;\n        }\n    }\n    if (knop.hasClass('ReloadPage')) {\n        done = reload;\n    }\n    else if (knop.hasClass('redirect')) {\n        done = redirect;\n    }\n\n    ajaxRequest(type, knop.attr('href'), data, source, done, alert);\n}\n\n/**\n * @see datatable.js\n * @param event\n * @returns {boolean}\n */\nexport function knopPost(event) {\n    event.preventDefault();\n    if ($(this).hasClass('range')) {\n        if (event.target.tagName.toUpperCase() === 'INPUT') {\n            takenSelectRange(event);\n        }\n        else {\n            takenSubmitRange(event);\n        }\n        return false;\n    }\n    knopAjax($(this), 'POST');\n    return false;\n}\n\nexport function knopGet(event) {\n    event.preventDefault();\n    knopAjax($(this), 'GET');\n    return false;\n}\n\nexport function knopVergroot() {\n    let knop = $(this),\n        id = knop.attr('data-vergroot'),\n        oud = knop.attr('data-vergroot-oud');\n\n    if (oud) {\n        $(id).animate({'height': oud}, 600);\n        knop.removeAttr('data-vergroot-oud');\n        knop.find('span.fa').removeClass('fa-compress').addClass('fa-expand');\n        knop.attr('title', 'Uitklappen');\n    }\n    else {\n        knop.attr('title', 'Inklappen');\n        knop.find('span.fa').removeClass('fa-expand').addClass('fa-compress');\n        knop.attr('data-vergroot-oud', $(id).height());\n        $(id).animate({\n            'height': $(id).prop('scrollHeight') + 1\n        }, 600);\n    }\n}\n","import $ from 'jquery';\nexport var dragObject = {\n    el: undefined\n};\n$(function () {\n    var dragged, oldX, oldY;\n    function docScrollLeft() {\n        return (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);\n    }\n    function docScrollTop() {\n        return (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);\n    }\n    function mouseX(e) {\n        if (e.pageX) {\n            return e.pageX;\n        }\n        if (e.clientX) {\n            return e.clientX + docScrollLeft();\n        }\n        return 0;\n    }\n    function mouseY(e) {\n        if (e.pageY) {\n            return e.pageY;\n        }\n        if (e.clientY) {\n            return e.clientY + docScrollTop();\n        }\n        return 0;\n    }\n    function mouseMoveHandler(e) {\n        if (!dragObject.el) {\n            return;\n        }\n        var instance = dragObject.el;\n        e = e || window.event;\n        var newX = mouseX(e);\n        var newY = mouseY(e);\n        dragged = instance.hasClass('savepos');\n        var scrollTop = instance.scrollTop() || 0, scrollLeft = instance.scrollLeft() || 0;\n        if (instance.hasClass('dragvertical')) {\n            instance.scrollTop(scrollTop + oldY - newY);\n        }\n        else if (instance.hasClass('draghorizontal')) {\n            instance.scrollLeft(scrollLeft + oldX - newX);\n        }\n        else {\n            var offset = instance.offset() || { left: 0, top: 0 };\n            instance.css({\n                'top': (offset.top - docScrollTop() + newY - oldY) + 'px',\n                'left': (offset.left - docScrollLeft() + newX - oldX) + 'px'\n            });\n        }\n        oldX = newX;\n        oldY = newY;\n    }\n    function startDrag(e) {\n        e = e || window.event;\n        var target = e.target;\n        if (target instanceof Element) {\n            var tag = target.tagName.toUpperCase();\n            var overflow = $(target).css('overflow');\n            if ((tag !== 'DIV' && tag !== 'H1') || overflow === 'auto' || overflow === 'scroll') {\n                return;\n            }\n            dragObject.el = $(target);\n            if (typeof dragObject.el === 'undefined' || !dragObject.el.hasClass('dragobject')) {\n                dragObject.el = $(target).closest('.dragobject');\n            }\n            if (typeof dragObject.el !== 'undefined') {\n                oldX = mouseX(e);\n                oldY = mouseY(e);\n                window.addEventListener('mousemove', mouseMoveHandler, true);\n            }\n            else {\n                dragObject.el = undefined;\n            }\n        }\n        dragged = false;\n    }\n    function stopDrag() {\n        if (!dragObject.el) {\n            return;\n        }\n        window.removeEventListener('mousemove', mouseMoveHandler, true);\n        if (dragged) {\n            var instance = dragObject.el;\n            var top = void 0, left = void 0;\n            if (instance.hasClass('dragvertical') || instance.hasClass('draghorizontal')) {\n                top = instance.scrollTop();\n                left = instance.scrollLeft();\n            }\n            else {\n                var offset = instance.offset() || { top: 0, left: 0 };\n                top = offset.top - docScrollTop();\n                left = offset.left - docScrollLeft();\n            }\n            $.post('/tools/dragobject.php', {\n                id: instance.attr('id'),\n                coords: {\n                    top: top,\n                    left: left\n                }\n            });\n            dragged = false;\n        }\n        dragObject.el = undefined;\n    }\n    window.addEventListener('mousedown', startDrag, false);\n    window.addEventListener('mouseup', stopDrag, false);\n});\n","// ----------------------------------------------------------------------------\n// markItUp!\n// ----------------------------------------------------------------------------\n// Copyright (C) 2008 Jay Salvat\n// http://markitup.jaysalvat.com/\n// ----------------------------------------------------------------------------\n// BBCode tags example\n// http://en.wikipedia.org/wiki/Bbcode\n// ----------------------------------------------------------------------------\n// Feel free to add more tags\n// ----------------------------------------------------------------------------\nexport const bbCodeSet = {\n    nameSpace: 'CsrBB',\n    previewParserPath: '/tools/bbcode.php', // path to your BBCode parser\n    markupSet: [\n        {className: 'ico text_bold', name: 'Dikgedrukt', key: 'B', openWith: '[b]', closeWith: '[/b]'},\n        {className: 'ico text_italic', name: 'Cursief', key: 'I', openWith: '[i]', closeWith: '[/i]'},\n        {className: 'ico text_underline', name: 'Onderstreept', key: 'U', openWith: '[u]', closeWith: '[/u]'},\n        {className: 'ico text_strikethrough', name: 'Doorgestreept', key: 'S', openWith: '[s]', closeWith: '[/s]'},\n        {separator: '|'},\n        {className: 'ico text_smallcaps', name: 'Offtopic', key: 'O', openWith: '[offtopic]', closeWith: '[/offtopic]'},\n        {className: 'ico comments', name: 'Citaat', key: 'Q', openWith: '[citaat=Naam_of_lidnummer]', closeWith: '[/citaat]'},\n        {separator: '|'},\n        {className: 'ico link', name: 'Link', key: 'L', openWith: '[url=[![Url]!]]', closeWith: '[/url]', placeHolder: 'Link tekst'},\n        {className: 'ico email_link', name: 'Email', key: 'E', openWith: '[email=[![Email adres]!]]', closeWith: '[/email]', placeHolder: 'Link tekst'},\n        {separator: '|'},\n        {className: 'ico photos', name: 'Fotoalbum', replaceWith: (markitup) => {\n                let url = decodeURIComponent(window.prompt('Url', '').trim());\n                let pos = url.indexOf('/fotoalbum/');\n                if (pos > 0) {\n                    url = url.substring(pos + 10);\n                    return '[fotoalbum]' + url + '[/fotoalbum]';\n                }\n                alert('Ongeldige url!');\n                return markitup.selection;\n            }},\n        {className: 'ico photo', name: 'Poster of foto uit album', replaceWith: (markitup) => {\n                let url = decodeURIComponent(window.prompt('Url', '').trim());\n                let pos = url.indexOf('/fotoalbum/');\n                if (pos > 0) {\n                    url = url.substring(pos + 10).replace('_resized/', '').replace('_thumbs/', '').replace('#', '');\n                    return '[foto]' + url + '[/foto]';\n                }\n                alert('Ongeldige url!');\n                return markitup.selection;\n            }},\n        {className: 'ico picture', name: 'Afbeelding', replaceWith: '[img][![Url]!][/img]'},\n        {className: 'ico film', name: 'Video', replaceWith: '[video][![Url]!][/video]'},\n        {separator: '|'},\n        {className: 'ico map', name: 'Kaart', openWith: '[locatie]', closeWith: '[/locatie]', placeHolder: 'C.S.R. Delft'},\n        {className: 'ico sound_mute', name: 'Verklapper', openWith: '[verklapper]', closeWith: '[/verklapper]'},\n        {className: 'ico shield', name: 'Privé', openWith: '[prive]', closeWith: '[/prive]', placeHolder: 'Afgeschermde gegevens'},\n        //{className: 'btn-kop', name: 'Kop',\n        //\tdropMenu: [\n        //\t\t{className: 'btn-h1', name: 'H1', openWith: '[h=1]', closeWith: '[/h]'},\n        //\t\t{className: 'btn-h2', name: 'H2', openWith: '[h=2]', closeWith: '[/h]'},\n        //\t\t{className: 'btn-h3', name: 'H3', openWith: '[h=3]', closeWith: '[/h]'},\n        //\t\t{className: 'btn-h4', name: 'H4', openWith: '[h=4]', closeWith: '[/h]'},\n        //\t\t{className: 'btn-h5', name: 'H5', openWith: '[h=5]', closeWith: '[/h]'},\n        //\t\t{className: 'btn-h6', name: 'H6', openWith: '[h=6]', closeWith: '[/h]'}\n        //\t]},\n        //{separator: '|'},\n        //{className: 'btn-lijst-1', name: 'Genummerde lijst', openWith: '[list=[![Starting number]!]]\\n', closeWith: '\\n[/list]'},\n        //{className: 'btn-lijst-a', name: 'Ongenummerde lijst', openWith: '[list]\\n', closeWith: '\\n[/list]'},\n        //{className: 'btn-lijst-punt', name: 'Lijstpunt', openWith: '[*] '},\n        {separator: '|'},\n        {className: 'ico script_code_red', name: 'Code', openWith: '[code]', closeWith: '[/code]'},\n        {className: 'ico tag', name: 'Opmaakcode tonen', openWith: '[tekst]', closeWith: '[/tekst]'},\n        //{className: 'btn-preview', name: 'Voorbeeld', call: 'preview'}\n    ]\n};","import $ from 'jquery';\nimport initContext from './context';\n\n/**\n * @see templates/courant/courantbeheer.tpl\n * @see blade_templates/forum/partial/post_forum.blade.php\n * @see templates/mededelingen/mededeling.tpl\n * @see templates/roodschopper/roodschopper.tpl\n * @see forum.js\n * @see view/formulier/invoervelden/BBCodeField.class.php\n * @param sourceId\n * @param targetId\n * @constructor\n */\nexport const CsrBBPreview = (sourceId, targetId) => {\n    if (sourceId.charAt(0) !== '#') {\n        sourceId = `#${sourceId}`;\n    }\n    if (targetId.charAt(0) !== '#') {\n        targetId = `#${targetId}`;\n    }\n    let bbcode = $(sourceId).val();\n    if (typeof bbcode !== 'string' || bbcode.trim() === '') {\n        $(targetId).html('').hide();\n        return;\n    }\n    $.post('/tools/bbcode.php', {\n        data: encodeURIComponent(bbcode)\n    }).done((data) => {\n        $(targetId).html(data);\n        initContext($(targetId));\n        $(targetId).show();\n    }).fail((error) => {\n        alert(error);\n    });\n};\n\n/**\n * @see view/bbcode/CsrBB.class.php\n * @param elem\n * @returns {boolean}\n */\nexport const bbvideoDisplay = function(elem) {\n    let $previewdiv = $(elem);\n    let params = $previewdiv.data('params');\n    if(params.iframe) {\n        //vervang de thumb door een iframe\n        $previewdiv.parent().html(\n            '<iframe frameborder=\"0\" width=\"' + params.width + '\" height=\"' + params.height + '\" src=\"' + params.src + '\" allowfullscreen></iframe>'\n        );\n    } else {\n        //godtube is nog flash (of alternatief iets met javascript, maar geen iframe versie beschikbaar)\n        $previewdiv.parent().html(\n            '<object type=\"application/x-shockwave-flash\" data=\"http://www.godtube.com/resource/mediaplayer/5.3/player.swf\"  width=\"' + params.width + '\" height=\"' + params.height + '\">' +\n            '<param name=\"allowfullscreen\" value=\"true\" />' +\n            '<param name=\"allowscriptaccess\" value=\"always\" />' +\n            '<param name=\"wmode\" value=\"opaque\" />' +\n            '<param name=\"movie\" value=\"http://www.godtube.com/resource/mediaplayer/5.3/player.swf\" />' +\n            '<param name=\"autostart\" value=\"true\" />' +\n            '<param name=\"flashvars\" value=\"file=http://www.godtube.com/resource/mediaplayer/' + params.id + '.file' +\n            '&image=http://www.godtube.com/resource/mediaplayer/' + params.id + '.jpg' +\n            '&screencolor=000000' +\n            '&type=video' +\n            '&autostart=true' +\n            '&playonce=true' +\n            '&skin=http://www.godtube.com//resource/mediaplayer/skin/carbon/carbon.zip' +\n            '&logo.file=http://media.salemwebnetwork.com/godtube/theme/default/media/embed-logo.png' +\n            '&logo.link=http://www.godtube.com/watch/?v=' + params.id +\n            '&logo.position=top-left' +\n            '&logo.hide=false' +\n            '&controlbar.position=over\">' +\n            '</object>'\n        );\n    }\n\n    return false;\n};\n"],"sourceRoot":""}