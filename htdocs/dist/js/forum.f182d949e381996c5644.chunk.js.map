{"version":3,"sources":["webpack:///./js/page/forum.ts"],"names":["textarea","concept","lastPing","setInterval","async","pingValue","value","getAttribute","data","a","post","dataset","url","ping","e","window","location","reload","hash","pathname","substr","reactieid","parseInt","on","slideDown","this","parent","find","toggleClass","forEach","auteur","forummodKnoppen","el","style","opacity","citeerKnop","addEventListener","citeren"],"mappings":"2FAAA,oFAMA,IACI,MAAMA,EAAW,YAAO,yBAClBC,EAAU,YAAO,iBAEvB,IAAIC,GAAW,EAEfC,YAAYC,UACR,MAAMC,EAAYL,EAASM,QAAUN,EAASO,aAAa,aAC3D,GAAIF,GAAaH,EACb,IACI,MAAM,KAAEM,SAAe,EAAAC,EAAMC,KAAKT,EAAQU,QAAQC,IAAK,CAAEC,KAAMR,IAC/D,YAAUG,GACVN,EAAWG,EAEf,MAAOS,GAEHC,OAAOC,SAASC,WAGzB,KASP,MAAOH,IAIP,IAAKC,OAAOC,SAASE,MAAmD,oBAA3CH,OAAOC,SAASG,SAASC,OAAO,EAAG,IAA2B,CACvF,MAAMC,EAAYC,SAASP,OAAOC,SAASG,SAASC,OAAO,IAAK,IAChEL,OAAOC,SAASE,KAAO,IAAMG,EAEjC,IAAE,gBAAgBE,GAAG,UAAW,IAAM,IAAE,kBAAkBC,UAAU,MACpE,IAAE,kBAAkBD,GAAG,SAAS,WAC5B,IAAEE,MAAMC,SAASC,KAAK,iBAAiBC,YAAY,gBAEvD,YAAU,WAAWC,QAAQC,IACzB,MAAMC,EAAkB,YAAU,iBAAkBD,GACpD,IAAYA,EAAQ,IAAMC,EAAgBF,QAAQG,GAAMA,EAAGC,MAAMC,QAAU,KAAM,IAAMH,EAAgBF,QAAQG,GAAMA,EAAGC,MAAMC,QAAU,QAE5I,IAAK,MAAMC,KAAc,YAAU,aAC/BA,EAAWC,iBAAiB,QAAS,IAAM,YAAaD,EAAWxB,QAAQ0B","file":"js/forum.f182d949e381996c5644.chunk.js","sourcesContent":["import $ from 'jquery';\nimport axios from 'axios';\nimport { domUpdate } from '../lib/domUpdate';\nimport { forumCiteren } from '../lib/forum';\nimport hoverintent from \"hoverintent\";\nimport { select, selectAll } from \"../lib/dom\";\ntry {\n    const textarea = select('textarea#forumBericht');\n    const concept = select('#forumConcept');\n    // The last value that we pinged\n    let lastPing = false;\n    /*var ping = */\n    setInterval(async () => {\n        const pingValue = textarea.value !== textarea.getAttribute('origvalue');\n        if (pingValue || lastPing) {\n            try {\n                const { data } = await axios.post(concept.dataset.url, { ping: pingValue });\n                domUpdate(data);\n                lastPing = pingValue;\n            }\n            catch (e) {\n                // Herlaad de pagina als dit niet lukt\n                window.location.reload();\n            }\n        }\n    }, 60000);\n    /*var autosave;\n     $textarea.focusin(function () {\n     autosave = setInterval(saveConceptForumBericht, 3000);\n     });\n     $textarea.focusout(function () {\n     clearInterval(autosave);\n     });*/\n}\ncatch (e) {\n    // Geen edit veld hier\n}\n// naar juiste forumreactie scrollen door hash toe te voegen\nif (!window.location.hash && window.location.pathname.substr(0, 15) === '/forum/reactie/') {\n    const reactieid = parseInt(window.location.pathname.substr(15), 10);\n    window.location.hash = '#' + reactieid;\n}\n$('#nieuweTitel').on('focusin', () => $('#draad-melding').slideDown(200));\n$('.togglePasfoto').on('click', function () {\n    $(this).parent().find('.forumpasfoto').toggleClass('verborgen');\n});\nselectAll('.auteur').forEach(auteur => {\n    const forummodKnoppen = selectAll('a.forummodknop', auteur);\n    hoverintent(auteur, () => forummodKnoppen.forEach(el => el.style.opacity = '1'), () => forummodKnoppen.forEach(el => el.style.opacity = '0'));\n});\nfor (const citeerKnop of selectAll('a.citeren')) {\n    citeerKnop.addEventListener('click', () => forumCiteren(citeerKnop.dataset.citeren));\n}\n"],"sourceRoot":""}