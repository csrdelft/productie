"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6190],{3665:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(7084),a=n.n(i),l=n(5056),s=n.n(l)()(a());s.push([e.id,"\n.left-col[data-v-4994458c] {\n  border-right: 1px solid rgba(0, 0, 0, 0.125);\n}\n.groep[data-v-4994458c] {\n  min-height: 300px;\n}\n.results[data-v-4994458c] {\n  overflow: auto;\n}\n","",{version:3,sources:["webpack://./js/components/groep/Groep.vue"],names:[],mappings:";AA6IA;EACE,4CAA4C;AAC9C;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,cAAc;AAChB",sourcesContent:['<template>\n  <div class="card groep">\n    <div class="card-body">\n      <h3 class="card-title">\n        {{ naam }}\n      </h3>\n      <div class="row">\n        <div v-if="!aangemeld && magAanmelden" class="left-col col-md-5">\n          <p class="card-text">\n            {{ samenvatting }}\n          </p>\n          <GroepAanmeldForm\n            :keuzes="keuzelijst2"\n            :opmerking="mijnOpmerking"\n            :aangemeld="aangemeld"\n            @aanmelden="aanmelden"\n          />\n        </div>\n        <div class="col results">\n          <table class="table table-sm">\n            <GroepHeaderRow :keuzes="keuzelijst2" />\n            <tbody>\n              <GroepLidRow\n                v-for="lid of leden"\n                :key="lid.uid"\n                :lid="lid"\n                :keuzes="keuzelijst2"\n              />\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport axios from \'axios\';\nimport type { PropType } from \'vue\';\nimport { defineComponent } from \'vue\';\nimport {\n  GroepInstance,\n  GroepKeuzeSelectie,\n  GroepLid,\n  GroepSettings,\n  KeuzeOptie,\n} from \'../../model/groep\';\nimport GroepAanmeldForm from \'./GroepAanmeldForm.vue\';\nimport GroepHeaderRow from \'./GroepHeaderRow.vue\';\nimport GroepLidRow from \'./GroepLidRow.vue\';\n\nexport default defineComponent({\n  components: { GroepAanmeldForm, GroepLidRow, GroepHeaderRow },\n  props: {\n    settings: {\n      required: true,\n      type: Object as PropType<GroepSettings>,\n    },\n    groep: {\n      required: true,\n      type: Object as PropType<GroepInstance>,\n    },\n  },\n  data: () => ({\n    id: 0,\n    naam: \'\',\n    familie: \'\',\n    beginMoment: new Date(),\n    eindMoment: new Date(),\n    status: \'\',\n    samenvatting: \'\',\n    omschrijving: \'\',\n    makerUid: \'\',\n    versie: \'\',\n    keuzelijst2: [] as KeuzeOptie[],\n    leden: [] as GroepLid[],\n    mijnUid: \'\',\n    mijnLink: \'\',\n    aanmeldUrl: \'\',\n    mijnOpmerking: [] as GroepKeuzeSelectie[],\n  }),\n  computed: {\n    mijnAanmelding() {\n      return this.leden.find((lid) => lid.uid === this.mijnUid);\n    },\n    aangemeld() {\n      return this.mijnAanmelding !== undefined;\n    },\n    magAanmelden() {\n      console.log(this.groep.aanmeldenTot, new Date());\n      if (this.groep.aanmeldenTot) {\n        return new Date(this.groep.aanmeldenTot) > new Date();\n      }\n\n      return true;\n    },\n  },\n  created() {\n    this.id = this.groep.id;\n    this.naam = this.groep.naam;\n    this.familie = this.groep.familie;\n    this.beginMoment = this.groep.beginMoment;\n    this.eindMoment = this.groep.eindMoment;\n    this.status = this.groep.status;\n    this.samenvatting = this.groep.samenvatting;\n    this.omschrijving = this.groep.omschrijving;\n    this.makerUid = this.groep.makerUid;\n    this.versie = this.groep.versie;\n    this.keuzelijst2 = this.groep.keuzelijst2;\n    this.leden = this.groep.leden;\n\n    this.mijnUid = this.settings.mijn_uid;\n    this.mijnLink = this.settings.mijn_link;\n    this.aanmeldUrl = this.settings.aanmeld_url;\n\n    if (this.aangemeld) {\n      this.mijnOpmerking = this.mijnAanmelding.opmerking2;\n    } else {\n      this.mijnOpmerking = this.keuzelijst2.map((value) => ({\n        selectie: value.default,\n        naam: value.naam,\n      }));\n    }\n  },\n  methods: {\n    aanmelden() {\n      if (!this.aangemeld) {\n        this.leden.push({\n          uid: this.mijnUid,\n          link: this.mijnLink,\n          opmerking2: this.mijnOpmerking,\n        });\n\n        axios.post(this.aanmeldUrl, { opmerking2: this.mijnOpmerking });\n      }\n    },\n  },\n});\n<\/script>\n\n<style scoped>\n.left-col {\n  border-right: 1px solid rgba(0, 0, 0, 0.125);\n}\n\n.groep {\n  min-height: 300px;\n}\n\n.results {\n  overflow: auto;\n}\n</style>\n'],sourceRoot:""}]);const o=s},1207:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(7084),a=n.n(i),l=n(5056),s=n.n(l),o=n(8521),r=n.n(o),d=new URL(n(7663),n.b),c=s()(a()),g=r()(d);c.push([e.id,"\n.progress[data-v-3da8cb3f] {\n  height: 20px;\n  width: 100%;\n  border-radius: 3px;\n  background: #adadad;\n}\n.progress div[data-v-3da8cb3f] {\n  float: left;\n  height: 100%;\n  transition: width ease-in-out 0.5s;\n}\n.progress div.correct[data-v-3da8cb3f] {\n  background: #2ecc71;\n}\n.progress div.again[data-v-3da8cb3f] {\n  background: #f1c40f;\n}\n.progress div.wrong[data-v-3da8cb3f] {\n  background: #c0392b;\n}\n.pasfotoContainer[data-v-3da8cb3f] {\n  width: 170px;\n  height: 255px;\n  margin: 15px auto;\n  background: url("+g+") no-repeat center center\n    white;\n  overflow: hidden;\n}\n.pasfotoContainer.onderkantVerbergen[data-v-3da8cb3f] {\n  height: 150px;\n}\n.pasfotoContainer .pasfoto[data-v-3da8cb3f] {\n  width: 170px;\n  height: 255px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n.laatste[data-v-3da8cb3f] {\n  border-radius: 6px;\n  background: #c0392b;\n  color: white;\n  overflow: hidden;\n  margin-top: 10px;\n}\n.laatste.goed[data-v-3da8cb3f] {\n  background: #2ecc71;\n}\n.laatste .fas[data-v-3da8cb3f] {\n  display: inline-block;\n  font-size: 26px;\n  line-height: 90px;\n  vertical-align: middle;\n  float: right;\n  margin: 0 18px 0 15px;\n}\n.laatste img[data-v-3da8cb3f] {\n  display: inline-block;\n  height: 90px;\n}\n.laatste .info[data-v-3da8cb3f] {\n  display: inline-block;\n  padding: 29px 0 0 15px;\n  vertical-align: top;\n  max-width: calc(100% - 123px);\n  box-sizing: border-box;\n}\n.laatste .info .naam[data-v-3da8cb3f] {\n  font-size: 19px;\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  line-height: 19px;\n}\n.laatste .info .naam .bold[data-v-3da8cb3f] {\n  font-weight: bold;\n}\n.laatste .info .tekst[data-v-3da8cb3f] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 24px;\n}\n.laatste .info .tekst span[data-v-3da8cb3f] {\n  margin-right: 6px;\n}\ninput[data-v-3da8cb3f] {\n  text-transform: capitalize;\n}\n.score-blok[data-v-3da8cb3f] {\n  background: #2ecc71;\n  padding: 20px;\n  text-align: center;\n  color: white;\n  border-radius: 6px;\n  margin-bottom: 20px;\n}\n.score-blok .titel[data-v-3da8cb3f] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 19px;\n  font-weight: bold;\n  text-align: center;\n}\n.score-blok .score-titel[data-v-3da8cb3f] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  margin-top: 18px;\n}\n.score-blok .score[data-v-3da8cb3f] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 50px;\n  line-height: 50px;\n  font-weight: 300;\n}\n","",{version:3,sources:["webpack://./js/components/namen-leren/NamenLeren.vue"],names:[],mappings:";AA6aA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,mBAAmB;AACrB;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kCAAkC;AACpC;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB;SACO;EACP,gBAAgB;AAClB;AAEA;EACE,aAAa;AACf;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,4BAA4B;EAC5B,kCAAkC;AACpC;AAEA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;AAClB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,iBAAiB;EACjB,sBAAsB;EACtB,YAAY;EACZ,qBAAqB;AACvB;AAEA;EACE,qBAAqB;EACrB,YAAY;AACd;AAEA;EACE,qBAAqB;EACrB,sBAAsB;EACtB,mBAAmB;EACnB,6BAA6B;EAC7B,sBAAsB;AACxB;AAEA;EACE,eAAe;EACf,4DAA4D;EAC5D,iBAAiB;AACnB;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;AACnB;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,0BAA0B;AAC5B;AAEA;EACE,mBAAmB;EACnB,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,mBAAmB;AACrB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;AAEA;EACE,4DAA4D;EAC5D,iBAAiB;EACjB,gBAAgB;AAClB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;EACjB,gBAAgB;AAClB",sourcesContent:['<template>\n  <div>\n    <div v-if="finished" class="score-blok">\n      <div class="titel">\n        {{ titel }}\n      </div>\n      <div class="score-titel">Jouw score:</div>\n      <div class="score">{{ Math.round(percentageGoed) }}%</div>\n    </div>\n    <div v-if="!started">\n      <div class="row">\n        <div class="col-sm-6">\n          <strong class="mb-1 block">Lichting(en)</strong>\n          <div>\n            <input\n              id="alleLichtingen"\n              v-model="alleLichtingen"\n              type="checkbox"\n            />\n            <label for="alleLichtingen">Alle lichtingen</label>\n          </div>\n          <div v-for="lichting in lichtingen" :key="lichting">\n            <input\n              v-if="!alleLichtingen"\n              :id="\'lichting\' + lichting"\n              v-model="lichtingSelectie"\n              type="checkbox"\n              :value="lichting"\n            />\n            <input\n              v-if="alleLichtingen"\n              type="checkbox"\n              :checked="alleLichtingen"\n              disabled\n            />\n            <label :for="\'lichting\' + lichting">{{ lichting }}</label>\n          </div>\n        </div>\n        <div class="col-sm-6">\n          <strong class="mb-1 block">Verticale(n)</strong>\n          <div>\n            <input\n              id="alleVerticalen"\n              v-model="alleVerticalen"\n              type="checkbox"\n            />\n            <label for="alleVerticalen">Alle verticalen</label>\n          </div>\n          <div v-for="verticale in verticalen" :key="verticale">\n            <input\n              v-if="!alleVerticalen"\n              :id="\'verticale\' + verticale"\n              v-model="verticaleSelectie"\n              type="checkbox"\n              :value="verticale"\n            />\n            <input\n              v-if="alleVerticalen"\n              type="checkbox"\n              :checked="alleVerticalen"\n              disabled\n            />\n            <label :for="\'verticale\' + verticale">{{ verticale }}</label>\n          </div>\n        </div>\n      </div>\n      <div>\n        <strong class="mb-1 block">Onderkant verbergen</strong>\n        <div>\n          <input\n            id="verbergOnderkant"\n            v-model="verbergOnderkant"\n            type="checkbox"\n          />\n          <label for="verbergOnderkant">Voorkom leesbare namen op foto\'s</label>\n        </div>\n      </div>\n      <strong class="mt-3 mb-1 block">Antwoordmethode</strong>\n      <select v-model="antwoordMethode" class="form-control">\n        <option value="voornaam">Voornaam</option>\n        <option value="achternaam">Achternaam</option>\n        <option value="combi">Voor- en achternaam</option>\n        <option value="civi">Achternaam en achtervoegsel</option>\n      </select>\n      <a\n        href="#"\n        class="btn btn-primary btn-block mt-3"\n        :class="{ disabled: !klaarVoorDeStart }"\n        @click.prevent="start"\n        >Start met {{ aantal }} {{ aantal === 1 ? \'lid\' : \'leden\' }}</a\n      >\n    </div>\n    <div v-else-if="!finished">\n      <div class="progress">\n        <div class="correct" :style="{ width: percentageGoed + \'%\' }" />\n        <div class="again" :style="{ width: percentageOpnieuw + \'%\' }" />\n        <div class="wrong" :style="{ width: percentageFout + \'%\' }" />\n      </div>\n      <div v-if="laatste" class="laatste" :class="{ goed: laatsteGoed }">\n        <img :src="\'/profiel/pasfoto/\' + laatste.uid + \'.jpg\'" alt="" />\n        <div class="info">\n          <div class="naam">\n            <span\n              :class="{\n                bold:\n                  antwoordMethode === \'voornaam\' || antwoordMethode === \'combi\',\n              }"\n              >{{ laatste.voornaam }}</span\n            >\n            <span\n              :class="{\n                bold:\n                  antwoordMethode === \'achternaam\' ||\n                  antwoordMethode === \'combi\' ||\n                  antwoordMethode === \'civi\',\n              }"\n              >{{ laatste.tussenvoegsel }} {{ laatste.achternaam }}</span\n            >\n            <span\n              v-if="laatste.postfix"\n              :class="{ bold: antwoordMethode === \'civi\' }"\n              >{{ laatste.postfix }}</span\n            >\n          </div>\n          <div class="tekst">\n            <span>{{ laatste.lichting }}</span>\n            <span v-if="laatste.verticale && laatste.verticale !== \'Geen\'">{{\n              laatste.verticale\n            }}</span>\n            <span>{{ laatste.studie }}</span>\n          </div>\n        </div>\n        <Icon icon="check" v-if="laatsteGoed" />\n        <Icon icon="xmark" v-else />\n      </div>\n      <div\n        class="pasfotoContainer"\n        :class="{ onderkantVerbergen: verbergOnderkant }"\n      >\n        <div\n          :style="{\n            \'background-image\': \'url(/profiel/pasfoto/\' + huidig.uid + \'.jpg)\',\n          }"\n          class="pasfoto"\n        />\n      </div>\n      <strong v-if="antwoordMethode === \'voornaam\'" class="mb-1 block"\n        >Voornaam:</strong\n      >\n      <strong v-if="antwoordMethode === \'achternaam\'" class="mb-1 block"\n        >Achternaam:</strong\n      >\n      <strong v-if="antwoordMethode === \'combi\'" class="mb-1 block"\n        >Voor- en achternaam:</strong\n      >\n      <strong v-if="antwoordMethode === \'civi\'" class="mb-1 block"\n        >Achternaam en achtervoegsel:</strong\n      >\n      <input\n        type="text"\n        class="form-control"\n        :value="ingevuld"\n        autofocus\n        @input="ingevuld = $event.target.value"\n        @keydown.enter="controleer"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport type { PropType } from \'vue\';\nimport { defineComponent } from \'vue\';\nimport Icon from \'../common/Icon.vue\';\n\nconst shuffle = <T>(array: T[]) => {\n  let currentIndex = array.length;\n  let temporaryValue;\n  let randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n};\n\nconst preloaded: string[] = [];\n\nconst preloadImage = (url: string) => {\n  if (preloaded.includes(url)) {\n    return;\n  }\n  preloaded.push(url);\n  const img = new Image();\n  img.src = url;\n};\n\nconst uniq: <T>(arr: T[]) => T[] = (arr) => {\n  return Array.from(new Set(arr));\n};\n\ninterface Lid {\n  uid: string;\n  lichting: string;\n  verticale: string;\n  tussenvoegsel: string;\n  achternaam: string;\n  voornaam: string;\n  postfix: string;\n}\n\nexport default defineComponent({\n  components: { Icon },\n  props: {\n    leden: {\n      required: true,\n      type: Array as PropType<Lid[]>,\n    },\n  },\n  data: () => ({\n    // Config\n    alleLichtingen: false,\n    alleVerticalen: true,\n    lichtingSelectie: [] as string[],\n    verticaleSelectie: [] as string[],\n    antwoordMethode: \'voornaam\',\n    aantalPerKeer: 5,\n\n    // Game state\n    verbergOnderkant: true,\n    started: false,\n    finished: false,\n    goed: [] as Lid[],\n    opnieuw: [] as Lid[],\n    fout: [] as Lid[],\n    todo: [] as Lid[],\n    laatste: null as Lid | null,\n    laatsteGoed: null as boolean | null,\n    huidig: null as Lid | null,\n    ingevuld: \'\',\n    titel: \'\',\n  }),\n  computed: {\n    aantal() {\n      return this.gefilterdeLeden.length;\n    },\n    gefilterdeLeden() {\n      return this.leden.filter(\n        (lid: Lid) =>\n          (this.alleLichtingen ||\n            this.lichtingSelectie.includes(lid.lichting)) &&\n          (this.alleVerticalen ||\n            this.verticaleSelectie.includes(lid.verticale))\n      );\n    },\n    lichtingen() {\n      return uniq(this.leden.map((lid) => lid.lichting)).sort();\n    },\n    verticalen() {\n      return uniq(this.leden.map((lid) => lid.verticale)).sort();\n    },\n    klaarVoorDeStart() {\n      return this.gefilterdeLeden.length > 0;\n    },\n    totaalAantal() {\n      return (\n        this.todo.length +\n        this.goed.length +\n        this.opnieuw.length +\n        this.fout.length\n      );\n    },\n    percentageGoed() {\n      return this.totaalAantal > 0\n        ? (this.goed.length / this.totaalAantal) * 100\n        : 0;\n    },\n    percentageOpnieuw() {\n      return this.totaalAantal > 0\n        ? (this.opnieuw.length / this.totaalAantal) * 100\n        : 0;\n    },\n    percentageFout() {\n      return this.totaalAantal > 0\n        ? (this.fout.length / this.totaalAantal) * 100\n        : 0;\n    },\n  },\n  methods: {\n    start() {\n      if (!this.klaarVoorDeStart) {\n        return;\n      }\n      this.started = true;\n      this.goed = [];\n      this.opnieuw = [];\n      this.fout = [];\n      this.todo = this.gefilterdeLeden;\n      shuffle(this.todo);\n      this.huidig = null;\n      this.laatste = null;\n      this.finished = false;\n      this.volgende();\n      this.titel = this.bouwTitel();\n      document.title = `C.S.R. Delft - Namen ${this.titel} leren`;\n      window.scrollTo(0, 0);\n    },\n    volgende() {\n      const choice = this.fout.concat(\n        this.todo.slice(0, Math.max(this.aantalPerKeer - this.fout.length, 0))\n      );\n      const pickable = choice.filter(\n        (lid) =>\n          choice.length === 1 || !this.huidig || lid.uid !== this.huidig.uid\n      );\n      if (pickable.length > 0) {\n        for (const lid of pickable) {\n          preloadImage(\'/profiel/pasfoto/\' + lid.uid + \'.jpg\');\n        }\n        this.huidig = pickable[Math.floor(Math.random() * pickable.length)];\n        this.ingevuld = \'\';\n      } else {\n        this.finished = true;\n        this.started = false;\n      }\n    },\n    controleer() {\n      if (this.huidig == null) {\n        throw new Error(\'huidig niet gezet\');\n      }\n      // Antwoord vormen\n      const onderdelen = [];\n      if (\n        this.antwoordMethode === \'voornaam\' ||\n        this.antwoordMethode === \'combi\'\n      ) {\n        onderdelen.push(this.huidig.voornaam);\n      }\n      if (\n        this.antwoordMethode === \'achternaam\' ||\n        this.antwoordMethode === \'combi\' ||\n        this.antwoordMethode === \'civi\'\n      ) {\n        if (this.huidig.tussenvoegsel) {\n          onderdelen.push(this.huidig.tussenvoegsel);\n        }\n        onderdelen.push(this.huidig.achternaam);\n      }\n      if (this.antwoordMethode === \'civi\') {\n        if (this.huidig.postfix) {\n          onderdelen.push(this.huidig.postfix);\n        }\n      }\n      const antwoord = onderdelen.map((s) => s.trim()).join(\' \');\n\n      // Antwoord checken\n      this.laatste = this.huidig;\n      this.laatsteGoed =\n        antwoord.toLowerCase().replace(\'.\', \'\') ===\n        this.ingevuld.toLowerCase().replace(\'.\', \'\');\n\n      // Verwijderen uit oude lijst en toevoegen aan nieuwe lijst\n      let index = this.todo.findIndex((lid) => lid.uid === this.huidig?.uid);\n      if (index === -1) {\n        // Fout lijst\n        if (this.laatsteGoed) {\n          index = this.fout.findIndex((lid) => lid.uid === this.huidig?.uid);\n          this.fout.splice(index, 1);\n          this.opnieuw.push(this.huidig);\n        }\n      } else {\n        // Te doen lijst\n        this.todo.splice(index, 1);\n        if (this.laatsteGoed) {\n          this.goed.push(this.huidig);\n        } else {\n          this.fout.push(this.huidig);\n        }\n      }\n\n      this.volgende();\n    },\n    bouwTitel() {\n      if (this.alleLichtingen && this.alleVerticalen) {\n        return \'Alle leden\';\n      }\n\n      let titel = \'\';\n      if (!this.alleLichtingen) {\n        this.lichtingSelectie.sort();\n        titel += \'Lichting \';\n        titel += this.lichtingSelectie\n          .slice(0, this.lichtingSelectie.length - 1)\n          .join(\', \');\n        if (this.lichtingSelectie.length > 1) {\n          titel += \' & \';\n        }\n        titel += this.lichtingSelectie[this.lichtingSelectie.length - 1];\n      }\n      if (!this.alleVerticalen) {\n        if (titel) {\n          titel += \', \';\n        }\n        this.verticaleSelectie.sort();\n        titel += this.verticaleSelectie\n          .slice(0, this.verticaleSelectie.length - 1)\n          .join(\', \');\n        if (this.verticaleSelectie.length > 1) {\n          titel += \' & \';\n        }\n        titel += this.verticaleSelectie[this.verticaleSelectie.length - 1];\n      }\n\n      return titel;\n    },\n  },\n});\n<\/script>\n\n<style scoped>\n.progress {\n  height: 20px;\n  width: 100%;\n  border-radius: 3px;\n  background: #adadad;\n}\n\n.progress div {\n  float: left;\n  height: 100%;\n  transition: width ease-in-out 0.5s;\n}\n\n.progress div.correct {\n  background: #2ecc71;\n}\n\n.progress div.again {\n  background: #f1c40f;\n}\n\n.progress div.wrong {\n  background: #c0392b;\n}\n\n.pasfotoContainer {\n  width: 170px;\n  height: 255px;\n  margin: 15px auto;\n  background: url(\'../../../images/loading-fb.gif\') no-repeat center center\n    white;\n  overflow: hidden;\n}\n\n.pasfotoContainer.onderkantVerbergen {\n  height: 150px;\n}\n\n.pasfotoContainer .pasfoto {\n  width: 170px;\n  height: 255px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n\n.laatste {\n  border-radius: 6px;\n  background: #c0392b;\n  color: white;\n  overflow: hidden;\n  margin-top: 10px;\n}\n\n.laatste.goed {\n  background: #2ecc71;\n}\n\n.laatste .fas {\n  display: inline-block;\n  font-size: 26px;\n  line-height: 90px;\n  vertical-align: middle;\n  float: right;\n  margin: 0 18px 0 15px;\n}\n\n.laatste img {\n  display: inline-block;\n  height: 90px;\n}\n\n.laatste .info {\n  display: inline-block;\n  padding: 29px 0 0 15px;\n  vertical-align: top;\n  max-width: calc(100% - 123px);\n  box-sizing: border-box;\n}\n\n.laatste .info .naam {\n  font-size: 19px;\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  line-height: 19px;\n}\n\n.laatste .info .naam .bold {\n  font-weight: bold;\n}\n\n.laatste .info .tekst {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 24px;\n}\n\n.laatste .info .tekst span {\n  margin-right: 6px;\n}\n\ninput {\n  text-transform: capitalize;\n}\n\n.score-blok {\n  background: #2ecc71;\n  padding: 20px;\n  text-align: center;\n  color: white;\n  border-radius: 6px;\n  margin-bottom: 20px;\n}\n\n.score-blok .titel {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 19px;\n  font-weight: bold;\n  text-align: center;\n}\n\n.score-blok .score-titel {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  margin-top: 18px;\n}\n\n.score-blok .score {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 50px;\n  line-height: 50px;\n  font-weight: 300;\n}\n</style>\n'],sourceRoot:""}]);const u=c},3326:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(7084),a=n.n(i),l=n(5056),s=n.n(l)()(a());s.push([e.id,"\n.bewerken[data-v-74c8a160],\n.totaal[data-v-74c8a160] {\n  float: right;\n}\n.footer[data-v-74c8a160] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.pagination[data-v-74c8a160] {\n  margin-top: 1.25rem;\n  margin-bottom: 0;\n}\n","",{version:3,sources:["webpack://./js/components/peilingen/Peiling.vue"],names:[],mappings:";AAgNA;;EAEE,YAAY;AACd;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,8BAA8B;AAChC;AAEA;EACE,mBAAmB;EACnB,gBAAgB;AAClB",sourcesContent:['<template>\n  <div class="card peiling">\n    <div class="card-body">\n      <a v-if="isMod" :href="beheerUrl" class="bewerken">\n        <Icon icon="pencil" />\n      </a>\n      <span class="totaal">{{ strAantalGestemd }}</span>\n      <h3 class="card-title">\n        {{ titel }}\n      </h3>\n      \x3c!-- eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line --\x3e\n      <p class="card-text pt-2" v-html="beschrijving" />\n    </div>\n    <div>\n      <div v-if="heeftGestemd && !resultaatZichtbaar">\n        <div class="card-body">Bedankt voor het stemmen!</div>\n      </div>\n      <div v-else class="card-body">\n        <div v-if="zoekbalkZichtbaar" class="pb-2">\n          <input\n            v-model="zoekterm"\n            type="text"\n            placeholder="Zoeken"\n            class="form-control"\n          />\n        </div>\n        <ul class="list-group list-group-flush">\n          <li\n            v-for="optie in optiesZichtbaar"\n            :key="optie.id"\n            class="list-group-item"\n          >\n            <PeilingOptie\n              :id="optie.id"\n              :key="optie.id"\n              v-model="optie.selected"\n              :peiling-id="id"\n              :titel="optie.titel"\n              :beschrijving="optie.beschrijving_formatted"\n              :stemmen="optie.stemmen"\n              :mag-stemmen="magStemmen"\n              :heeft-gestemd="heeftGestemd"\n              :aantal-gestemd="aantalGestemd"\n              :keuzes-over="keuzesOver"\n            />\n          </li>\n        </ul>\n        <paginate\n          v-if="optiesFiltered.length > paginaSize"\n          v-model="huidigePagina"\n          :page-count="Math.ceil(optiesFiltered.length / paginaSize)"\n          :prev-text="\'Vorige\'"\n          :next-text="\'Volgende\'"\n          :click-handler="zetHuidigePagina"\n          size="md"\n          align="center"\n          :limit="15"\n          :total-rows="optiesFiltered.length"\n          :per-page="paginaSize"\n        />\n      </div>\n    </div>\n\n    <div v-if="!heeftGestemd && magStemmen" class="card-footer footer">\n      <div>{{ strKeuzes }}</div>\n      <PeilingOptieToevoegen v-if="aantalVoorstellen > 0" :id="id" />\n\n      <input\n        type="button"\n        class="btn btn-primary"\n        value="Stem"\n        :disabled="selected.length === 0"\n        @click="stem"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport axios from \'axios\';\nimport Paginate from \'vuejs-paginate-next\';\nimport { defineComponent } from \'vue\';\nimport type { PropType } from \'vue\';\nimport Icon from \'../common/Icon.vue\';\nimport PeilingOptie from \'./PeilingOptie.vue\';\nimport PeilingOptieToevoegen from \'./PeilingOptieToevoegen.vue\';\n\ninterface PeilingSettings {\n  id: string;\n  titel: string;\n  beschrijving: string;\n  resultaat_zichtbaar: boolean;\n  aantal_voorstellen: number;\n  aantal_stemmen: number;\n  aantal_gestemd: number;\n  is_mod: boolean;\n  mag_stemmen: boolean;\n  heeft_gestemd: boolean;\n  opties: PeilingOptieSettings[];\n}\n\ninterface PeilingOptieSettings {\n  id: string;\n  titel: string;\n  beschrijving_formatted: string;\n  selected: boolean;\n  stemmen: number;\n}\n\nexport default defineComponent({\n  components: { Icon, PeilingOptie, PeilingOptieToevoegen, Paginate },\n  props: {\n    settings: {\n      default: () => ({}),\n      type: Object as PropType<PeilingSettings>,\n    },\n  },\n  data: () => ({\n    id: \'\',\n    titel: \'\',\n    beschrijving: \'\',\n    resultaatZichtbaar: false,\n    aantalVoorstellen: 0,\n    aantalStemmen: 0,\n    aantalGestemd: 0,\n    isMod: false,\n    heeftGestemd: false,\n    magStemmen: false,\n    opties: [] as PeilingOptieSettings[],\n    zoekterm: \'\',\n    huidigePagina: 1,\n    paginaSize: 10,\n  }),\n  computed: {\n    beheerUrl() {\n      return `/peilingen/beheer/${this.id}`;\n    },\n    selected() {\n      return this.opties.filter((o) => o.selected);\n    },\n    optiesFiltered() {\n      return this.opties.filter((o) =>\n        o.titel.toLowerCase().includes(this.zoekterm.toLowerCase())\n      );\n    },\n    optiesZichtbaar() {\n      const begin = (this.huidigePagina - 1) * this.paginaSize;\n      const eind = begin + this.paginaSize;\n\n      return this.optiesFiltered.slice(begin, eind);\n    },\n    keuzesOver() {\n      return this.aantalStemmen - this.selected.length > 0;\n    },\n    strKeuzes() {\n      return `${this.selected.length} van de ${this.aantalStemmen} geselecteerd`;\n    },\n    strAantalGestemd() {\n      return this.aantalGestemd > 0\n        ? `(${this.aantalGestemd} stem${this.aantalGestemd > 1 ? \'men\' : \'\'})`\n        : \'\';\n    },\n    zoekbalkZichtbaar() {\n      return this.opties.length > 10;\n    },\n  },\n  created() {\n    this.id = this.settings.id;\n    this.titel = this.settings.titel;\n    this.beschrijving = this.settings.beschrijving;\n    this.resultaatZichtbaar = this.settings.resultaat_zichtbaar;\n    this.aantalVoorstellen = this.settings.aantal_voorstellen;\n    this.aantalStemmen = this.settings.aantal_stemmen;\n    this.aantalGestemd = this.settings.aantal_gestemd;\n    this.isMod = this.settings.is_mod;\n    this.heeftGestemd = this.settings.heeft_gestemd;\n    this.magStemmen = this.settings.mag_stemmen;\n    this.opties = this.settings.opties;\n\n    // Als er op deze pagina een modal gesloten wordt is dat misschien die van\n    // de optie toevoegen modal. Dit is de enige manier om dit te weten op dit moment\n    document.addEventListener(\'modalClose\', () => this.reload());\n  },\n  methods: {\n    stem() {\n      axios\n        .post(`/peilingen/stem/${this.id}`, {\n          opties: this.selected.map((o) => o.id),\n        })\n        .then(() => {\n          this.heeftGestemd = true;\n          this.aantalGestemd = this.aantalGestemd + this.selected.length;\n          this.reload();\n        });\n    },\n    reload() {\n      axios.post(`/peilingen/opties/${this.id}`).then((response) => {\n        this.opties = response.data.data;\n      });\n    },\n    zetHuidigePagina(paginaNum) {\n      this.huidigePagina = paginaNum;\n    },\n  },\n});\n<\/script>\n\n<style scoped>\n.bewerken,\n.totaal {\n  float: right;\n}\n\n.footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.pagination {\n  margin-top: 1.25rem;\n  margin-bottom: 0;\n}\n</style>\n'],sourceRoot:""}]);const o=s},6217:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>domUpdate});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6859),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_ctx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3757),_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9577),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1364),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4222);function domUpdate(htmlString){if("string"!=typeof htmlString)return;if(htmlString=htmlString.trim(),"<!DOCTYPE"===htmlString.substring(0,9))throw alert("response error"),new Error(htmlString);const elements=(0,_util__WEBPACK_IMPORTED_MODULE_3__.QA)(htmlString);for(const element of elements){if(!(element instanceof HTMLElement))continue;const id=element.id,parentId=element.getAttribute("parentid");if(!id&&element instanceof HTMLScriptElement)return eval(element.innerText),void(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)();const target=id?document.querySelector(`#${id}`):null,targetParent=parentId?document.querySelector(`#${parentId}`):null;target?element.classList.contains("remove")?(0,_util__WEBPACK_IMPORTED_MODULE_3__.c7)(target,400):jquery__WEBPACK_IMPORTED_MODULE_0___default()(target).replaceWith(jquery__WEBPACK_IMPORTED_MODULE_0___default()(element)):targetParent?targetParent.append(element):element instanceof HTMLScriptElement?document.head.append(element):(0,_dom__WEBPACK_IMPORTED_MODULE_4__.Ys)("#maalcie-tabel tbody:visible:first").append(element),(0,_ctx__WEBPACK_IMPORTED_MODULE_1__.S)(element),"modal"===id?(0,_modal__WEBPACK_IMPORTED_MODULE_2__.O)():(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)()}}},9577:(e,t,n)=>{n.d(t,{I:()=>o,O:()=>s});var i=n(6859),a=n.n(i),l=n(8787);function s(e=""){var t,n;const i=document.getElementById("modal"),s=null!==(t=l.Modal.getInstance(i))&&void 0!==t?t:new l.Modal(i),o=a()(".modal-backdrop");return(""!==i.innerHTML||""!==e)&&(o.length&&o.remove(),""!==e&&(i.replaceWith(e),null===(n=Array.from(i.querySelectorAll("input")).find((e=>"none"!=window.getComputedStyle(e).display)))||void 0===n||n.dispatchEvent(new FocusEvent("focus"))),s.show(),document.dispatchEvent(new Event("modalOpen")),!0)}function o(){const e=l.Modal.getInstance(document.getElementById("modal"));e&&e.hide(),document.dispatchEvent(new Event("modalClose"))}},6190:(e,t,n)=>{n.r(t),n.d(t,{createDefaultApp:()=>la,getVueComponent:()=>aa});var i=n(8365),a=n(3114),l=n(7811);const s=e=>((0,a.dD)("data-v-01f1a408"),e=e(),(0,a.Cn)(),e),o={class:"declaratie"},r={class:"voortgang"},d=[s((()=>(0,a._)("span",{class:"status"},"Concept",-1)))],c=s((()=>(0,a._)("span",{class:"status"},"Ingediend",-1))),g={key:0,class:"datum"},u=s((()=>(0,a._)("span",{class:"status"},"Goedgekeurd",-1))),h={key:0,class:"datum"},m=s((()=>(0,a._)("span",{class:"status"},"Goedgekeurd",-1))),p={key:0,class:"datum"},v=s((()=>(0,a._)("span",{class:"status"},"Afgekeurd",-1))),b={key:0,class:"datum"},f=s((()=>(0,a._)("span",{class:"status"},"Uitbetaald",-1))),k={class:"datum"},w={key:0,class:"field"},A=s((()=>(0,a._)("label",{for:"datumDeclaratie"},"Datum declaratie",-1))),_=["disabled"],y={class:"field"},D=s((()=>(0,a._)("label",{for:"categorie"},"Categorie",-1))),C=["disabled"],x=s((()=>(0,a._)("option",{disabled:""},null,-1))),E=["value"],z={class:"field"},B=s((()=>(0,a._)("label",null,"Omschrijving declaratie",-1))),j=["disabled"],S={class:"field"},O=s((()=>(0,a._)("label",null,"Betaalwijze",-1))),V=["disabled"],M=s((()=>(0,a._)("label",{for:"C.S.R.-pas"},"Betaald met C.S.R.-pas",-1))),q=["disabled"],L=s((()=>(0,a._)("label",{for:"voorgeschoten"},"Voorgeschoten",-1))),P={key:1,class:"field"},U=s((()=>(0,a._)("label",null,"Terugstorten",-1))),G=["disabled"],I={for:"eigenRekening"},T=["disabled"],Z=s((()=>(0,a._)("label",{for:"nietEigenRekening"},"Naar andere rekening",-1))),K={key:2,class:"field"},R=s((()=>(0,a._)("label",{for:"rekening"},"IBAN",-1))),H=["disabled"],W={key:3,class:"field"},F={key:0,for:"tnv"},Y={key:1,for:"tnv"},$=["disabled"],N={key:4,class:"bonnen bon-upload"},J={class:"inhoud"},Q=s((()=>(0,a._)("div",{class:"titel"},"Voeg je bonnen en facturen toe",-1))),X=s((()=>(0,a._)("p",null," Upload je bon of factuur als PDF of goed leesbare foto. Neem daarna de bedragen van de bon of het factuur over. ",-1))),ee={class:"buttons"},te={key:0,class:"loading blue",disabled:""},ne=s((()=>(0,a._)("label",{class:"blue",for:"fileUpload"}," Kies bestand ",-1))),ie={key:5,class:"bonnen bonnen-weergave"},ae={class:"lijst"},le=["onClick"],se={class:"left"},oe={class:"title"},re={class:"date"},de={class:"right"},ce={class:"title"},ge=s((()=>(0,a._)("div",{class:"btw"},"incl. btw",-1))),ue={key:1,class:"bon-selected"},he=["onClick"],me={class:"title"},pe={class:"field"},ve=["for"],be=["id","onUpdate:modelValue","disabled"],fe={class:"bon-regels"},ke=s((()=>(0,a._)("div",{class:"regels-row"},[(0,a._)("label",null,"Omschrijving"),(0,a._)("label",null,"Bedrag"),(0,a._)("label",null,"Btw"),(0,a._)("div")],-1))),we={class:"field"},Ae=["onUpdate:modelValue","disabled"],_e={class:"field"},ye={class:"field"},De=["onUpdate:modelValue","disabled"],Ce=[(0,a.uE)('<option value="" disabled data-v-01f1a408></option><option value="incl. 9%" data-v-01f1a408>incl. 9%</option><option value="incl. 21%" data-v-01f1a408>incl. 21%</option><option value="excl. 9%" data-v-01f1a408>excl. 9%</option><option value="excl. 21%" data-v-01f1a408>excl. 21%</option><option value="geen: 0%" data-v-01f1a408>geen: 0%</option>',6)],xe=["onClick"],Ee=["onClick"],ze=(0,a.uE)('<div class="field" data-v-01f1a408><input type="text" disabled data-v-01f1a408></div><div class="field" data-v-01f1a408><input type="text" disabled data-v-01f1a408></div><div class="field" data-v-01f1a408><select disabled data-v-01f1a408><option value="" data-v-01f1a408></option></select></div>',3),Be={class:"add"},je={class:"regels-row totaal streep"},Se=s((()=>(0,a._)("div",{class:"onderdeel"},"Totaal excl. btw",-1))),Oe={class:"bedrag"},Ve={key:1,class:"regels-row totaal"},Me=s((()=>(0,a._)("div",{class:"onderdeel"},"Btw 9%",-1))),qe={class:"bedrag"},Le={key:2,class:"regels-row totaal"},Pe=s((()=>(0,a._)("div",{class:"onderdeel"},"Btw 21%",-1))),Ue={class:"bedrag"},Ge={class:"regels-row totaal totaalBold"},Ie=s((()=>(0,a._)("div",{class:"onderdeel"},"Totaal incl. btw",-1))),Te={class:"bedrag"},Ze={class:"voorbeeld"},Ke=["src"],Re=["src"],He={key:6,class:"totaal"},We=s((()=>(0,a._)("div",{class:"left"},"Totaal",-1))),Fe={class:"right"},Ye={class:"title"},$e=s((()=>(0,a._)("div",{class:"btw"},"incl. btw",-1))),Ne={class:"field"},Je=s((()=>(0,a._)("label",{for:"opmerkingen"},"Opmerkingen",-1))),Qe=["disabled"],Xe={key:7,class:"field"},et=s((()=>(0,a._)("label",{for:"rekening"},"Nummer",-1))),tt=["placeholder","disabled"],nt={key:8,class:"save-buttons"},it=["disabled"],at=["disabled"],lt=["disabled"],st={key:9,class:"save-buttons"},ot=["disabled"],rt=["disabled"],dt={key:10,class:"save-buttons"},ct=["disabled"],gt=["disabled"],ut=["disabled"],ht=["disabled"],mt=["disabled"],pt=["disabled"],vt=s((()=>(0,a._)("span",{class:"divider"},null,-1))),bt=["href"],ft=[s((()=>(0,a._)("button",{class:"mail"},"Mail lid",-1)))],kt=["href"],wt=[s((()=>(0,a._)("button",{class:"confirm"},"Download",-1)))],At={key:11,class:"opslaan"};var _t=n(1339),yt=n.n(_t);const Dt={toevoegen:"plus",bewerken:"pencil",verwijderen:"trash",goedkeuren:"circle-check",verjaardag:"cake-candles",vraagteken:"circle-question",tonen:"eye",verbergen:"eye-slash",sluiten:"xmark",kopieren:"clipboard",undo:"arrow-rotate-left",redo:"arrow-rotate-right",alert:"stop",stop:"ban","mime-onbekend":"file-circle-exclamation","mime-audio":"file-audio","mime-html":"file-code","mime-word":"file-word","mime-excel":"file-excel","mime-powerpoint":"file-powerpoint","mime-image":"file-image","mime-pdf":"file-pdf","mime-plain":"file-lines","mime-zip":"file-zipper",citeren:"quote-left",slotje:"lock",plakkerig:"note-sticky",belangrijk:"star",ruby:"gem",asterisk_orange:"star",flag_red:"flag",flag_orange:"flag",flag_green:"flag",flag_blue:"flag",stats:"chart-line",resetpassword:"user-lock",instellingen:"gear","alert-danger":"bell-exclamation","alert-info":"bell-on","alert-success":"circle-check","alert-warning":"bell",tabel:"table",log:"rectangle-terminal",prullenbak:"dumpster",opslaan:"floppy-disk",calendar:"calendar",forum:"comments",profiel:"user",fotoalbum:"images",document:"file",woonoord:"home",commissie:"users",ondervereniging:"users",kring:"circle-notch",boek:"book",wiki:"book-atlas",rechten:"key"},Ct=(0,a.aZ)({props:{icon:{default:"",type:String}},computed:{iconClass(){return this.icon.includes("fab fa-")?this.icon:this.icon in Dt?`fas fa-${Dt[this.icon]}`:`fas fa-${this.icon}`}}});var xt=n(4388);const Et=(0,xt.Z)(Ct,[["render",function(e,t,n,i,s,o){return(0,a.wg)(),(0,a.iD)("i",{class:(0,l.C_)(e.iconClass),"aria-hidden":"true"},null,2)}]]);var zt=n(259);const Bt=(0,a.aZ)({components:{Icon:Et,money3:zt.Cz},props:{type:{required:!0,type:String},categorieen:{required:!0,type:Object},declaratieinput:{default:{opmerkingen:"",eigenRekening:!0,status:"concept",statusData:{uitbetaaldOp:"",goedgekeurdOp:"",afgekeurdOp:"",ingediendOp:"",magBeoordelen:!1,magUitbetalen:!1},bonnen:[]},type:Object},iban:{required:!0,type:String},tenaamstelling:{required:!0,type:String},email:{required:!0,type:String}},data:()=>({declaratie:{opmerkingen:"",eigenRekening:!0,status:"concept",statusData:{uitbetaaldOp:"",goedgekeurdOp:"",afgekeurdOp:"",ingediendOp:"",magBeoordelen:!1,magUitbetalen:!1},bonnen:[]},bonUploaden:!1,uploading:!1,geselecteerdeBon:0,money:{precision:2,decimal:",",thousands:" ",prefix:"€ "},submitting:!1,editing:!1,errors:[],isZoomFit:!0}),computed:{veldenDisabled(){return this.submitting||"concept"!==this.declaratie.status&&!this.editing},heeftBonnen(){return this.declaratie.bonnen&&this.declaratie.bonnen.length>0},totaal(){let e=0;for(let t of this.declaratie.bonnen)e+=this.berekening(t).totaalIncl;return this.round(e)}},created(){var e;this.declaratieinput&&(this.declaratie=this.declaratieinput),this.bonUploaden=0===(null===(e=this.declaratie.bonnen)||void 0===e?void 0:e.length)},methods:{zoomFit(){this.isZoomFit=!this.isZoomFit},nieuweBon(e,t){var n;this.declaratie.bonnen.push(((e,t)=>({id:t,bestandsnaam:e,datum:"",regels:[{omschrijving:"",bedrag:0,btw:""}]}))(e,t)),this.geselecteerdeBon=(null===(n=this.declaratie.bonnen)||void 0===n?void 0:n.length)-1},bonVerwijderen(e){this.declaratie.bonnen.splice(e,1)},nieuweRegel(e){e.regels.push({omschrijving:"",bedrag:0,btw:""})},regelVerwijderen(e,t){e.regels.splice(t,1)},round:e=>Math.round(100*(e+Number.EPSILON))/100,berekening(e){const t={totaalExcl:0,totaalIncl:0,btw:{0:0,9:0,21:0}};for(const n of e.regels)if(n.btw&&n.bedrag){n.bedrag=parseFloat(n.bedrag.toString());const e="incl"===n.btw.substr(0,4),i=parseInt(n.btw.substr(6).replace("%",""),10),a=i/100;e?(t.totaalExcl+=n.bedrag/(1+a),t.btw[i]+=n.bedrag/(1+a)*a,t.totaalIncl+=n.bedrag):(t.totaalExcl+=n.bedrag,t.btw[i]+=n.bedrag*a,t.totaalIncl+=n.bedrag*(1+a))}return{totaalExcl:this.round(t.totaalExcl),totaalIncl:this.round(t.totaalIncl),btw:{0:this.round(t.btw[0]),9:this.round(t.btw[9]),21:this.round(t.btw[21])}}},uploadBon(e){const t=new FormData;1===e.length&&(this.uploading=!0,t.append("bon",e[0],e[0].name),yt()({method:"post",url:"/declaratie/upload",data:t,headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.uploading=!1,this.bonUploaden=!1,this.nieuweBon(e.data.file,e.data.id)})).catch((e=>{var t,n,i;this.uploading=!1,alert(null!==(i=null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.detail)&&void 0!==i?i:e)})))},declaratieOpslaan(e){this.submitting=!0,this.errors=[],yt().request({method:"post",url:"/declaratie/opslaan",data:{declaratie:this.declaratie,indienen:"concept"===this.declaratie.status&&!0===e}}).then(this.processAjaxResponse).catch((e=>{var t,n,i;this.submitting=!1,alert(null!==(i=null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.detail)&&void 0!==i?i:e)}))},setStatus(e){this.submitting=!0,this.errors=[],yt().request({method:"post",url:"/declaratie/status/"+this.declaratie.id,data:{status:e,nummer:this.declaratie.nummer}}).then(this.processAjaxResponse).catch((e=>{var t,n,i;this.submitting=!1,alert(null!==(i=null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.detail)&&void 0!==i?i:e)}))},processAjaxResponse(e){const{data:t}=e;t.id&&(this.declaratie.id=t.id,this.declaratie.status=t.status,this.declaratie.statusData=t.statusData,this.declaratie.statusData.ingediendOp&&(this.declaratie.datum=this.declaratie.statusData.ingediendOp),window.location.pathname.endsWith("nieuw")&&window.history.pushState("Declaratie "+t.id,"Declaratie","/declaratie/"+t.id)),this.errors=t.messages,this.submitting=!1,this.editing=!1,t.success&&window.scrollTo(0,0)},reload(){window.location.reload()},declaratieBewerken(){this.editing=!0},vulNummer(e){this.declaratie.nummer||(this.declaratie.nummer=e)},removeNummer(e){this.declaratie.nummer===e&&(this.declaratie.nummer=void 0)},conceptVerwijderen(){window.confirm("Wil je deze declaratie verwijderen?")&&(this.submitting=!0,yt().request({method:"post",url:"/declaratie/verwijderen/"+this.declaratie.id}).then((e=>{window.location.replace(e.data.redirect)})).catch((e=>{var t,n,i;this.submitting=!1,alert(null!==(i=null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.detail)&&void 0!==i?i:e)})))},bedrag(e){const t=e.toString(),n=t.split(".");return 1===n.length?t+",00":n[0]+","+n[1].padEnd(2,"0")}}}),jt=(0,xt.Z)(Bt,[["render",function(e,t,n,s,_t,yt){const Dt=(0,a.up)("Icon"),Ct=(0,a.up)("money3"),xt=(0,a.Q2)("input-mask");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("h2",null,"Declaratie "+(0,l.zw)(e.declaratie.nummer),1),(0,a._)("div",r,[(0,a._)("div",{class:(0,l.C_)(["fase concept",{active:"concept"===e.declaratie.status,done:"concept"!==e.declaratie.status}])},d,2),(0,a._)("div",{class:(0,l.C_)(["fase ingediend",{active:"ingediend"===e.declaratie.status,done:"goedgekeurd"===e.declaratie.status||"afgekeurd"===e.declaratie.status||"uitbetaald"===e.declaratie.status}])},[c,"concept"!==e.declaratie.status?((0,a.wg)(),(0,a.iD)("span",g,(0,l.zw)(e.declaratie.statusData.ingediendDoor)+", "+(0,l.zw)(e.declaratie.statusData.ingediendOp),1)):(0,a.kq)("v-if",!0)],2),"afgekeurd"!==e.declaratie.status&&"C.S.R.-pas"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,l.C_)(["fase goedgekeurd",{active:"goedgekeurd"===e.declaratie.status,done:"uitbetaald"===e.declaratie.status}])},[u,e.declaratie.statusData.beoordeeldDoor?((0,a.wg)(),(0,a.iD)("span",h,(0,l.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,l.zw)(e.declaratie.statusData.goedgekeurdOp),1)):(0,a.kq)("v-if",!0)],2)):(0,a.kq)("v-if",!0),"afgekeurd"!==e.declaratie.status&&"voorgeschoten"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,l.C_)(["fase uitbetaald",{active:"goedgekeurd"===e.declaratie.status,done:"uitbetaald"===e.declaratie.status}])},[m,e.declaratie.statusData.beoordeeldDoor?((0,a.wg)(),(0,a.iD)("span",p,(0,l.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,l.zw)(e.declaratie.statusData.goedgekeurdOp),1)):(0,a.kq)("v-if",!0)],2)):(0,a.kq)("v-if",!0),"afgekeurd"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("div",{key:2,class:(0,l.C_)(["fase afgekeurd",{active:"afgekeurd"===e.declaratie.status}])},[v,e.declaratie.statusData.beoordeeldDoor?((0,a.wg)(),(0,a.iD)("span",b,(0,l.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,l.zw)(e.declaratie.statusData.afgekeurdOp),1)):(0,a.kq)("v-if",!0)],2)):(0,a.kq)("v-if",!0),"afgekeurd"!==e.declaratie.status&&"voorgeschoten"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",{key:3,class:(0,l.C_)(["fase goedgekeurd",{active:"uitbetaald"===e.declaratie.status}])},[f,(0,a._)("span",k,(0,l.zw)(e.declaratie.statusData.uitbetaaldOp),1)],2)):(0,a.kq)("v-if",!0)]),e.declaratie.statusData.magBeoordelen&&"concept"!==e.declaratie.status?((0,a.wg)(),(0,a.iD)("div",w,[A,(0,a.wy)((0,a._)("input",{id:"datumDeclaratie","onUpdate:modelValue":t[0]||(t[0]=t=>e.declaratie.datum=t),"data-inputmask":"'alias': 'datetime', 'inputFormat': 'dd-mm-yyyy'",type:"text",disabled:e.veldenDisabled},null,8,_),[[i.nr,e.declaratie.datum],[xt]])])):(0,a.kq)("v-if",!0),(0,a._)("div",y,[D,(0,a.wy)((0,a._)("select",{id:"categorie","onUpdate:modelValue":t[1]||(t[1]=t=>e.declaratie.categorie=t),disabled:e.veldenDisabled},[x,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categorieen,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:"categorie-"+e,value:e},(0,l.zw)(t),9,E)))),128))],8,C),[[i.bM,e.declaratie.categorie]])]),(0,a._)("div",z,[B,(0,a.wy)((0,a._)("input",{id:"omschrijving","onUpdate:modelValue":t[2]||(t[2]=t=>e.declaratie.omschrijving=t),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,j),[[i.nr,e.declaratie.omschrijving]])]),(0,a._)("div",S,[O,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"C.S.R.-pas","onUpdate:modelValue":t[3]||(t[3]=t=>e.declaratie.betaalwijze=t),type:"radio",name:"betaalwijze",value:"C.S.R.-pas",disabled:e.veldenDisabled},null,8,V),[[i.G2,e.declaratie.betaalwijze]]),M]),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"voorgeschoten","onUpdate:modelValue":t[4]||(t[4]=t=>e.declaratie.betaalwijze=t),type:"radio",name:"betaalwijze",value:"voorgeschoten",disabled:e.veldenDisabled},null,8,q),[[i.G2,e.declaratie.betaalwijze]]),L])]),"voorgeschoten"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",P,[U,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"eigenRekening","onUpdate:modelValue":t[5]||(t[5]=t=>e.declaratie.eigenRekening=t),type:"radio",value:!0,disabled:e.veldenDisabled},null,8,G),[[i.G2,e.declaratie.eigenRekening]]),(0,a._)("label",I,"Naar eigen rekening: "+(0,l.zw)(e.iban)+" t.n.v. "+(0,l.zw)(e.tenaamstelling),1)]),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"nietEigenRekening","onUpdate:modelValue":t[6]||(t[6]=t=>e.declaratie.eigenRekening=t),type:"radio",value:!1,disabled:e.veldenDisabled},null,8,T),[[i.G2,e.declaratie.eigenRekening]]),Z])])):(0,a.kq)("v-if",!0),"voorgeschoten"!==e.declaratie.betaalwijze||e.declaratie.eigenRekening?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",K,[R,(0,a.wy)((0,a._)("input",{id:"rekening","onUpdate:modelValue":t[7]||(t[7]=t=>e.declaratie.rekening=t),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,H),[[i.nr,e.declaratie.rekening]])])),"voorgeschoten"===e.declaratie.betaalwijze&&!e.declaratie.eigenRekening||"C.S.R.-pas"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",W,["voorgeschoten"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("label",F,"Ten name van")):((0,a.wg)(),(0,a.iD)("label",Y,"Bij bedrijf")),(0,a.wy)((0,a._)("input",{id:"tnv","onUpdate:modelValue":t[8]||(t[8]=t=>e.declaratie.tnv=t),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,$),[[i.nr,e.declaratie.tnv]])])):(0,a.kq)("v-if",!0),e.bonUploaden||!e.heeftBonnen?((0,a.wg)(),(0,a.iD)("div",N,[(0,a._)("div",J,[Q,X,(0,a._)("div",ee,[e.uploading?((0,a.wg)(),(0,a.iD)("button",te,[(0,a.Wm)(Dt,{icon:"spinner fa-spin"})])):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ne,(0,a._)("input",{id:"fileUpload",type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:t[9]||(t[9]=t=>e.uploadBon(t.target.files))},null,32),e.heeftBonnen?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"open",onClick:t[10]||(t[10]=t=>e.bonUploaden=!1)}," Annuleren ")):(0,a.kq)("v-if",!0)],64))])])])):(0,a.kq)("v-if",!0),!e.bonUploaden&&e.heeftBonnen?((0,a.wg)(),(0,a.iD)("div",ie,[(0,a._)("div",ae,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.declaratie.bonnen,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{key:"bon-"+n,class:"bon"},[n!==e.geselecteerdeBon?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"bon-collapsed",onClick:t=>e.geselecteerdeBon=n},[(0,a._)("div",se,[(0,a._)("div",oe,"Bon "+(0,l.zw)(Number(n)+1),1),(0,a._)("div",re,(0,l.zw)(t.datum),1)]),(0,a._)("div",de,[(0,a._)("div",ce," € "+(0,l.zw)(e.bedrag(e.berekening(t).totaalIncl)),1),ge])],8,le)):((0,a.wg)(),(0,a.iD)("div",ue,[(e.declaratie.bonnen.length>1||"concept"===e.declaratie.status)&&!e.veldenDisabled?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"bonVerwijderen",onClick:t=>e.bonVerwijderen(n)},[(0,a.Wm)(Dt,{icon:"verwijderen"})],8,he)):(0,a.kq)("v-if",!0),(0,a._)("div",me,"Bon "+(0,l.zw)(Number(n)+1),1),(0,a._)("div",pe,[(0,a._)("label",{for:"bon"+n+"_datum"},"Datum",8,ve),(0,a.wy)((0,a._)("input",{id:"bon"+n+"_datum","onUpdate:modelValue":e=>t.datum=e,"data-inputmask":"'alias': 'datetime', 'inputFormat': 'dd-mm-yyyy'",type:"text",disabled:e.veldenDisabled},null,8,be),[[i.nr,t.datum],[xt]])]),(0,a._)("div",fe,[ke,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.regels,((l,s)=>((0,a.wg)(),(0,a.iD)("div",{key:"regel-"+n+"-"+s,class:"regels-row"},[(0,a._)("div",we,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e=>l.omschrijving=e,type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,Ae),[[i.nr,l.omschrijving]])]),(0,a._)("div",_e,[(0,a.Wm)(Ct,(0,a.dG)(e.money,{modelValue:l.bedrag,"onUpdate:modelValue":e=>l.bedrag=e,style:{"text-align":"right"},disabled:e.veldenDisabled}),null,16,["modelValue","onUpdate:modelValue","disabled"])]),(0,a._)("div",ye,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e=>l.btw=e,disabled:e.veldenDisabled},Ce,8,De),[[i.bM,l.btw]])]),t.regels.length>1&&!e.veldenDisabled?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"trash",onClick:n=>e.regelVerwijderen(t,s)},[(0,a.Wm)(Dt,{icon:"verwijderen"})],8,xe)):(0,a.kq)("v-if",!0)])))),128)),e.veldenDisabled?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:"regels-row nieuw",onClick:n=>e.nieuweRegel(t)},[ze,(0,a._)("div",Be,[(0,a.Wm)(Dt,{icon:"toevoegen"})])],8,Ee)),(0,a._)("div",je,[Se,(0,a._)("div",Oe,(0,l.zw)(e.bedrag(e.berekening(t).totaalExcl)),1)]),0!==e.berekening(t).btw[9]?((0,a.wg)(),(0,a.iD)("div",Ve,[Me,(0,a._)("div",qe,(0,l.zw)(e.bedrag(e.berekening(t).btw[9])),1)])):(0,a.kq)("v-if",!0),0!==e.berekening(t).btw[21]?((0,a.wg)(),(0,a.iD)("div",Le,[Pe,(0,a._)("div",Ue,(0,l.zw)(e.bedrag(e.berekening(t).btw[21])),1)])):(0,a.kq)("v-if",!0),(0,a._)("div",Ge,[Ie,(0,a._)("div",Te,(0,l.zw)(e.bedrag(e.berekening(t).totaalIncl)),1)])])]))])))),128)),e.veldenDisabled?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:"nieuwe-bon",onClick:t[11]||(t[11]=t=>e.bonUploaden=!0)},[(0,a.Wm)(Dt,{icon:"toevoegen"}),(0,a.Uk)(" Nieuwe bon ")]))]),(0,a._)("div",Ze,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.declaratie.bonnen,((n,s)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:"voorbeeld-"+s},[n.bestandsnaam.toLowerCase().endsWith(".pdf")?((0,a.wg)(),(0,a.iD)("iframe",{key:0,src:n.bestandsnaam,title:"Bon"},null,8,Ke)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,l.C_)(["imageContainer",{zoomFit:e.isZoomFit}])},[(0,a._)("img",{src:n.bestandsnaam,alt:"Bon",onClick:t[12]||(t[12]=t=>e.zoomFit())},null,8,Re)],2))])),[[i.F8,e.geselecteerdeBon===s]]))),128))])])):(0,a.kq)("v-if",!0),e.totaal>0?((0,a.wg)(),(0,a.iD)("div",He,[We,(0,a._)("div",Fe,[(0,a._)("div",Ye,"€ "+(0,l.zw)(e.bedrag(e.totaal)),1),$e])])):(0,a.kq)("v-if",!0),(0,a._)("div",Ne,[Je,(0,a.wy)((0,a._)("textarea",{id:"opmerkingen","onUpdate:modelValue":t[13]||(t[13]=t=>e.declaratie.opmerkingen=t),disabled:e.veldenDisabled},null,8,Qe),[[i.nr,e.declaratie.opmerkingen]])]),"concept"!==e.declaratie.status&&"afgekeurd"!==e.declaratie.status&&e.declaratie.statusData.magBeoordelen?((0,a.wg)(),(0,a.iD)("div",Xe,[et,(0,a.wy)((0,a._)("input",{id:"nummer","onUpdate:modelValue":t[14]||(t[14]=t=>e.declaratie.nummer=t),placeholder:"ingediend"!==e.declaratie.status&&!e.editing||e.submitting?"":e.declaratie.statusData.nummerPrefix+"000",type:"text",disabled:"ingediend"!==e.declaratie.status&&!e.editing||e.submitting,onFocus:t[15]||(t[15]=t=>e.vulNummer(e.declaratie.statusData.nummerPrefix)),onBlur:t[16]||(t[16]=t=>e.removeNummer(e.declaratie.statusData.nummerPrefix))},null,40,tt),[[i.nr,e.declaratie.nummer]])])):(0,a.kq)("v-if",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.errors,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:"error-"+t,class:"field alert alert-warning",role:"alert"},(0,l.zw)(e),1)))),128)),e.veldenDisabled||e.submitting||e.editing?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",nt,["concept"===e.declaratie.status&&e.declaratie.id?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"afkeuren",disabled:e.submitting,onClick:t[17]||(t[17]=t=>e.conceptVerwijderen())}," Concept verwijderen ",8,it)):(0,a.kq)("v-if",!0),"concept"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"concept",disabled:e.submitting,onClick:t[18]||(t[18]=t=>e.declaratieOpslaan(!1))}," Concept opslaan en later afmaken ",8,at)):(0,a.kq)("v-if",!0),(0,a._)("button",{class:"confirm",disabled:e.submitting,onClick:t[19]||(t[19]=t=>e.declaratieOpslaan(!0))}," Declaratie indienen ",8,lt)])),e.editing&&!e.submitting?((0,a.wg)(),(0,a.iD)("div",st,[(0,a._)("button",{class:"afkeuren",disabled:e.submitting,onClick:t[20]||(t[20]=t=>e.reload())}," Wijzigingen annuleren ",8,ot),(0,a._)("button",{class:"confirm",disabled:e.submitting,onClick:t[21]||(t[21]=t=>e.declaratieOpslaan(!0))}," Opslaan ",8,rt)])):(0,a.kq)("v-if",!0),"concept"===e.declaratie.status||!e.declaratie.statusData.magBeoordelen||e.editing||e.submitting?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",dt,["ingediend"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"concept",disabled:e.submitting,onClick:t[22]||(t[22]=t=>e.setStatus("concept"))}," Terug naar concept ",8,ct)):(0,a.kq)("v-if",!0),"goedgekeurd"===e.declaratie.status||"afgekeurd"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"ingediend",disabled:e.submitting,onClick:t[23]||(t[23]=t=>e.setStatus("ingediend"))}," Terug naar ingediend ",8,gt)):(0,a.kq)("v-if",!0),"ingediend"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:2,class:"goedkeuren",disabled:e.submitting,onClick:t[24]||(t[24]=t=>e.setStatus("goedgekeurd"))}," Goedkeuren ",8,ut)):(0,a.kq)("v-if",!0),"ingediend"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:3,class:"afkeuren",disabled:e.submitting,onClick:t[25]||(t[25]=t=>e.setStatus("afgekeurd"))}," Afkeuren ",8,ht)):(0,a.kq)("v-if",!0),e.declaratie.statusData.magUitbetalen&&"goedgekeurd"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:4,class:"uitbetaald",disabled:e.submitting,onClick:t[26]||(t[26]=t=>e.setStatus("uitbetaald"))}," Uitbetaald ",8,mt)):(0,a.kq)("v-if",!0),e.declaratie.statusData.magUitbetalen&&"uitbetaald"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:5,class:"goedkeuren",disabled:e.submitting,onClick:t[27]||(t[27]=t=>e.setStatus("goedgekeurd"))}," Uitbetaald ongedaan maken ",8,pt)):(0,a.kq)("v-if",!0),vt,(0,a._)("button",{class:"concept",onClick:t[28]||(t[28]=t=>e.declaratieBewerken())},"Bewerken"),(0,a._)("a",{href:"mailto:"+e.email,class:"no-mail"},ft,8,bt),"goedgekeurd"===e.declaratie.status||"uitbetaald"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("a",{key:6,href:"/declaratie/print/"+e.declaratie.id,class:"no-mail"},wt,8,kt)):(0,a.kq)("v-if",!0)])),e.submitting?((0,a.wg)(),(0,a.iD)("div",At,[(0,a.Wm)(Dt,{icon:"spinner fa-spin"})])):(0,a.kq)("v-if",!0)])}],["__scopeId","data-v-01f1a408"]]),St={class:"card groep"},Ot={class:"card-body"},Vt={class:"card-title"},Mt={class:"row"},qt={key:0,class:"left-col col-md-5"},Lt={class:"card-text"},Pt={class:"col results"},Ut={class:"table table-sm"};const Gt="checkbox_1",It="dropdown_1",Tt="radios_1",Zt="text_1";const Kt={class:"mb-3"},Rt={class:"custom-control custom-checkbox"},Ht=["id","checked"],Wt=["for"];const Ft=(0,a.aZ)({props:{keuze:{required:!0,type:Object},modelValue:Boolean},emits:["update:modelValue"]}),Yt=(0,xt.Z)(Ft,[["render",function(e,t,n,i,s,o){return(0,a.wg)(),(0,a.iD)("div",Kt,[(0,a._)("div",Rt,[(0,a._)("input",{id:`customCheck${e.keuze.naam}`,type:"checkbox",class:"custom-control-input",checked:e.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.checked))},null,40,Ht),(0,a._)("label",{class:"custom-control-label",for:`customCheck${e.keuze.naam}`},(0,l.zw)(e.keuze.description),9,Wt)])])}]]),$t={class:"mb-3"},Nt={class:"w-100"},Jt=["name"],Qt=["value","selected"];const Xt=(0,a.aZ)({props:{keuze:{required:!0,type:Object},modelValue:{required:!0,type:String}},emits:["update:modelValue"]}),en=(0,xt.Z)(Xt,[["render",function(e,t,n,i,s,o){return(0,a.wg)(),(0,a.iD)("div",$t,[(0,a._)("label",Nt,[(0,a.Uk)((0,l.zw)(e.keuze.description)+" ",1),(0,a._)("select",{class:"form-select",name:"DropDownKeuze-"+e.keuze.naam,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.keuze.opties,((t,n)=>((0,a.wg)(),(0,a.iD)("option",{key:n,value:t,selected:t===e.modelValue},(0,l.zw)(t),9,Qt)))),128))],40,Jt)])])}]]),tn={class:"mb-3"},nn={class:"w-100"},an={class:"btn-group"},ln=["name","value","checked"];const sn=(0,a.aZ)({props:{keuze:{required:!0,type:Object},modelValue:{required:!0,type:String}},emits:["update:modelValue"]}),on=(0,xt.Z)(sn,[["render",function(e,t,n,i,s,o){return(0,a.wg)(),(0,a.iD)("div",tn,[(0,a._)("label",nn,(0,l.zw)(e.keuze.description),1),(0,a._)("div",an,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.keuze.opties,((n,i)=>((0,a.wg)(),(0,a.iD)("label",{key:i,class:(0,l.C_)({"btn btn-outline-primary":!0,active:n===e.modelValue})},[(0,a._)("input",{type:"radio",name:"MultiSelectKeuze-"+e.keuze.naam,class:"d-none",value:n,checked:n===e.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,40,ln),(0,a.Uk)((0,l.zw)(n),1)],2)))),128))])])}]]),rn={class:"mb-3"},dn=["for"],cn=["id","value"];const gn=(0,a.aZ)({props:{keuze:{required:!0,type:Object},modelValue:{required:!0,type:String}},emits:["update:modelValue"]}),un=(0,xt.Z)(gn,[["render",function(e,t,n,i,s,o){return(0,a.wg)(),(0,a.iD)("div",rn,[(0,a._)("label",{for:"customCheck"+e.keuze.naam},(0,l.zw)(e.keuze.description),9,dn),(0,a._)("input",{id:"customCheck"+e.keuze.naam,type:"text",class:"form-control",value:e.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,40,cn)])}]]),hn=(0,a.aZ)({props:{keuzes:{required:!0,type:Array},opmerking:{required:!0,type:Array},aangemeld:{required:!0,type:Boolean}},data:()=>({opmerkingData:[]}),created(){this.opmerkingData=this.opmerking},methods:{getKeuze(e){return this.keuzes.find((t=>t.naam===e))},getComponent(e){const t=this.getKeuze(e).type;switch(t){case Gt:return Yt;case Zt:return un;case Tt:return on;case It:return en;default:throw Error(`Kan component voor GroepKeuzeType '${t}' niet vinden.`)}}}}),mn=(0,xt.Z)(hn,[["render",function(e,t,n,i,l,s){return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.opmerkingData,(t=>((0,a.wg)(),(0,a.j4)((0,a.LL)(e.getComponent(t.naam)),{key:t.naam,modelValue:t.selectie,"onUpdate:modelValue":e=>t.selectie=e,keuze:e.getKeuze(t.naam)},null,8,["modelValue","onUpdate:modelValue","keuze"])))),128)),(0,a._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=t=>e.$emit("aanmelden",e.opmerkingData))}," Aanmelden ")])}]]),pn=(0,a._)("th",{scope:"col"},null,-1);const vn=(0,a.aZ)({props:{keuzes:{required:!0,type:Array}}}),bn=(0,xt.Z)(vn,[["render",function(e,t,n,i,s,o){return(0,a.wg)(),(0,a.iD)("thead",null,[(0,a._)("tr",null,[pn,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.keuzes,(e=>((0,a.wg)(),(0,a.iD)("th",{scope:"col",key:e.description},(0,l.zw)(e.description),1)))),128))])])}]]),fn=["innerHTML"],kn=["innerHTML"];var wn=n(1364);const An=(0,a.aZ)({components:{Icon:Et},props:{lid:{required:!0,type:Object},keuzes:{required:!0,type:Array}},methods:{getLidKeuze(e){return this.lid.opmerking2?this.lid.opmerking2.find((t=>t.naam===e.naam)):void 0},isKeuzeCheckbox:e=>e.type===Gt,renderSelectie:e=>(0,wn.Ak)(e.selectie)}}),_n=(0,xt.Z)(An,[["render",function(e,t,n,i,l,s){const o=(0,a.up)("Icon");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.kq)(" eslint-disable vue/no-v-html "),(0,a._)("tr",null,[(0,a._)("td",{class:"text-nowrap",innerHTML:e.lid.link},null,8,fn),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.keuzes,(t=>((0,a.wg)(),(0,a.iD)("td",{key:t.naam},[void 0===e.getLidKeuze(t)?((0,a.wg)(),(0,a.j4)(o,{key:0,icon:"ban"})):e.isKeuzeCheckbox(t)&&e.getLidKeuze(t).selectie?((0,a.wg)(),(0,a.j4)(o,{key:1,icon:"check"})):e.isKeuzeCheckbox(t)&&!e.getLidKeuze(t).selectie?((0,a.wg)(),(0,a.j4)(o,{key:2,icon:"xmark"})):((0,a.wg)(),(0,a.iD)("span",{key:3,innerHTML:e.renderSelectie(e.getLidKeuze(t))},null,8,kn))])))),128))])],2112)}]]),yn=(0,a.aZ)({components:{GroepAanmeldForm:mn,GroepLidRow:_n,GroepHeaderRow:bn},props:{settings:{required:!0,type:Object},groep:{required:!0,type:Object}},data:()=>({id:0,naam:"",familie:"",beginMoment:new Date,eindMoment:new Date,status:"",samenvatting:"",omschrijving:"",makerUid:"",versie:"",keuzelijst2:[],leden:[],mijnUid:"",mijnLink:"",aanmeldUrl:"",mijnOpmerking:[]}),computed:{mijnAanmelding(){return this.leden.find((e=>e.uid===this.mijnUid))},aangemeld(){return void 0!==this.mijnAanmelding},magAanmelden(){return console.log(this.groep.aanmeldenTot,new Date),!this.groep.aanmeldenTot||new Date(this.groep.aanmeldenTot)>new Date}},created(){this.id=this.groep.id,this.naam=this.groep.naam,this.familie=this.groep.familie,this.beginMoment=this.groep.beginMoment,this.eindMoment=this.groep.eindMoment,this.status=this.groep.status,this.samenvatting=this.groep.samenvatting,this.omschrijving=this.groep.omschrijving,this.makerUid=this.groep.makerUid,this.versie=this.groep.versie,this.keuzelijst2=this.groep.keuzelijst2,this.leden=this.groep.leden,this.mijnUid=this.settings.mijn_uid,this.mijnLink=this.settings.mijn_link,this.aanmeldUrl=this.settings.aanmeld_url,this.aangemeld?this.mijnOpmerking=this.mijnAanmelding.opmerking2:this.mijnOpmerking=this.keuzelijst2.map((e=>({selectie:e.default,naam:e.naam})))},methods:{aanmelden(){this.aangemeld||(this.leden.push({uid:this.mijnUid,link:this.mijnLink,opmerking2:this.mijnOpmerking}),yt().post(this.aanmeldUrl,{opmerking2:this.mijnOpmerking}))}}});var Dn=n(5458),Cn=n.n(Dn),xn=n(3665),En={insert:"head",singleton:!1};Cn()(xn.Z,En);xn.Z.locals;const zn=(0,xt.Z)(yn,[["render",function(e,t,n,i,s,o){const r=(0,a.up)("GroepAanmeldForm"),d=(0,a.up)("GroepHeaderRow"),c=(0,a.up)("GroepLidRow");return(0,a.wg)(),(0,a.iD)("div",St,[(0,a._)("div",Ot,[(0,a._)("h3",Vt,(0,l.zw)(e.naam),1),(0,a._)("div",Mt,[!e.aangemeld&&e.magAanmelden?((0,a.wg)(),(0,a.iD)("div",qt,[(0,a._)("p",Lt,(0,l.zw)(e.samenvatting),1),(0,a.Wm)(r,{keuzes:e.keuzelijst2,opmerking:e.mijnOpmerking,aangemeld:e.aangemeld,onAanmelden:e.aanmelden},null,8,["keuzes","opmerking","aangemeld","onAanmelden"])])):(0,a.kq)("v-if",!0),(0,a._)("div",Pt,[(0,a._)("table",Ut,[(0,a.Wm)(d,{keuzes:e.keuzelijst2},null,8,["keuzes"]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.leden,(t=>((0,a.wg)(),(0,a.j4)(c,{key:t.uid,lid:t,keuzes:e.keuzelijst2},null,8,["lid","keuzes"])))),128))])])])])])])}],["__scopeId","data-v-4994458c"]]),Bn=e=>((0,a.dD)("data-v-3da8cb3f"),e=e(),(0,a.Cn)(),e),jn={key:0,class:"score-blok"},Sn={class:"titel"},On=Bn((()=>(0,a._)("div",{class:"score-titel"},"Jouw score:",-1))),Vn={class:"score"},Mn={key:1},qn={class:"row"},Ln={class:"col-sm-6"},Pn=Bn((()=>(0,a._)("strong",{class:"mb-1 block"},"Lichting(en)",-1))),Un=Bn((()=>(0,a._)("label",{for:"alleLichtingen"},"Alle lichtingen",-1))),Gn=["id","value"],In=["checked"],Tn=["for"],Zn={class:"col-sm-6"},Kn=Bn((()=>(0,a._)("strong",{class:"mb-1 block"},"Verticale(n)",-1))),Rn=Bn((()=>(0,a._)("label",{for:"alleVerticalen"},"Alle verticalen",-1))),Hn=["id","value"],Wn=["checked"],Fn=["for"],Yn=Bn((()=>(0,a._)("strong",{class:"mb-1 block"},"Onderkant verbergen",-1))),$n=Bn((()=>(0,a._)("label",{for:"verbergOnderkant"},"Voorkom leesbare namen op foto's",-1))),Nn=Bn((()=>(0,a._)("strong",{class:"mt-3 mb-1 block"},"Antwoordmethode",-1))),Jn=[Bn((()=>(0,a._)("option",{value:"voornaam"},"Voornaam",-1))),Bn((()=>(0,a._)("option",{value:"achternaam"},"Achternaam",-1))),Bn((()=>(0,a._)("option",{value:"combi"},"Voor- en achternaam",-1))),Bn((()=>(0,a._)("option",{value:"civi"},"Achternaam en achtervoegsel",-1)))],Qn={key:2},Xn={class:"progress"},ei=["src"],ti={class:"info"},ni={class:"naam"},ii={class:"tekst"},ai={key:0},li={key:1,class:"mb-1 block"},si={key:2,class:"mb-1 block"},oi={key:3,class:"mb-1 block"},ri={key:4,class:"mb-1 block"},di=["value"];const ci=[],gi=e=>{if(ci.includes(e))return;ci.push(e);(new Image).src=e},ui=e=>Array.from(new Set(e)),hi=(0,a.aZ)({components:{Icon:Et},props:{leden:{required:!0,type:Array}},data:()=>({alleLichtingen:!1,alleVerticalen:!0,lichtingSelectie:[],verticaleSelectie:[],antwoordMethode:"voornaam",aantalPerKeer:5,verbergOnderkant:!0,started:!1,finished:!1,goed:[],opnieuw:[],fout:[],todo:[],laatste:null,laatsteGoed:null,huidig:null,ingevuld:"",titel:""}),computed:{aantal(){return this.gefilterdeLeden.length},gefilterdeLeden(){return this.leden.filter((e=>(this.alleLichtingen||this.lichtingSelectie.includes(e.lichting))&&(this.alleVerticalen||this.verticaleSelectie.includes(e.verticale))))},lichtingen(){return ui(this.leden.map((e=>e.lichting))).sort()},verticalen(){return ui(this.leden.map((e=>e.verticale))).sort()},klaarVoorDeStart(){return this.gefilterdeLeden.length>0},totaalAantal(){return this.todo.length+this.goed.length+this.opnieuw.length+this.fout.length},percentageGoed(){return this.totaalAantal>0?this.goed.length/this.totaalAantal*100:0},percentageOpnieuw(){return this.totaalAantal>0?this.opnieuw.length/this.totaalAantal*100:0},percentageFout(){return this.totaalAantal>0?this.fout.length/this.totaalAantal*100:0}},methods:{start(){this.klaarVoorDeStart&&(this.started=!0,this.goed=[],this.opnieuw=[],this.fout=[],this.todo=this.gefilterdeLeden,(e=>{let t,n,i=e.length;for(;0!==i;)n=Math.floor(Math.random()*i),i-=1,t=e[i],e[i]=e[n],e[n]=t})(this.todo),this.huidig=null,this.laatste=null,this.finished=!1,this.volgende(),this.titel=this.bouwTitel(),document.title=`C.S.R. Delft - Namen ${this.titel} leren`,window.scrollTo(0,0))},volgende(){const e=this.fout.concat(this.todo.slice(0,Math.max(this.aantalPerKeer-this.fout.length,0))),t=e.filter((t=>1===e.length||!this.huidig||t.uid!==this.huidig.uid));if(t.length>0){for(const e of t)gi("/profiel/pasfoto/"+e.uid+".jpg");this.huidig=t[Math.floor(Math.random()*t.length)],this.ingevuld=""}else this.finished=!0,this.started=!1},controleer(){if(null==this.huidig)throw new Error("huidig niet gezet");const e=[];"voornaam"!==this.antwoordMethode&&"combi"!==this.antwoordMethode||e.push(this.huidig.voornaam),"achternaam"!==this.antwoordMethode&&"combi"!==this.antwoordMethode&&"civi"!==this.antwoordMethode||(this.huidig.tussenvoegsel&&e.push(this.huidig.tussenvoegsel),e.push(this.huidig.achternaam)),"civi"===this.antwoordMethode&&this.huidig.postfix&&e.push(this.huidig.postfix);const t=e.map((e=>e.trim())).join(" ");this.laatste=this.huidig,this.laatsteGoed=t.toLowerCase().replace(".","")===this.ingevuld.toLowerCase().replace(".","");let n=this.todo.findIndex((e=>{var t;return e.uid===(null===(t=this.huidig)||void 0===t?void 0:t.uid)}));-1===n?this.laatsteGoed&&(n=this.fout.findIndex((e=>{var t;return e.uid===(null===(t=this.huidig)||void 0===t?void 0:t.uid)})),this.fout.splice(n,1),this.opnieuw.push(this.huidig)):(this.todo.splice(n,1),this.laatsteGoed?this.goed.push(this.huidig):this.fout.push(this.huidig)),this.volgende()},bouwTitel(){if(this.alleLichtingen&&this.alleVerticalen)return"Alle leden";let e="";return this.alleLichtingen||(this.lichtingSelectie.sort(),e+="Lichting ",e+=this.lichtingSelectie.slice(0,this.lichtingSelectie.length-1).join(", "),this.lichtingSelectie.length>1&&(e+=" & "),e+=this.lichtingSelectie[this.lichtingSelectie.length-1]),this.alleVerticalen||(e&&(e+=", "),this.verticaleSelectie.sort(),e+=this.verticaleSelectie.slice(0,this.verticaleSelectie.length-1).join(", "),this.verticaleSelectie.length>1&&(e+=" & "),e+=this.verticaleSelectie[this.verticaleSelectie.length-1]),e}}});var mi=n(1207),pi={insert:"head",singleton:!1};Cn()(mi.Z,pi);mi.Z.locals;const vi=(0,xt.Z)(hi,[["render",function(e,t,n,s,o,r){const d=(0,a.up)("Icon");return(0,a.wg)(),(0,a.iD)("div",null,[e.finished?((0,a.wg)(),(0,a.iD)("div",jn,[(0,a._)("div",Sn,(0,l.zw)(e.titel),1),On,(0,a._)("div",Vn,(0,l.zw)(Math.round(e.percentageGoed))+"%",1)])):(0,a.kq)("v-if",!0),e.started?e.finished?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",Qn,[(0,a._)("div",Xn,[(0,a._)("div",{class:"correct",style:(0,l.j5)({width:e.percentageGoed+"%"})},null,4),(0,a._)("div",{class:"again",style:(0,l.j5)({width:e.percentageOpnieuw+"%"})},null,4),(0,a._)("div",{class:"wrong",style:(0,l.j5)({width:e.percentageFout+"%"})},null,4)]),e.laatste?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,l.C_)(["laatste",{goed:e.laatsteGoed}])},[(0,a._)("img",{src:"/profiel/pasfoto/"+e.laatste.uid+".jpg",alt:""},null,8,ei),(0,a._)("div",ti,[(0,a._)("div",ni,[(0,a._)("span",{class:(0,l.C_)({bold:"voornaam"===e.antwoordMethode||"combi"===e.antwoordMethode})},(0,l.zw)(e.laatste.voornaam),3),(0,a._)("span",{class:(0,l.C_)({bold:"achternaam"===e.antwoordMethode||"combi"===e.antwoordMethode||"civi"===e.antwoordMethode})},(0,l.zw)(e.laatste.tussenvoegsel)+" "+(0,l.zw)(e.laatste.achternaam),3),e.laatste.postfix?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,l.C_)({bold:"civi"===e.antwoordMethode})},(0,l.zw)(e.laatste.postfix),3)):(0,a.kq)("v-if",!0)]),(0,a._)("div",ii,[(0,a._)("span",null,(0,l.zw)(e.laatste.lichting),1),e.laatste.verticale&&"Geen"!==e.laatste.verticale?((0,a.wg)(),(0,a.iD)("span",ai,(0,l.zw)(e.laatste.verticale),1)):(0,a.kq)("v-if",!0),(0,a._)("span",null,(0,l.zw)(e.laatste.studie),1)])]),e.laatsteGoed?((0,a.wg)(),(0,a.j4)(d,{key:0,icon:"check"})):((0,a.wg)(),(0,a.j4)(d,{key:1,icon:"xmark"}))],2)):(0,a.kq)("v-if",!0),(0,a._)("div",{class:(0,l.C_)(["pasfotoContainer",{onderkantVerbergen:e.verbergOnderkant}])},[(0,a._)("div",{style:(0,l.j5)({"background-image":"url(/profiel/pasfoto/"+e.huidig.uid+".jpg)"}),class:"pasfoto"},null,4)],2),"voornaam"===e.antwoordMethode?((0,a.wg)(),(0,a.iD)("strong",li,"Voornaam:")):(0,a.kq)("v-if",!0),"achternaam"===e.antwoordMethode?((0,a.wg)(),(0,a.iD)("strong",si,"Achternaam:")):(0,a.kq)("v-if",!0),"combi"===e.antwoordMethode?((0,a.wg)(),(0,a.iD)("strong",oi,"Voor- en achternaam:")):(0,a.kq)("v-if",!0),"civi"===e.antwoordMethode?((0,a.wg)(),(0,a.iD)("strong",ri,"Achternaam en achtervoegsel:")):(0,a.kq)("v-if",!0),(0,a._)("input",{type:"text",class:"form-control",value:e.ingevuld,autofocus:"",onInput:t[7]||(t[7]=t=>e.ingevuld=t.target.value),onKeydown:t[8]||(t[8]=(0,i.D2)(((...t)=>e.controleer&&e.controleer(...t)),["enter"]))},null,40,di)])):((0,a.wg)(),(0,a.iD)("div",Mn,[(0,a._)("div",qn,[(0,a._)("div",Ln,[Pn,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"alleLichtingen","onUpdate:modelValue":t[0]||(t[0]=t=>e.alleLichtingen=t),type:"checkbox"},null,512),[[i.e8,e.alleLichtingen]]),Un]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.lichtingen,(n=>((0,a.wg)(),(0,a.iD)("div",{key:n},[e.alleLichtingen?(0,a.kq)("v-if",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,id:"lichting"+n,"onUpdate:modelValue":t[1]||(t[1]=t=>e.lichtingSelectie=t),type:"checkbox",value:n},null,8,Gn)),[[i.e8,e.lichtingSelectie]]),e.alleLichtingen?((0,a.wg)(),(0,a.iD)("input",{key:1,type:"checkbox",checked:e.alleLichtingen,disabled:""},null,8,In)):(0,a.kq)("v-if",!0),(0,a._)("label",{for:"lichting"+n},(0,l.zw)(n),9,Tn)])))),128))]),(0,a._)("div",Zn,[Kn,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"alleVerticalen","onUpdate:modelValue":t[2]||(t[2]=t=>e.alleVerticalen=t),type:"checkbox"},null,512),[[i.e8,e.alleVerticalen]]),Rn]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.verticalen,(n=>((0,a.wg)(),(0,a.iD)("div",{key:n},[e.alleVerticalen?(0,a.kq)("v-if",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,id:"verticale"+n,"onUpdate:modelValue":t[3]||(t[3]=t=>e.verticaleSelectie=t),type:"checkbox",value:n},null,8,Hn)),[[i.e8,e.verticaleSelectie]]),e.alleVerticalen?((0,a.wg)(),(0,a.iD)("input",{key:1,type:"checkbox",checked:e.alleVerticalen,disabled:""},null,8,Wn)):(0,a.kq)("v-if",!0),(0,a._)("label",{for:"verticale"+n},(0,l.zw)(n),9,Fn)])))),128))])]),(0,a._)("div",null,[Yn,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"verbergOnderkant","onUpdate:modelValue":t[4]||(t[4]=t=>e.verbergOnderkant=t),type:"checkbox"},null,512),[[i.e8,e.verbergOnderkant]]),$n])]),Nn,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.antwoordMethode=t),class:"form-control"},Jn,512),[[i.bM,e.antwoordMethode]]),(0,a._)("a",{href:"#",class:(0,l.C_)(["btn btn-primary btn-block mt-3",{disabled:!e.klaarVoorDeStart}]),onClick:t[6]||(t[6]=(0,i.iM)(((...t)=>e.start&&e.start(...t)),["prevent"]))},"Start met "+(0,l.zw)(e.aantal)+" "+(0,l.zw)(1===e.aantal?"lid":"leden"),3)]))])}],["__scopeId","data-v-3da8cb3f"]]),bi={class:"card peiling"},fi={class:"card-body"},ki=["href"],wi={class:"totaal"},Ai={class:"card-title"},_i=["innerHTML"],yi={key:0},Di=[(e=>((0,a.dD)("data-v-74c8a160"),e=e(),(0,a.Cn)(),e))((()=>(0,a._)("div",{class:"card-body"},"Bedankt voor het stemmen!",-1)))],Ci={key:1,class:"card-body"},xi={key:0,class:"pb-2"},Ei={class:"list-group list-group-flush"},zi={key:0,class:"card-footer footer"},Bi=["disabled"];var ji=n(8633);const Si={key:0,class:"row"},Oi={class:"col-md-4"},Vi={class:"col-md-6"},Mi={class:"col-md-2"},qi=["innerHTML"],Li={key:1,class:"row"},Pi={class:"col-md-12"},Ui={class:"form-check"},Gi=["id","value","disabled","checked"],Ii=["for"],Ti=["innerHTML"];var Zi=n(3757);const Ki={class:"progress"};const Ri=(0,a.aZ)({props:{progress:{default:0,type:[Number,String]}}}),Hi=(0,xt.Z)(Ri,[["render",function(e,t,n,i,s,o){return(0,a.wg)(),(0,a.iD)("div",Ki,[(0,a._)("div",{class:"progress-bar",style:(0,l.j5)({width:e.progress+"%"})},[(0,a.WI)(e.$slots,"default")],4)])}]]),Wi=(0,a.aZ)({components:{ProgressBar:Hi},props:{id:{default:0,type:Number},peilingId:{default:0,type:Number},titel:{default:"",type:String},beschrijving:{default:"",type:String},stemmen:{default:0,type:Number},magStemmen:Boolean,aantalGestemd:{default:0,type:Number},heeftGestemd:Boolean,keuzesOver:Boolean,modelValue:Boolean},emits:["update:modelValue"],computed:{kanStemmen(){return this.magStemmen&&!this.heeftGestemd},progress(){return(this.stemmen/this.aantalGestemd*100).toFixed(2)},progressText(){return`${this.progress}% (${this.stemmen})`},isDisabled(){return!this.modelValue&&!this.keuzesOver}},watch:{kanStemmen(){this.initBeschrijvingContext()}},mounted(){this.initBeschrijvingContext()},methods:{initBeschrijvingContext(){setTimeout((()=>{this.kanStemmen?(0,Zi.S)(this.$refs.beschrijving):(0,Zi.S)(this.$refs.beschrijving_gestemd)}))}}}),Fi=(0,xt.Z)(Wi,[["render",function(e,t,n,i,s,o){const r=(0,a.up)("ProgressBar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.kq)(" eslint-disable vue/no-v-html "),e.kanStemmen?((0,a.wg)(),(0,a.iD)("div",Li,[(0,a._)("div",Pi,[(0,a._)("div",Ui,[(0,a._)("input",{id:"PeilingOptie"+e.id,type:"checkbox",class:"form-check-input",name:"optie",value:e.id,disabled:e.isDisabled,checked:e.modelValue,onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.checked))},null,40,Gi),(0,a._)("label",{for:"PeilingOptie"+e.id,class:"form-check-label"},(0,l.zw)(e.titel),9,Ii)])]),(0,a._)("div",{ref:"beschrijving",class:"col-md-12 pt-2",innerHTML:e.beschrijving},null,8,Ti)])):((0,a.wg)(),(0,a.iD)("div",Si,[(0,a._)("div",Oi,(0,l.zw)(e.titel),1),(0,a._)("div",Vi,[(0,a.Wm)(r,{progress:e.progress},null,8,["progress"])]),(0,a._)("div",Mi,(0,l.zw)(e.progressText),1),(0,a._)("div",{ref:"beschrijving_gestemd",class:"col text-muted pt-2",innerHTML:e.beschrijving},null,8,qi)]))],2112)}]]);var Yi=n(6217);const $i=(0,a.aZ)({components:{Icon:Et},props:{id:{default:0,type:Number}},data:()=>({icon:"plus",text:"Optie toevoegen"}),computed:{optieToevoegenUrl(){return`/peilingen/opties/${this.id}/toevoegen`}},methods:{toevoegen(e){e.preventDefault(),this.icon="spinner fa-spin",yt().post(this.optieToevoegenUrl.toString()).then((e=>{(0,Yi.q)(e.data),this.icon="plus"})).catch((()=>{this.icon="ban",this.text="Mag geen optie meer toevoegen"}))}}}),Ni=(0,xt.Z)($i,[["render",function(e,t,n,i,s,o){const r=(0,a.up)("Icon");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("a",{onClick:t[0]||(t[0]=(...t)=>e.toevoegen&&e.toevoegen(...t))},[(0,a.Wm)(r,{icon:e.icon},null,8,["icon"]),(0,a.Uk)(" "+(0,l.zw)(e.text),1)])])}]]),Ji=(0,a.aZ)({components:{Icon:Et,PeilingOptie:Fi,PeilingOptieToevoegen:Ni,Paginate:ji.Z},props:{settings:{default:()=>({}),type:Object}},data:()=>({id:"",titel:"",beschrijving:"",resultaatZichtbaar:!1,aantalVoorstellen:0,aantalStemmen:0,aantalGestemd:0,isMod:!1,heeftGestemd:!1,magStemmen:!1,opties:[],zoekterm:"",huidigePagina:1,paginaSize:10}),computed:{beheerUrl(){return`/peilingen/beheer/${this.id}`},selected(){return this.opties.filter((e=>e.selected))},optiesFiltered(){return this.opties.filter((e=>e.titel.toLowerCase().includes(this.zoekterm.toLowerCase())))},optiesZichtbaar(){const e=(this.huidigePagina-1)*this.paginaSize,t=e+this.paginaSize;return this.optiesFiltered.slice(e,t)},keuzesOver(){return this.aantalStemmen-this.selected.length>0},strKeuzes(){return`${this.selected.length} van de ${this.aantalStemmen} geselecteerd`},strAantalGestemd(){return this.aantalGestemd>0?`(${this.aantalGestemd} stem${this.aantalGestemd>1?"men":""})`:""},zoekbalkZichtbaar(){return this.opties.length>10}},created(){this.id=this.settings.id,this.titel=this.settings.titel,this.beschrijving=this.settings.beschrijving,this.resultaatZichtbaar=this.settings.resultaat_zichtbaar,this.aantalVoorstellen=this.settings.aantal_voorstellen,this.aantalStemmen=this.settings.aantal_stemmen,this.aantalGestemd=this.settings.aantal_gestemd,this.isMod=this.settings.is_mod,this.heeftGestemd=this.settings.heeft_gestemd,this.magStemmen=this.settings.mag_stemmen,this.opties=this.settings.opties,document.addEventListener("modalClose",(()=>this.reload()))},methods:{stem(){yt().post(`/peilingen/stem/${this.id}`,{opties:this.selected.map((e=>e.id))}).then((()=>{this.heeftGestemd=!0,this.aantalGestemd=this.aantalGestemd+this.selected.length,this.reload()}))},reload(){yt().post(`/peilingen/opties/${this.id}`).then((e=>{this.opties=e.data.data}))},zetHuidigePagina(e){this.huidigePagina=e}}});var Qi=n(3326),Xi={insert:"head",singleton:!1};Cn()(Qi.Z,Xi);Qi.Z.locals;const ea=(0,xt.Z)(Ji,[["render",function(e,t,n,s,o,r){const d=(0,a.up)("Icon"),c=(0,a.up)("PeilingOptie"),g=(0,a.up)("paginate"),u=(0,a.up)("PeilingOptieToevoegen");return(0,a.wg)(),(0,a.iD)("div",bi,[(0,a._)("div",fi,[e.isMod?((0,a.wg)(),(0,a.iD)("a",{key:0,href:e.beheerUrl,class:"bewerken"},[(0,a.Wm)(d,{icon:"pencil"})],8,ki)):(0,a.kq)("v-if",!0),(0,a._)("span",wi,(0,l.zw)(e.strAantalGestemd),1),(0,a._)("h3",Ai,(0,l.zw)(e.titel),1),(0,a.kq)(" eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line "),(0,a._)("p",{class:"card-text pt-2",innerHTML:e.beschrijving},null,8,_i)]),(0,a._)("div",null,[e.heeftGestemd&&!e.resultaatZichtbaar?((0,a.wg)(),(0,a.iD)("div",yi,Di)):((0,a.wg)(),(0,a.iD)("div",Ci,[e.zoekbalkZichtbaar?((0,a.wg)(),(0,a.iD)("div",xi,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.zoekterm=t),type:"text",placeholder:"Zoeken",class:"form-control"},null,512),[[i.nr,e.zoekterm]])])):(0,a.kq)("v-if",!0),(0,a._)("ul",Ei,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.optiesZichtbaar,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"list-group-item"},[((0,a.wg)(),(0,a.j4)(c,{id:t.id,key:t.id,modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e,"peiling-id":e.id,titel:t.titel,beschrijving:t.beschrijving_formatted,stemmen:t.stemmen,"mag-stemmen":e.magStemmen,"heeft-gestemd":e.heeftGestemd,"aantal-gestemd":e.aantalGestemd,"keuzes-over":e.keuzesOver},null,8,["id","modelValue","onUpdate:modelValue","peiling-id","titel","beschrijving","stemmen","mag-stemmen","heeft-gestemd","aantal-gestemd","keuzes-over"]))])))),128))]),e.optiesFiltered.length>e.paginaSize?((0,a.wg)(),(0,a.j4)(g,{key:1,modelValue:e.huidigePagina,"onUpdate:modelValue":t[1]||(t[1]=t=>e.huidigePagina=t),"page-count":Math.ceil(e.optiesFiltered.length/e.paginaSize),"prev-text":"Vorige","next-text":"Volgende","click-handler":e.zetHuidigePagina,size:"md",align:"center",limit:15,"total-rows":e.optiesFiltered.length,"per-page":e.paginaSize},null,8,["modelValue","page-count","click-handler","total-rows","per-page"])):(0,a.kq)("v-if",!0)]))]),!e.heeftGestemd&&e.magStemmen?((0,a.wg)(),(0,a.iD)("div",zi,[(0,a._)("div",null,(0,l.zw)(e.strKeuzes),1),e.aantalVoorstellen>0?((0,a.wg)(),(0,a.j4)(u,{key:0,id:e.id},null,8,["id"])):(0,a.kq)("v-if",!0),(0,a._)("input",{type:"button",class:"btn btn-primary",value:"Stem",disabled:0===e.selected.length,onClick:t[2]||(t[2]=(...t)=>e.stem&&e.stem(...t))},null,8,Bi)])):(0,a.kq)("v-if",!0)])}],["__scopeId","data-v-74c8a160"]]);var ta=n(9633),na=n.n(ta);const ia={peiling:ea,groep:zn,namenleren:vi,declaratie:jt},aa=e=>ia[e],la=(e,t)=>{const n=(0,i.ri)(e,t);return n.directive("input-mask",{beforeMount:function(e){(new(na())).mask(e)}}),n.use(zt.ZP),n}},7663:(e,t,n)=>{e.exports=n.p+"images/7708997ef1f5564db44e.gif"}}]);
//# sourceMappingURL=6190.025dc5dfdfc3ea6bd085.bundle.js.map