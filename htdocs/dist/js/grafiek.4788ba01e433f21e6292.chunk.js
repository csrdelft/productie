(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{158:function(t,e,a){"use strict";a.r(e),a.d(e,"initPie",(function(){return p})),a.d(e,"initLine",(function(){return u})),a.d(e,"initBar",(function(){return f})),a.d(e,"initDeelnamegrafiek",(function(){return b})),a.d(e,"initSaldoGrafiek",(function(){return g}));var r=a(8),n=a.n(r),s=a(190),o=a.n(s),i=a(191),d=a.n(i),l=a(3);function c(t){const e=l.g`<canvas style="width: 100%; height: 100%"/>`;return t.appendChild(e),e}function p(t){let e=JSON.parse(t.dataset.data);return e=h(e),new o.a(c(t),{data:e,type:"pie"})}async function u(t){let e;if(t.dataset.data)e=JSON.parse(t.dataset.data);else{if(!t.dataset.url)throw new Error("Hier kan ik niets mee");e=(await n.a.post(t.dataset.url)).data}return e=function(t){const e=d()(["tol","qualitative"],t.datasets.length)[Symbol.iterator]();return t.datasets.forEach(t=>{t.pointBorderColor=t.backgroundColor=t.borderColor="#"+e.next().value}),t}(e),new o.a(c(t),{data:e,options:{scales:{xAxes:[{barPercentage:1,stacked:!0,time:{tooltipFormat:"D MMM H:mm "},type:"time"}],yAxes:[{stacked:!0,ticks:{min:0}}]},tooltips:{intersect:!1,mode:"index"}},type:"line"})}function h(t){return t.datasets=t.datasets.map(t=>Object.assign({backgroundColor:d()("tol-rainbow",t.data.length).map(t=>"#"+t)},t)),t}function f(t){let e=JSON.parse(t.dataset.data);e=h(e);return new o.a(c(t),{data:e,type:"bar",options:{scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]}}})}function b(t){const e=JSON.parse(t.dataset.data),a={scales:{xAxes:[{stacked:!0,ticks:{callback:(t,a)=>e.jaren[a]}}],yAxes:[{stacked:!0,ticks:{stepSize:1}}]},tooltips:{callbacks:{title:(t,e)=>String(e.labels[t[0].index])},intersect:!1,mode:"index"}};return new o.a(c(t),{data:e,type:"bar",options:a})}function g(t){const e="true"===t.dataset.closed,a=t.dataset.uid;let r=11;const s={scales:{xAxes:[{time:{tooltipFormat:"LLL"},type:"time"}],yAxes:[{ticks:{callback:l.e}}]},tooltips:{callbacks:{label:(t,e)=>(e.datasets[t.datasetIndex].label||"")+": "+Object(l.e)(Number(t.yLabel))}}};o.a.defaults.NegativeTransparentLine||(o.a.defaults.NegativeTransparentLine=o.a.helpers.clone(o.a.defaults.line),o.a.controllers.NegativeTransparentLine=o.a.controllers.line.extend({update(){if(this.chart.data.datasets.length){const t=this.chart.data.datasets[0].data.reduce((t,e)=>e.y<t?e.y:t,this.chart.data.datasets[0].data[0].y);if(t>=0)return this.chart.data.datasets[0].borderColor="green",o.a.controllers.line.prototype.update.apply(this,arguments);const e=this.chart.data.datasets[0].data.reduce((t,e)=>e.y>t?e.y:t,this.chart.data.datasets[0].data[0].y);if(e<=0)return this.chart.data.datasets[0].borderColor="red",o.a.controllers.line.prototype.update.apply(this,arguments);const a=this.getScaleForId(this.getMeta().yAxisID),r=a.getPixelForValue(e),n=a.getPixelForValue(0),s=a.getPixelForValue(t),i=this.chart.chart.ctx.createLinearGradient(0,r,0,s),d=Math.min((n-r)/(s-r),1);i.addColorStop(0,"green"),i.addColorStop(d,"green"),i.addColorStop(d,"red"),i.addColorStop(1,"red"),this.chart.data.datasets[0].borderColor=i}return o.a.controllers.line.prototype.update.apply(this,arguments)}}));const i=new o.a(c(t),{data:{},type:"NegativeTransparentLine",options:s});function d(){if(n.a.post(`/profiel/${a}/saldo/${r}`).then(t=>{i.data=t.data,i.update()}),!t.querySelector(".saldo-terug-button")){const e=l.g`<a title="verder terug in de tijd" class="saldo-terug-button">&laquo;</a>`;t.appendChild(e),e.addEventListener("click",()=>{r*=2,r>5340||d()})}}if(e){const e=l.g`<a href="#" class="btn btn-primary">Toon saldografiek</a>`;e.addEventListener("click",a=>{a.preventDefault(),t.classList.remove("verborgen"),e.remove(),d()}),t.parentElement.appendChild(e)}else t.classList.remove("verborgen"),d()}},76:function(t,e,a){var r={"./nl":62,"./nl.js":62};function n(t){var e=s(t);return a(e)}function s(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=s,t.exports=n,n.id=76}}]);
//# sourceMappingURL=grafiek.4788ba01e433f21e6292.chunk.js.map