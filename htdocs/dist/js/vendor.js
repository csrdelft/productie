webpackJsonp([0],[,,function(e,t,i){"use strict";var r=i(12),n=i(72),o=i(35),a=i(145),s=i(25);function l(e){return e}function c(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}t.newBlob=function(e,i){t.checkSupport("blob");try{return new Blob([e],{type:i})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(i)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(e,t,i){var r=[],n=0,o=e.length;if(o<=i)return String.fromCharCode.apply(null,e);for(;n<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+i,o)))):r.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+i,o)))),n+=i;return r.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var i=65536,r=t.getTypeOf(e),n=!0;if("uint8array"===r?n=h.applyCanBeUsed.uint8array:"nodebuffer"===r&&(n=h.applyCanBeUsed.nodebuffer),n)for(;i>1;)try{return h.stringifyByChunk(e,r,i)}catch(e){i=Math.floor(i/2)}return h.stringifyByChar(e)}function d(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}t.applyFromCharCode=u;var f={};f.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},f.array={string:u,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,i){if(i||(i=""),!e)return i;t.checkSupport(e);var r=t.getTypeOf(i);return f[r][e](i)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,i,r="";for(i=0;i<(e||"").length;i++)r+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return r},t.delay=function(e,t,i){a(function(){e.apply(i||null,t||[])})},t.inherits=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i},t.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},t.prepareContent=function(e,i,o,a,l){return s.Promise.resolve(i).then(function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise(function(t,i){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){i(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(i){var h,u=t.getTypeOf(i);return u?("arraybuffer"===u?i=t.transformTo("uint8array",i):"string"===u&&(l?i=n.decode(i):o&&!0!==a&&(i=c(h=i,r.uint8array?new Uint8Array(h.length):new Array(h.length)))),i):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},,function(e,t,i){var r,n;!function(o){"use strict";r=[i(0)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)}(function(e,t,i,r){"use strict";var n,o,a,s,l=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new o(e?ot(this[n.iApiIndex]):this)},this.fnAddData=function(t,i){var n=this.api(!0),o=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?n.rows.add(t):n.row.add(t);return(i===r||i)&&n.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),i=t.settings()[0],n=i.oScroll;e===r||e?t.draw(!1):""===n.sX&&""===n.sY||Ve(i)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===r||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,i){var n=this.api(!0),o=n.rows(e),a=o.settings()[0],s=a.aoData[o[0][0]];return o.remove(),t&&t.call(this,a,s),(i===r||i)&&n.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,i,n,o,a){var s=this.api(!0);null===t||t===r?s.search(e,i,n,a):s.column(t).search(e,i,n,a),s.draw()},this.fnGetData=function(e,t){var i=this.api(!0);if(e!==r){var n=e.nodeName?e.nodeName.toLowerCase():"";return t!==r||"td"==n||"th"==n?i.cell(e,t).data():i.row(e).data()||null}return i.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==r?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),i=e.nodeName.toUpperCase();if("TR"==i)return t.row(e).index();if("TD"==i||"TH"==i){var r=t.cell(e).index();return[r.row,r.columnVisible,r.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,i){return this.api(!0).row(e).child(t,i).show().child()[0]},this.fnPageChange=function(e,t){var i=this.api(!0).page(e);(t===r||t)&&i.draw(!1)},this.fnSetColumnVis=function(e,t,i){var n=this.api(!0).column(e).visible(t);(i===r||i)&&n.columns.adjust().draw()},this.fnSettings=function(){return ot(this[n.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,i){this.api(!0).order.listener(e,t,i)},this.fnUpdate=function(e,t,i,n,o){var a=this.api(!0);return i===r||null===i?a.row(t).data(e):a.cell(t,i).data(e),(o===r||o)&&a.columns.adjust(),(n===r||n)&&a.draw(),0},this.fnVersionCheck=n.fnVersionCheck;var i=this,a=t===r,s=this.length;for(var c in a&&(t={}),this.oApi=this.internal=n.internal,l.ext.internal)c&&(this[c]=kt(c));return this.each(function(){var n,o=s>1?lt({},t,!0):t,c=0,h=this.getAttribute("id"),u=!1,d=l.defaults,f=e(this);if("table"==this.nodeName.toLowerCase()){F(d),I(d.column),M(d,d,!0),M(d.column,d.column,!0),M(d,e.extend(o,f.data()));var p=l.settings;for(c=0,n=p.length;c<n;c++){var m=p[c];if(m.nTable==this||m.nTHead&&m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){var g=o.bRetrieve!==r?o.bRetrieve:d.bRetrieve,v=o.bDestroy!==r?o.bDestroy:d.bDestroy;if(a||g)return m.oInstance;if(v){m.oInstance.fnDestroy();break}return void at(m,0,"Cannot reinitialise DataTable",3)}if(m.sTableId==this.id){p.splice(c,1);break}}null!==h&&""!==h||(h="DataTables_Table_"+l.ext._unique++,this.id=h);var y=e.extend(!0,{},l.models.oSettings,{sDestroyWidth:f[0].style.width,sInstance:h,sTableId:h});y.nTable=this,y.oApi=i.internal,y.oInit=o,p.push(y),y.oInstance=1===i.length?i:f.dataTable(),F(o),E(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=e.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=lt(e.extend(!0,{},d),o),st(y.oFeatures,o,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),st(y,o,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),st(y.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),st(y.oLanguage,o,"fnInfoCallback"),ht(y,"aoDrawCallback",o.fnDrawCallback,"user"),ht(y,"aoServerParams",o.fnServerParams,"user"),ht(y,"aoStateSaveParams",o.fnStateSaveParams,"user"),ht(y,"aoStateLoadParams",o.fnStateLoadParams,"user"),ht(y,"aoStateLoaded",o.fnStateLoaded,"user"),ht(y,"aoRowCallback",o.fnRowCallback,"user"),ht(y,"aoRowCreatedCallback",o.fnCreatedRow,"user"),ht(y,"aoHeaderCallback",o.fnHeaderCallback,"user"),ht(y,"aoFooterCallback",o.fnFooterCallback,"user"),ht(y,"aoInitComplete",o.fnInitComplete,"user"),ht(y,"aoPreDrawCallback",o.fnPreDrawCallback,"user"),y.rowIdFn=$(o.rowId),k(y);var b=y.oClasses;if(e.extend(b,l.ext.classes,o.oClasses),f.addClass(b.sTable),y.iInitDisplayStart===r&&(y.iInitDisplayStart=o.iDisplayStart,y._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading){y.bDeferLoading=!0;var _=e.isArray(o.iDeferLoading);y._iRecordsDisplay=_?o.iDeferLoading[0]:o.iDeferLoading,y._iRecordsTotal=_?o.iDeferLoading[1]:o.iDeferLoading}var x=y.oLanguage;e.extend(!0,x,o.oLanguage),x.sUrl&&(e.ajax({dataType:"json",url:x.sUrl,success:function(t){E(t),M(d.oLanguage,t),e.extend(!0,x,t),ke(y)},error:function(){ke(y)}}),u=!0),null===o.asStripeClasses&&(y.asStripeClasses=[b.sStripeOdd,b.sStripeEven]);var w=y.asStripeClasses,S=f.children("tbody").find("tr").eq(0);-1!==e.inArray(!0,e.map(w,function(e,t){return S.hasClass(e)}))&&(e("tbody tr",this).removeClass(w.join(" ")),y.asDestroyStripes=w.slice());var C,T=[],A=this.getElementsByTagName("thead");if(0!==A.length&&(he(y.aoHeader,A[0]),T=ue(y)),null===o.aoColumns)for(C=[],c=0,n=T.length;c<n;c++)C.push(null);else C=o.aoColumns;for(c=0,n=C.length;c<n;c++)L(y,T?T[c]:null);if(H(y,o.aoColumnDefs,C,function(e,t){P(y,e,t)}),S.length){var D=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(S[0]).children("th, td").each(function(e,t){var i=y.aoColumns[e];if(i.mData===e){var n=D(t,"sort")||D(t,"order"),o=D(t,"filter")||D(t,"search");null===n&&null===o||(i.mData={_:e+".display",sort:null!==n?e+".@data-"+n:r,type:null!==n?e+".@data-"+n:r,filter:null!==o?e+".@data-"+o:r},P(y,e))}})}var R=y.oFeatures,N=function(){if(o.aaSorting===r){var t=y.aaSorting;for(c=0,n=t.length;c<n;c++)t[c][1]=y.aoColumns[c].asSorting[0]}tt(y),R.bSort&&ht(y,"aoDrawCallback",function(){if(y.bSorted){var t=$e(y),i={};e.each(t,function(e,t){i[t.src]=t.dir}),ut(y,null,"order",[y,t,i]),Ze(y)}}),ht(y,"aoDrawCallback",function(){(y.bSorted||"ssp"===pt(y)||R.bDeferRender)&&tt(y)},"sc");var i=f.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),a=f.children("thead");0===a.length&&(a=e("<thead/>").appendTo(f)),y.nTHead=a[0];var s=f.children("tbody");0===s.length&&(s=e("<tbody/>").appendTo(f)),y.nTBody=s[0];var l=f.children("tfoot");if(0===l.length&&i.length>0&&(""!==y.oScroll.sX||""!==y.oScroll.sY)&&(l=e("<tfoot/>").appendTo(f)),0===l.length||0===l.children().length?f.addClass(b.sNoFooter):l.length>0&&(y.nTFoot=l[0],he(y.aoFooter,y.nTFoot)),o.aaData)for(c=0;c<o.aaData.length;c++)W(y,o.aaData[c]);else(y.bDeferLoading||"dom"==pt(y))&&j(y,e(y.nTBody).children("tr"));y.aiDisplay=y.aiDisplayMaster.slice(),y.bInitialised=!0,!1===u&&ke(y)};o.bStateSave?(R.bStateSave=!0,ht(y,"aoDrawCallback",rt,"state_save"),nt(y,o,N)):N()}else at(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),i=null,this},c={},h=/[\r\n]/g,u=/<.*?>/g,d=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,f=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),p=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,m=function(e){return!e||!0===e||"-"===e},g=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},v=function(e,t){return c[t]||(c[t]=new RegExp(Se(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(c[t],"."):e},y=function(e,t,i){var r="string"==typeof e;return!!m(e)||(t&&r&&(e=v(e,t)),i&&r&&(e=e.replace(p,"")),!isNaN(parseFloat(e))&&isFinite(e))},b=function(e,t,i){return!!m(e)||(function(e){return m(e)||"string"==typeof e}(e)&&!!y(C(e),t,i)||null)},_=function(e,t,i){var n=[],o=0,a=e.length;if(i!==r)for(;o<a;o++)e[o]&&e[o][t]&&n.push(e[o][t][i]);else for(;o<a;o++)e[o]&&n.push(e[o][t]);return n},x=function(e,t,i,n){var o=[],a=0,s=t.length;if(n!==r)for(;a<s;a++)e[t[a]][i]&&o.push(e[t[a]][i][n]);else for(;a<s;a++)o.push(e[t[a]][i]);return o},w=function(e,t){var i,n=[];t===r?(t=0,i=e):(i=t,t=e);for(var o=t;o<i;o++)n.push(o);return n},S=function(e){for(var t=[],i=0,r=e.length;i<r;i++)e[i]&&t.push(e[i]);return t},C=function(e){return e.replace(u,"")},T=function(e){if(function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),i=t[0],r=1,n=t.length;r<n;r++){if(t[r]===i)return!1;i=t[r]}return!0}(e))return e.slice();var t,i,r,n=[],o=e.length,a=0;e:for(i=0;i<o;i++){for(t=e[i],r=0;r<a;r++)if(n[r]===t)continue e;n.push(t),a++}return n};function A(t){var i,r,n={};e.each(t,function(e,o){(i=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(r=e.replace(i[0],i[2].toLowerCase()),n[r]=e,"o"===i[1]&&A(t[e]))}),t._hungarianMap=n}function M(t,i,n){var o;t._hungarianMap||A(t),e.each(i,function(a,s){(o=t._hungarianMap[a])===r||!n&&i[o]!==r||("o"===o.charAt(0)?(i[o]||(i[o]={}),e.extend(!0,i[o],i[a]),M(t[o],i[o],n)):i[o]=i[a])})}function E(e){var t=l.defaults.oLanguage,i=t.sDecimal;if(i&&Ft(i),e){var r=e.sZeroRecords;!e.sEmptyTable&&r&&"No data available in table"===t.sEmptyTable&&st(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&r&&"Loading..."===t.sLoadingRecords&&st(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var n=e.sDecimal;n&&i!==n&&Ft(n)}}l.util={throttle:function(e,t){var i,n,o=t!==r?t:200;return function(){var t=this,a=+new Date,s=arguments;i&&a<i+o?(clearTimeout(n),n=setTimeout(function(){i=r,e.apply(t,s)},o)):(i=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(f,"\\$1")}};var D=function(e,t,i){e[t]!==r&&(e[i]=e[t])};function F(e){D(e,"ordering","bSort"),D(e,"orderMulti","bSortMulti"),D(e,"orderClasses","bSortClasses"),D(e,"orderCellsTop","bSortCellsTop"),D(e,"order","aaSorting"),D(e,"orderFixed","aaSortingFixed"),D(e,"paging","bPaginate"),D(e,"pagingType","sPaginationType"),D(e,"pageLength","iDisplayLength"),D(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var i=0,r=t.length;i<r;i++)t[i]&&M(l.models.oSearch,t[i])}function I(t){D(t,"orderable","bSortable"),D(t,"orderData","aDataSort"),D(t,"orderSequence","asSorting"),D(t,"orderDataType","sortDataType");var i=t.aDataSort;"number"!=typeof i||e.isArray(i)||(t.aDataSort=[i])}function k(i){if(!l.__browser){var r={};l.__browser=r;var n=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=n.children(),a=o.children();r.barWidth=o[0].offsetWidth-o[0].clientWidth,r.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,r.bScrollbarLeft=1!==Math.round(a.offset().left),r.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}e.extend(i.oBrowser,l.__browser),i.oScroll.iBarWidth=l.__browser.barWidth}function R(e,t,i,n,o,a){var s,l=n,c=!1;for(i!==r&&(s=i,c=!0);l!==o;)e.hasOwnProperty(l)&&(s=c?t(s,e[l],l,e):e[l],c=!0,l+=a);return s}function L(t,r){var n=l.defaults.column,o=t.aoColumns.length,a=e.extend({},l.models.oColumn,n,{nTh:r||i.createElement("th"),sTitle:n.sTitle?n.sTitle:r?r.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[o],mData:n.mData?n.mData:o,idx:o});t.aoColumns.push(a);var s=t.aoPreSearchCols;s[o]=e.extend({},l.models.oSearch,s[o]),P(t,o,e(r).data())}function P(t,i,n){var o=t.aoColumns[i],a=t.oClasses,s=e(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=s.attr("width")||null;var c=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(o.sWidthOrig=c[1])}n!==r&&null!==n&&(I(n),M(l.defaults.column,n),n.mDataProp===r||n.mData||(n.mData=n.mDataProp),n.sType&&(o._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),n.sClass&&s.addClass(n.sClass),e.extend(o,n),st(o,n,"sWidth","sWidthOrig"),n.iDataSort!==r&&(o.aDataSort=[n.iDataSort]),st(o,n,"aDataSort"));var h=o.mData,u=$(h),d=o.mRender?$(o.mRender):null,f=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};o._bAttrSrc=e.isPlainObject(h)&&(f(h.sort)||f(h.type)||f(h.filter)),o._setter=null,o.fnGetData=function(e,t,i){var n=u(e,t,r,i);return d&&t?d(n,t,e,i):n},o.fnSetData=function(e,t,i){return Q(h)(e,t,i)},"number"!=typeof h&&(t._rowReadObject=!0),t.oFeatures.bSort||(o.bSortable=!1,s.addClass(a.sSortableNone));var p=-1!==e.inArray("asc",o.asSorting),m=-1!==e.inArray("desc",o.asSorting);o.bSortable&&(p||m)?p&&!m?(o.sSortingClass=a.sSortableAsc,o.sSortingClassJUI=a.sSortJUIAscAllowed):!p&&m?(o.sSortingClass=a.sSortableDesc,o.sSortingClassJUI=a.sSortJUIDescAllowed):(o.sSortingClass=a.sSortable,o.sSortingClassJUI=a.sSortJUI):(o.sSortingClass=a.sSortableNone,o.sSortingClassJUI="")}function N(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;je(e);for(var i=0,r=t.length;i<r;i++)t[i].nTh.style.width=t[i].sWidth}var n=e.oScroll;""===n.sY&&""===n.sX||Ve(e),ut(e,null,"column-sizing",[e])}function B(e,t){var i=U(e,"bVisible");return"number"==typeof i[t]?i[t]:null}function O(t,i){var r=U(t,"bVisible"),n=e.inArray(i,r);return-1!==n?n:null}function z(t){var i=0;return e.each(t.aoColumns,function(t,r){r.bVisible&&"none"!==e(r.nTh).css("display")&&i++}),i}function U(t,i){var r=[];return e.map(t.aoColumns,function(e,t){e[i]&&r.push(t)}),r}function V(e){var t,i,n,o,a,s,c,h,u,d=e.aoColumns,f=e.aoData,p=l.ext.type.detect;for(t=0,i=d.length;t<i;t++)if(u=[],!(c=d[t]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(n=0,o=p.length;n<o;n++){for(a=0,s=f.length;a<s&&(u[a]===r&&(u[a]=G(e,a,t,"type")),(h=p[n](u[a],e))||n===p.length-1)&&"html"!==h;a++);if(h){c.sType=h;break}}c.sType||(c.sType="string")}}function H(t,i,n,o){var a,s,l,c,h,u,d,f=t.aoColumns;if(i)for(a=i.length-1;a>=0;a--){var p=(d=i[a]).targets!==r?d.targets:d.aTargets;for(e.isArray(p)||(p=[p]),l=0,c=p.length;l<c;l++)if("number"==typeof p[l]&&p[l]>=0){for(;f.length<=p[l];)L(t);o(p[l],d)}else if("number"==typeof p[l]&&p[l]<0)o(f.length+p[l],d);else if("string"==typeof p[l])for(h=0,u=f.length;h<u;h++)("_all"==p[l]||e(f[h].nTh).hasClass(p[l]))&&o(h,d)}if(n)for(a=0,s=n.length;a<s;a++)o(a,n[a])}function W(t,i,n,o){var a=t.aoData.length,s=e.extend(!0,{},l.models.oRow,{src:n?"dom":"data",idx:a});s._aData=i,t.aoData.push(s);for(var c=t.aoColumns,h=0,u=c.length;h<u;h++)c[h].sType=null;t.aiDisplayMaster.push(a);var d=t.rowIdFn(i);return d!==r&&(t.aIds[d]=s),!n&&t.oFeatures.bDeferRender||re(t,a,n,o),a}function j(t,i){var r;return i instanceof e||(i=e(i)),i.map(function(e,i){return r=ie(t,i),W(t,r.data,i,r.cells)})}function G(e,t,i,n){var o=e.iDraw,a=e.aoColumns[i],s=e.aoData[t]._aData,l=a.sDefaultContent,c=a.fnGetData(s,n,{settings:e,row:t,col:i});if(c===r)return e.iDrawError!=o&&null===l&&(at(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+i,4),e.iDrawError=o),l;if(c!==s&&null!==c||null===l||n===r){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==n?"":c}function X(e,t,i,r){var n=e.aoColumns[i],o=e.aoData[t]._aData;n.fnSetData(o,r,{settings:e,row:t,col:i})}var Y=/\[.*?\]$/,q=/\(\)$/;function K(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function $(t){if(e.isPlainObject(t)){var i={};return e.each(t,function(e,t){t&&(i[e]=$(t))}),function(e,t,n,o){var a=i[t]||i._;return a!==r?a(e,t,n,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,i,r,n){return t(e,i,r,n)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,i){return e[t]};var n=function(t,i,o){var a,s,l,c;if(""!==o)for(var h=K(o),u=0,d=h.length;u<d;u++){if(a=h[u].match(Y),s=h[u].match(q),a){if(h[u]=h[u].replace(Y,""),""!==h[u]&&(t=t[h[u]]),l=[],h.splice(0,u+1),c=h.join("."),e.isArray(t))for(var f=0,p=t.length;f<p;f++)l.push(n(t[f],i,c));var m=a[0].substring(1,a[0].length-1);t=""===m?l:l.join(m);break}if(s)h[u]=h[u].replace(q,""),t=t[h[u]]();else{if(null===t||t[h[u]]===r)return r;t=t[h[u]]}}return t};return function(e,i){return n(e,i,t)}}function Q(t){if(e.isPlainObject(t))return Q(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,i,r){t(e,"set",i,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,i){e[t]=i};var i=function(t,n,o){for(var a,s,l,c,h,u=K(o),d=u[u.length-1],f=0,p=u.length-1;f<p;f++){if(s=u[f].match(Y),l=u[f].match(q),s){if(u[f]=u[f].replace(Y,""),t[u[f]]=[],(a=u.slice()).splice(0,f+1),h=a.join("."),e.isArray(n))for(var m=0,g=n.length;m<g;m++)i(c={},n[m],h),t[u[f]].push(c);else t[u[f]]=n;return}l&&(u[f]=u[f].replace(q,""),t=t[u[f]](n)),null!==t[u[f]]&&t[u[f]]!==r||(t[u[f]]={}),t=t[u[f]]}d.match(q)?t=t[d.replace(q,"")](n):t[d.replace(Y,"")]=n};return function(e,r){return i(e,r,t)}}function Z(e){return _(e.aoData,"_aData")}function J(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function ee(e,t,i){for(var n=-1,o=0,a=e.length;o<a;o++)e[o]==t?n=o:e[o]>t&&e[o]--;-1!=n&&i===r&&e.splice(n,1)}function te(e,t,i,n){var o,a,s=e.aoData[t],l=function(i,r){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=G(e,t,r,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==s.src)){var c=s.anCells;if(c)if(n!==r)l(c[n],n);else for(o=0,a=c.length;o<a;o++)l(c[o],o)}else s._aData=ie(e,s,n,n===r?r:s._aData).data;s._aSortData=null,s._aFilterData=null;var h=e.aoColumns;if(n!==r)h[n].sType=null;else{for(o=0,a=h.length;o<a;o++)h[o].sType=null;ne(e,s)}}function ie(t,i,n,o){var a,s,l,c=[],h=i.firstChild,u=0,d=t.aoColumns,f=t._rowReadObject;o=o!==r?o:f?{}:[];var p=function(e,t){if("string"==typeof e){var i=e.indexOf("@");if(-1!==i){var r=e.substring(i+1);Q(e)(o,t.getAttribute(r))}}},m=function(t){n!==r&&n!==u||(s=d[u],l=e.trim(t.innerHTML),s&&s._bAttrSrc?(Q(s.mData._)(o,l),p(s.mData.sort,t),p(s.mData.type,t),p(s.mData.filter,t)):f?(s._setter||(s._setter=Q(s.mData)),s._setter(o,l)):o[u]=l);u++};if(h)for(;h;)"TD"!=(a=h.nodeName.toUpperCase())&&"TH"!=a||(m(h),c.push(h)),h=h.nextSibling;else for(var g=0,v=(c=i.anCells).length;g<v;g++)m(c[g]);var y=i.firstChild?i:i.nTr;if(y){var b=y.getAttribute("id");b&&Q(t.rowId)(o,b)}return{data:o,cells:c}}function re(t,r,n,o){var a,s,l,c,h,u=t.aoData[r],d=u._aData,f=[];if(null===u.nTr){for(a=n||i.createElement("tr"),u.nTr=a,u.anCells=f,a._DT_RowIndex=r,ne(t,u),c=0,h=t.aoColumns.length;c<h;c++)l=t.aoColumns[c],(s=n?o[c]:i.createElement(l.sCellType))._DT_CellIndex={row:r,column:c},f.push(s),n&&!l.mRender&&l.mData===c||e.isPlainObject(l.mData)&&l.mData._===c+".display"||(s.innerHTML=G(t,r,c,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!n?a.appendChild(s):!l.bVisible&&n&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,s,G(t,r,c),d,r,c);ut(t,"aoRowCreatedCallback",null,[a,d,r,f])}u.nTr.setAttribute("role","row")}function ne(t,i){var r=i.nTr,n=i._aData;if(r){var o=t.rowIdFn(n);if(o&&(r.id=o),n.DT_RowClass){var a=n.DT_RowClass.split(" ");i.__rowc=i.__rowc?T(i.__rowc.concat(a)):a,e(r).removeClass(i.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&e(r).attr(n.DT_RowAttr),n.DT_RowData&&e(r).data(n.DT_RowData)}}function oe(t){var i,r,n,o,a,s=t.nTHead,l=t.nTFoot,c=0===e("th, td",s).length,h=t.oClasses,u=t.aoColumns;for(c&&(o=e("<tr/>").appendTo(s)),i=0,r=u.length;i<r;i++)a=u[i],n=e(a.nTh).addClass(a.sClass),c&&n.appendTo(o),t.oFeatures.bSort&&(n.addClass(a.sSortingClass),!1!==a.bSortable&&(n.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),et(t,a.nTh,i))),a.sTitle!=n[0].innerHTML&&n.html(a.sTitle),ft(t,"header")(t,n,a,h);if(c&&he(t.aoHeader,s),e(s).find(">tr").attr("role","row"),e(s).find(">tr>th, >tr>td").addClass(h.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(h.sFooterTH),null!==l){var d=t.aoFooter[0];for(i=0,r=d.length;i<r;i++)(a=u[i]).nTf=d[i].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}}function ae(t,i,n){var o,a,s,l,c,h,u,d,f,p=[],m=[],g=t.aoColumns.length;if(i){for(n===r&&(n=!1),o=0,a=i.length;o<a;o++){for(p[o]=i[o].slice(),p[o].nTr=i[o].nTr,s=g-1;s>=0;s--)t.aoColumns[s].bVisible||n||p[o].splice(s,1);m.push([])}for(o=0,a=p.length;o<a;o++){if(u=p[o].nTr)for(;h=u.firstChild;)u.removeChild(h);for(s=0,l=p[o].length;s<l;s++)if(d=1,f=1,m[o][s]===r){for(u.appendChild(p[o][s].cell),m[o][s]=1;p[o+d]!==r&&p[o][s].cell==p[o+d][s].cell;)m[o+d][s]=1,d++;for(;p[o][s+f]!==r&&p[o][s].cell==p[o][s+f].cell;){for(c=0;c<d;c++)m[o+c][s+f]=1;f++}e(p[o][s].cell).attr("rowspan",d).attr("colspan",f)}}}}function se(t){var i=ut(t,"aoPreDrawCallback","preDraw",[t]);if(-1===e.inArray(!1,i)){var n=[],o=0,a=t.asStripeClasses,s=a.length,l=(t.aoOpenRows.length,t.oLanguage),c=t.iInitDisplayStart,h="ssp"==pt(t),u=t.aiDisplay;t.bDrawing=!0,c!==r&&-1!==c&&(t._iDisplayStart=h?c:c>=t.fnRecordsDisplay()?0:c,t.iInitDisplayStart=-1);var d=t._iDisplayStart,f=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,ze(t,!1);else if(h){if(!t.bDestroying&&!fe(t))return}else t.iDraw++;if(0!==u.length)for(var p=h?0:d,m=h?t.aoData.length:f,g=p;g<m;g++){var v=u[g],y=t.aoData[v];null===y.nTr&&re(t,v);var b=y.nTr;if(0!==s){var _=a[o%s];y._sRowStripe!=_&&(e(b).removeClass(y._sRowStripe).addClass(_),y._sRowStripe=_)}ut(t,"aoRowCallback",null,[b,y._aData,o,g,v]),n.push(b),o++}else{var x=l.sZeroRecords;1==t.iDraw&&"ajax"==pt(t)?x=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(x=l.sEmptyTable),n[0]=e("<tr/>",{class:s?a[0]:""}).append(e("<td />",{valign:"top",colSpan:z(t),class:t.oClasses.sRowEmpty}).html(x))[0]}ut(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],Z(t),d,f,u]),ut(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],Z(t),d,f,u]);var w=e(t.nTBody);w.children().detach(),w.append(e(n)),ut(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}else ze(t,!1)}function le(e,t){var i=e.oFeatures,r=i.bSort,n=i.bFilter;r&&Qe(e),n?ye(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,se(e),e._drawHold=!1}function ce(t){var i=t.oClasses,r=e(t.nTable),n=e("<div/>").insertBefore(r),o=t.oFeatures,a=e("<div/>",{id:t.sTableId+"_wrapper",class:i.sWrapper+(t.nTFoot?"":" "+i.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=a[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,c,h,u,d,f,p=t.sDom.split(""),m=0;m<p.length;m++){if(s=null,"<"==(c=p[m])){if(h=e("<div/>")[0],"'"==(u=p[m+1])||'"'==u){for(d="",f=2;p[m+f]!=u;)d+=p[m+f],f++;if("H"==d?d=i.sJUIHeader:"F"==d&&(d=i.sJUIFooter),-1!=d.indexOf(".")){var g=d.split(".");h.id=g[0].substr(1,g[0].length-1),h.className=g[1]}else"#"==d.charAt(0)?h.id=d.substr(1,d.length-1):h.className=d;m+=f}a.append(h),a=e(h)}else if(">"==c)a=a.parent();else if("l"==c&&o.bPaginate&&o.bLengthChange)s=Pe(t);else if("f"==c&&o.bFilter)s=ve(t);else if("r"==c&&o.bProcessing)s=Oe(t);else if("t"==c)s=Ue(t);else if("i"==c&&o.bInfo)s=De(t);else if("p"==c&&o.bPaginate)s=Ne(t);else if(0!==l.ext.feature.length)for(var v=l.ext.feature,y=0,b=v.length;y<b;y++)if(c==v[y].cFeature){s=v[y].fnInit(t);break}if(s){var _=t.aanFeatures;_[c]||(_[c]=[]),_[c].push(s),a.append(s)}}n.replaceWith(a),t.nHolding=null}function he(t,i){var r,n,o,a,s,l,c,h,u,d,f,p=e(i).children("tr"),m=function(e,t,i){for(var r=e[t];r[i];)i++;return i};for(t.splice(0,t.length),o=0,l=p.length;o<l;o++)t.push([]);for(o=0,l=p.length;o<l;o++)for(h=0,n=(r=p[o]).firstChild;n;){if("TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase())for(u=1*n.getAttribute("colspan"),d=1*n.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,d=d&&0!==d&&1!==d?d:1,c=m(t,o,h),f=1===u,s=0;s<u;s++)for(a=0;a<d;a++)t[o+a][c+s]={cell:n,unique:f},t[o+a].nTr=r;n=n.nextSibling}}function ue(e,t,i){var r=[];i||(i=e.aoHeader,t&&he(i=[],t));for(var n=0,o=i.length;n<o;n++)for(var a=0,s=i[n].length;a<s;a++)!i[n][a].unique||r[a]&&e.bSortCellsTop||(r[a]=i[n][a].cell);return r}function de(t,i,r){if(ut(t,"aoServerParams","serverParams",[i]),i&&e.isArray(i)){var n={},o=/(.*?)\[\]$/;e.each(i,function(e,t){var i=t.name.match(o);if(i){var r=i[0];n[r]||(n[r]=[]),n[r].push(t.value)}else n[t.name]=t.value}),i=n}var a,s=t.ajax,l=t.oInstance,c=function(e){ut(t,null,"xhr",[t,e,t.jqXHR]),r(e)};if(e.isPlainObject(s)&&s.data){var h="function"==typeof(a=s.data)?a(i,t):a;i="function"==typeof a&&h?h:e.extend(!0,i,h),delete s.data}var u={data:i,success:function(e){var i=e.error||e.sError;i&&at(t,0,i),t.json=e,c(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(i,r,n){var o=ut(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,o)&&("parsererror"==r?at(t,0,"Invalid JSON response",1):4===i.readyState&&at(t,0,"Ajax error",7)),ze(t,!1)}};t.oAjaxData=i,ut(t,null,"preXhr",[t,i]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(i,function(e,t){return{name:t,value:e}}),c,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(u,{url:s||t.sAjaxSource})):"function"==typeof s?t.jqXHR=s.call(l,i,c,t):(t.jqXHR=e.ajax(e.extend(u,s)),s.data=a)}function fe(e){return!e.bAjaxDataGet||(e.iDraw++,ze(e,!0),de(e,pe(e),function(t){me(e,t)}),!1)}function pe(t){var i,r,n,o,a=t.aoColumns,s=a.length,c=t.oFeatures,h=t.oPreviousSearch,u=t.aoPreSearchCols,d=[],f=$e(t),p=t._iDisplayStart,m=!1!==c.bPaginate?t._iDisplayLength:-1,g=function(e,t){d.push({name:e,value:t})};g("sEcho",t.iDraw),g("iColumns",s),g("sColumns",_(a,"sName").join(",")),g("iDisplayStart",p),g("iDisplayLength",m);var v={draw:t.iDraw,columns:[],order:[],start:p,length:m,search:{value:h.sSearch,regex:h.bRegex}};for(i=0;i<s;i++)n=a[i],o=u[i],r="function"==typeof n.mData?"function":n.mData,v.columns.push({data:r,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),g("mDataProp_"+i,r),c.bFilter&&(g("sSearch_"+i,o.sSearch),g("bRegex_"+i,o.bRegex),g("bSearchable_"+i,n.bSearchable)),c.bSort&&g("bSortable_"+i,n.bSortable);c.bFilter&&(g("sSearch",h.sSearch),g("bRegex",h.bRegex)),c.bSort&&(e.each(f,function(e,t){v.order.push({column:t.col,dir:t.dir}),g("iSortCol_"+e,t.col),g("sSortDir_"+e,t.dir)}),g("iSortingCols",f.length));var y=l.ext.legacy.ajax;return null===y?t.sAjaxSource?d:v:y?d:v}function me(e,t){var i=function(e,i){return t[e]!==r?t[e]:t[i]},n=ge(e,t),o=i("sEcho","draw"),a=i("iTotalRecords","recordsTotal"),s=i("iTotalDisplayRecords","recordsFiltered");if(o){if(1*o<e.iDraw)return;e.iDraw=1*o}J(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(s,10);for(var l=0,c=n.length;l<c;l++)W(e,n[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,se(e),e._bInitComplete||Re(e,t),e.bAjaxDataGet=!0,ze(e,!1)}function ge(t,i){var n=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==r?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===n?i.aaData||i[n]:""!==n?$(n)(i):i}function ve(t){var r=t.oClasses,n=t.sTableId,o=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+r.sFilterInput+'"/>',c=o.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var h=e("<div/>",{id:s.f?null:n+"_filter",class:r.sFilter}).append(e("<label/>").append(c)),u=function(){s.f;var e=this.value?this.value:"";e!=a.sSearch&&(ye(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,se(t))},d=null!==t.searchDelay?t.searchDelay:"ssp"===pt(t)?400:0,f=e("input",h).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",d?Ge(u,d):u).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",n);return e(t.nTable).on("search.dt.DT",function(e,r){if(t===r)try{f[0]!==i.activeElement&&f.val(a.sSearch)}catch(e){}}),h[0]}function ye(e,t,i){var n=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){n.sSearch=e.sSearch,n.bRegex=e.bRegex,n.bSmart=e.bSmart,n.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==r?!e.bEscapeRegex:e.bRegex};if(V(e),"ssp"!=pt(e)){xe(e,t.sSearch,i,s(t),t.bSmart,t.bCaseInsensitive),a(t);for(var l=0;l<o.length;l++)_e(e,o[l].sSearch,l,s(o[l]),o[l].bSmart,o[l].bCaseInsensitive);be(e)}else a(t);e.bFiltered=!0,ut(e,null,"search",[e])}function be(t){for(var i,r,n=l.ext.search,o=t.aiDisplay,a=0,s=n.length;a<s;a++){for(var c=[],h=0,u=o.length;h<u;h++)r=o[h],i=t.aoData[r],n[a](t,i._aFilterData,r,i._aData,h)&&c.push(r);o.length=0,e.merge(o,c)}}function _e(e,t,i,r,n,o){if(""!==t){for(var a,s=[],l=e.aiDisplay,c=we(t,r,n,o),h=0;h<l.length;h++)a=e.aoData[l[h]]._aFilterData[i],c.test(a)&&s.push(l[h]);e.aiDisplay=s}}function xe(e,t,i,r,n,o){var a,s,c,h=we(t,r,n,o),u=e.oPreviousSearch.sSearch,d=e.aiDisplayMaster,f=[];if(0!==l.ext.search.length&&(i=!0),s=Ae(e),t.length<=0)e.aiDisplay=d.slice();else{for((s||i||u.length>t.length||0!==t.indexOf(u)||e.bSorted)&&(e.aiDisplay=d.slice()),a=e.aiDisplay,c=0;c<a.length;c++)h.test(e.aoData[a[c]]._sFilterRow)&&f.push(a[c]);e.aiDisplay=f}}function we(t,i,r,n){(t=i?t:Se(t),r)&&(t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")}).join(")(?=.*?")+").*$");return new RegExp(t,n?"i":"")}var Se=l.util.escapeRegex,Ce=e("<div>")[0],Te=Ce.textContent!==r;function Ae(e){var t,i,r,n,o,a,s,c,h=e.aoColumns,u=l.ext.type.search,d=!1;for(i=0,n=e.aoData.length;i<n;i++)if(!(c=e.aoData[i])._aFilterData){for(a=[],r=0,o=h.length;r<o;r++)(t=h[r]).bSearchable?(s=G(e,i,r,"filter"),u[t.sType]&&(s=u[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(Ce.innerHTML=s,s=Te?Ce.textContent:Ce.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);c._aFilterData=a,c._sFilterRow=a.join("  "),d=!0}return d}function Me(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function Ee(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function De(t){var i=t.sTableId,r=t.aanFeatures.i,n=e("<div/>",{class:t.oClasses.sInfo,id:r?null:i+"_info"});return r||(t.aoDrawCallback.push({fn:Fe,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",i+"_info")),n[0]}function Fe(t){var i=t.aanFeatures.i;if(0!==i.length){var r=t.oLanguage,n=t._iDisplayStart+1,o=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?r.sInfo:r.sInfoEmpty;s!==a&&(l+=" "+r.sInfoFiltered),l=Ie(t,l+=r.sInfoPostFix);var c=r.fnInfoCallback;null!==c&&(l=c.call(t.oInstance,t,n,o,a,s,l)),e(i).html(l)}}function Ie(e,t){var i=e.fnFormatNumber,r=e._iDisplayStart+1,n=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===n;return t.replace(/_START_/g,i.call(e,r)).replace(/_END_/g,i.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,i.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(e,o)).replace(/_PAGE_/g,i.call(e,a?1:Math.ceil(r/n))).replace(/_PAGES_/g,i.call(e,a?1:Math.ceil(o/n)))}function ke(e){var t,i,r,n=e.iInitDisplayStart,o=e.aoColumns,a=e.oFeatures,s=e.bDeferLoading;if(e.bInitialised){for(ce(e),oe(e),ae(e,e.aoHeader),ae(e,e.aoFooter),ze(e,!0),a.bAutoWidth&&je(e),t=0,i=o.length;t<i;t++)(r=o[t]).sWidth&&(r.nTh.style.width=Ke(r.sWidth));ut(e,null,"preInit",[e]),le(e);var l=pt(e);("ssp"!=l||s)&&("ajax"==l?de(e,[],function(i){var r=ge(e,i);for(t=0;t<r.length;t++)W(e,r[t]);e.iInitDisplayStart=n,le(e),ze(e,!1),Re(e,i)}):(ze(e,!1),Re(e)))}else setTimeout(function(){ke(e)},200)}function Re(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&N(e),ut(e,null,"plugin-init",[e,t]),ut(e,"aoInitComplete","init",[e,t])}function Le(e,t){var i=parseInt(t,10);e._iDisplayLength=i,dt(e),ut(e,null,"length",[e,i])}function Pe(t){for(var i=t.oClasses,r=t.sTableId,n=t.aLengthMenu,o=e.isArray(n[0]),a=o?n[0]:n,s=o?n[1]:n,l=e("<select/>",{name:r+"_length","aria-controls":r,class:i.sLengthSelect}),c=0,h=a.length;c<h;c++)l[0][c]=new Option("number"==typeof s[c]?t.fnFormatNumber(s[c]):s[c],a[c]);var u=e("<div><label/></div>").addClass(i.sLength);return t.aanFeatures.l||(u[0].id=r+"_length"),u.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),e("select",u).val(t._iDisplayLength).on("change.DT",function(i){Le(t,e(this).val()),se(t)}),e(t.nTable).on("length.dt.DT",function(i,r,n){t===r&&e("select",u).val(n)}),u[0]}function Ne(t){var i=t.sPaginationType,r=l.ext.pager[i],n="function"==typeof r,o=function(e){se(e)},a=e("<div/>").addClass(t.oClasses.sPaging+i)[0],s=t.aanFeatures;return n||r.fnInit(t,a,o),s.p||(a.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(n){var t,i,a=e._iDisplayStart,l=e._iDisplayLength,c=e.fnRecordsDisplay(),h=-1===l,u=h?0:Math.ceil(a/l),d=h?1:Math.ceil(c/l),f=r(u,d);for(t=0,i=s.p.length;t<i;t++)ft(e,"pageButton")(e,s.p[t],t,f,u,d)}else r.fnUpdate(e,o)},sName:"pagination"})),a}function Be(e,t,i){var r=e._iDisplayStart,n=e._iDisplayLength,o=e.fnRecordsDisplay();0===o||-1===n?r=0:"number"==typeof t?(r=t*n)>o&&(r=0):"first"==t?r=0:"previous"==t?(r=n>=0?r-n:0)<0&&(r=0):"next"==t?r+n<o&&(r+=n):"last"==t?r=Math.floor((o-1)/n)*n:at(e,0,"Unknown paging action: "+t,5);var a=e._iDisplayStart!==r;return e._iDisplayStart=r,a&&(ut(e,null,"page",[e]),i&&se(e)),a}function Oe(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function ze(t,i){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",i?"block":"none"),ut(t,null,"processing",[t,i])}function Ue(t){var i=e(t.nTable);i.attr("role","grid");var r=t.oScroll;if(""===r.sX&&""===r.sY)return t.nTable;var n=r.sX,o=r.sY,a=t.oClasses,s=i.children("caption"),l=s.length?s[0]._captionSide:null,c=e(i[0].cloneNode(!1)),h=e(i[0].cloneNode(!1)),u=i.children("tfoot"),d="<div/>",f=function(e){return e?Ke(e):null};u.length||(u=null);var p=e(d,{class:a.sScrollWrapper}).append(e(d,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?f(n):"100%"}).append(e(d,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:r.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(i.children("thead"))))).append(e(d,{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:f(n)}).append(i));u&&p.append(e(d,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:n?f(n):"100%"}).append(e(d,{class:a.sScrollFootInner}).append(h.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(i.children("tfoot")))));var m=p.children(),g=m[0],v=m[1],y=u?m[2]:null;return n&&e(v).on("scroll.DT",function(e){var t=this.scrollLeft;g.scrollLeft=t,u&&(y.scrollLeft=t)}),e(v).css(o&&r.bCollapse?"max-height":"height",o),t.nScrollHead=g,t.nScrollBody=v,t.nScrollFoot=y,t.aoDrawCallback.push({fn:Ve,sName:"scrolling"}),p[0]}function Ve(t){var i,n,o,a,s,l,c,h,u,d=t.oScroll,f=d.sX,p=d.sXInner,m=d.sY,g=d.iBarWidth,v=e(t.nScrollHead),y=v[0].style,b=v.children("div"),x=b[0].style,w=b.children("table"),S=t.nScrollBody,C=e(S),T=S.style,A=e(t.nScrollFoot).children("div"),M=A.children("table"),E=e(t.nTHead),D=e(t.nTable),F=D[0],I=F.style,k=t.nTFoot?e(t.nTFoot):null,R=t.oBrowser,L=R.bScrollOversize,P=_(t.aoColumns,"nTh"),O=[],z=[],U=[],V=[],H=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},W=S.scrollHeight>S.clientHeight;if(t.scrollBarVis!==W&&t.scrollBarVis!==r)return t.scrollBarVis=W,void N(t);t.scrollBarVis=W,D.children("thead, tfoot").remove(),k&&(l=k.clone().prependTo(D),n=k.find("tr"),a=l.find("tr")),s=E.clone().prependTo(D),i=E.find("tr"),o=s.find("tr"),s.find("th, td").removeAttr("tabindex"),f||(T.width="100%",v[0].style.width="100%"),e.each(ue(t,s),function(e,i){c=B(t,e),i.style.width=t.aoColumns[c].sWidth}),k&&He(function(e){e.style.width=""},a),u=D.outerWidth(),""===f?(I.width="100%",L&&(D.find("tbody").height()>S.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=Ke(D.outerWidth()-g)),u=D.outerWidth()):""!==p&&(I.width=Ke(p),u=D.outerWidth()),He(H,o),He(function(t){U.push(t.innerHTML),O.push(Ke(e(t).css("width")))},o),He(function(t,i){-1!==e.inArray(t,P)&&(t.style.width=O[i])},i),e(o).height(0),k&&(He(H,a),He(function(t){V.push(t.innerHTML),z.push(Ke(e(t).css("width")))},a),He(function(e,t){e.style.width=z[t]},n),e(a).height(0)),He(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+U[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=O[t]},o),k&&He(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+V[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=z[t]},a),D.outerWidth()<u?(h=S.scrollHeight>S.offsetHeight||"scroll"==C.css("overflow-y")?u+g:u,L&&(S.scrollHeight>S.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=Ke(h-g)),""!==f&&""===p||at(t,1,"Possible column misalignment",6)):h="100%",T.width=Ke(h),y.width=Ke(h),k&&(t.nScrollFoot.style.width=Ke(h)),m||L&&(T.height=Ke(F.offsetHeight+g));var j=D.outerWidth();w[0].style.width=Ke(j),x.width=Ke(j);var G=D.height()>S.clientHeight||"scroll"==C.css("overflow-y"),X="padding"+(R.bScrollbarLeft?"Left":"Right");x[X]=G?g+"px":"0px",k&&(M[0].style.width=Ke(j),A[0].style.width=Ke(j),A[0].style[X]=G?g+"px":"0px"),D.children("colgroup").insertBefore(D.children("thead")),C.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(S.scrollTop=0)}function He(e,t,i){for(var r,n,o=0,a=0,s=t.length;a<s;){for(r=t[a].firstChild,n=i?i[a].firstChild:null;r;)1===r.nodeType&&(i?e(r,n,o):e(r,o),o++),r=r.nextSibling,n=i?n.nextSibling:null;a++}}var We=/<.*?>/g;function je(i){var r,n,o,a=i.nTable,s=i.aoColumns,l=i.oScroll,c=l.sY,h=l.sX,u=l.sXInner,d=s.length,f=U(i,"bVisible"),p=e("th",i.nTHead),m=a.getAttribute("width"),g=a.parentNode,v=!1,y=i.oBrowser,b=y.bScrollOversize,_=a.style.width;for(_&&-1!==_.indexOf("%")&&(m=_),r=0;r<f.length;r++)null!==(n=s[f[r]]).sWidth&&(n.sWidth=Xe(n.sWidthOrig,g),v=!0);if(b||!v&&!h&&!c&&d==z(i)&&d==p.length)for(r=0;r<d;r++){var x=B(i,r);null!==x&&(s[x].sWidth=Ke(p.eq(r).width()))}else{var w=e(a).clone().css("visibility","hidden").removeAttr("id");w.find("tbody tr").remove();var S=e("<tr/>").appendTo(w.find("tbody"));for(w.find("thead, tfoot").remove(),w.append(e(i.nTHead).clone()).append(e(i.nTFoot).clone()),w.find("tfoot th, tfoot td").css("width",""),p=ue(i,w.find("thead")[0]),r=0;r<f.length;r++)n=s[f[r]],p[r].style.width=null!==n.sWidthOrig&&""!==n.sWidthOrig?Ke(n.sWidthOrig):"",n.sWidthOrig&&h&&e(p[r]).append(e("<div/>").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(r=0;r<f.length;r++)n=s[o=f[r]],e(Ye(i,o)).clone(!1).append(n.sContentPadding).appendTo(S);e("[name]",w).removeAttr("name");var C=e("<div/>").css(h||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(w).appendTo(g);h&&u?w.width(u):h?(w.css("width","auto"),w.removeAttr("width"),w.width()<g.clientWidth&&m&&w.width(g.clientWidth)):c?w.width(g.clientWidth):m&&w.width(m);var T=0;for(r=0;r<f.length;r++){var A=e(p[r]),M=A.outerWidth()-A.width(),E=y.bBounding?Math.ceil(p[r].getBoundingClientRect().width):A.outerWidth();T+=E,s[f[r]].sWidth=Ke(E-M)}a.style.width=Ke(T),C.remove()}if(m&&(a.style.width=Ke(m)),(m||h)&&!i._reszEvt){var D=function(){e(t).on("resize.DT-"+i.sInstance,Ge(function(){N(i)}))};b?setTimeout(D,1e3):D(),i._reszEvt=!0}}var Ge=l.util.throttle;function Xe(t,r){if(!t)return 0;var n=e("<div/>").css("width",Ke(t)).appendTo(r||i.body),o=n[0].offsetWidth;return n.remove(),o}function Ye(t,i){var r=qe(t,i);if(r<0)return null;var n=t.aoData[r];return n.nTr?n.anCells[i]:e("<td/>").html(G(t,r,i,"display"))[0]}function qe(e,t){for(var i,r=-1,n=-1,o=0,a=e.aoData.length;o<a;o++)(i=(i=(i=G(e,o,t,"display")+"").replace(We,"")).replace(/&nbsp;/g," ")).length>r&&(r=i.length,n=o);return n}function Ke(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function $e(t){var i,n,o,a,s,c,h,u=[],d=t.aoColumns,f=t.aaSortingFixed,p=e.isPlainObject(f),m=[],g=function(t){t.length&&!e.isArray(t[0])?m.push(t):e.merge(m,t)};for(e.isArray(f)&&g(f),p&&f.pre&&g(f.pre),g(t.aaSorting),p&&f.post&&g(f.post),i=0;i<m.length;i++)for(n=0,o=(a=d[h=m[i][0]].aDataSort).length;n<o;n++)c=d[s=a[n]].sType||"string",m[i]._idx===r&&(m[i]._idx=e.inArray(m[i][1],d[s].asSorting)),u.push({src:h,col:s,dir:m[i][1],index:m[i]._idx,type:c,formatter:l.ext.type.order[c+"-pre"]});return u}function Qe(e){var t,i,r,n,o,a=[],s=l.ext.type.order,c=e.aoData,h=(e.aoColumns,0),u=e.aiDisplayMaster;for(V(e),t=0,i=(o=$e(e)).length;t<i;t++)(n=o[t]).formatter&&h++,it(e,n.col);if("ssp"!=pt(e)&&0!==o.length){for(t=0,r=u.length;t<r;t++)a[u[t]]=t;h===o.length?u.sort(function(e,t){var i,r,n,s,l,h=o.length,u=c[e]._aSortData,d=c[t]._aSortData;for(n=0;n<h;n++)if(0!==(s=(i=u[(l=o[n]).col])<(r=d[l.col])?-1:i>r?1:0))return"asc"===l.dir?s:-s;return(i=a[e])<(r=a[t])?-1:i>r?1:0}):u.sort(function(e,t){var i,r,n,l,h,u=o.length,d=c[e]._aSortData,f=c[t]._aSortData;for(n=0;n<u;n++)if(i=d[(h=o[n]).col],r=f[h.col],0!==(l=(s[h.type+"-"+h.dir]||s["string-"+h.dir])(i,r)))return l;return(i=a[e])<(r=a[t])?-1:i>r?1:0})}e.bSorted=!0}function Ze(e){for(var t,i,r=e.aoColumns,n=$e(e),o=e.oLanguage.oAria,a=0,s=r.length;a<s;a++){var l=r[a],c=l.asSorting,h=l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(n.length>0&&n[0].col==a?(u.setAttribute("aria-sort","asc"==n[0].dir?"ascending":"descending"),i=c[n[0].index+1]||c[0]):i=c[0],t=h+("asc"===i?o.sSortAscending:o.sSortDescending)):t=h,u.setAttribute("aria-label",t)}}function Je(t,i,n,o){var a,s=t.aoColumns[i],l=t.aaSorting,c=s.asSorting,h=function(t,i){var n=t._idx;return n===r&&(n=e.inArray(t[1],c)),n+1<c.length?n+1:i?null:0};if("number"==typeof l[0]&&(l=t.aaSorting=[l]),n&&t.oFeatures.bSortMulti){var u=e.inArray(i,_(l,"0"));-1!==u?(null===(a=h(l[u],!0))&&1===l.length&&(a=0),null===a?l.splice(u,1):(l[u][1]=c[a],l[u]._idx=a)):(l.push([i,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(a=h(l[0]),l.length=1,l[0][1]=c[a],l[0]._idx=a):(l.length=0,l.push([i,c[0]]),l[0]._idx=0);le(t),"function"==typeof o&&o(t)}function et(e,t,i,r){var n=e.aoColumns[i];ct(t,{},function(t){!1!==n.bSortable&&(e.oFeatures.bProcessing?(ze(e,!0),setTimeout(function(){Je(e,i,t.shiftKey,r),"ssp"!==pt(e)&&ze(e,!1)},0)):Je(e,i,t.shiftKey,r))})}function tt(t){var i,r,n,o=t.aLastSort,a=t.oClasses.sSortColumn,s=$e(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(i=0,r=o.length;i<r;i++)n=o[i].src,e(_(t.aoData,"anCells",n)).removeClass(a+(i<2?i+1:3));for(i=0,r=s.length;i<r;i++)n=s[i].src,e(_(t.aoData,"anCells",n)).addClass(a+(i<2?i+1:3))}t.aLastSort=s}function it(e,t){var i,r,n,o=e.aoColumns[t],a=l.ext.order[o.sSortDataType];a&&(i=a.call(e.oInstance,e,t,O(e,t)));for(var s=l.ext.type.order[o.sType+"-pre"],c=0,h=e.aoData.length;c<h;c++)(r=e.aoData[c])._aSortData||(r._aSortData=[]),r._aSortData[t]&&!a||(n=a?i[c]:G(e,c,t,"sort"),r._aSortData[t]=s?s(n):n)}function rt(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var i={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Me(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,i){return{visible:e.bVisible,search:Me(t.aoPreSearchCols[i])}})};ut(t,"aoStateSaveParams","stateSaveParams",[t,i]),t.oSavedState=i,t.fnStateSaveCallback.call(t.oInstance,t,i)}}function nt(t,i,n){var o,a,s=t.aoColumns,l=function(i){if(i&&i.time){var l=ut(t,"aoStateLoadParams","stateLoadParams",[t,i]);if(-1===e.inArray(!1,l)){var c=t.iStateDuration;if(c>0&&i.time<+new Date-1e3*c)n();else if(i.columns&&s.length!==i.columns.length)n();else{if(t.oLoadedState=e.extend(!0,{},i),i.start!==r&&(t._iDisplayStart=i.start,t.iInitDisplayStart=i.start),i.length!==r&&(t._iDisplayLength=i.length),i.order!==r&&(t.aaSorting=[],e.each(i.order,function(e,i){t.aaSorting.push(i[0]>=s.length?[0,i[1]]:i)})),i.search!==r&&e.extend(t.oPreviousSearch,Ee(i.search)),i.columns)for(o=0,a=i.columns.length;o<a;o++){var h=i.columns[o];h.visible!==r&&(s[o].bVisible=h.visible),h.search!==r&&e.extend(t.aoPreSearchCols[o],Ee(h.search))}ut(t,"aoStateLoaded","stateLoaded",[t,i]),n()}}else n()}else n()};if(t.oFeatures.bStateSave){var c=t.fnStateLoadCallback.call(t.oInstance,t,l);c!==r&&l(c)}else n()}function ot(t){var i=l.settings,r=e.inArray(t,_(i,"nTable"));return-1!==r?i[r]:null}function at(e,i,r,n){if(r="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+r,n&&(r+=". For more information about this error, please see http://datatables.net/tn/"+n),i)t.console&&console.log&&console.log(r);else{var o=l.ext,a=o.sErrMode||o.errMode;if(e&&ut(e,null,"error",[e,n,r]),"alert"==a)alert(r);else{if("throw"==a)throw new Error(r);"function"==typeof a&&a(e,n,r)}}}function st(t,i,n,o){e.isArray(n)?e.each(n,function(r,n){e.isArray(n)?st(t,i,n[0],n[1]):st(t,i,n)}):(o===r&&(o=n),i[n]!==r&&(t[o]=i[n]))}function lt(t,i,r){var n;for(var o in i)i.hasOwnProperty(o)&&(n=i[o],e.isPlainObject(n)?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],n)):r&&"data"!==o&&"aaData"!==o&&e.isArray(n)?t[o]=n.slice():t[o]=n);return t}function ct(t,i,r){e(t).on("click.DT",i,function(i){e(t).blur(),r(i)}).on("keypress.DT",i,function(e){13===e.which&&(e.preventDefault(),r(e))}).on("selectstart.DT",function(){return!1})}function ht(e,t,i,r){i&&e[t].push({fn:i,sName:r})}function ut(t,i,r,n){var o=[];if(i&&(o=e.map(t[i].slice().reverse(),function(e,i){return e.fn.apply(t.oInstance,n)})),null!==r){var a=e.Event(r+".dt");e(t.nTable).trigger(a,n),o.push(a.result)}return o}function dt(e){var t=e._iDisplayStart,i=e.fnDisplayEnd(),r=e._iDisplayLength;t>=i&&(t=i-r),t-=t%r,(-1===r||t<0)&&(t=0),e._iDisplayStart=t}function ft(t,i){var r=t.renderer,n=l.ext.renderer[i];return e.isPlainObject(r)&&r[i]?n[r[i]]||n._:"string"==typeof r&&n[r]||n._}function pt(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}var mt=[],gt=Array.prototype;o=function(t,i){if(!(this instanceof o))return new o(t,i);var r=[],n=function(t){var i=function(t){var i,r,n=l.settings,o=e.map(n,function(e,t){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(i=e.inArray(t,o))?[n[i]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?r=e(t):t instanceof e&&(r=t),r?r.map(function(t){return-1!==(i=e.inArray(this,o))?n[i]:null}).toArray():void 0):[]}(t);i&&(r=r.concat(i))};if(e.isArray(t))for(var a=0,s=t.length;a<s;a++)n(t[a]);else n(t);this.context=T(r),i&&e.merge(this,i),this.selector={rows:null,cols:null,opts:null},o.extend(this,this,mt)},l.Api=o,e.extend(o.prototype,{any:function(){return 0!==this.count()},concat:gt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,i=this.length;t<i;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new o(t[e],this[e]):null},filter:function(e){var t=[];if(gt.filter)t=gt.filter.call(this,e,this);else for(var i=0,r=this.length;i<r;i++)e.call(this,this[i],i,this)&&t.push(this[i]);return new o(this.context,t)},flatten:function(){var e=[];return new o(this.context,e.concat.apply(e,this.toArray()))},join:gt.join,indexOf:gt.indexOf||function(e,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===e)return i;return-1},iterator:function(e,t,i,n){var a,s,l,c,h,u,d,f,p=[],m=this.context,g=this.selector;for("string"==typeof e&&(n=i,i=t,t=e,e=!1),s=0,l=m.length;s<l;s++){var v=new o(m[s]);if("table"===t)(a=i.call(v,m[s],s))!==r&&p.push(a);else if("columns"===t||"rows"===t)(a=i.call(v,m[s],this[s],s))!==r&&p.push(a);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(d=this[s],"column-rows"===t&&(u=xt(m[s],g.opts)),c=0,h=d.length;c<h;c++)f=d[c],(a="cell"===t?i.call(v,m[s],f.row,f.column,s,c):i.call(v,m[s],f,s,c,u))!==r&&p.push(a)}if(p.length||n){var y=new o(m,e?p.concat.apply([],p):p),b=y.selector;return b.rows=g.rows,b.cols=g.cols,b.opts=g.opts,y}return this},lastIndexOf:gt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(gt.map)t=gt.map.call(this,e,this);else for(var i=0,r=this.length;i<r;i++)t.push(e.call(this,this[i],i));return new o(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:gt.pop,push:gt.push,reduce:gt.reduce||function(e,t){return R(this,e,t,0,this.length,1)},reduceRight:gt.reduceRight||function(e,t){return R(this,e,t,this.length-1,-1,-1)},reverse:gt.reverse,selector:null,shift:gt.shift,slice:function(){return new o(this.context,this)},sort:gt.sort,splice:gt.splice,toArray:function(){return gt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new o(this.context,T(this))},unshift:gt.unshift}),o.extend=function(t,i,r){if(r.length&&i&&(i instanceof o||i.__dt_wrapper)){var n,a,s,l=function(e,t,i){return function(){var r=t.apply(e,arguments);return o.extend(r,r,i.methodExt),r}};for(n=0,a=r.length;n<a;n++)i[(s=r[n]).name]="function"==typeof s.val?l(t,s.val,s):e.isPlainObject(s.val)?{}:s.val,i[s.name].__dt_wrapper=!0,o.extend(t,i[s.name],s.propExt)}},o.register=a=function(t,i){if(e.isArray(t))for(var r=0,n=t.length;r<n;r++)o.register(t[r],i);else{var a,s,l,c,h=t.split("."),u=mt,d=function(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i].name===t)return e[i];return null};for(a=0,s=h.length;a<s;a++){var f=d(u,l=(c=-1!==h[a].indexOf("()"))?h[a].replace("()",""):h[a]);f||(f={name:l,val:{},methodExt:[],propExt:[]},u.push(f)),a===s-1?f.val=i:u=c?f.methodExt:f.propExt}}},o.registerPlural=s=function(t,i,n){o.register(t,n),o.register(i,function(){var t=n.apply(this,arguments);return t===this?this:t instanceof o?t.length?e.isArray(t[0])?new o(t.context,t[0]):t[0]:r:t})};a("tables()",function(t){return t?new o(function(t,i){if("number"==typeof t)return[i[t]];var r=e.map(i,function(e,t){return e.nTable});return e(r).filter(t).map(function(t){var n=e.inArray(this,r);return i[n]}).toArray()}(t,this.context)):this}),a("table()",function(e){var t=this.tables(e),i=t.context;return i.length?new o(i[0]):t}),s("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),s("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),s("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),s("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),s("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),a("draw()",function(e){return this.iterator("table",function(t){"page"===e?se(t):("string"==typeof e&&(e="full-hold"!==e),le(t,!1===e))})}),a("page()",function(e){return e===r?this.page.info().page:this.iterator("table",function(t){Be(t,e)})}),a("page.info()",function(e){if(0===this.context.length)return r;var t=this.context[0],i=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),a=-1===n;return{page:a?0:Math.floor(i/n),pages:a?1:Math.ceil(o/n),start:i,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===pt(t)}}),a("page.len()",function(e){return e===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(t){Le(t,e)})});var vt=function(e,t,i){if(i){var r=new o(e);r.one("draw",function(){i(r.ajax.json())})}if("ssp"==pt(e))le(e,t);else{ze(e,!0);var n=e.jqXHR;n&&4!==n.readyState&&n.abort(),de(e,[],function(i){J(e);for(var r=ge(e,i),n=0,o=r.length;n<o;n++)W(e,r[n]);le(e,t),ze(e,!1)})}};a("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),a("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),a("ajax.reload()",function(e,t){return this.iterator("table",function(i){vt(i,!1===t,e)})}),a("ajax.url()",function(t){var i=this.context;return t===r?0===i.length?r:(i=i[0]).ajax?e.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource:this.iterator("table",function(i){e.isPlainObject(i.ajax)?i.ajax.url=t:i.ajax=t})}),a("ajax.url().load()",function(e,t){return this.iterator("table",function(i){vt(i,!1===t,e)})});var yt=function(t,i,o,a,s){var l,c,h,u,d,f,p=[],m=typeof i;for(i&&"string"!==m&&"function"!==m&&i.length!==r||(i=[i]),h=0,u=i.length;h<u;h++)for(d=0,f=(c=i[h]&&i[h].split&&!i[h].match(/[\[\(:]/)?i[h].split(","):[i[h]]).length;d<f;d++)(l=o("string"==typeof c[d]?e.trim(c[d]):c[d]))&&l.length&&(p=p.concat(l));var g=n.selector[t];if(g.length)for(h=0,u=g.length;h<u;h++)p=g[h](a,s,p);return T(p)},bt=function(t){return t||(t={}),t.filter&&t.search===r&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},_t=function(e){for(var t=0,i=e.length;t<i;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},xt=function(t,i){var r,n=[],o=t.aiDisplay,a=t.aiDisplayMaster,s=i.search,l=i.order,c=i.page;if("ssp"==pt(t))return"removed"===s?[]:w(0,a.length);if("current"==c)for(u=t._iDisplayStart,d=t.fnDisplayEnd();u<d;u++)n.push(o[u]);else if("current"==l||"applied"==l){if("none"==s)n=a.slice();else if("applied"==s)n=o.slice();else if("removed"==s){for(var h={},u=0,d=o.length;u<d;u++)h[o[u]]=null;n=e.map(a,function(e){return h.hasOwnProperty(e)?null:e})}}else if("index"==l||"original"==l)for(u=0,d=t.aoData.length;u<d;u++)"none"==s?n.push(u):(-1===(r=e.inArray(u,o))&&"removed"==s||r>=0&&"applied"==s)&&n.push(u);return n};a("rows()",function(t,i){t===r?t="":e.isPlainObject(t)&&(i=t,t=""),i=bt(i);var n=this.iterator("table",function(n){return function(t,i,n){var o;return yt("row",i,function(i){var a=g(i),s=t.aoData;if(null!==a&&!n)return[a];if(o||(o=xt(t,n)),null!==a&&-1!==e.inArray(a,o))return[a];if(null===i||i===r||""===i)return o;if("function"==typeof i)return e.map(o,function(e){var t=s[e];return i(e,t._aData,t.nTr)?e:null});if(i.nodeName){var l=i._DT_RowIndex,c=i._DT_CellIndex;if(l!==r)return s[l]&&s[l].nTr===i?[l]:[];if(c)return s[c.row]&&s[c.row].nTr===i?[c.row]:[];var h=e(i).closest("*[data-dt-row]");return h.length?[h.data("dt-row")]:[]}if("string"==typeof i&&"#"===i.charAt(0)){var u=t.aIds[i.replace(/^#/,"")];if(u!==r)return[u.idx]}var d=S(x(t.aoData,o,"nTr"));return e(d).filter(i).map(function(){return this._DT_RowIndex}).toArray()},t,n)}(n,t,i)},1);return n.selector.rows=t,n.selector.opts=i,n}),a("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||r},1)}),a("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return x(e.aoData,t,"_aData")},1)}),s("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,i){var r=t.aoData[i];return"search"===e?r._aFilterData:r._aSortData},1)}),s("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,i){te(t,i,e)})}),s("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),s("rows().ids()","row().id()",function(e){for(var t=[],i=this.context,r=0,n=i.length;r<n;r++)for(var a=0,s=this[r].length;a<s;a++){var l=i[r].rowIdFn(i[r].aoData[this[r][a]]._aData);t.push((!0===e?"#":"")+l)}return new o(i,t)}),s("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,i,n){var o,a,s,l,c,h,u=t.aoData,d=u[i];for(u.splice(i,1),o=0,a=u.length;o<a;o++)if(h=(c=u[o]).anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=o),null!==h)for(s=0,l=h.length;s<l;s++)h[s]._DT_CellIndex.row=o;ee(t.aiDisplayMaster,i),ee(t.aiDisplay,i),ee(e[n],i,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,dt(t);var f=t.rowIdFn(d._aData);f!==r&&delete t.aIds[f]}),this.iterator("table",function(e){for(var t=0,i=e.aoData.length;t<i;t++)e.aoData[t].idx=t}),this}),a("rows.add()",function(t){var i=this.iterator("table",function(e){var i,r,n,o=[];for(r=0,n=t.length;r<n;r++)(i=t[r]).nodeName&&"TR"===i.nodeName.toUpperCase()?o.push(j(e,i)[0]):o.push(W(e,i));return o},1),r=this.rows(-1);return r.pop(),e.merge(r,i),r}),a("row()",function(e,t){return _t(this.rows(e,t))}),a("row().data()",function(t){var i=this.context;if(t===r)return i.length&&this.length?i[0].aoData[this[0]]._aData:r;var n=i[0].aoData[this[0]];return n._aData=t,e.isArray(t)&&n.nTr.id&&Q(i[0].rowId)(t,n.nTr.id),te(i[0],this[0],"data"),this}),a("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),a("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var i=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?j(e,t)[0]:W(e,t)});return this.row(i[0])});var wt=function(e,t){var i=e.context;if(i.length){var n=i[0].aoData[t!==r?t:e[0]];n&&n._details&&(n._details.remove(),n._detailsShow=r,n._details=r)}},St=function(e,t){var i=e.context;if(i.length&&e.length){var r=i[0].aoData[e[0]];r._details&&(r._detailsShow=t,t?r._details.insertAfter(r.nTr):r._details.detach(),Ct(i[0]))}},Ct=function(e){var t=new o(e),i=e.aoData;t.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),_(i,"_details").length>0&&(t.on("draw.dt.DT_details",function(r,n){e===n&&t.rows({page:"current"}).eq(0).each(function(e){var t=i[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on("column-visibility.dt.DT_details",function(t,r,n,o){if(e===r)for(var a,s=z(r),l=0,c=i.length;l<c;l++)(a=i[l])._details&&a._details.children("td[colspan]").attr("colspan",s)}),t.on("destroy.dt.DT_details",function(r,n){if(e===n)for(var o=0,a=i.length;o<a;o++)i[o]._details&&wt(t,o)}))};a("row().child()",function(t,i){var n=this.context;return t===r?n.length&&this.length?n[0].aoData[this[0]]._details:r:(!0===t?this.child.show():!1===t?wt(this):n.length&&this.length&&function(t,i,r,n){var o=[],a=function(i,r){if(e.isArray(i)||i instanceof e)for(var n=0,s=i.length;n<s;n++)a(i[n],r);else if(i.nodeName&&"tr"===i.nodeName.toLowerCase())o.push(i);else{var l=e("<tr><td/></tr>").addClass(r);e("td",l).addClass(r).html(i)[0].colSpan=z(t),o.push(l[0])}};a(r,n),i._details&&i._details.detach(),i._details=e(o),i._detailsShow&&i._details.insertAfter(i.nTr)}(n[0],n[0].aoData[this[0]],t,i),this)}),a(["row().child.show()","row().child().show()"],function(e){return St(this,!0),this}),a(["row().child.hide()","row().child().hide()"],function(){return St(this,!1),this}),a(["row().child.remove()","row().child().remove()"],function(){return wt(this),this}),a("row().child.isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var Tt=/^([^:]+):(name|visIdx|visible)$/,At=function(e,t,i,r,n){for(var o=[],a=0,s=n.length;a<s;a++)o.push(G(e,n[a],t));return o};a("columns()",function(t,i){t===r?t="":e.isPlainObject(t)&&(i=t,t=""),i=bt(i);var n=this.iterator("table",function(r){return function(t,i,r){var n=t.aoColumns,o=_(n,"sName"),a=_(n,"nTh");return yt("column",i,function(i){var s=g(i);if(""===i)return w(n.length);if(null!==s)return[s>=0?s:n.length+s];if("function"==typeof i){var l=xt(t,r);return e.map(n,function(e,r){return i(r,At(t,r,0,0,l),a[r])?r:null})}var c="string"==typeof i?i.match(Tt):"";if(c)switch(c[2]){case"visIdx":case"visible":var h=parseInt(c[1],10);if(h<0){var u=e.map(n,function(e,t){return e.bVisible?t:null});return[u[u.length+h]]}return[B(t,h)];case"name":return e.map(o,function(e,t){return e===c[1]?t:null});default:return[]}if(i.nodeName&&i._DT_CellIndex)return[i._DT_CellIndex.column];var d=e(a).filter(i).map(function(){return e.inArray(this,a)}).toArray();if(d.length||!i.nodeName)return d;var f=e(i).closest("*[data-dt-column]");return f.length?[f.data("dt-column")]:[]},t,r)}(r,t,i)},1);return n.selector.cols=t,n.selector.opts=i,n}),s("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),s("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),s("columns().data()","column().data()",function(){return this.iterator("column-rows",At,1)}),s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),s("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,i,r,n,o){return x(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",i)},1)}),s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,i,r,n){return x(e.aoData,n,"anCells",t)},1)}),s("columns().visible()","column().visible()",function(t,i){var n=this.iterator("column",function(i,n){if(t===r)return i.aoColumns[n].bVisible;!function(t,i,n){var o,a,s,l,c=t.aoColumns,h=c[i],u=t.aoData;if(n===r)return h.bVisible;if(h.bVisible!==n){if(n){var d=e.inArray(!0,_(c,"bVisible"),i+1);for(a=0,s=u.length;a<s;a++)l=u[a].nTr,o=u[a].anCells,l&&l.insertBefore(o[i],o[d]||null)}else e(_(t.aoData,"anCells",i)).detach();h.bVisible=n,ae(t,t.aoHeader),ae(t,t.aoFooter),t.aiDisplay.length||e(t.nTBody).find("td[colspan]").attr("colspan",z(t)),rt(t)}}(i,n,t)});return t!==r&&(this.iterator("column",function(e,r){ut(e,null,"column-visibility",[e,r,t,i])}),(i===r||i)&&this.columns.adjust()),n}),s("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,i){return"visible"===e?O(t,i):i},1)}),a("columns.adjust()",function(){return this.iterator("table",function(e){N(e)},1)}),a("column.index()",function(e,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===e||"toData"===e)return B(i,t);if("fromData"===e||"toVisible"===e)return O(i,t)}}),a("column()",function(e,t){return _t(this.columns(e,t))});a("cells()",function(t,i,n){if(e.isPlainObject(t)&&(t.row===r?(n=t,t=null):(n=i,i=null)),e.isPlainObject(i)&&(n=i,i=null),null===i||i===r)return this.iterator("table",function(i){return function(t,i,n){var o,a,s,l,c,h,u,d=t.aoData,f=xt(t,n),p=S(x(d,f,"anCells")),m=e([].concat.apply([],p)),g=t.aoColumns.length;return yt("cell",i,function(i){var n="function"==typeof i;if(null===i||i===r||n){for(a=[],s=0,l=f.length;s<l;s++)for(o=f[s],c=0;c<g;c++)h={row:o,column:c},n?(u=d[o],i(h,G(t,o,c),u.anCells?u.anCells[c]:null)&&a.push(h)):a.push(h);return a}if(e.isPlainObject(i))return i.column!==r&&i.row!==r&&-1!==e.inArray(i.row,f)?[i]:[];var p=m.filter(i).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return p.length||!i.nodeName?p:(u=e(i).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},t,n)}(i,t,bt(n))});var o,a,s,l,c,h=this.columns(i),u=this.rows(t);this.iterator("table",function(e,t){for(o=[],a=0,s=u[t].length;a<s;a++)for(l=0,c=h[t].length;l<c;l++)o.push({row:u[t][a],column:h[t][l]})},1);var d=this.cells(o,n);return e.extend(d.selector,{cols:i,rows:t,opts:n}),d}),s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,i){var n=e.aoData[t];return n&&n.anCells?n.anCells[i]:r},1)}),a("cells().data()",function(){return this.iterator("cell",function(e,t,i){return G(e,t,i)},1)}),s("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,r){return t.aoData[i][e][r]},1)}),s("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,i,r){return G(t,i,r,e)},1)}),s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,i){return{row:t,column:i,columnVisible:O(e,i)}},1)}),s("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,i,r){te(t,i,e,r)})}),a("cell()",function(e,t,i){return _t(this.cells(e,t,i))}),a("cell().data()",function(e){var t=this.context,i=this[0];return e===r?t.length&&i.length?G(t[0],i[0].row,i[0].column):r:(X(t[0],i[0].row,i[0].column,e),te(t[0],i[0].row,"data",i[0].column),this)}),a("order()",function(t,i){var n=this.context;return t===r?0!==n.length?n[0].aaSorting:r:("number"==typeof t?t=[[t,i]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),a("order.listener()",function(e,t,i){return this.iterator("table",function(r){et(r,e,t,i)})}),a("order.fixed()",function(t){if(!t){var i=this.context,n=i.length?i[0].aaSortingFixed:r;return e.isArray(n)?{pre:n}:n}return this.iterator("table",function(i){i.aaSortingFixed=e.extend(!0,{},t)})}),a(["columns().order()","column().order()"],function(t){var i=this;return this.iterator("table",function(r,n){var o=[];e.each(i[n],function(e,i){o.push([i,t])}),r.aaSorting=o})}),a("search()",function(t,i,n,o){var a=this.context;return t===r?0!==a.length?a[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&ye(r,e.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null!==i&&i,bSmart:null===n||n,bCaseInsensitive:null===o||o}),1)})}),s("columns().search()","column().search()",function(t,i,n,o){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;if(t===r)return l[s].sSearch;a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==i&&i,bSmart:null===n||n,bCaseInsensitive:null===o||o}),ye(a,a.oPreviousSearch,1))})}),a("state()",function(){return this.context.length?this.context[0].oSavedState:null}),a("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),a("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),a("state.save()",function(){return this.iterator("table",function(e){rt(e)})}),l.versionCheck=l.fnVersionCheck=function(e){for(var t,i,r=l.version.split("."),n=e.split("."),o=0,a=n.length;o<a;o++)if((t=parseInt(r[o],10)||0)!==(i=parseInt(n[o],10)||0))return t>i;return!0},l.isDataTable=l.fnIsDataTable=function(t){var i=e(t).get(0),r=!1;return t instanceof l.Api||(e.each(l.settings,function(t,n){var o=n.nScrollHead?e("table",n.nScrollHead)[0]:null,a=n.nScrollFoot?e("table",n.nScrollFoot)[0]:null;n.nTable!==i&&o!==i&&a!==i||(r=!0)}),r)},l.tables=l.fnTables=function(t){var i=!1;e.isPlainObject(t)&&(i=t.api,t=t.visible);var r=e.map(l.settings,function(i){if(!t||t&&e(i.nTable).is(":visible"))return i.nTable});return i?new o(r):r},l.camelToHungarian=M,a("$()",function(t,i){var r=this.rows(i).nodes(),n=e(r);return e([].concat(n.filter(t).toArray(),n.find(t).toArray()))}),e.each(["on","one","off"],function(t,i){a(i+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var r=e(this.tables().nodes());return r[i].apply(r,t),this})}),a("clear()",function(){return this.iterator("table",function(e){J(e)})}),a("settings()",function(){return new o(this.context,this.context)}),a("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),a("data()",function(){return this.iterator("table",function(e){return _(e.aoData,"_aData")}).flatten()}),a("destroy()",function(i){return i=i||!1,this.iterator("table",function(r){var n,a=r.nTableWrapper.parentNode,s=r.oClasses,c=r.nTable,h=r.nTBody,u=r.nTHead,d=r.nTFoot,f=e(c),p=e(h),m=e(r.nTableWrapper),g=e.map(r.aoData,function(e){return e.nTr});r.bDestroying=!0,ut(r,"aoDestroyCallback","destroy",[r]),i||new o(r).columns().visible(!0),m.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+r.sInstance),c!=u.parentNode&&(f.children("thead").detach(),f.append(u)),d&&c!=d.parentNode&&(f.children("tfoot").detach(),f.append(d)),r.aaSorting=[],r.aaSortingFixed=[],tt(r),e(g).removeClass(r.asStripeClasses.join(" ")),e("th, td",u).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),p.children().detach(),p.append(g);var v=i?"remove":"detach";f[v](),m[v](),!i&&a&&(a.insertBefore(c,r.nTableReinsertBefore),f.css("width",r.sDestroyWidth).removeClass(s.sTable),(n=r.asDestroyStripes.length)&&p.children().each(function(t){e(this).addClass(r.asDestroyStripes[t%n])}));var y=e.inArray(r,l.settings);-1!==y&&l.settings.splice(y,1)})}),e.each(["column","row","cell"],function(e,t){a(t+"s().every()",function(e){var i=this.selector.opts,n=this;return this.iterator(t,function(o,a,s,l,c){e.call(n[t](a,"cell"===t?s:i,"cell"===t?i:r),a,s,l,c)})})}),a("i18n()",function(t,i,n){var o=this.context[0],a=$(t)(o.oLanguage);return a===r&&(a=i),n!==r&&e.isPlainObject(a)&&(a=a[n]!==r?a[n]:a._),a.replace("%d",n)}),l.version="1.10.19",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},A(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},A(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==pt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==pt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,i=t+e,r=this.aiDisplay.length,n=this.oFeatures,o=n.bPaginate;return n.bServerSide?!1===o||-1===e?t+r:Math.min(t+e,this._iRecordsDisplay):!o||i>r||-1===e?r:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=n={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},e.extend(n,{afnFiltering:n.search,aTypes:n.type.detect,ofnSearch:n.type.search,oSort:n.type.order,afnSortData:n.order,aoFeatures:n.feature,oApi:n.internal,oStdClasses:n.classes,oPagination:n.pager}),e.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Mt=l.ext.pager;function Et(e,t){var i=[],r=Mt.numbers_length,n=Math.floor(r/2);return t<=r?i=w(0,t):e<=n?((i=w(0,r-2)).push("ellipsis"),i.push(t-1)):e>=t-1-n?((i=w(t-(r-2),t)).splice(0,0,"ellipsis"),i.splice(0,0,0)):((i=w(e-n+2,e+n-1)).push("ellipsis"),i.push(t-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}e.extend(Mt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[Et(e,t)]},simple_numbers:function(e,t){return["previous",Et(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Et(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Et(e,t),"last"]},_numbers:Et,numbers_length:7}),e.extend(!0,l.ext.renderer,{pageButton:{_:function(t,n,o,a,s,l){var c,h,u,d=t.oClasses,f=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},m=0,g=function(i,r){var n,a,u,v=function(e){Be(t,e.data.action,!0)};for(n=0,a=r.length;n<a;n++)if(u=r[n],e.isArray(u)){var y=e("<"+(u.DT_el||"div")+"/>").appendTo(i);g(y,u)}else{switch(c=null,h="",u){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=f.sFirst,h=u+(s>0?"":" "+d.sPageButtonDisabled);break;case"previous":c=f.sPrevious,h=u+(s>0?"":" "+d.sPageButtonDisabled);break;case"next":c=f.sNext,h=u+(s<l-1?"":" "+d.sPageButtonDisabled);break;case"last":c=f.sLast,h=u+(s<l-1?"":" "+d.sPageButtonDisabled);break;default:c=u+1,h=s===u?d.sPageButtonActive:""}null!==c&&(ct(e("<a>",{class:d.sPageButton+" "+h,"aria-controls":t.sTableId,"aria-label":p[u],"data-dt-idx":m,tabindex:t.iTabIndex,id:0===o&&"string"==typeof u?t.sTableId+"_"+u:null}).html(c).appendTo(i),{action:u},v),m++)}};try{u=e(n).find(i.activeElement).data("dt-idx")}catch(e){}g(e(n).empty(),a),u!==r&&e(n).find("[data-dt-idx="+u+"]").focus()}}}),e.extend(l.ext.type.detect,[function(e,t){var i=t.oLanguage.sDecimal;return y(e,i)?"num"+i:null},function(e,t){if(e&&!(e instanceof Date)&&!d.test(e))return null;var i=Date.parse(e);return null!==i&&!isNaN(i)||m(e)?"date":null},function(e,t){var i=t.oLanguage.sDecimal;return y(e,i,!0)?"num-fmt"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return b(e,i)?"html-num"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return b(e,i,!0)?"html-num-fmt"+i:null},function(e,t){return m(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(l.ext.type.search,{html:function(e){return m(e)?e:"string"==typeof e?e.replace(h," ").replace(u,""):""},string:function(e){return m(e)?e:"string"==typeof e?e.replace(h," "):e}});var Dt=function(e,t,i,r){return 0===e||e&&"-"!==e?(t&&(e=v(e,t)),e.replace&&(i&&(e=e.replace(i,"")),r&&(e=e.replace(r,""))),1*e):-1/0};function Ft(t){e.each({num:function(e){return Dt(e,t)},"num-fmt":function(e){return Dt(e,t,p)},"html-num":function(e){return Dt(e,t,u)},"html-num-fmt":function(e){return Dt(e,t,u,p)}},function(e,i){n.type.order[e+t+"-pre"]=i,e.match(/^html\-/)&&(n.type.search[e+t]=n.type.search.html)})}e.extend(n.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return m(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return m(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Ft(""),e.extend(!0,l.ext.renderer,{header:{_:function(t,i,r,n){e(t.nTable).on("order.dt.DT",function(e,o,a,s){if(t===o){var l=r.idx;i.removeClass(r.sSortingClass+" "+n.sSortAsc+" "+n.sSortDesc).addClass("asc"==s[l]?n.sSortAsc:"desc"==s[l]?n.sSortDesc:r.sSortingClass)}})},jqueryui:function(t,i,r,n){e("<div/>").addClass(n.sSortJUIWrapper).append(i.contents()).append(e("<span/>").addClass(n.sSortIcon+" "+r.sSortingClassJUI)).appendTo(i),e(t.nTable).on("order.dt.DT",function(e,o,a,s){if(t===o){var l=r.idx;i.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass("asc"==s[l]?n.sSortAsc:"desc"==s[l]?n.sSortDesc:r.sSortingClass),i.find("span."+n.sSortIcon).removeClass(n.sSortJUIAsc+" "+n.sSortJUIDesc+" "+n.sSortJUI+" "+n.sSortJUIAscAllowed+" "+n.sSortJUIDescAllowed).addClass("asc"==s[l]?n.sSortJUIAsc:"desc"==s[l]?n.sSortJUIDesc:r.sSortingClassJUI)}})}}});var It=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};function kt(e){return function(){var t=[ot(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[e].apply(this,t)}}return l.render={number:function(e,t,i,r,n){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var a=o<0?"-":"",s=parseFloat(o);if(isNaN(s))return It(o);s=s.toFixed(i),o=Math.abs(s);var l=parseInt(o,10),c=i?t+(o-l).toFixed(i).substring(2):"";return a+(r||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+c+(n||"")}}},text:function(){return{display:It,filter:It}}},e.extend(l.ext.internal,{_fnExternApiFunc:kt,_fnBuildAjax:de,_fnAjaxUpdate:fe,_fnAjaxParameters:pe,_fnAjaxUpdateDraw:me,_fnAjaxDataSrc:ge,_fnAddColumn:L,_fnColumnOptions:P,_fnAdjustColumnSizing:N,_fnVisibleToColumnIndex:B,_fnColumnIndexToVisible:O,_fnVisbleColumns:z,_fnGetColumns:U,_fnColumnTypes:V,_fnApplyColumnDefs:H,_fnHungarianMap:A,_fnCamelToHungarian:M,_fnLanguageCompat:E,_fnBrowserDetect:k,_fnAddData:W,_fnAddTr:j,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,i,r){return e.inArray(r,t.aoData[i].anCells)},_fnGetCellData:G,_fnSetCellData:X,_fnSplitObjNotation:K,_fnGetObjectDataFn:$,_fnSetObjectDataFn:Q,_fnGetDataMaster:Z,_fnClearTable:J,_fnDeleteIndex:ee,_fnInvalidate:te,_fnGetRowElements:ie,_fnCreateTr:re,_fnBuildHead:oe,_fnDrawHead:ae,_fnDraw:se,_fnReDraw:le,_fnAddOptionsHtml:ce,_fnDetectHeader:he,_fnGetUniqueThs:ue,_fnFeatureHtmlFilter:ve,_fnFilterComplete:ye,_fnFilterCustom:be,_fnFilterColumn:_e,_fnFilter:xe,_fnFilterCreateSearch:we,_fnEscapeRegex:Se,_fnFilterData:Ae,_fnFeatureHtmlInfo:De,_fnUpdateInfo:Fe,_fnInfoMacros:Ie,_fnInitialise:ke,_fnInitComplete:Re,_fnLengthChange:Le,_fnFeatureHtmlLength:Pe,_fnFeatureHtmlPaginate:Ne,_fnPageChange:Be,_fnFeatureHtmlProcessing:Oe,_fnProcessingDisplay:ze,_fnFeatureHtmlTable:Ue,_fnScrollDraw:Ve,_fnApplyToChildren:He,_fnCalculateColumnWidths:je,_fnThrottle:Ge,_fnConvertToWidth:Xe,_fnGetWidestNode:Ye,_fnGetMaxLenString:qe,_fnStringToCss:Ke,_fnSortFlatten:$e,_fnSort:Qe,_fnSortAria:Ze,_fnSortListener:Je,_fnSortAttachListener:et,_fnSortingClasses:tt,_fnSortData:it,_fnSaveState:rt,_fnLoadState:nt,_fnSettingsFromNode:ot,_fnLog:at,_fnMap:st,_fnBindAction:ct,_fnCallbackReg:ht,_fnCallbackFire:ut,_fnLengthOverflow:dt,_fnRenderer:ft,_fnDataSource:pt,_fnRowAttributes:ne,_fnExtend:lt,_fnCalculateEnd:function(){}}),e.fn.dataTable=l,l.$=e,e.fn.dataTableSettings=l.settings,e.fn.dataTableExt=l.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(l,function(t,i){e.fn.DataTable[t]=i}),e.fn.dataTable})},,function(e,t,i){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=r},function(e,t,i){"use strict";var r=i(112),n=i(248),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:n,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function i(i,r){"object"==typeof t[r]&&"object"==typeof i?t[r]=e(t[r],i):t[r]=i}for(var r=0,n=arguments.length;r<n;r++)c(arguments[r],i);return t},extend:function(e,t,i){return c(t,function(t,n){e[n]=i&&"function"==typeof t?r(t,i):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},,,,function(e,t,i){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(r),t.blob=0===n.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!i(66).Readable}catch(e){t.nodestream=!1}}).call(t,i(23).Buffer)},function(e,t,i){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)n(i,r)&&(e[r]=i[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,i,r,n){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+r),n);else for(var o=0;o<r;o++)e[n+o]=t[i+o]},flattenChunks:function(e){var t,i,r,n,o,a;for(r=0,t=0,i=e.length;t<i;t++)r+=e[t].length;for(a=new Uint8Array(r),n=0,t=0,i=e.length;t<i;t++)o=e[t],a.set(o,n),n+=o.length;return a}},a={arraySet:function(e,t,i,r,n){for(var o=0;o<r;o++)e[n+o]=t[i+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,i){"use strict";var r=i(33),n=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=u;var o=i(24);o.inherits=i(18);var a=i(67),s=i(49);o.inherits(u,a);for(var l=n(s.prototype),c=0;c<l.length;c++){var h=l[c];u.prototype[h]||(u.prototype[h]=s.prototype[h])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},,,function(e,t,i){"use strict";for(var r=i(2),n=i(12),o=i(35),a=i(6),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function h(){a.call(this,"utf-8 encode")}t.utf8encode=function(e){return n.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,i,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=n.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t}(e)},t.utf8decode=function(e){return n.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,n,o,a=e.length,l=new Array(2*a);for(i=0,t=0;t<a;)if((n=e[t++])<128)l[i++]=n;else if((o=s[n])>4)l[i++]=65533,t+=o-1;else{for(n&=2===o?31:3===o?15:7;o>1&&t<a;)n=n<<6|63&e[t++],o--;o>1?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),r.applyFromCharCode(l)}(e=r.transformTo(n.uint8array?"uint8array":"array",e))},r.inherits(c,a),c.prototype.processChunk=function(e){var i=r.transformTo(n.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var o=i;(i=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),i.set(o,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var a=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+s[e[i]]>t?i:t}(i),l=i;a!==i.length&&(n.uint8array?(l=i.subarray(0,a),this.leftOver=i.subarray(a,i.length)):(l=i.slice(0,a),this.leftOver=i.slice(a,i.length))),this.push({data:t.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=c,r.inherits(h,a),h.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=h},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n,o=e.fn.dataTable,a=0,s=0,l=o.ext.buttons,c=function(t,i){void 0===i&&(i={}),!0===i&&(i={}),e.isArray(i)&&(i={buttons:i}),this.c=e.extend(!0,{},c.defaults,i),i.buttons&&(this.c.buttons=i.buttons),this.s={dt:new o.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+a++},this.dom={container:e("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};e.extend(c.prototype,{action:function(e,t){var i=this._nodeToButton(e);return t===r?i.conf.action:(i.conf.action=t,this)},active:function(t,i){var n=this._nodeToButton(t),o=this.c.dom.button.active,a=e(n.node);return i===r?a.hasClass(o):(a.toggleClass(o,i===r||i),this)},add:function(e,t){var i=this.s.buttons;if("string"==typeof t){for(var r=t.split("-"),n=this.s,o=0,a=r.length-1;o<a;o++)n=n.buttons[1*r[o]];i=n.buttons,t=1*r[r.length-1]}return this._expandButton(i,e,!1,t),this._draw(),this},container:function(){return this.dom.container},disable:function(t){var i=this._nodeToButton(t);return e(i.node).addClass(this.c.dom.button.disabled),this},destroy:function(){e("body").off("keyup."+this.s.namespace);var t,i,r=this.s.buttons.slice();for(t=0,i=r.length;t<i;t++)this.remove(r[t].node);this.dom.container.remove();var n=this.s.dt.settings()[0];for(t=0,i=n.length;t<i;t++)if(n.inst===this){n.splice(t,1);break}return this},enable:function(t,i){if(!1===i)return this.disable(t);var r=this._nodeToButton(t);return e(r.node).removeClass(this.c.dom.button.disabled),this},name:function(){return this.c.name},node:function(t){var i=this._nodeToButton(t);return e(i.node)},processing:function(t,i){var n=this._nodeToButton(t);return i===r?e(n.node).hasClass("processing"):(e(n.node).toggleClass("processing",i),this)},remove:function(t){var i=this._nodeToButton(t),r=this._nodeToHost(t),n=this.s.dt;if(i.buttons.length)for(var o=i.buttons.length-1;o>=0;o--)this.remove(i.buttons[o].node);i.conf.destroy&&i.conf.destroy.call(n.button(t),n,e(t),i.conf),this._removeKey(i.conf),e(i.node).remove();var a=e.inArray(i,r);return r.splice(a,1),this},text:function(t,i){var n=this._nodeToButton(t),o=this.c.dom.collection.buttonLiner,a=n.inCollection&&o&&o.tag?o.tag:this.c.dom.buttonLiner.tag,s=this.s.dt,l=e(n.node),c=function(e){return"function"==typeof e?e(s,l,n.conf):e};return i===r?c(n.conf.text):(n.conf.text=i,a?l.children(a).html(c(i)):l.html(c(i)),this)},_constructor:function(){var t=this,r=this.s.dt,n=r.settings()[0],o=this.c.buttons;n._buttons||(n._buttons=[]),n._buttons.push({inst:this,name:this.c.name});for(var a=0,s=o.length;a<s;a++)this.add(o[a]);r.on("destroy",function(e,i){i===n&&t.destroy()}),e("body").on("keyup."+this.s.namespace,function(e){if(!i.activeElement||i.activeElement===i.body){var r=String.fromCharCode(e.keyCode).toLowerCase();-1!==t.s.listenKeys.toLowerCase().indexOf(r)&&t._keypress(r,e)}})},_addKey:function(t){t.key&&(this.s.listenKeys+=e.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(e,t){e||(e=this.dom.container,t=this.s.buttons),e.children().detach();for(var i=0,r=t.length;i<r;i++)e.append(t[i].inserter),e.append(" "),t[i].buttons&&t[i].buttons.length&&this._draw(t[i].collection,t[i].buttons)},_expandButton:function(t,i,n,o){for(var a=this.s.dt,s=e.isArray(i)?i:[i],l=0,c=s.length;l<c;l++){var h=this._resolveExtends(s[l]);if(h)if(e.isArray(h))this._expandButton(t,h,n,o);else{var u=this._buildButton(h,n);if(u){if(o!==r?(t.splice(o,0,u),o++):t.push(u),u.conf.buttons){var d=this.c.dom.collection;u.collection=e("<"+d.tag+"/>").addClass(d.className).attr("role","menu"),u.conf._collection=u.collection,this._expandButton(u.buttons,u.conf.buttons,!0,o)}h.init&&h.init.call(a.button(u.node),a,e(u.node),h),0}}}},_buildButton:function(t,i){var r=this.c.dom.button,n=this.c.dom.buttonLiner,o=this.c.dom.collection,a=this.s.dt,l=function(e){return"function"==typeof e?e(a,u,t):e};if(i&&o.button&&(r=o.button),i&&o.buttonLiner&&(n=o.buttonLiner),t.available&&!t.available(a,t))return!1;var c=function(t,i,r,n){n.action.call(i.button(r),t,i,r,n),e(i.table().node()).triggerHandler("buttons-action.dt",[i.button(r),i,r,n])},h=t.tag||r.tag,u=e("<"+h+"/>").addClass(r.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(e){e.preventDefault(),!u.hasClass(r.disabled)&&t.action&&c(e,a,u,t),u.blur()}).on("keyup.dtb",function(e){13===e.keyCode&&!u.hasClass(r.disabled)&&t.action&&c(e,a,u,t)});if("a"===h.toLowerCase()&&u.attr("href","#"),"button"===h.toLowerCase()&&u.attr("type","button"),n.tag){var d=e("<"+n.tag+"/>").html(l(t.text)).addClass(n.className);"a"===n.tag.toLowerCase()&&d.attr("href","#"),u.append(d)}else u.html(l(t.text));!1===t.enabled&&u.addClass(r.disabled),t.className&&u.addClass(t.className),t.titleAttr&&u.attr("title",l(t.titleAttr)),t.attr&&u.attr(t.attr),t.namespace||(t.namespace=".dt-button-"+s++);var f,p=this.c.dom.buttonContainer;return f=p&&p.tag?e("<"+p.tag+"/>").addClass(p.className).append(u):u,this._addKey(t),{conf:t,node:u.get(0),inserter:f,buttons:[],inCollection:i,collection:null}},_nodeToButton:function(e,t){t||(t=this.s.buttons);for(var i=0,r=t.length;i<r;i++){if(t[i].node===e)return t[i];if(t[i].buttons.length){var n=this._nodeToButton(e,t[i].buttons);if(n)return n}}},_nodeToHost:function(e,t){t||(t=this.s.buttons);for(var i=0,r=t.length;i<r;i++){if(t[i].node===e)return t;if(t[i].buttons.length){var n=this._nodeToHost(e,t[i].buttons);if(n)return n}}},_keypress:function(t,i){if(!i._buttonsHandled){var r=function(r,n){if(r.key)if(r.key===t)i._buttonsHandled=!0,e(n).click();else if(e.isPlainObject(r.key)){if(r.key.key!==t)return;if(r.key.shiftKey&&!i.shiftKey)return;if(r.key.altKey&&!i.altKey)return;if(r.key.ctrlKey&&!i.ctrlKey)return;if(r.key.metaKey&&!i.metaKey)return;i._buttonsHandled=!0,e(n).click()}},n=function(e){for(var t=0,i=e.length;t<i;t++)r(e[t].conf,e[t].node),e[t].buttons.length&&n(e[t].buttons)};n(this.s.buttons)}},_removeKey:function(t){if(t.key){var i=e.isPlainObject(t.key)?t.key.key:t.key,r=this.s.listenKeys.split(""),n=e.inArray(i,r);r.splice(n,1),this.s.listenKeys=r.join("")}},_resolveExtends:function(t){var i,n,o=this.s.dt,a=function(i){for(var n=0;!e.isPlainObject(i)&&!e.isArray(i);){if(i===r)return;if("function"==typeof i){if(!(i=i(o,t)))return!1}else if("string"==typeof i){if(!l[i])throw"Unknown button type: "+i;i=l[i]}if(++n>30)throw"Buttons: Too many iterations"}return e.isArray(i)?i:e.extend({},i)};for(t=a(t);t&&t.extend;){if(!l[t.extend])throw"Cannot extend unknown button type: "+t.extend;var s=a(l[t.extend]);if(e.isArray(s))return s;if(!s)return!1;var c=s.className;t=e.extend({},s,t),c&&t.className!==c&&(t.className=c+" "+t.className);var h=t.postfixButtons;if(h){for(t.buttons||(t.buttons=[]),i=0,n=h.length;i<n;i++)t.buttons.push(h[i]);t.postfixButtons=null}var u=t.prefixButtons;if(u){for(t.buttons||(t.buttons=[]),i=0,n=u.length;i<n;i++)t.buttons.splice(i,0,u[i]);t.prefixButtons=null}t.extend=s.extend}return t}}),c.background=function(t,i,n){n===r&&(n=400),t?e("<div/>").addClass(i).css("display","none").appendTo("body").fadeIn(n):e("body > div."+i).fadeOut(n,function(){e(this).removeClass(i).remove()})},c.instanceSelector=function(t,i){if(!t)return e.map(i,function(e){return e.inst});var r=[],n=e.map(i,function(e){return e.name}),o=function(t){if(e.isArray(t))for(var a=0,s=t.length;a<s;a++)o(t[a]);else if("string"==typeof t)if(-1!==t.indexOf(","))o(t.split(","));else{var l=e.inArray(e.trim(t),n);-1!==l&&r.push(i[l].inst)}else"number"==typeof t&&r.push(i[t].inst)};return o(t),r},c.buttonSelector=function(t,i){for(var n=[],o=function(e,t,i){for(var n,a,s=0,l=t.length;s<l;s++)(n=t[s])&&(a=i!==r?i+s:s+"",e.push({node:n.node,name:n.conf.name,idx:a}),n.buttons&&o(e,n.buttons,a+"-"))},a=function(t,i){var s,l,c=[];o(c,i.s.buttons);var h=e.map(c,function(e){return e.node});if(e.isArray(t)||t instanceof e)for(s=0,l=t.length;s<l;s++)a(t[s],i);else if(null===t||t===r||"*"===t)for(s=0,l=c.length;s<l;s++)n.push({inst:i,node:c[s].node});else if("number"==typeof t)n.push({inst:i,node:i.s.buttons[t].node});else if("string"==typeof t)if(-1!==t.indexOf(",")){var u=t.split(",");for(s=0,l=u.length;s<l;s++)a(e.trim(u[s]),i)}else if(t.match(/^\d+(\-\d+)*$/)){var d=e.map(c,function(e){return e.idx});n.push({inst:i,node:c[e.inArray(t,d)].node})}else if(-1!==t.indexOf(":name")){var f=t.replace(":name","");for(s=0,l=c.length;s<l;s++)c[s].name===f&&n.push({inst:i,node:c[s].node})}else e(h).filter(t).each(function(){n.push({inst:i,node:this})});else if("object"==typeof t&&t.nodeName){var p=e.inArray(t,h);-1!==p&&n.push({inst:i,node:h[p]})}},s=0,l=t.length;s<l;s++){var c=t[s];a(i,c)}return n},c.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection"},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},c.version="1.5.2",e.extend(l,{collection:{text:function(e){return e.i18n("buttons.collection","Collection")},className:"buttons-collection",action:function(r,n,o,a){var s=o,l=e(o).parents("div.dt-button-collection"),h=s.position(),u=e(n.table().container()),d=!1,f=s;l.length&&(d=e(".dt-button-collection").position(),f=l,e("body").trigger("click.dtb-collection")),f.parents("body")[0]!==i.body&&(f=i.body.lastChild),a._collection.addClass(a.collectionLayout).css("display","none").insertAfter(f).fadeIn(a.fade);var p=a._collection.css("position");if(d&&"absolute"===p)a._collection.css({top:d.top,left:d.left});else if("absolute"===p){a._collection.css({top:h.top+s.outerHeight(),left:h.left});var m=u.offset().top+u.height(),g=h.top+s.outerHeight()+a._collection.outerHeight()-m,v=h.top-a._collection.outerHeight();(g>u.offset().top-v||a.dropup)&&a._collection.css("top",h.top-a._collection.outerHeight()-5);var y=h.left+a._collection.outerWidth(),b=u.offset().left+u.width();y>b&&a._collection.css("left",h.left-(y-b));var _=s.offset().left+a._collection.outerWidth();_>e(t).width()&&a._collection.css("left",h.left-(_-e(t).width()))}else{var x=a._collection.height()/2;x>e(t).height()/2&&(x=e(t).height()/2),a._collection.css("marginTop",-1*x)}a.background&&c.background(!0,a.backgroundClassName,a.fade);var w=function(){a._collection.fadeOut(a.fade,function(){a._collection.detach()}),e("div.dt-button-background").off("click.dtb-collection"),c.background(!1,a.backgroundClassName,a.fade),e("body").off(".dtb-collection"),n.off("buttons-action.b-internal")};setTimeout(function(){e("div.dt-button-background").on("click.dtb-collection",function(){}),e("body").on("click.dtb-collection",function(t){var i=e.fn.addBack?"addBack":"andSelf";e(t.target).parents()[i]().filter(a._collection).length||w()}).on("keyup.dtb-collection",function(e){27===e.keyCode&&w()}),a.autoClose&&n.on("buttons-action.b-internal",function(){w()})},10)},background:!0,collectionLayout:"",backgroundClassName:"dt-button-background",autoClose:!1,fade:400,attr:{"aria-haspopup":!0}},copy:function(e,t){return l.copyHtml5?"copyHtml5":l.copyFlash&&l.copyFlash.available(e,t)?"copyFlash":void 0},csv:function(e,t){return l.csvHtml5&&l.csvHtml5.available(e,t)?"csvHtml5":l.csvFlash&&l.csvFlash.available(e,t)?"csvFlash":void 0},excel:function(e,t){return l.excelHtml5&&l.excelHtml5.available(e,t)?"excelHtml5":l.excelFlash&&l.excelFlash.available(e,t)?"excelFlash":void 0},pdf:function(e,t){return l.pdfHtml5&&l.pdfHtml5.available(e,t)?"pdfHtml5":l.pdfFlash&&l.pdfFlash.available(e,t)?"pdfFlash":void 0},pageLength:function(t){var i=t.settings()[0].aLengthMenu,r=e.isArray(i[0])?i[0]:i,n=e.isArray(i[0])?i[1]:i,o=function(e){return e.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},e.page.len())};return{extend:"collection",text:o,className:"buttons-page-length",autoClose:!0,buttons:e.map(r,function(e,t){return{text:n[t],className:"button-page-length",action:function(t,i){i.page.len(e).draw()},init:function(t,i,r){var n=this,o=function(){n.active(t.page.len()===e)};t.on("length.dt"+r.namespace,o),o()},destroy:function(e,t,i){e.off("length.dt"+i.namespace)}}}),init:function(e,t,i){var r=this;e.on("length.dt"+i.namespace,function(){r.text(o(e))})},destroy:function(e,t,i){e.off("length.dt"+i.namespace)}}}}),o.Api.register("buttons()",function(e,t){t===r&&(t=e,e=r),this.selector.buttonGroup=e;var i=this.iterator(!0,"table",function(i){if(i._buttons)return c.buttonSelector(c.instanceSelector(e,i._buttons),t)},!0);return i._groupSelector=e,i}),o.Api.register("button()",function(e,t){var i=this.buttons(e,t);return i.length>1&&i.splice(1,i.length),i}),o.Api.registerPlural("buttons().active()","button().active()",function(e){return e===r?this.map(function(e){return e.inst.active(e.node)}):this.each(function(t){t.inst.active(t.node,e)})}),o.Api.registerPlural("buttons().action()","button().action()",function(e){return e===r?this.map(function(e){return e.inst.action(e.node)}):this.each(function(t){t.inst.action(t.node,e)})}),o.Api.register(["buttons().enable()","button().enable()"],function(e){return this.each(function(t){t.inst.enable(t.node,e)})}),o.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(e){e.inst.disable(e.node)})}),o.Api.registerPlural("buttons().nodes()","button().node()",function(){var t=e();return e(this.each(function(e){t=t.add(e.inst.node(e.node))})),t}),o.Api.registerPlural("buttons().processing()","button().processing()",function(e){return e===r?this.map(function(e){return e.inst.processing(e.node)}):this.each(function(t){t.inst.processing(t.node,e)})}),o.Api.registerPlural("buttons().text()","button().text()",function(e){return e===r?this.map(function(e){return e.inst.text(e.node)}):this.each(function(t){t.inst.text(t.node,e)})}),o.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(e){e.inst.node(e.node).trigger("click")})}),o.Api.registerPlural("buttons().containers()","buttons().container()",function(){var t=e(),i=this._groupSelector;return this.iterator(!0,"table",function(e){if(e._buttons)for(var r=c.instanceSelector(i,e._buttons),n=0,o=r.length;n<o;n++)t=t.add(r[n].container())}),t}),o.Api.register("button().add()",function(e,t){var i=this.context;if(i.length){var r=c.instanceSelector(this._groupSelector,i[0]._buttons);r.length&&r[0].add(t,e)}return this.button(this._groupSelector,e)}),o.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(e){e.destroy()}),this}),o.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(e){e.inst.remove(e.node)}),this}),o.Api.register("buttons.info()",function(t,i,o){var a=this;return!1===t?(e("#datatables_buttons_info").fadeOut(function(){e(this).remove()}),clearTimeout(n),n=null,this):(n&&clearTimeout(n),e("#datatables_buttons_info").length&&e("#datatables_buttons_info").remove(),t=t?"<h2>"+t+"</h2>":"",e('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t).append(e("<div/>")["string"==typeof i?"html":"append"](i)).css("display","none").appendTo("body").fadeIn(),o!==r&&0!==o&&(n=setTimeout(function(){a.buttons.info(!1)},o)),this)}),o.Api.register("buttons.exportData()",function(e){if(this.context.length)return m(new o.Api(this.context[0]),e)}),o.Api.register("buttons.exportInfo()",function(e){return e||(e={}),{filename:h(e),title:d(e),messageTop:f(this,e.message||e.messageTop,"top"),messageBottom:f(this,e.messageBottom,"bottom")}});var h=function(t){var i="*"===t.filename&&"*"!==t.title&&t.title!==r&&null!==t.title&&""!==t.title?t.title:t.filename;if("function"==typeof i&&(i=i()),i===r||null===i)return null;-1!==i.indexOf("*")&&(i=e.trim(i.replace("*",e("head > title").text()))),i=i.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var n=u(t.extension);return n||(n=""),i+n},u=function(e){return null===e||e===r?null:"function"==typeof e?e():e},d=function(t){var i=u(t.title);return null===i?null:-1!==i.indexOf("*")?i.replace("*",e("head > title").text()||"Exported data"):i},f=function(t,i,r){var n=u(i);if(null===n)return null;var o=e("caption",t.table().container()).eq(0);return"*"===n?o.css("caption-side")!==r?null:o.length?o.text():"":n},p=e("<textarea/>")[0],m=function(t,i){var n=e.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(e){return o(e)},footer:function(e){return o(e)},body:function(e){return o(e)}},customizeData:null},i),o=function(e){return"string"!=typeof e?e:(e=(e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),n.stripHtml&&(e=e.replace(/<[^>]*>/g,"")),n.trim&&(e=e.replace(/^\s+|\s+$/g,"")),n.stripNewlines&&(e=e.replace(/\n/g," ")),n.decodeEntities&&(p.innerHTML=e,e=p.value),e)},a=t.columns(n.columns).indexes().map(function(e){var i=t.column(e).header();return n.format.header(i.innerHTML,e,i)}).toArray(),s=t.table().footer()?t.columns(n.columns).indexes().map(function(e){var i=t.column(e).footer();return n.format.footer(i?i.innerHTML:"",e,i)}).toArray():null,l=e.extend({},n.modifier);t.select&&"function"==typeof t.select.info&&l.selected===r&&t.rows(n.rows,e.extend({selected:!0},l)).any()&&e.extend(l,{selected:!0});for(var c=t.rows(n.rows,l).indexes().toArray(),h=t.cells(c,n.columns),u=h.render(n.orthogonal).toArray(),d=h.nodes().toArray(),f=a.length,m=[],g=0,v=0,y=f>0?u.length/f:0;v<y;v++){for(var b=[f],_=0;_<f;_++)b[_]=n.format.body(u[g],v,_,d[g]),g++;m[v]=b}var x={header:a,footer:s,body:m};return n.customizeData&&n.customizeData(x),x};return e.fn.dataTable.Buttons=c,e.fn.DataTable.Buttons=c,e(i).on("init.dt plugin-init.dt",function(e,t){if("dt"===e.namespace){var i=t.oInit.buttons||o.defaults.buttons;i&&!t._buttons&&new c(t,i).container()}}),o.ext.feature.push({fnInit:function(e){var t=new o.Api(e),i=t.init().buttons||o.defaults.buttons;return new c(t,i).container()},cFeature:"B"}),c},r=[i(0),i(4)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t){var i,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],h=!1,u=-1;function d(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!h){var e=s(d);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new p(e,t)),1!==c.length||h||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},,,function(e,t,i){"use strict";(function(e){var r=i(133),n=i(134),o=i(65);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,i)}function c(e,t,i,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,i,r):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,i),n=(e=s(e,r)).write(t,i);n!==r&&(e=e.slice(0,n));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|f(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(h(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function d(e,t){var i=t.length<0?0:0|f(t.length);e=s(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function g(e,t,i,r,n){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,i,r,n);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,r,n){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,i/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var h=-1;for(o=i;o<s;o++)if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(i+l>s&&(i=s-l),o=i;o>=0;o--){for(var u=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){u=!1;break}if(u)return o}return-1}function y(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function b(e,t,i,r){return H(U(t,e.length-i),e,i,r)}function _(e,t,i,r){return H(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function x(e,t,i,r){return _(e,t,i,r)}function w(e,t,i,r){return H(V(t),e,i,r)}function S(e,t,i,r){return H(function(e,t){for(var i,r,n,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),r=i>>8,n=i%256,o.push(n),o.push(r);return o}(t,e.length-i),e,i,r)}function C(e,t,i){return 0===t&&i===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,i))}function T(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var o,a,s,l,c=e[n],h=null,u=c>239?4:c>223?3:c>191?2:1;if(n+u<=i)switch(u){case 1:c<128&&(h=c);break;case 2:128==(192&(o=e[n+1]))&&(l=(31&c)<<6|63&o)>127&&(h=l);break;case 3:o=e[n+1],a=e[n+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=e[n+1],a=e[n+2],s=e[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(h=l)}null===h?(h=65533,u=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),n+=u}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=A));return i}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,r){return h(t),t<=0?s(e,t):void 0!==i?"string"==typeof r?s(e,t).fill(i,r):s(e,t).fill(i):s(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,o=Math.min(i,r);n<o;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=l.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,i);case"utf8":case"utf-8":return T(this,t,i);case"ascii":return M(this,t,i);case"latin1":case"binary":return E(this,t,i);case"base64":return C(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,r,n){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,n>>>=0,this===e)return 0;for(var o=n-r,a=i-t,s=Math.min(o,a),c=this.slice(r,n),h=e.slice(t,i),u=0;u<s;++u)if(c[u]!==h[u]){o=c[u],a=h[u];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return g(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return g(this,e,t,i,!1)},l.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return b(this,e,t,i);case"ascii":return _(this,e,t,i);case"latin1":case"binary":return x(this,e,t,i);case"base64":return w(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function M(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function E(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function D(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",o=t;o<i;++o)n+=z(e[o]);return n}function F(e,t,i){for(var r=e.slice(t,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}function I(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,i,r,n,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function R(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-i,2);n<o;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function L(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-i,4);n<o;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function P(e,t,i,r,n,o){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(e,t,i,r,o){return o||P(e,0,i,4),n.write(e,t,i,r,23,4),i+4}function B(e,t,i,r,o){return o||P(e,0,i,8),n.write(e,t,i,r,52,8),i+8}l.prototype.slice=function(e,t){var i,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var n=t-e;i=new l(n,void 0);for(var o=0;o<n;++o)i[o]=this[o+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var r=t,n=1,o=this[e+--r];r>0&&(n*=256);)o+=this[e+--r]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),n.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||k(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,o=0;for(this[t]=255&e;++o<i&&(n*=256);)this[t+o]=e/n&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||k(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);k(this,e,t,i,n-1,-n)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},l.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);k(this,e,t,i,n-1,-n)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return N(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return N(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return B(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return B(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,o=r-i;if(this===e&&i<t&&t<r)for(n=o-1;n>=0;--n)e[n+t]=this[n+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var a=l.isBuffer(e)?e:U(new l(e,r).toString()),s=a.length;for(o=0;o<i-t;++o)this[o+t]=a[o%s]}return this};var O=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var i;t=t||1/0;for(var r=e.length,n=null,o=[],a=0;a<r;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}}).call(t,i(8))},function(e,t,i){(function(e){function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,i(23).Buffer)},function(e,t,i){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:i(159),e.exports={Promise:r}},function(e,t,i){var r,n,o,a;a=function(e){var t,i="ui-effects-animated",r=e;return e.effects={effect:{}},function(e,t){var i,r=/^([\-+])=\s*(\d+\.?\d*)/,n=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,i,r,n){return new e.Color.fn.parse(t,i,r,n)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=o.support={},c=e("<p>")[0],h=e.each;function u(e,t,i){var r=s[t.type]||{};return null==e?i||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function d(t){var r=o(),s=r._rgba=[];return t=t.toLowerCase(),h(n,function(e,i){var n,o=i.re.exec(t),l=o&&i.parse(o),c=i.space||"rgba";if(l)return n=r[c](l),r[a[c].cache]=n[a[c].cache],s=r._rgba=n._rgba,!1}),s.length?("0,0,0,0"===s.join()&&e.extend(s,i.transparent),r):i[t]}function f(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}c.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=c.style.backgroundColor.indexOf("rgba")>-1,h(a,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),o.fn=e.extend(o.prototype,{parse:function(t,r,n,s){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(r),r=void 0);var l=this,c=e.type(t),f=this._rgba=[];return void 0!==r&&(t=[t,r,n,s],c="array"),"string"===c?this.parse(d(t)||i._default):"array"===c?(h(a.rgba.props,function(e,i){f[i.idx]=u(t[i.idx],i)}),this):"object"===c?(h(a,t instanceof o?function(e,i){t[i.cache]&&(l[i.cache]=t[i.cache].slice())}:function(i,r){var n=r.cache;h(r.props,function(e,i){if(!l[n]&&r.to){if("alpha"===e||null==t[e])return;l[n]=r.to(l._rgba)}l[n][i.idx]=u(t[e],i,!0)}),l[n]&&e.inArray(null,l[n].slice(0,3))<0&&(l[n][3]=1,r.from&&(l._rgba=r.from(l[n])))}),this):void 0},is:function(e){var t=o(e),i=!0,r=this;return h(a,function(e,n){var o,a=t[n.cache];return a&&(o=r[n.cache]||n.to&&n.to(r._rgba)||[],h(n.props,function(e,t){if(null!=a[t.idx])return i=a[t.idx]===o[t.idx]})),i}),i},_space:function(){var e=[],t=this;return h(a,function(i,r){t[r.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var i=o(e),r=i._space(),n=a[r],l=0===this.alpha()?o("transparent"):this,c=l[n.cache]||n.to(l._rgba),d=c.slice();return i=i[n.cache],h(n.props,function(e,r){var n=r.idx,o=c[n],a=i[n],l=s[r.type]||{};null!==a&&(null===o?d[n]=a:(l.mod&&(a-o>l.mod/2?o+=l.mod:o-a>l.mod/2&&(o-=l.mod)),d[n]=u((a-o)*t+o,r)))}),this[r](d)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),r=i.pop(),n=o(t)._rgba;return o(e.map(i,function(e,t){return(1-r)*n[t]+r*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+e.map(i,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,a.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,r=e[0]/255,n=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(r,n,o),l=Math.min(r,n,o),c=s-l,h=s+l,u=.5*h;return t=l===s?0:r===s?60*(n-o)/c+360:n===s?60*(o-r)/c+120:60*(r-n)/c+240,i=0===c?0:u<=.5?c/h:c/(2-h),[Math.round(t)%360,i,u,null==a?1:a]},a.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],r=e[2],n=e[3],o=r<=.5?r*(1+i):r+i-r*i,a=2*r-o;return[Math.round(255*f(a,o,t+1/3)),Math.round(255*f(a,o,t)),Math.round(255*f(a,o,t-1/3)),n]},h(a,function(t,i){var n=i.props,a=i.cache,s=i.to,l=i.from;o.fn[t]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===t)return this[a].slice();var i,r=e.type(t),c="array"===r||"object"===r?t:arguments,d=this[a].slice();return h(n,function(e,t){var i=c["object"===r?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=u(i,t)}),l?((i=o(l(d)))[a]=d,i):o(d)},h(n,function(i,n){o.fn[i]||(o.fn[i]=function(o){var a,s=e.type(o),l="alpha"===i?this._hsla?"hsla":"rgba":t,c=this[l](),h=c[n.idx];return"undefined"===s?h:("function"===s&&(o=o.call(this,h),s=e.type(o)),null==o&&n.empty?this:("string"===s&&(a=r.exec(o))&&(o=h+parseFloat(a[2])*("+"===a[1]?1:-1)),c[n.idx]=o,this[l](c)))})})}),o.hook=function(t){var i=t.split(" ");h(i,function(t,i){e.cssHooks[i]={set:function(t,r){var n,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(n=d(r)))){if(r=o(n||r),!l.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=o(t.elem,i),t.end=o(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=e}),t}},i=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(r),function(){var t,i=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function o(t){var i,r,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(r=n.length;r--;)"string"==typeof n[i=n[r]]&&(o[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(r.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,r,a,s){var l=e.speed(r,a,s);return this.queue(function(){var r,a=e(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map(function(){return{el:e(this),start:o(this)}}),(r=function(){e.each(i,function(e,i){t[i]&&a[i+"Class"](t[i])})})(),c=c.map(function(){return this.end=o(this.el[0]),this.diff=function(t,i){var r,o,a={};for(r in i)o=i[r],t[r]!==o&&(n[r]||!e.fx.step[r]&&isNaN(parseFloat(o))||(a[r]=o));return a}(this.start,this.end),this}),a.attr("class",s),c=c.map(function(){var t=this,i=e.Deferred(),r=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,r),i.promise()}),e.when.apply(e,c.get()).done(function(){r(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:(t=e.fn.addClass,function(i,r,n,o){return r?e.effects.animateClass.call(this,{add:i},r,n,o):t.apply(this,arguments)}),removeClass:function(t){return function(i,r,n,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},r,n,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,r,n,o,a){return"boolean"==typeof r||void 0===r?n?e.effects.animateClass.call(this,r?{add:i}:{remove:i},n,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},r,n,o)}}(e.fn.toggleClass),switchClass:function(t,i,r,n,o){return e.effects.animateClass.call(this,{add:i,remove:t},r,n,o)}})}(),function(){var t;function r(t,i,r,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,r=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=r,r=i,i={}),e.isFunction(r)&&(n=r,r=null),i&&e.extend(t,i),r=r||i.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=n||i.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}function o(e,t){var i=t.outerWidth(),r=t.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,i,r,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?r:parseFloat(n[3]),left:parseFloat(n[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=(t=e.expr.filters.animated,function(r){return!!e(r).data(i)||t(r)})),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var i=0,r=t.length;i<r;i++)null!==t[i]&&e.data("ui-effects-"+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i,r=0,n=t.length;r<n;r++)null!==t[r]&&(i=e.data("ui-effects-"+t[r]),e.css(t[r],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(r),(t[0]===o||e.contains(t[0],o))&&e(o).trigger("focus"),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),r.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.1",define:function(t,i,r){return r||(r=i,i="effect"),e.effects.effect[t]=r,e.effects.effect[t].mode=i,r},scaledDimensions:function(e,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==i?(t||100)/100:1,n="vertical"!==i?(t||100)/100:1;return{height:e.height()*n,width:e.width()*r,outerHeight:e.outerHeight()*n,outerWidth:e.outerWidth()*r}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,i){var r=e.queue();t>1&&r.splice.apply(r,[1,0].concat(r.splice(t,i))),e.dequeue()},saveStyle:function(e){e.data("ui-effects-style",e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data("ui-effects-style")||"",e.removeData("ui-effects-style")},mode:function(e,t){var i=e.is(":hidden");return"toggle"===t&&(t=i?"show":"hide"),(i?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var i,r;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:i}},createPlaceholder:function(t){var i,r=t.css("position"),n=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(r)&&(r="absolute",i=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data("ui-effects-placeholder",i)),t.css({position:r,left:n.left,top:n.top}),i},removePlaceholder:function(e){var t="ui-effects-placeholder",i=e.data(t);i&&(i.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,i,r,n){return n=n||{},e.each(i,function(e,i){var o=t.cssUnit(i);o[0]>0&&(n[i]=o[0]*r+o[1])}),n}}),e.fn.extend({effect:function(){var t=r.apply(this,arguments),n=e.effects.effect[t.effect],o=n.mode,a=t.queue,s=a||"fx",l=t.complete,c=t.mode,h=[],u=function(t){var r=e(this),n=e.effects.mode(r,c)||o;r.data(i,!0),h.push(n),o&&("show"===n||n===o&&"hide"===n)&&r.show(),o&&"none"===n||e.effects.saveStyle(r),e.isFunction(t)&&t()};if(e.fx.off||!n)return c?this[c](t.duration,l):this.each(function(){l&&l.call(this)});function d(r){var a=e(this);function s(){e.isFunction(l)&&l.call(a[0]),e.isFunction(r)&&r()}t.mode=h.shift(),!1===e.uiBackCompat||o?"none"===t.mode?(a[c](),s()):n.call(a[0],t,function(){a.removeData(i),e.effects.cleanUp(a),"hide"===t.mode&&a.hide(),s()}):(a.is(":hidden")?"hide"===c:"show"===c)?(a[c](),s()):n.call(a[0],t,s)}return!1===a?this.each(u).each(d):this.queue(s,u).queue(s,d)},show:function(e){return function(t){if(n(t))return e.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(t){if(n(t))return e.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(t){if(n(t)||"boolean"==typeof t)return e.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):o(this.css("clip"),this)},transfer:function(t,i){var r=e(this),n=e(t.to),o="fixed"===n.css("position"),a=e("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,c=n.offset(),h={top:c.top-s,left:c.left-l,height:n.innerHeight(),width:n.innerWidth()},u=r.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth(),position:o?"fixed":"absolute"}).animate(h,t.duration,t.easing,function(){d.remove(),e.isFunction(i)&&i()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=o(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),t={},e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(-2*e+2)/2}}),e.effects},n=[i(0),i(1)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},function(e,t,i){var r,n,o,a;a=function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var r=this,n=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})},n=[i(0),i(123),i(1),i(5)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},,,,,,function(e,t,i){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,i,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,r)});case 4:return t.nextTick(function(){e.call(null,i,r,n)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(t,i(20))},function(e,t,i){var r=i(23),n=r.Buffer;function o(e,t){for(var i in e)t[i]=e[i]}function a(e,t,i){return n(e,t,i)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(n,a),a.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=n(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,i){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,i){return new t(e,i)},allocBuffer:function(e){return t.alloc?t.alloc(e):new t(e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(t,i(23).Buffer)},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){(function(r){var n,o,a,s;a=this,s=function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,i){e.each(t,function(e,t){return i(t,e)})},map:e.map,filter:e.grep,every:function(t,i){var r=!0;return t?(e.each(t,function(e,n){if(!(r=i.call(null,n,e,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(e.each(t,function(e,n){if(r=i.call(null,n,e,t))return!1}),!!r):r},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){return e.isFunction(t)?t:function(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var r,n;return function(){var o,a,s=this,l=arguments;return o=function(){r=null,i||(n=e.apply(s,l))},a=i&&!r,clearTimeout(r),r=setTimeout(o,t),a&&(n=e.apply(s,l)),n}},throttle:function(e,t){var i,r,n,o,a,s;return a=0,s=function(){a=new Date,n=null,o=e.apply(i,r)},function(){var l=new Date,c=t-(l-a);return i=this,r=arguments,c<=0?(clearTimeout(n),n=null,a=l,o=e.apply(i,r)):n||(n=setTimeout(s,c)),o}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),i="1.2.0",r=function(){"use strict";return{nonword:i,whitespace:e,ngram:r,obj:{nonword:n(i),whitespace:n(e),ngram:n(r)}};function e(e){return(e=t.toStr(e))?e.split(/\s+/):[]}function i(e){return(e=t.toStr(e))?e.split(/\W+/):[]}function r(e){e=t.toStr(e);var i=[],r="";return t.each(e.split(""),function(e){e.match(/\s+/)?r="":(i.push(r+e),r+=e)}),i}function n(e){return function(i){return i=t.isArray(i)?i:[].slice.call(arguments,0),function(r){var n=[];return t.each(i,function(i){n=n.concat(e(t.toStr(r[i])))}),n}}}}(),n=function(){"use strict";function i(i){this.maxSize=t.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function r(){this.head=this.tail=null}return t.mixin(i.prototype,{set:function(e,t){var i,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key],this.size--),(i=this.hash[e])?(i.val=t,this.list.moveToFront(i)):(i=new function(e,t){this.key=e,this.val=t,this.prev=this.next=null}(e,t),this.list.add(i),this.hash[e]=i,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new r}}),t.mixin(r.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),i}(),o=function(){"use strict";var i;try{(i=window.localStorage).setItem("~~~","!"),i.removeItem("~~~")}catch(e){i=null}function r(e,r){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=r||i,!this.ls&&this._noop()}return t.mixin(r.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(e){"QuotaExceededError"===e.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),a(this.ls.getItem(this._prefix(e)))},set:function(e,i,r){return t.isNumber(r)?this._safeSet(this._ttlKey(e),o(n()+r)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),o(i))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=function(e){var t,r,n=[],o=i.length;for(t=0;t<o;t++)(r=i.key(t)).match(e)&&n.push(r.replace(e,""));return n}(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var i=a(this.ls.getItem(this._ttlKey(e)));return!!(t.isNumber(i)&&n()>i)}}),r;function n(){return(new Date).getTime()}function o(e){return JSON.stringify(t.isUndefined(e)?null:e)}function a(t){return e.parseJSON(t)}}(),a=function(){"use strict";var i=0,r={},o=new n(10);function a(e){e=e||{},this.maxPendingRequests=e.maxPendingRequests||6,this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new n(0):o}return a.setMaxPendingRequests=function(e){this.maxPendingRequests=e},a.resetCache=function(){o.reset()},t.mixin(a.prototype,{_fingerprint:function(t){return(t=t||{}).url+t.type+e.param(t.data||{})},_get:function(e,t){var n,o,a=this;function s(e){t(null,e),a._cache.set(n,e)}function l(){t(!0)}n=this._fingerprint(e),this.cancelled||n!==this.lastReq||((o=r[n])?o.done(s).fail(l):i<this.maxPendingRequests?(i++,r[n]=this._send(e).done(s).fail(l).always(function(){i--,delete r[n],a.onDeckRequestArgs&&(a._get.apply(a,a.onDeckRequestArgs),a.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,r){var n,o;r=r||e.noop,i=t.isString(i)?{url:i}:i||{},o=this._fingerprint(i),this.cancelled=!1,this.lastReq=o,(n=this._cache.get(o))?r(null,n):this._get(i,r)},cancel:function(){this.cancelled=!0}}),a}(),s=window.SearchIndex=function(){"use strict";var i="c",r="i";function n(i){(i=i||{}).datumTokenizer&&i.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||t.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.matchAnyQueryToken=i.matchAnyQueryToken,this.reset()}return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var s,l;n.datums[s=n.identify(e)]=e,l=o(n.datumTokenizer(e)),t.each(l,function(e){var t,o,l;for(t=n.trie,o=e.split("");l=o.shift();)(t=t[i][l]||(t[i][l]=a()))[r].push(s)})})},get:function(e){var i=this;return t.map(e,function(e){return i.datums[e]})},search:function(e){var n,a,s=this;return n=o(this.queryTokenizer(e)),t.each(n,function(e){var t,n,o,l;if(a&&0===a.length&&!s.matchAnyQueryToken)return!1;for(t=s.trie,n=e.split("");t&&(o=n.shift());)t=t[i][o];if(t&&0===n.length)l=t[r].slice(0),a=a?function(e,t){var i=0,r=0,n=[];e=e.sort(),t=t.sort();var o=e.length,a=t.length;for(;i<o&&r<a;)e[i]<t[r]?i++:e[i]>t[r]?r++:(n.push(e[i]),i++,r++);return n}(a,l):l;else if(!s.matchAnyQueryToken)return a=[],!1}),a?t.map(function(e){for(var t={},i=[],r=0,n=e.length;r<n;r++)t[e[r]]||(t[e[r]]=!0,i.push(e[r]));return i}(a),function(e){return s.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n;function o(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function a(){var e={};return e[r]=[],e[i]={},e}}(),l=function(){"use strict";var e;function i(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new o(e.cacheKey)}return e={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(i.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(e.data,t,this.ttl),this.storage.set(e.protocol,location.protocol,this.ttl),this.storage.set(e.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,i={};return this.cache?(i.data=this.storage.get(e.data),i.protocol=this.storage.get(e.protocol),i.thumbprint=this.storage.get(e.thumbprint),t=i.thumbprint!==this.thumbprint||i.protocol!==location.protocol,i.data&&!t?i.data:null):null},fromNetwork:function(e){var t,i=this;e&&(t=this.prepare(this._settings()),this.transport(t).fail(function(){e(!0)}).done(function(t){e(null,i.transform(t))}))},clear:function(){return this.storage.clear(),this}}),i}(),c=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.indexResponse=e.indexResponse,this.transport=new a({cache:e.cache,limiter:e.limiter,transport:e.transport,maxPendingRequests:e.maxPendingRequests})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){var i,r=this;if(t)return e=e||"",i=this.prepare(e,this._settings()),this.transport.get(i,function(e,i){t(e?[]:r.transform(i))})},cancelLastRequest:function(){this.transport.cancel()}}),e}(),h=function(){"use strict";return function(n){var o,a;return o={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:!1,sufficient:5,indexRemote:!1,sorter:null,local:[],prefetch:null,remote:null},!(n=t.mixin(o,n||{})).datumTokenizer&&e.error("datumTokenizer is required"),!n.queryTokenizer&&e.error("queryTokenizer is required"),a=n.sorter,n.sorter=a?function(e){return e.sort(a)}:t.identity,n.local=t.isFunction(n.local)?n.local():n.local,n.prefetch=function(n){var o;if(!n)return null;return o={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,!(n=t.mixin(o,n)).url&&e.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?r(n.transport):e.ajax,n}(n.prefetch),n.remote=function(i){var n;if(!i)return;return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},i=t.isString(i)?{url:i}:i,!(i=t.mixin(n,i)).url&&e.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=function(e){var t,i,r;return t=e.prepare,i=e.replace,r=e.wildcard,t||(t=i?function(e,t){return t.url=i(t.url,e),t}:e.wildcard?function(e,t){return t.url=t.url.replace(r,encodeURIComponent(e)),t}:function(e,t){return t})}(i),i.limiter=function(e){var i,r,n;return i=e.limiter,r=e.rateLimitBy,n=e.rateLimitWait,i||(i=/^throttle$/i.test(r)?function(e){return function(i){return t.throttle(i,e)}}(n):function(e){return function(i){return t.debounce(i,e)}}(n)),i}(i),i.transport=i.transport?r(i.transport):e.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}(n.remote),n};function r(i){return function(r){var n=e.Deferred();return i(r,function(e){t.defer(function(){n.resolve(e)})},function(e){t.defer(function(){n.reject(e)})}),n}}}();return function(){"use strict";var i;function n(e){e=h(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.indexRemote=e.indexRemote,this.local=e.local,this.remote=e.remote?new c(e.remote):null,this.prefetch=e.prefetch?new l(e.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}return i=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=i),n},n.tokenizers=r,t.mixin(n.prototype,{__ttAdapter:function(){var e=this;return this.remote?function(t,i,r){return e.search(t,i,r)}:function(t,i){return e.search(t,i)}},_loadPrefetch:function(){var t,i,r=this;return t=e.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),t.resolve()):this.prefetch.fromNetwork(function(e,i){if(e)return t.reject();r.add(i),r.prefetch.store(r.index.serialize()),t.resolve()}):t.resolve(),t.promise()},_initialize:function(){var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){e.add(e.local)}),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,i,r){var n,o=this;return i=i||t.noop,r=r||t.noop,n=this.sorter(this.index.search(e)),i(this.remote?n.slice():n),this.remote&&n.length<this.sufficient?this.remote.get(e,function(e){var i=[];t.each(e,function(e){!t.some(n,function(t){return o.identify(e)===o.identify(t)})&&i.push(e)}),o.indexRemote&&o.add(i),r(i)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return a.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}()},n=[i(0)],void 0===(o=function(e){return a.Bloodhound=s(e)}.apply(t,n))||(e.exports=o),function(r,a){n=[i(0)],void 0===(o=function(e){return a(e)}.apply(t,n))||(e.exports=o)}(0,function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,i){e.each(t,function(e,t){return i(t,e)})},map:e.map,filter:e.grep,every:function(t,i){var r=!0;return t?(e.each(t,function(e,n){if(!(r=i.call(null,n,e,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(e.each(t,function(e,n){if(r=i.call(null,n,e,t))return!1}),!!r):r},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){return e.isFunction(t)?t:function(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var r,n;return function(){var o,a,s=this,l=arguments;return o=function(){r=null,i||(n=e.apply(s,l))},a=i&&!r,clearTimeout(r),r=setTimeout(o,t),a&&(n=e.apply(s,l)),n}},throttle:function(e,t){var i,r,n,o,a,s;return a=0,s=function(){a=new Date,n=null,o=e.apply(i,r)},function(){var l=new Date,c=t-(l-a);return i=this,r=arguments,c<=0?(clearTimeout(n),n=null,a=l,o=e.apply(i,r)):n||(n=setTimeout(s,c)),o}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),i=function(){"use strict";var e={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(i){var r,n;return n=t.mixin({},e,i),{css:(r={css:(a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}},t.isMsie()&&t.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),a),classes:n,html:(o=n,{wrapper:'<span class="'+o.wrapper+'"></span>',menu:'<div role="listbox" class="'+o.menu+'"></div>'}),selectors:function(e){var i={};return t.each(e,function(e,t){i[t]="."+e}),i}(n)}).css,html:r.html,classes:r.classes,selectors:r.selectors,mixin:function(e){t.mixin(e,r)}};var o;var a}}(),n=function(){"use strict";var i;function r(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}return"typeahead:",i={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(r.prototype,{_trigger:function(t,i){var r=e.Event("typeahead:"+t);return this.$el.trigger.call(this.$el,r,i||[]),r},before:function(e){var t;return t=[].slice.call(arguments,1),this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=i[e])&&this._trigger(t,[].slice.call(arguments,1))}}),r}(),o=function(){"use strict";var e=/\s+/,t=function(){var e;e=window.setImmediate?function(e){r(function(){e()})}:function(e){setTimeout(function(){e()},0)};return e}();return{onSync:function(e,t,r){return i.call(this,"sync",e,t,r)},onAsync:function(e,t,r){return i.call(this,"async",e,t,r)},off:function(t){var i;if(!this._callbacks)return this;t=t.split(e);for(;i=t.shift();)delete this._callbacks[i];return this},trigger:function(i){var r,o,a,s,l;if(!this._callbacks)return this;i=i.split(e),a=[].slice.call(arguments,1);for(;(r=i.shift())&&(o=this._callbacks[r]);)s=n(o.sync,this,[r].concat(a)),l=n(o.async,this,[r].concat(a)),s()&&t(l);return this}};function i(t,i,r,n){var o;if(!r)return this;for(i=i.split(e),r=n?function(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}(r,n):r,this._callbacks=this._callbacks||{};o=i.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][t].push(r);return this}function n(e,t,i){return function(){for(var r,n=0,o=e.length;!r&&n<o;n+=1)r=!1===e[n].apply(t,i);return!r}}}(),a=function(e){"use strict";var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1,diacriticInsensitive:!1},r={A:"[AaªÀ-Åà-åĀ-ąǍǎȀ-ȃȦȧᴬᵃḀḁẚẠ-ảₐ℀℁℻⒜Ⓐⓐ㍱-㍴㎀-㎄㎈㎉㎩-㎯㏂㏊㏟㏿Ａａ]",B:"[BbᴮᵇḂ-ḇℬ⒝Ⓑⓑ㍴㎅-㎇㏃㏈㏔㏝Ｂｂ]",C:"[CcÇçĆ-čᶜ℀ℂ℃℅℆ℭⅭⅽ⒞Ⓒⓒ㍶㎈㎉㎝㎠㎤㏄-㏇Ｃｃ]",D:"[DdĎďǄ-ǆǱ-ǳᴰᵈḊ-ḓⅅⅆⅮⅾ⒟Ⓓⓓ㋏㍲㍷-㍹㎗㎭-㎯㏅㏈Ｄｄ]",E:"[EeÈ-Ëè-ëĒ-ěȄ-ȇȨȩᴱᵉḘ-ḛẸ-ẽₑ℡ℯℰⅇ⒠Ⓔⓔ㉐㋍㋎Ｅｅ]",F:"[FfᶠḞḟ℉ℱ℻⒡Ⓕⓕ㎊-㎌㎙ﬀ-ﬄＦｆ]",G:"[GgĜ-ģǦǧǴǵᴳᵍḠḡℊ⒢Ⓖⓖ㋌㋍㎇㎍-㎏㎓㎬㏆㏉㏒㏿Ｇｇ]",H:"[HhĤĥȞȟʰᴴḢ-ḫẖℋ-ℎ⒣Ⓗⓗ㋌㍱㎐-㎔㏊㏋㏗Ｈｈ]",I:"[IiÌ-Ïì-ïĨ-İĲĳǏǐȈ-ȋᴵᵢḬḭỈ-ịⁱℐℑℹⅈⅠ-ⅣⅥ-ⅨⅪⅫⅰ-ⅳⅵ-ⅸⅺⅻ⒤Ⓘⓘ㍺㏌㏕ﬁﬃＩｉ]",J:"[JjĲ-ĵǇ-ǌǰʲᴶⅉ⒥ⒿⓙⱼＪｊ]",K:"[KkĶķǨǩᴷᵏḰ-ḵK⒦Ⓚⓚ㎄㎅㎉㎏㎑㎘㎞㎢㎦㎪㎸㎾㏀㏆㏍-㏏Ｋｋ]",L:"[LlĹ-ŀǇ-ǉˡᴸḶḷḺ-ḽℒℓ℡Ⅼⅼ⒧Ⓛⓛ㋏㎈㎉㏐-㏓㏕㏖㏿ﬂﬄＬｌ]",M:"[MmᴹᵐḾ-ṃ℠™ℳⅯⅿ⒨Ⓜⓜ㍷-㍹㎃㎆㎎㎒㎖㎙-㎨㎫㎳㎷㎹㎽㎿㏁㏂㏎㏐㏔-㏖㏘㏙㏞㏟Ｍｍ]",N:"[NnÑñŃ-ŉǊ-ǌǸǹᴺṄ-ṋⁿℕ№⒩Ⓝⓝ㎁㎋㎚㎱㎵㎻㏌㏑Ｎｎ]",O:"[OoºÒ-Öò-öŌ-őƠơǑǒǪǫȌ-ȏȮȯᴼᵒỌ-ỏₒ℅№ℴ⒪Ⓞⓞ㍵㏇㏒㏖Ｏｏ]",P:"[PpᴾᵖṔ-ṗℙ⒫Ⓟⓟ㉐㍱㍶㎀㎊㎩-㎬㎰㎴㎺㏋㏗-㏚Ｐｐ]",Q:"[Qqℚ⒬Ⓠⓠ㏃Ｑｑ]",R:"[RrŔ-řȐ-ȓʳᴿᵣṘ-ṛṞṟ₨ℛ-ℝ⒭Ⓡⓡ㋍㍴㎭-㎯㏚㏛Ｒｒ]",S:"[SsŚ-šſȘșˢṠ-ṣ₨℁℠⒮Ⓢⓢ㎧㎨㎮-㎳㏛㏜ﬆＳｓ]",T:"[TtŢ-ťȚțᵀᵗṪ-ṱẗ℡™⒯Ⓣⓣ㉐㋏㎔㏏ﬅﬆＴｔ]",U:"[UuÙ-Üù-üŨ-ųƯưǓǔȔ-ȗᵁᵘᵤṲ-ṷỤ-ủ℆⒰Ⓤⓤ㍳㍺Ｕｕ]",V:"[VvᵛᵥṼ-ṿⅣ-Ⅷⅳ-ⅷ⒱Ⓥⓥⱽ㋎㍵㎴-㎹㏜㏞Ｖｖ]",W:"[WwŴŵʷᵂẀ-ẉẘ⒲Ⓦⓦ㎺-㎿㏝Ｗｗ]",X:"[XxˣẊ-ẍₓ℻Ⅸ-Ⅻⅸ-ⅻ⒳Ⓧⓧ㏓Ｘｘ]",Y:"[YyÝýÿŶ-ŸȲȳʸẎẏẙỲ-ỹ⒴Ⓨⓨ㏉Ｙｙ]",Z:"[ZzŹ-žǱ-ǳᶻẐ-ẕℤℨ⒵Ⓩⓩ㎐-㎔Ｚｚ]"};return function(r){var o;(r=t.mixin({},i,r)).node&&r.pattern&&(r.pattern=t.isArray(r.pattern)?r.pattern:[r.pattern],o=function(e,i,r,o){for(var a,s=[],l=0,c=e.length;l<c;l++){var h=t.escapeRegExChars(e[l]);o&&(h=h.replace(/\S/g,n)),s.push(h)}return a=r?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",i?new RegExp(a):new RegExp(a,"i")}(r.pattern,r.caseSensitive,r.wordsOnly,r.diacriticInsensitive),function e(t,i){var r;for(var n=0;n<t.childNodes.length;n++)3===(r=t.childNodes[n]).nodeType?n+=i(r)?1:0:e(r,i)}(r.node,function(t){var i,n,a;(i=o.exec(t.data))&&(a=e.createElement(r.tagName),r.className&&(a.className=r.className),(n=t.splitText(i.index)).splitText(i[0].length),a.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(a,n));return!!i}))};function n(e){return r[e.toUpperCase()]||e}}(window.document),s=function(){"use strict";var i;function r(i,r){var n;(i=i||{}).input||e.error("input is missing"),r.mixin(this),this.$hint=e(i.hint),this.$input=e(i.input),this.$input.attr({"aria-activedescendant":"","aria-owns":this.$input.attr("id")+"_listbox",role:"combobox","aria-readonly":"true","aria-autocomplete":"list"}),e(r.menu).attr("id",this.$input.attr("id")+"_listbox"),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=(n=this.$input,e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:n.css("font-family"),fontSize:n.css("font-size"),fontStyle:n.css("font-style"),fontVariant:n.css("font-variant"),fontWeight:n.css("font-weight"),wordSpacing:n.css("word-spacing"),letterSpacing:n.css("letter-spacing"),textIndent:n.css("text-indent"),textRendering:n.css("text-rendering"),textTransform:n.css("text-transform")}).insertAfter(n)),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),this.onSync("cursorchange",this._updateDescendent)}return i={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},r.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(r.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=i[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var i;switch(e){case"up":case"down":i=!n(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(e,t){var i;switch(e){case"tab":i=!n(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var i,n,o,a;o=e,a=this.query,n=!!(i=r.normalizeQuery(o)===r.normalizeQuery(a))&&this.query.length!==e.length,this.query=e,t||i?!t&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},_updateDescendent:function(e,t){this.$input.attr("aria-activedescendant",t)},bind:function(){var e,r,n,o,a=this;return e=t.bind(this._onBlur,this),r=t.bind(this._onFocus,this),n=t.bind(this._onKeydown,this),o=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",r).on("keydown.tt",n),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){i[e.which||e.keyCode]||t.defer(t.bind(a._onInput,a,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,i;i=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),!(""!==e&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,i,r;return e=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i)?i===e:!document.selection||((r=document.selection.createRange()).moveStart("character",-e),e===r.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),r;function n(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}}(),l=function(){"use strict";var i,r;function n(i,n){var o;(i=i||{}).templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||e.error("missing source"),i.node||e.error("missing node"),i.name&&(o=i.name,!/^[_a-zA-Z0-9-]+$/.test(o))&&e.error("invalid dataset name: "+i.name),n.mixin(this),this.highlight=!!i.highlight,this.name=t.toStr(i.name||r()),this.limit=i.limit||5,this.displayFn=function(e){return e=e||t.stringify,t.isFunction(e)?e:function(t){return t[e]}}(i.display||i.displayKey),this.templates=function(i,r){return{notFound:i.notFound&&t.templatify(i.notFound),pending:i.pending&&t.templatify(i.pending),header:i.header&&t.templatify(i.header),footer:i.footer&&t.templatify(i.footer),suggestion:i.suggestion||function(i){return e('<div role="option">').attr("id",t.guid()).text(r(i))}}}(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=t.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=e(i.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return i={dataset:"tt-selectable-dataset",val:"tt-selectable-display",obj:"tt-selectable-object"},r=t.getIdGenerator(),n.extractData=function(t){var r=e(t);return r.data(i.obj)?{dataset:r.data(i.dataset)||"",val:r.data(i.val)||"",obj:r.data(i.obj)||null}:null},t.mixin(n.prototype,o,{_overwrite:function(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",t,!1,this.name)},_append:function(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",t,!0,this.name)},_renderSuggestions:function(e,t){var i;i=this._getSuggestionsFragment(e,t),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var i,r;r=(i=this._getSuggestionsFragment(e,t)).children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=r},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(r,n){var o,s=this;return o=document.createDocumentFragment(),t.each(n,function(t){var n,a;a=s._injectQuery(r,t),n=e(s.templates.suggestion(a)).data(i.dataset,s.name).data(i.obj,t).data(i.val,s.displayFn(t)).addClass(s.classes.suggestion+" "+s.classes.selectable),o.appendChild(n[0])}),this.highlight&&a({className:this.classes.highlight,node:o,pattern:r}),e(o)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,i){return t.isObject(i)?t.mixin({_query:e},i):i},update:function(t){var i=this,r=!1,n=!1,o=0;function a(e){n||(n=!0,e=(e||[]).slice(0,i.limit),o=e.length,i._overwrite(t,e),o<i.limit&&i.async&&i.trigger("asyncRequested",t,i.name))}this.cancel(),this.cancel=function(){r=!0,i.cancel=e.noop,i.async&&i.trigger("asyncCanceled",t,i.name)},this.source(t,a,function(n){if(n=n||[],!r&&o<i.limit){i.cancel=e.noop;var a=Math.abs(o-i.limit);o+=a,i._append(t,n.slice(0,a)),i.async&&i.trigger("asyncReceived",t,i.name)}}),!n&&a([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),n}(),c=function(){"use strict";function i(i,r){var n=this;(i=i||{}).node||e.error("node is required"),r.mixin(this),this.$node=e(i.node),this.query=null,this.datasets=t.map(i.datasets,function(t){var i=n.$node.find(t.node).first();return t.node=i.length?i:e("<div>").appendTo(n.$node),new l(t,r)})}return t.mixin(i.prototype,o,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,i,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,i,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return t.every(this.datasets,t.bind(function(e){var t=e.isEmpty();return this.$node.attr("aria-expanded",!t),t},this))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,i,r,n;i=(t=e.position().top)+e.outerHeight(!0),r=this.$node.scrollTop(),n=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(r+t):n<i&&this.$node.scrollTop(r+(i-n))},bind:function(){var i,r=this;return i=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,i),this.$node.on("mouseover",this.selectors.selectable,function(){r.setCursor(e(this))}),this.$node.on("mouseleave",function(){r._removeCursor()}),t.each(this.datasets,function(e){e.onSync("asyncRequested",r._propagate,r).onSync("asyncCanceled",r._propagate,r).onSync("asyncReceived",r._propagate,r).onSync("rendered",r._onRendered,r).onSync("cleared",r._onCleared,r)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.scrollTop(0),this.$node.addClass(this.classes.open)},close:function(){this.$node.attr("aria-expanded",!1),this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,i,r;return i=this.getActiveSelectable(),t=this._getSelectables(),-1===(r=(r=((r=(i?t.index(i):-1)+e)+1)%(t.length+1)-1)<-1?t.length-1:r)?null:t.eq(r)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?l.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){var i=e!==this.query;return i&&(this.query=e,t.each(this.datasets,function(t){t.update(e)})),i},empty:function(){t.each(this.datasets,function(e){e.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,function(e){e.destroy()})}}),i}(),h=function(){"use strict";function i(i){this.$el=e("<span></span>",{role:"status","aria-live":"polite"}).css({position:"absolute",padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"}),i.$input.after(this.$el),t.each(i.menu.datasets,t.bind(function(e){e.onSync&&(e.onSync("rendered",t.bind(this.update,this)),e.onSync("cleared",t.bind(this.cleared,this)))},this))}return t.mixin(i.prototype,{update:function(e,t){var i,r=t.length;i=1===r?{result:"result",is:"is"}:{result:"results",is:"are"},this.$el.text(r+" "+i.result+" "+i.is+" available, use up and down arrow keys to navigate.")},cleared:function(){this.$el.text("")}}),i}(),u=function(){"use strict";var e=c.prototype;function i(){c.apply(this,[].slice.call(arguments,0))}return t.mixin(i.prototype,c.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),i}(),d=function(){"use strict";function i(i,n){var o,a,s,l,c,h,u,d,f,p,m;(i=i||{}).input||e.error("missing input"),i.menu||e.error("missing menu"),i.eventBus||e.error("missing event bus"),n.mixin(this),this.eventBus=i.eventBus,this.minLength=t.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.autoselect=!!i.autoselect,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=r(this,"activate","open","_onFocused"),a=r(this,"deactivate","_onBlurred"),s=r(this,"isActive","isOpen","_onEnterKeyed"),l=r(this,"isActive","isOpen","_onTabKeyed"),c=r(this,"isActive","_onEscKeyed"),h=r(this,"isActive","open","_onUpKeyed"),u=r(this,"isActive","open","_onDownKeyed"),d=r(this,"isActive","isOpen","_onLeftKeyed"),f=r(this,"isActive","isOpen","_onRightKeyed"),p=r(this,"_openIfActive","_onQueryChanged"),m=r(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",a,this).onSync("enterKeyed",s,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",h,this).onSync("downKeyed",u,this).onSync("leftKeyed",d,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}return t.mixin(i.prototype,{_hacks:function(){var i,r;i=this.input.$input||e("<div>"),r=this.menu.$node||e("<div>"),i.on("blur.tt",function(e){var n,o,a;n=document.activeElement,o=r.is(n),a=r.has(n).length>0,t.isMsie()&&(o||a)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){i.focus()}))}),r.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,i,r){if(this._updateHint(),this.autoselect){var n=this.selectors.cursor.substr(1);this.menu.$node.find(this.selectors.suggestion).first().addClass(n)}this.eventBus.trigger("render",t,i,r)},_onAsyncRequested:function(e,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(e,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(e,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&(t.preventDefault(),t.stopPropagation()):this.autoselect&&this.select(this.menu.getTopSelectable())&&(t.preventDefault(),t.stopPropagation())},_onTabKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return(e=t.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var e,i,r,n,o,a;e=this.menu.getTopSelectable(),i=this.menu.getSelectableData(e),r=this.input.getInputValue(),!i||t.isBlankString(r)||this.input.hasOverflow()?this.input.clearHint():(n=s.normalizeQuery(r),o=t.escapeRegExChars(n),(a=new RegExp("^(?:"+o+")(.+$)","i").exec(i.val))&&this.input.setHint(r+a[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj,t.dataset))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj,t.dataset),this.close(),!0)},autocomplete:function(e){var t,i;return t=this.input.getQuery(),!(!((i=this.menu.getSelectableData(e))&&t!==i.val)||this.eventBus.before("autocomplete",i.obj,i.dataset))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj,i.dataset),!0)},moveCursor:function(e){var t,i,r,n,o,a;return t=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(e),n=(r=this.menu.getSelectableData(i))?r.obj:null,o=r?r.dataset:null,a=i?i.attr("id"):null,this.input.trigger("cursorchange",a),!(this._minLengthMet()&&this.menu.update(t))&&!this.eventBus.before("cursorchange",n,o)&&(this.menu.setCursor(i),r?this.input.setInputValue(r.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",n,o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i;function r(e){var i=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);t.each(i,function(t){return e[t].apply(e,r)})}}}();!function(){"use strict";var r,o,a;function l(t,i){t.each(function(){var t,r=e(this);(t=r.data(o.typeahead))&&i(t,r)})}function f(i){var r;return(r=t.isJQuery(i)||t.isElement(i)?e(i).first():[]).length?r:null}r=e.fn.typeahead,o={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},a={initialize:function(r,a){var l;return a=t.isArray(a)?a:[].slice.call(arguments,1),l=i((r=r||{}).classNames),this.each(function(){var i,p,m,g,v,y,b,_,x,w,S;t.each(a,function(e){e.highlight=!!r.highlight}),i=e(this),p=e(l.html.wrapper),m=f(r.hint),g=f(r.menu),v=!1!==r.hint&&!m,y=!1!==r.menu&&!g,v&&(m=function(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css((i=e,{backgroundAttachment:i.css("background-attachment"),backgroundClip:i.css("background-clip"),backgroundColor:i.css("background-color"),backgroundImage:i.css("background-image"),backgroundOrigin:i.css("background-origin"),backgroundPosition:i.css("background-position"),backgroundRepeat:i.css("background-repeat"),backgroundSize:i.css("background-size")})).prop({readonly:!0,required:!1}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",tabindex:-1});var i}(i,l)),y&&(g=e(l.html.menu).css(l.css.menu)),m&&m.val(""),i=function(e,t){e.data(o.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(e){}return e}(i,l),(v||y)&&(p.css(l.css.wrapper),i.css(v?l.css.input:l.css.inputWithNoHint),i.wrap(p).parent().prepend(v?m:null).append(y?g:null));S=y?u:c,b=new n({el:i}),_=new s({hint:m,input:i},l),x=new S({node:g,datasets:a},l),new h({$input:i,menu:x}),w=new d({input:_,menu:x,eventBus:b,minLength:r.minLength,autoselect:r.autoselect},l),i.data(o.www,l),i.data(o.typeahead,w)})},isEnabled:function(){var e;return l(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return l(this,function(e){e.enable()}),this},disable:function(){return l(this,function(e){e.disable()}),this},isActive:function(){var e;return l(this.first(),function(t){e=t.isActive()}),e},activate:function(){return l(this,function(e){e.activate()}),this},deactivate:function(){return l(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return l(this.first(),function(t){e=t.isOpen()}),e},open:function(){return l(this,function(e){e.open()}),this},close:function(){return l(this,function(e){e.close()}),this},select:function(t){var i=!1,r=e(t);return l(this.first(),function(e){i=e.select(r)}),i},autocomplete:function(t){var i=!1,r=e(t);return l(this.first(),function(e){i=e.autocomplete(r)}),i},moveCursor:function(e){var t=!1;return l(this.first(),function(i){t=i.moveCursor(e)}),t},val:function(e){var i;return arguments.length?(l(this,function(i){i.setVal(t.toStr(e))}),this):(l(this.first(),function(e){i=e.getVal()}),i)},destroy:function(){return l(this,function(e,i){!function(e){var i,r;i=e.data(o.www),r=e.parent().filter(i.selectors.wrapper),t.each(e.data(o.attrs),function(i,r){t.isUndefined(i)?e.removeAttr(r):e.attr(r,i)}),e.removeData(o.typeahead).removeData(o.www).removeData(o.attr).removeClass(i.classes.input),r.length&&(e.detach().insertAfter(r),r.remove())}(i),e.destroy()}),this}},e.fn.typeahead=function(e){return a[e]?a[e].apply(this,[].slice.call(arguments,1)):a.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=r,this}}()})}).call(t,i(56).setImmediate)},,,,function(e,t,i){var r,n,o,a;a=function(e){return e.ui.escapeSelector=(t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(t,"\\$1")});var t},n=[i(0),i(1)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},function(e,t,i){var r,n,o,a;a=function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}},n=[i(0),i(1)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},,,,,function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(o(i=this._events[e]))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(n(i))for(s=Array.prototype.slice.call(arguments,1),a=(c=i.slice()).length,l=0;l<a;l++)c[l].apply(this,s);return!0},i.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?n(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,n(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var i=!1;function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){var i,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,o=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(i)){for(s=a;s-- >0;)if(i[s]===t||i[s].listener&&i[s].listener===t){o=s;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){(t=e.exports=i(67)).Stream=t,t.Readable=t,t.Writable=i(49),t.Duplex=i(14),t.Transform=i(71),t.PassThrough=i(140)},function(e,t,i){"use strict";(function(t,r,n){var o=i(33);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var r=e.entry;e.entry=null;for(;r;){var n=r.callback;t.pendingcb--,n(i),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=v;var c=i(24);c.inherits=i(18);var h={deprecate:i(139)},u=i(68),d=i(34).Buffer,f=n.Uint8Array||function(){};var p,m=i(69);function g(){}function v(e,t){s=s||i(14),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,c=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(c||0===c)?c:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,r=i.sync,n=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,r,n){--t.pendingcb,i?(o.nextTick(n,r),o.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(n(r),e._writableState.errorEmitted=!0,e.emit("error",r),C(e,t))}(e,i,r,t,n);else{var a=w(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||x(e,i),r?l(_,e,i,a,n):_(e,i,a,n)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||i(14),!(p.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function b(e,t,i,r,n,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function _(e,t,i,r){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),C(e,t)}function x(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,n=new Array(r),o=t.corkedRequestsFree;o.entry=i;for(var s=0,l=!0;i;)n[s]=i,i.isBuf||(l=!1),i=i.next,s+=1;n.allBuffers=l,b(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;i;){var c=i.chunk,h=i.encoding,u=i.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,h,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var i=w(t);return i&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}c.inherits(y,u),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,i){var r,n=this._writableState,a=!1,s=!n.objectMode&&(r=e,d.isBuffer(r)||r instanceof f);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof i&&(i=g),n.ended?function(e,t){var i=new Error("write after end");e.emit("error",i),o.nextTick(t,i)}(this,i):(s||function(e,t,i,r){var n=!0,a=!1;return null===i?a=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),n=!1),n}(this,n,e,i))&&(n.pendingcb++,a=function(e,t,i,r,n,o){if(!i){var a=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,i));return t}(t,r,n);r!==a&&(i=!0,n="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,n,o);return l}(this,n,s,e,t,i)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,i){var r=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,i){t.ending=!0,C(e,t),i&&(t.finished?o.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,r,i)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,i(20),i(56).setImmediate,i(8))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){e.exports=!i(75)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";var r=i(25),n=i(79),o=i(80),a=i(81);o=i(80);function s(e,t,i,r,n){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=r,this.compressedContent=n}s.prototype={getContentWorker:function(){var e=new n(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new n(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,i){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=s},function(e,t,i){"use strict";var r=i(2);var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,i,r){var o=n,a=r+i;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,i,r){var o=n,a=r+i;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,i){"use strict";(function(t){var r=i(7),n=i(250),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:("undefined"!=typeof XMLHttpRequest?s=i(113):void 0!==t&&(s=i(113)),s),transformRequest:[function(e,t){return n(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(o)}),e.exports=l}).call(t,i(20))},function(e,t,i){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(n.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(n.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(119),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,i(8))},function(e,t,i){var r,n,o,a;a=function(e){var t={exports:{}},i=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){n(this,e)}return i(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var o=t,a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{if((s=o.next()).done)break;l=s.value}l.apply(this,r)}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var r=0;r<i.length;r++){if(i[r]===t){i.splice(r,1);break}}return this}}]),e}(),a=function(e){function t(e,i){n(this,t);var o,a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=void 0;if(a.element=e,a.version=t.version,a.defaultOptions.previewTemplate=a.defaultOptions.previewTemplate.replace(/\n*/g,""),a.clickableElements=[],a.listeners=[],a.files=[],"string"==typeof a.element&&(a.element=document.querySelector(a.element)),!a.element||null==a.element.nodeType)throw new Error("Invalid dropzone element.");if(a.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(a),a.element.dropzone=a;var l,c=null!=(o=t.optionsForElement(a.element))?o:{};if(a.options=t.extend({},a.defaultOptions,c,null!=i?i:{}),a.options.forceFallback||!t.isBrowserSupported())return l=a.options.fallback.call(a),r(a,l);if(null==a.options.url&&(a.options.url=a.element.getAttribute("action")),!a.options.url)throw new Error("No URL provided.");if(a.options.acceptedFiles&&a.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(a.options.uploadMultiple&&a.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return a.options.acceptedMimeTypes&&(a.options.acceptedFiles=a.options.acceptedMimeTypes,delete a.options.acceptedMimeTypes),null!=a.options.renameFilename&&(a.options.renameFile=function(e){return a.options.renameFilename.call(a,e.name,e)}),a.options.method=a.options.method.toUpperCase(),(s=a.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==a.options.previewsContainer&&(a.options.previewsContainer?a.previewsContainer=t.getElement(a.options.previewsContainer,"previewsContainer"):a.previewsContainer=a.element),a.options.clickable&&(!0===a.options.clickable?a.clickableElements=[a.element]:a.clickableElements=t.getElements(a.options.clickable,"clickable")),a.init(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),i(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=o,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e=void 0;this.element.className=this.element.className+" dz-browser-not-supported";var i=this.element.getElementsByTagName("div"),r=Array.isArray(i),n=0;for(i=r?i:i[Symbol.iterator]();;){var o;if(r){if(n>=i.length)break;o=i[n++]}else{if((n=i.next()).done)break;o=n.value}var a=o;if(/(^| )dz-message($| )/.test(a.className)){e=a,a.className="dz-message";break}}e||(e=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var s=e.getElementsByTagName("span")[0];return s&&(null!=s.textContent?s.textContent=this.options.dictFallbackMessage:null!=s.innerText&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,i,r){var n={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},o=e.width/e.height;null==t&&null==i?(t=n.srcWidth,i=n.srcHeight):null==t?t=i*o:null==i&&(i=t/o);var a=(t=Math.min(t,n.srcWidth))/(i=Math.min(i,n.srcHeight));if(n.srcWidth>t||n.srcHeight>i)if("crop"===r)o>a?(n.srcHeight=e.height,n.srcWidth=n.srcHeight*a):(n.srcWidth=e.width,n.srcHeight=n.srcWidth/a);else{if("contain"!==r)throw new Error("Unknown resizeMethod '"+r+"'");o>a?i=t/o:t=i*o}return n.srcX=(e.width-n.srcWidth)/2,n.srcY=(e.height-n.srcHeight)/2,n.trgWidth=t,n.trgHeight=i,n},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var i=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var r=e.previewElement.querySelectorAll("[data-dz-name]"),n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s=a;s.textContent=e.name}var l=e.previewElement.querySelectorAll("[data-dz-size]"),c=Array.isArray(l),h=0;for(l=c?l:l[Symbol.iterator]();;){if(c){if(h>=l.length)break;s=l[h++]}else{if((h=l.next()).done)break;s=h.value}s.innerHTML=this.filesize(e.size)}this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink));var u=function(r){return r.preventDefault(),r.stopPropagation(),e.status===t.UPLOADING?t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(e)}):i.options.dictRemoveFileConfirmation?t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(e)}):i.removeFile(e)},d=e.previewElement.querySelectorAll("[data-dz-remove]"),f=Array.isArray(d),p=0;for(d=f?d:d[Symbol.iterator]();;){var m;if(f){if(p>=d.length)break;m=d[p++]}else{if((p=d.next()).done)break;m=p.value}m.addEventListener("click",u)}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var i=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),r=Array.isArray(i),n=0;for(i=r?i:i[Symbol.iterator]();;){var o;if(r){if(n>=i.length)break;o=i[n++]}else{if((n=i.next()).done)break;o=n.value}var a=o;a.alt=e.name,a.src=t}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var i=e.previewElement.querySelectorAll("[data-dz-errormessage]"),r=Array.isArray(i),n=0;for(i=r?i:i[Symbol.iterator]();;){var o;if(r){if(n>=i.length)break;o=i[n++]}else{if((n=i.next()).done)break;o=n.value}o.textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,i){if(e.previewElement){var r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s=a;"PROGRESS"===s.nodeName?s.value=t:s.style.width=t+"%"}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];var n=i,o=Array.isArray(n),a=0;for(n=o?n:n[Symbol.iterator]();;){var s;if(o){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var l=s;for(var c in l){var h=l[c];e[c]=h}}return e}}]),i(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){!function t(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var i=e.hiddenFileInput.files;if(i.length){var r=i,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s=a;e.addFile(s)}}return e.emit("addedfiles",i),t()})}()}this.URL=null!==window.URL?window.URL:window.webkitURL;var i=this.events,r=Array.isArray(i),n=0;for(i=r?i:i[Symbol.iterator]();;){var o;if(r){if(n>=i.length)break;o=i[n++]}else{if((n=i.next()).done)break;o=n.value}var a=o;this.on(a,this.options[a])}this.on("uploadprogress",function(){return e.updateTotalUploadProgress()}),this.on("removedfile",function(){return e.updateTotalUploadProgress()}),this.on("canceled",function(t){return e.emit("complete",t)}),this.on("complete",function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)});var s=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return s(t),e.emit("dragenter",t)},dragover:function(t){var i=void 0;try{i=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",s(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return s(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach(function(i){return e.listeners.push({element:i,events:{click:function(r){return(i!==e.element||r.target===e.element||t.elementInside(r.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,i=0;if(this.getActiveFiles().length){var r=this.getActiveFiles(),n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s=a;t+=s.upload.bytesSent,i+=s.upload.total}e=100*t/i}else e=100;return this.emit("totaluploadprogress",e,i,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,i=void 0;if(e=this.getExistingFallback())return e;var r='<div class="dz-fallback">';this.options.dictFallbackText&&(r+="<p>"+this.options.dictFallbackText+"</p>"),r+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var n=t.createElement(r);return"FORM"!==this.element.tagName?(i=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(n):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:n}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t=e,i=Array.isArray(t),r=0;for(t=i?t:t[Symbol.iterator]();;){var n;if(i){if(r>=t.length)break;n=t[r++]}else{if((r=t.next()).done)break;n=r.value}var o=n;if(/(^| )fallback($| )/.test(o.className))return o}},t=["div","form"],i=0;i<t.length;i++){var r,n=t[i];if(r=e(this.element.getElementsByTagName(n)))return r}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var i in e.events){var r=e.events[i];t.push(e.element.addEventListener(i,r,!1))}return t}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var i in e.events){var r=e.events[i];t.push(e.element.removeEventListener(i,r,!1))}return t}()})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,i="b";if(e>0){for(var r=["tb","gb","mb","kb","b"],n=0;n<r.length;n++){var o=r[n];if(e>=Math.pow(this.options.filesizeBase,4-n)/10){t=e/Math.pow(this.options.filesizeBase,4-n),i=o;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[i]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],i=0;i<e.dataTransfer.files.length;i++)t[i]=e.dataTransfer.files[i];if(this.emit("addedfiles",t),t.length){var r=e.dataTransfer.items;r&&r.length&&null!=r[0].webkitGetAsEntry?this._addFilesFromItems(r):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=(void 0!==(t=null!=e?e.clipboardData:void 0)&&null!==t?function(e){return e.items}(t):void 0)){var t;this.emit("paste",e);var i=e.clipboardData.items;return i.length?this._addFilesFromItems(i):void 0}}},{key:"handleFiles",value:function(e){var t=e,i=Array.isArray(t),r=0;for(t=i?t:t[Symbol.iterator]();;){var n;if(i){if(r>=t.length)break;n=t[r++]}else{if((r=t.next()).done)break;n=r.value}var o=n;this.addFile(o)}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var i=[],r=e,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s,l=a;null!=l.webkitGetAsEntry&&(s=l.webkitGetAsEntry())?s.isFile?i.push(t.addFile(l.getAsFile())):s.isDirectory?i.push(t._addFilesFromDirectory(s,s.name)):i.push(void 0):null!=l.getAsFile&&(null==l.kind||"file"===l.kind)?i.push(t.addFile(l.getAsFile())):i.push(void 0)}return i}()}},{key:"_addFilesFromDirectory",value:function(e,t){var i=this,r=e.createReader(),n=function(e){return t=console,i="log",r=function(t){return t.log(e)},void 0!==t&&null!==t&&"function"==typeof t[i]?r(t,i):void 0;var t,i,r};return function e(){return r.readEntries(function(r){if(r.length>0){var n=r,o=Array.isArray(n),a=0;for(n=o?n:n[Symbol.iterator]();;){var s;if(o){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var l=s;l.isFile?l.file(function(e){if(!i.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,i.addFile(e)}):l.isDirectory&&i._addFilesFromDirectory(l,t+"/"+l.name)}e()}return null},n)}()}},{key:"accept",value:function(e,i){return e.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,i):i(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var i=this;return e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return t?(e.accepted=!1,i._errorProcessing([e],t)):(e.accepted=!0,i.options.autoQueue&&i.enqueueFile(e)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){var t=e,i=Array.isArray(t),r=0;for(t=i?t:t[Symbol.iterator]();;){var n;if(i){if(r>=t.length)break;n=t[r++]}else{if((r=t.next()).done)break;n=r.value}var o=n;this.enqueueFile(o)}return null}},{key:"enqueueFile",value:function(e){var i=this;if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return i.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(i){return e.emit("thumbnail",t,i),e._processingThumbnail=!1,e._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=s(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var i=this.files.slice(),r=Array.isArray(i),n=0;for(i=r?i:i[Symbol.iterator]();;){var o;if(r){if(n>=i.length)break;o=i[n++]}else{if((n=i.next()).done)break;o=n.value}var a=o;(a.status!==t.UPLOADING||e)&&this.removeFile(a)}return null}},{key:"resizeImage",value:function(e,i,r,n,o){var a=this;return this.createThumbnail(e,i,r,n,!1,function(i,r){if(null==r)return o(e);var n=a.options.resizeMimeType;null==n&&(n=e.type);var s=r.toDataURL(n,a.options.resizeQuality);return"image/jpeg"!==n&&"image/jpg"!==n||(s=h.restore(e.dataURL,s)),o(t.dataURItoBlob(s))})}},{key:"createThumbnail",value:function(e,t,i,r,n,o){var a=this,s=new FileReader;return s.onload=function(){if(e.dataURL=s.result,"image/svg+xml"!==e.type)return a.createThumbnailFromUrl(e,t,i,r,n,o);null!=o&&o(s.result)},s.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,i,r,n,o,a){var s=this,l=document.createElement("img");return a&&(l.crossOrigin=a),l.onload=function(){var a=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&n&&(a=function(e){return EXIF.getData(l,function(){return e(EXIF.getTag(this,"Orientation"))})}),a(function(n){e.width=l.width,e.height=l.height;var a=s.options.resize.call(s,e,t,i,r),h=document.createElement("canvas"),u=h.getContext("2d");switch(h.width=a.trgWidth,h.height=a.trgHeight,n>4&&(h.width=a.trgHeight,h.height=a.trgWidth),n){case 2:u.translate(h.width,0),u.scale(-1,1);break;case 3:u.translate(h.width,h.height),u.rotate(Math.PI);break;case 4:u.translate(0,h.height),u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI),u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI),u.translate(0,-h.height);break;case 7:u.rotate(.5*Math.PI),u.translate(h.width,-h.height),u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI),u.translate(-h.width,0)}c(u,l,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight);var d=h.toDataURL("image/png");if(null!=o)return o(d,h)})},null!=o&&(l.onerror=o),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,i=t;if(!(t>=e)){var r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-t));for(;i<e;){if(!r.length)return;this.processFile(r.shift()),i++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var i=e,r=Array.isArray(i),n=0;for(i=r?i:i[Symbol.iterator]();;){var o;if(r){if(n>=i.length)break;o=i[n++]}else{if((n=i.next()).done)break;o=n.value}var a=o;a.processing=!0,a.status=t.UPLOADING,this.emit("processing",a)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===t.UPLOADING){var i=this._getFilesWithXhr(e.xhr),r=i,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}a.status=t.CANCELED}void 0!==e.xhr&&e.xhr.abort();var s=i,l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var h;if(l){if(c>=s.length)break;h=s[c++]}else{if((c=s.next()).done)break;h=c.value}var u=h;this.emit("canceled",u)}this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else e.status!==t.ADDED&&e.status!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return e.apply(this,i)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var i=this;this._transformFiles(e,function(r){if(e[0].upload.chunked){var n=e[0],o=r[0];n.upload.chunks=[];var a=function(){for(var r=0;void 0!==n.upload.chunks[r];)r++;if(!(r>=n.upload.totalChunkCount)){0;var a=r*i.options.chunkSize,s=Math.min(a+i.options.chunkSize,n.size),l={name:i._getParamName(0),data:o.webkitSlice?o.webkitSlice(a,s):o.slice(a,s),filename:n.upload.filename,chunkIndex:r};n.upload.chunks[r]={file:n,index:r,dataBlock:l,status:t.UPLOADING,progress:0,retries:0},i._uploadData(e,[l])}};if(n.upload.finishedChunkUpload=function(r){var o=!0;r.status=t.SUCCESS,r.dataBlock=null;for(var s=0;s<n.upload.totalChunkCount;s++){if(void 0===n.upload.chunks[s])return a();n.upload.chunks[s].status!==t.SUCCESS&&(o=!1)}o&&i.options.chunksUploaded(n,function(){i._finished(e,"",null)})},i.options.parallelChunkUploads)for(var s=0;s<n.upload.totalChunkCount;s++)a();else a()}else{for(var l=[],c=0;c<e.length;c++)l[c]={name:i._getParamName(c),data:r[c],filename:e[c].upload.filename};i._uploadData(e,l)}})}},{key:"_getChunk",value:function(e,t){for(var i=0;i<e.upload.totalChunkCount;i++)if(void 0!==e.upload.chunks[i]&&e.upload.chunks[i].xhr===t)return e.upload.chunks[i]}},{key:"_uploadData",value:function(e,i){var r=this,n=new XMLHttpRequest,o=e,a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{if((s=o.next()).done)break;l=s.value}l.xhr=n}e[0].upload.chunked&&(e[0].upload.chunks[i[0].chunkIndex].xhr=n);var c=this.resolveOption(this.options.method,e),h=this.resolveOption(this.options.url,e);n.open(c,h,!0),n.timeout=this.resolveOption(this.options.timeout,e),n.withCredentials=!!this.options.withCredentials,n.onload=function(t){r._finishedUploading(e,n,t)},n.onerror=function(){r._handleUploadError(e,n)},(null!=n.upload?n.upload:n).onprogress=function(t){return r._updateFilesUploadProgress(e,n,t)};var u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&t.extend(u,this.options.headers),u){var f=u[d];f&&n.setRequestHeader(d,f)}var p=new FormData;if(this.options.params){var m=this.options.params;for(var g in"function"==typeof m&&(m=m.call(this,e,n,e[0].upload.chunked?this._getChunk(e[0],n):null)),m){var v=m[g];p.append(g,v)}}var y=e,b=Array.isArray(y),_=0;for(y=b?y:y[Symbol.iterator]();;){var x;if(b){if(_>=y.length)break;x=y[_++]}else{if((_=y.next()).done)break;x=_.value}var w=x;this.emit("sending",w,n,p)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,n,p),this._addFormElementData(p);for(var S=0;S<i.length;S++){var C=i[S];p.append(C.name,C.data,C.filename)}this.submitRequest(n,p,e)}},{key:"_transformFiles",value:function(e,t){for(var i=this,r=[],n=0,o=function(o){i.options.transformFile.call(i,e[o],function(i){r[o]=i,++n===e.length&&t(r)})},a=0;a<e.length;a++)o(a)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t=this.element.querySelectorAll("input, textarea, select, button"),i=Array.isArray(t),r=0;for(t=i?t:t[Symbol.iterator]();;){var n;if(i){if(r>=t.length)break;n=t[r++]}else{if((r=t.next()).done)break;n=r.value}var o=n,a=o.getAttribute("name"),s=o.getAttribute("type");if(s&&(s=s.toLowerCase()),void 0!==a&&null!==a)if("SELECT"===o.tagName&&o.hasAttribute("multiple")){var l=o.options,c=Array.isArray(l),h=0;for(l=c?l:l[Symbol.iterator]();;){var u;if(c){if(h>=l.length)break;u=l[h++]}else{if((h=l.next()).done)break;u=h.value}var d=u;d.selected&&e.append(a,d.value)}}else(!s||"checkbox"!==s&&"radio"!==s||o.checked)&&e.append(a,o.value)}}}},{key:"_updateFilesUploadProgress",value:function(e,t,i){var r=void 0;if(void 0!==i){if(r=100*i.loaded/i.total,e[0].upload.chunked){var n=e[0],o=this._getChunk(n,t);o.progress=r,o.total=i.total,o.bytesSent=i.loaded;n.upload.progress=0,n.upload.total=0,n.upload.bytesSent=0;for(var a=0;a<n.upload.totalChunkCount;a++)void 0!==n.upload.chunks[a]&&void 0!==n.upload.chunks[a].progress&&(n.upload.progress+=n.upload.chunks[a].progress,n.upload.total+=n.upload.chunks[a].total,n.upload.bytesSent+=n.upload.chunks[a].bytesSent);n.upload.progress=n.upload.progress/n.upload.totalChunkCount}else{var s=e,l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var h;if(l){if(c>=s.length)break;h=s[c++]}else{if((c=s.next()).done)break;h=c.value}var u=h;u.upload.progress=r,u.upload.total=i.total,u.upload.bytesSent=i.loaded}}var d=e,f=Array.isArray(d),p=0;for(d=f?d:d[Symbol.iterator]();;){var m;if(f){if(p>=d.length)break;m=d[p++]}else{if((p=d.next()).done)break;m=p.value}var g=m;this.emit("uploadprogress",g,g.upload.progress,g.upload.bytesSent)}}else{var v=!0;r=100;var y=e,b=Array.isArray(y),_=0;for(y=b?y:y[Symbol.iterator]();;){var x;if(b){if(_>=y.length)break;x=y[_++]}else{if((_=y.next()).done)break;x=_.value}var w=x;100===w.upload.progress&&w.upload.bytesSent===w.upload.total||(v=!1),w.upload.progress=r,w.upload.bytesSent=w.upload.total}if(v)return;var S=e,C=Array.isArray(S),T=0;for(S=C?S:S[Symbol.iterator]();;){var A;if(C){if(T>=S.length)break;A=S[T++]}else{if((T=S.next()).done)break;A=T.value}var M=A;this.emit("uploadprogress",M,r,M.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,i,r){var n=void 0;if(e[0].status!==t.CANCELED&&4===i.readyState){if("arraybuffer"!==i.responseType&&"blob"!==i.responseType&&(n=i.responseText,i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json")))try{n=JSON.parse(n)}catch(e){r=e,n="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=i.status&&i.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],i)):this._finished(e,n,r):this._handleUploadError(e,i,n)}}},{key:"_handleUploadError",value:function(e,i,r){if(e[0].status!==t.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var n=this._getChunk(e[0],i);if(n.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[n.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}var o=e,a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){if(a){if(s>=o.length)break;o[s++]}else{if((s=o.next()).done)break;s.value}this._errorProcessing(e,r||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}}},{key:"submitRequest",value:function(e,t,i){e.send(t)}},{key:"_finished",value:function(e,i,r){var n=e,o=Array.isArray(n),a=0;for(n=o?n:n[Symbol.iterator]();;){var s;if(o){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var l=s;l.status=t.SUCCESS,this.emit("success",l,i,r),this.emit("complete",l)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,i,r),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,i,r){var n=e,o=Array.isArray(n),a=0;for(n=o?n:n[Symbol.iterator]();;){var s;if(o){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var l=s;l.status=t.ERROR,this.emit("error",l,i,r),this.emit("complete",l)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,i,r),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),t}();a.initClass(),a.version="5.4.0",a.options={},a.optionsForElement=function(e){return e.getAttribute("id")?a.options[l(e.getAttribute("id"))]:void 0},a.instances=[],a.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},a.autoDiscover=!0,a.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var i=[],r=t,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s=a;/(^| )dropzone($| )/.test(s.className)?i.push(e.push(s)):i.push(void 0)}return i}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t=[],i=e,r=Array.isArray(i),n=0;for(i=r?i:i[Symbol.iterator]();;){var o;if(r){if(n>=i.length)break;o=i[n++]}else{if((n=i.next()).done)break;o=n.value}var s=o;!1!==a.optionsForElement(s)?t.push(new a(s)):t.push(void 0)}return t}()},a.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],a.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=a.blacklistedBrowsers,i=Array.isArray(t),r=0;for(t=i?t:t[Symbol.iterator]();;){var n;if(i){if(r>=t.length)break;n=t[r++]}else{if((r=t.next()).done)break;n=r.value}n.test(navigator.userAgent)&&(e=!1)}}else e=!1;else e=!1;return e},a.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),n=new Uint8Array(r),o=0,a=t.length,s=0<=a;s?o<=a:o>=a;s?o++:o--)n[o]=t.charCodeAt(o);return new Blob([r],{type:i})};var s=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},l=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};a.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},a.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},a.getElement=function(e,t){var i=void 0;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},a.getElements=function(e,t){var i=void 0,r=void 0;if(e instanceof Array){r=[];try{var n=e,o=Array.isArray(n),a=0;for(n=o?n:n[Symbol.iterator]();;){if(o){if(a>=n.length)break;i=n[a++]}else{if((a=n.next()).done)break;i=a.value}r.push(this.getElement(i,t))}}catch(e){r=null}}else if("string"==typeof e){r=[];var s=document.querySelectorAll(e),l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){if(l){if(c>=s.length)break;i=s[c++]}else{if((c=s.next()).done)break;i=c.value}r.push(i)}}else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},a.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},a.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var i=e.type,r=i.replace(/\/.*$/,""),n=t,o=Array.isArray(n),a=0;for(n=o?n:n[Symbol.iterator]();;){var s;if(o){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var l=s;if("."===(l=l.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(l.toLowerCase(),e.name.length-l.length))return!0}else if(/\/\*$/.test(l)){if(r===l.replace(/\/.*$/,""))return!0}else if(i===l)return!0}return!1},void 0!==e&&null!==e&&(e.fn.dropzone=function(e){return this.each(function(){return new a(this,e)})}),void 0!==t&&null!==t?t.exports=a:window.Dropzone=a,a.ADDED="added",a.QUEUED="queued",a.ACCEPTED=a.QUEUED,a.UPLOADING="uploading",a.PROCESSING=a.UPLOADING,a.CANCELED="canceled",a.ERROR="error",a.SUCCESS="success";var c=function(e,t,i,r,n,o,a,s,l,c){var h=function(e){e.naturalWidth;var t=e.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=t;var r=i.getContext("2d");r.drawImage(e,0,0);for(var n=r.getImageData(1,0,1,t).data,o=0,a=t,s=t;s>o;)0===n[4*(s-1)+3]?a=s:o=s,s=a+o>>1;var l=s/t;return 0===l?1:l}(t);return e.drawImage(t,i,r,n,o,a,s,l,c/h)},h=function(){function e(){n(this,e)}return i(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",i=void 0,r=void 0,n="",o=void 0,a=void 0,s=void 0,l="",c=0;o=(i=e[c++])>>2,a=(3&i)<<4|(r=e[c++])>>4,s=(15&r)<<2|(n=e[c++])>>6,l=63&n,isNaN(r)?s=l=64:isNaN(n)&&(l=64),t=t+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l),i=r=n="",o=a=s=l="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var i=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(i),n=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(n)}},{key:"exifManipulation",value:function(e,t){var i=this.getExifArray(t),r=this.insertExif(e,i);return new Uint8Array(r)}},{key:"getExifArray",value:function(e){for(var t=void 0,i=0;i<e.length;){if(255===(t=e[i])[0]&225===t[1])return t;i++}return[]}},{key:"insertExif",value:function(e,t){var i=e.replace("data:image/jpeg;base64,",""),r=this.decode64(i),n=r.indexOf(255,3),o=r.slice(0,n),a=r.slice(n),s=o;return s=(s=s.concat(t)).concat(a)}},{key:"slice2Segments",value:function(e){for(var t=0,i=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,n=e.slice(t,r);i.push(n),t=r}if(t>e.length)break}return i}},{key:"decode64",value:function(e){var t=void 0,i=void 0,r="",n=void 0,o=void 0,a="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(n=this.KEY_STR.indexOf(e.charAt(s++)))>>4,i=(15&n)<<4|(o=this.KEY_STR.indexOf(e.charAt(s++)))>>2,r=(3&o)<<6|(a=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==o&&l.push(i),64!==a&&l.push(r),t=i=r="",n=o=a="",s<e.length;);return l}}]),e}();h.initClass();return a._autoDiscoverFunction=function(){if(a.autoDiscover)return a.discover()},function(e,t){var i=!1,r=!0,n=e.document,o=n.documentElement,a=n.addEventListener?"addEventListener":"attachEvent",s=n.addEventListener?"removeEventListener":"detachEvent",l=n.addEventListener?"":"on",c=function r(o){if("readystatechange"!==o.type||"complete"===n.readyState)return("load"===o.type?e:n)[s](l+o.type,r,!1),!i&&(i=!0)?t.call(e,o.type||o):void 0};if("complete"!==n.readyState){if(n.createEventObject&&o.doScroll){try{r=!e.frameElement}catch(e){}r&&function e(){try{o.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")}()}n[a](l+"DOMContentLoaded",c,!1),n[a](l+"readystatechange",c,!1),e[a](l+"load",c,!1)}}(window,a._autoDiscoverFunction),t.exports},n=[i(0)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},function(e,t,i){(function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),r.forEach(function(t){o(e,t,i[t])})}return e}t=t&&t.hasOwnProperty("default")?t.default:t,i=i&&i.hasOwnProperty("default")?i.default:i;var s=function(e){var t="transitionend";function i(t){var i=this,n=!1;return e(this).one(r.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||r.triggerTransitionEnd(i)},t),this}var r={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(t){var i=t.getAttribute("data-target");i&&"#"!==i||(i=t.getAttribute("href")||"");try{return e(document).find(i).length>0?i:null}catch(e){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var i=e(t).css("transition-duration");return parseFloat(i)?(i=i.split(",")[0],1e3*parseFloat(i)):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(i){e(i).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var o=i[n],a=t[n],s=a&&r.isElement(a)?"element":(l=a,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(s))throw new Error(e.toUpperCase()+': Option "'+n+'" provided type "'+s+'" but expected type "'+o+'".')}var l}};return e.fn.emulateTransitionEnd=i,e.event.special[r.TRANSITION_END]={bindType:t,delegateType:t,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},r}(t),l=function(e){var t=e.fn.alert,i={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},r="alert",o="fade",a="show",l=function(){function t(e){this._element=e}var l=t.prototype;return l.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},l.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},l._getRootElement=function(t){var i=s.getSelectorFromElement(t),n=!1;return i&&(n=e(i)[0]),n||(n=e(t).closest("."+r)[0]),n},l._triggerCloseEvent=function(t){var r=e.Event(i.CLOSE);return e(t).trigger(r),r},l._removeElement=function(t){var i=this;if(e(t).removeClass(a),e(t).hasClass(o)){var r=s.getTransitionDurationFromElement(t);e(t).one(s.TRANSITION_END,function(e){return i._destroyElement(t,e)}).emulateTransitionEnd(r)}else this._destroyElement(t)},l._destroyElement=function(t){e(t).detach().trigger(i.CLOSED).remove()},t._jQueryInterface=function(i){return this.each(function(){var r=e(this),n=r.data("bs.alert");n||(n=new t(this),r.data("bs.alert",n)),"close"===i&&n[i](this)})},t._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},n(t,null,[{key:"VERSION",get:function(){return"4.1.1"}}]),t}();return e(document).on(i.CLICK_DATA_API,'[data-dismiss="alert"]',l._handleDismiss(new l)),e.fn.alert=l._jQueryInterface,e.fn.alert.Constructor=l,e.fn.alert.noConflict=function(){return e.fn.alert=t,l._jQueryInterface},l}(t),c=function(e){var t="button",i=e.fn[t],r="active",o="btn",a="focus",s='[data-toggle^="button"]',l='[data-toggle="buttons"]',c="input",h=".active",u=".btn",d={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},f=function(){function t(e){this._element=e}var i=t.prototype;return i.toggle=function(){var t=!0,i=!0,n=e(this._element).closest(l)[0];if(n){var o=e(this._element).find(c)[0];if(o){if("radio"===o.type)if(o.checked&&e(this._element).hasClass(r))t=!1;else{var a=e(n).find(h)[0];a&&e(a).removeClass(r)}if(t){if(o.hasAttribute("disabled")||n.hasAttribute("disabled")||o.classList.contains("disabled")||n.classList.contains("disabled"))return;o.checked=!e(this._element).hasClass(r),e(o).trigger("change")}o.focus(),i=!1}}i&&this._element.setAttribute("aria-pressed",!e(this._element).hasClass(r)),t&&e(this._element).toggleClass(r)},i.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(i){return this.each(function(){var r=e(this).data("bs.button");r||(r=new t(this),e(this).data("bs.button",r)),"toggle"===i&&r[i]()})},n(t,null,[{key:"VERSION",get:function(){return"4.1.1"}}]),t}();return e(document).on(d.CLICK_DATA_API,s,function(t){t.preventDefault();var i=t.target;e(i).hasClass(o)||(i=e(i).closest(u)),f._jQueryInterface.call(e(i),"toggle")}).on(d.FOCUS_BLUR_DATA_API,s,function(t){var i=e(t.target).closest(u)[0];e(i).toggleClass(a,/^focus(in)?$/.test(t.type))}),e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=i,f._jQueryInterface},f}(t),h=function(e){var t="carousel",i="bs.carousel",r="."+i,o=e.fn[t],l={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},c={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},h="next",u="prev",d="left",f="right",p={SLIDE:"slide"+r,SLID:"slid"+r,KEYDOWN:"keydown"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r,TOUCHEND:"touchend"+r,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},m="carousel",g="active",v="slide",y="carousel-item-right",b="carousel-item-left",_="carousel-item-next",x="carousel-item-prev",w={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},S=function(){function o(t,i){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(i),this._element=e(t)[0],this._indicatorsElement=e(this._element).find(w.INDICATORS)[0],this._addEventListeners()}var S=o.prototype;return S.next=function(){this._isSliding||this._slide(h)},S.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},S.prev=function(){this._isSliding||this._slide(u)},S.pause=function(t){t||(this._isPaused=!0),e(this._element).find(w.NEXT_PREV)[0]&&(s.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},S.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},S.to=function(t){var i=this;this._activeElement=e(this._element).find(w.ACTIVE_ITEM)[0];var r=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(p.SLID,function(){return i.to(t)});else{if(r===t)return this.pause(),void this.cycle();var n=t>r?h:u;this._slide(n,this._items[t])}},S.dispose=function(){e(this._element).off(r),e.removeData(this._element,i),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},S._getConfig=function(e){return e=a({},l,e),s.typeCheckConfig(t,e,c),e},S._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(p.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(e(this._element).on(p.MOUSEENTER,function(e){return t.pause(e)}).on(p.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&e(this._element).on(p.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},S._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},S._getItemIndex=function(t){return this._items=e.makeArray(e(t).parent().find(w.ITEM)),this._items.indexOf(t)},S._getItemByDirection=function(e,t){var i=e===h,r=e===u,n=this._getItemIndex(t),o=this._items.length-1;if((r&&0===n||i&&n===o)&&!this._config.wrap)return t;var a=(n+(e===u?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},S._triggerSlideEvent=function(t,i){var r=this._getItemIndex(t),n=this._getItemIndex(e(this._element).find(w.ACTIVE_ITEM)[0]),o=e.Event(p.SLIDE,{relatedTarget:t,direction:i,from:n,to:r});return e(this._element).trigger(o),o},S._setActiveIndicatorElement=function(t){if(this._indicatorsElement){e(this._indicatorsElement).find(w.ACTIVE).removeClass(g);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(g)}},S._slide=function(t,i){var r,n,o,a=this,l=e(this._element).find(w.ACTIVE_ITEM)[0],c=this._getItemIndex(l),u=i||l&&this._getItemByDirection(t,l),m=this._getItemIndex(u),S=Boolean(this._interval);if(t===h?(r=b,n=_,o=d):(r=y,n=x,o=f),u&&e(u).hasClass(g))this._isSliding=!1;else if(!this._triggerSlideEvent(u,o).isDefaultPrevented()&&l&&u){this._isSliding=!0,S&&this.pause(),this._setActiveIndicatorElement(u);var C=e.Event(p.SLID,{relatedTarget:u,direction:o,from:c,to:m});if(e(this._element).hasClass(v)){e(u).addClass(n),s.reflow(u),e(l).addClass(r),e(u).addClass(r);var T=s.getTransitionDurationFromElement(l);e(l).one(s.TRANSITION_END,function(){e(u).removeClass(r+" "+n).addClass(g),e(l).removeClass(g+" "+n+" "+r),a._isSliding=!1,setTimeout(function(){return e(a._element).trigger(C)},0)}).emulateTransitionEnd(T)}else e(l).removeClass(g),e(u).addClass(g),this._isSliding=!1,e(this._element).trigger(C);S&&this.cycle()}},o._jQueryInterface=function(t){return this.each(function(){var r=e(this).data(i),n=a({},l,e(this).data());"object"==typeof t&&(n=a({},n,t));var s="string"==typeof t?t:n.slide;if(r||(r=new o(this,n),e(this).data(i,r)),"number"==typeof t)r.to(t);else if("string"==typeof s){if(void 0===r[s])throw new TypeError('No method named "'+s+'"');r[s]()}else n.interval&&(r.pause(),r.cycle())})},o._dataApiClickHandler=function(t){var r=s.getSelectorFromElement(this);if(r){var n=e(r)[0];if(n&&e(n).hasClass(m)){var l=a({},e(n).data(),e(this).data()),c=this.getAttribute("data-slide-to");c&&(l.interval=!1),o._jQueryInterface.call(e(n),l),c&&e(n).data(i).to(c),t.preventDefault()}}},n(o,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return l}}]),o}();return e(document).on(p.CLICK_DATA_API,w.DATA_SLIDE,S._dataApiClickHandler),e(window).on(p.LOAD_DATA_API,function(){e(w.DATA_RIDE).each(function(){var t=e(this);S._jQueryInterface.call(t,t.data())})}),e.fn[t]=S._jQueryInterface,e.fn[t].Constructor=S,e.fn[t].noConflict=function(){return e.fn[t]=o,S._jQueryInterface},S}(t),u=function(e){var t="collapse",i="bs.collapse",r=e.fn[t],o={toggle:!0,parent:""},l={toggle:"boolean",parent:"(string|element)"},c={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},h="show",u="collapse",d="collapsing",f="collapsed",p="width",m="height",g={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},v=function(){function r(t,i){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(i),this._triggerArray=e.makeArray(e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var r=e(g.DATA_TOGGLE),n=0;n<r.length;n++){var o=r[n],a=s.getSelectorFromElement(o);null!==a&&e(a).filter(t).length>0&&(this._selector=a,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var v=r.prototype;return v.toggle=function(){e(this._element).hasClass(h)?this.hide():this.show()},v.show=function(){var t,n,o=this;if(!this._isTransitioning&&!e(this._element).hasClass(h)&&(this._parent&&0===(t=e.makeArray(e(this._parent).find(g.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'))).length&&(t=null),!(t&&(n=e(t).not(this._selector).data(i))&&n._isTransitioning))){var a=e.Event(c.SHOW);if(e(this._element).trigger(a),!a.isDefaultPrevented()){t&&(r._jQueryInterface.call(e(t).not(this._selector),"hide"),n||e(t).data(i,null));var l=this._getDimension();e(this._element).removeClass(u).addClass(d),this._element.style[l]=0,this._triggerArray.length>0&&e(this._triggerArray).removeClass(f).attr("aria-expanded",!0),this.setTransitioning(!0);var p="scroll"+(l[0].toUpperCase()+l.slice(1)),m=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,function(){e(o._element).removeClass(d).addClass(u).addClass(h),o._element.style[l]="",o.setTransitioning(!1),e(o._element).trigger(c.SHOWN)}).emulateTransitionEnd(m),this._element.style[l]=this._element[p]+"px"}}},v.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(h)){var i=e.Event(c.HIDE);if(e(this._element).trigger(i),!i.isDefaultPrevented()){var r=this._getDimension();if(this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",s.reflow(this._element),e(this._element).addClass(d).removeClass(u).removeClass(h),this._triggerArray.length>0)for(var n=0;n<this._triggerArray.length;n++){var o=this._triggerArray[n],a=s.getSelectorFromElement(o);if(null!==a)e(a).hasClass(h)||e(o).addClass(f).attr("aria-expanded",!1)}this.setTransitioning(!0);this._element.style[r]="";var l=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,function(){t.setTransitioning(!1),e(t._element).removeClass(d).addClass(u).trigger(c.HIDDEN)}).emulateTransitionEnd(l)}}},v.setTransitioning=function(e){this._isTransitioning=e},v.dispose=function(){e.removeData(this._element,i),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},v._getConfig=function(e){return(e=a({},o,e)).toggle=Boolean(e.toggle),s.typeCheckConfig(t,e,l),e},v._getDimension=function(){return e(this._element).hasClass(p)?p:m},v._getParent=function(){var t=this,i=null;s.isElement(this._config.parent)?(i=this._config.parent,void 0!==this._config.parent.jquery&&(i=this._config.parent[0])):i=e(this._config.parent)[0];var n='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return e(i).find(n).each(function(e,i){t._addAriaAndCollapsedClass(r._getTargetFromElement(i),[i])}),i},v._addAriaAndCollapsedClass=function(t,i){if(t){var r=e(t).hasClass(h);i.length>0&&e(i).toggleClass(f,!r).attr("aria-expanded",r)}},r._getTargetFromElement=function(t){var i=s.getSelectorFromElement(t);return i?e(i)[0]:null},r._jQueryInterface=function(t){return this.each(function(){var n=e(this),s=n.data(i),l=a({},o,n.data(),"object"==typeof t&&t?t:{});if(!s&&l.toggle&&/show|hide/.test(t)&&(l.toggle=!1),s||(s=new r(this,l),n.data(i,s)),"string"==typeof t){if(void 0===s[t])throw new TypeError('No method named "'+t+'"');s[t]()}})},n(r,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return o}}]),r}();return e(document).on(c.CLICK_DATA_API,g.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var r=e(this),n=s.getSelectorFromElement(this);e(n).each(function(){var t=e(this),n=t.data(i)?"toggle":r.data();v._jQueryInterface.call(t,n)})}),e.fn[t]=v._jQueryInterface,e.fn[t].Constructor=v,e.fn[t].noConflict=function(){return e.fn[t]=r,v._jQueryInterface},v}(t),d=function(e){var t="dropdown",r="bs.dropdown",o="."+r,l=e.fn[t],c=new RegExp("38|40|27"),h={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK:"click"+o,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},u="disabled",d="show",f="dropup",p="dropright",m="dropleft",g="dropdown-menu-right",v="position-static",y='[data-toggle="dropdown"]',b=".dropdown form",_=".dropdown-menu",x=".navbar-nav",w=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",S="top-start",C="top-end",T="bottom-start",A="bottom-end",M="right-start",E="left-start",D={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},F={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},I=function(){function l(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var b=l.prototype;return b.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(u)){var t=l._getParentFromElement(this._element),r=e(this._menu).hasClass(d);if(l._clearMenus(),!r){var n={relatedTarget:this._element},o=e.Event(h.SHOW,n);if(e(t).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===i)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var a=this._element;"parent"===this._config.reference?a=t:s.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(t).addClass(v),this._popper=new i(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(t).closest(x).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(d),e(t).toggleClass(d).trigger(e.Event(h.SHOWN,n))}}}},b.dispose=function(){e.removeData(this._element,r),e(this._element).off(o),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},b.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},b._addEventListeners=function(){var t=this;e(this._element).on(h.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},b._getConfig=function(i){return i=a({},this.constructor.Default,e(this._element).data(),i),s.typeCheckConfig(t,i,this.constructor.DefaultType),i},b._getMenuElement=function(){if(!this._menu){var t=l._getParentFromElement(this._element);this._menu=e(t).find(_)[0]}return this._menu},b._getPlacement=function(){var t=e(this._element).parent(),i=T;return t.hasClass(f)?(i=S,e(this._menu).hasClass(g)&&(i=C)):t.hasClass(p)?i=M:t.hasClass(m)?i=E:e(this._menu).hasClass(g)&&(i=A),i},b._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},b._getPopperConfig=function(){var e=this,t={};"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset;var i={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(i.modifiers.applyStyle={enabled:!1}),i},l._jQueryInterface=function(t){return this.each(function(){var i=e(this).data(r);if(i||(i=new l(this,"object"==typeof t?t:null),e(this).data(r,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},l._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var i=e.makeArray(e(y)),n=0;n<i.length;n++){var o=l._getParentFromElement(i[n]),a=e(i[n]).data(r),s={relatedTarget:i[n]};if(a){var c=a._menu;if(e(o).hasClass(d)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&e.contains(o,t.target))){var u=e.Event(h.HIDE,s);e(o).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[n].setAttribute("aria-expanded","false"),e(c).removeClass(d),e(o).removeClass(d).trigger(e.Event(h.HIDDEN,s)))}}}},l._getParentFromElement=function(t){var i,r=s.getSelectorFromElement(t);return r&&(i=e(r)[0]),i||t.parentNode},l._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||e(t.target).closest(_).length)):c.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!e(this).hasClass(u))){var i=l._getParentFromElement(this),r=e(i).hasClass(d);if((r||27===t.which&&32===t.which)&&(!r||27!==t.which&&32!==t.which)){var n=e(i).find(w).get();if(0!==n.length){var o=n.indexOf(t.target);38===t.which&&o>0&&o--,40===t.which&&o<n.length-1&&o++,o<0&&(o=0),n[o].focus()}}else{if(27===t.which){var a=e(i).find(y)[0];e(a).trigger("focus")}e(this).trigger("click")}}},n(l,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return D}},{key:"DefaultType",get:function(){return F}}]),l}();return e(document).on(h.KEYDOWN_DATA_API,y,I._dataApiKeydownHandler).on(h.KEYDOWN_DATA_API,_,I._dataApiKeydownHandler).on(h.CLICK_DATA_API+" "+h.KEYUP_DATA_API,I._clearMenus).on(h.CLICK_DATA_API,y,function(t){t.preventDefault(),t.stopPropagation(),I._jQueryInterface.call(e(this),"toggle")}).on(h.CLICK_DATA_API,b,function(e){e.stopPropagation()}),e.fn[t]=I._jQueryInterface,e.fn[t].Constructor=I,e.fn[t].noConflict=function(){return e.fn[t]=l,I._jQueryInterface},I}(t),f=function(e){var t="modal",i=".bs.modal",r=e.fn.modal,o={backdrop:!0,keyboard:!0,focus:!0,show:!0},l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},c={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},h="modal-scrollbar-measure",u="modal-backdrop",d="modal-open",f="fade",p="show",m={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},g=function(){function r(t,i){this._config=this._getConfig(i),this._element=t,this._dialog=e(t).find(m.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var g=r.prototype;return g.toggle=function(e){return this._isShown?this.hide():this.show(e)},g.show=function(t){var i=this;if(!this._isTransitioning&&!this._isShown){e(this._element).hasClass(f)&&(this._isTransitioning=!0);var r=e.Event(c.SHOW,{relatedTarget:t});e(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),e(document.body).addClass(d),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(c.CLICK_DISMISS,m.DATA_DISMISS,function(e){return i.hide(e)}),e(this._dialog).on(c.MOUSEDOWN_DISMISS,function(){e(i._element).one(c.MOUSEUP_DISMISS,function(t){e(t.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(t)}))}},g.hide=function(t){var i=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var r=e.Event(c.HIDE);if(e(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var n=e(this._element).hasClass(f);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(c.FOCUSIN),e(this._element).removeClass(p),e(this._element).off(c.CLICK_DISMISS),e(this._dialog).off(c.MOUSEDOWN_DISMISS),n){var o=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,function(e){return i._hideModal(e)}).emulateTransitionEnd(o)}else this._hideModal()}}},g.dispose=function(){e.removeData(this._element,"bs.modal"),e(window,document,this._element,this._backdrop).off(i),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},g.handleUpdate=function(){this._adjustDialog()},g._getConfig=function(e){return e=a({},o,e),s.typeCheckConfig(t,e,l),e},g._showElement=function(t){var i=this,r=e(this._element).hasClass(f);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,r&&s.reflow(this._element),e(this._element).addClass(p),this._config.focus&&this._enforceFocus();var n=e.Event(c.SHOWN,{relatedTarget:t}),o=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,e(i._element).trigger(n)};if(r){var a=s.getTransitionDurationFromElement(this._element);e(this._dialog).one(s.TRANSITION_END,o).emulateTransitionEnd(a)}else o()},g._enforceFocus=function(){var t=this;e(document).off(c.FOCUSIN).on(c.FOCUSIN,function(i){document!==i.target&&t._element!==i.target&&0===e(t._element).has(i.target).length&&t._element.focus()})},g._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(c.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(c.KEYDOWN_DISMISS)},g._setResizeEvent=function(){var t=this;this._isShown?e(window).on(c.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(c.RESIZE)},g._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(d),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(c.HIDDEN)})},g._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},g._showBackdrop=function(t){var i=this,r=e(this._element).hasClass(f)?f:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=u,r&&e(this._backdrop).addClass(r),e(this._backdrop).appendTo(document.body),e(this._element).on(c.CLICK_DISMISS,function(e){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),r&&s.reflow(this._backdrop),e(this._backdrop).addClass(p),!t)return;if(!r)return void t();var n=s.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(s.TRANSITION_END,t).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(p);var o=function(){i._removeBackdrop(),t&&t()};if(e(this._element).hasClass(f)){var a=s.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(s.TRANSITION_END,o).emulateTransitionEnd(a)}else o()}else t&&t()},g._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},g._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},g._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},g._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){e(m.FIXED_CONTENT).each(function(i,r){var n=e(r)[0].style.paddingRight,o=e(r).css("padding-right");e(r).data("padding-right",n).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")}),e(m.STICKY_CONTENT).each(function(i,r){var n=e(r)[0].style.marginRight,o=e(r).css("margin-right");e(r).data("margin-right",n).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")}),e(m.NAVBAR_TOGGLER).each(function(i,r){var n=e(r)[0].style.marginRight,o=e(r).css("margin-right");e(r).data("margin-right",n).css("margin-right",parseFloat(o)+t._scrollbarWidth+"px")});var i=document.body.style.paddingRight,r=e(document.body).css("padding-right");e(document.body).data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}},g._resetScrollbar=function(){e(m.FIXED_CONTENT).each(function(t,i){var r=e(i).data("padding-right");void 0!==r&&e(i).css("padding-right",r).removeData("padding-right")}),e(m.STICKY_CONTENT+", "+m.NAVBAR_TOGGLER).each(function(t,i){var r=e(i).data("margin-right");void 0!==r&&e(i).css("margin-right",r).removeData("margin-right")});var t=e(document.body).data("padding-right");void 0!==t&&e(document.body).css("padding-right",t).removeData("padding-right")},g._getScrollbarWidth=function(){var e=document.createElement("div");e.className=h,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},r._jQueryInterface=function(t,i){return this.each(function(){var n=e(this).data("bs.modal"),s=a({},o,e(this).data(),"object"==typeof t&&t?t:{});if(n||(n=new r(this,s),e(this).data("bs.modal",n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t](i)}else s.show&&n.show(i)})},n(r,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return o}}]),r}();return e(document).on(c.CLICK_DATA_API,m.DATA_TOGGLE,function(t){var i,r=this,n=s.getSelectorFromElement(this);n&&(i=e(n)[0]);var o=e(i).data("bs.modal")?"toggle":a({},e(i).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var l=e(i).one(c.SHOW,function(t){t.isDefaultPrevented()||l.one(c.HIDDEN,function(){e(r).is(":visible")&&r.focus()})});g._jQueryInterface.call(e(i),o,this)}),e.fn.modal=g._jQueryInterface,e.fn.modal.Constructor=g,e.fn.modal.noConflict=function(){return e.fn.modal=r,g._jQueryInterface},g}(t),p=function(e){var t="tooltip",r=".bs.tooltip",o=e.fn[t],l=new RegExp("(^|\\s)bs-tooltip\\S+","g"),c={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},h={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},u={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},d="show",f="out",p={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,INSERTED:"inserted"+r,CLICK:"click"+r,FOCUSIN:"focusin"+r,FOCUSOUT:"focusout"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r},m="fade",g="show",v=".tooltip-inner",y=".arrow",b="hover",_="focus",x="click",w="manual",S=function(){function o(e,t){if(void 0===i)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var S=o.prototype;return S.enable=function(){this._isEnabled=!0},S.disable=function(){this._isEnabled=!1},S.toggleEnabled=function(){this._isEnabled=!this._isEnabled},S.toggle=function(t){if(this._isEnabled)if(t){var i=this.constructor.DATA_KEY,r=e(t.currentTarget).data(i);r||(r=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(e(this.getTipElement()).hasClass(g))return void this._leave(null,this);this._enter(null,this)}},S.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},S.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var r=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(r);var n=e.contains(this.element.ownerDocument.documentElement,this.element);if(r.isDefaultPrevented()||!n)return;var o=this.getTipElement(),a=s.getUID(this.constructor.NAME);o.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(o).addClass(m);var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var h=!1===this.config.container?document.body:e(this.config.container);e(o).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(o).appendTo(h),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new i(this.element,o,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:y},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),e(o).addClass(g),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var u=function(){t.config.animation&&t._fixTransition();var i=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),i===f&&t._leave(null,t)};if(e(this.tip).hasClass(m)){var d=s.getTransitionDurationFromElement(this.tip);e(this.tip).one(s.TRANSITION_END,u).emulateTransitionEnd(d)}else u()}},S.hide=function(t){var i=this,r=this.getTipElement(),n=e.Event(this.constructor.Event.HIDE),o=function(){i._hoverState!==d&&r.parentNode&&r.parentNode.removeChild(r),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),e(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()};if(e(this.element).trigger(n),!n.isDefaultPrevented()){if(e(r).removeClass(g),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[x]=!1,this._activeTrigger[_]=!1,this._activeTrigger[b]=!1,e(this.tip).hasClass(m)){var a=s.getTransitionDurationFromElement(r);e(r).one(s.TRANSITION_END,o).emulateTransitionEnd(a)}else o();this._hoverState=""}},S.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},S.isWithContent=function(){return Boolean(this.getTitle())},S.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},S.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},S.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(v),this.getTitle()),t.removeClass(m+" "+g)},S.setElementContent=function(t,i){var r=this.config.html;"object"==typeof i&&(i.nodeType||i.jquery)?r?e(i).parent().is(t)||t.empty().append(i):t.text(e(i).text()):t[r?"html":"text"](i)},S.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},S._getAttachment=function(e){return h[e.toUpperCase()]},S._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(i){if("click"===i)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(i!==w){var r=i===b?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,n=i===b?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(r,t.config.selector,function(e){return t._enter(e)}).on(n,t.config.selector,function(e){return t._leave(e)})}e(t.element).closest(".modal").on("hide.bs.modal",function(){return t.hide()})}),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},S._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},S._enter=function(t,i){var r=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(r))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(r,i)),t&&(i._activeTrigger["focusin"===t.type?_:b]=!0),e(i.getTipElement()).hasClass(g)||i._hoverState===d?i._hoverState=d:(clearTimeout(i._timeout),i._hoverState=d,i.config.delay&&i.config.delay.show?i._timeout=setTimeout(function(){i._hoverState===d&&i.show()},i.config.delay.show):i.show())},S._leave=function(t,i){var r=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(r))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(r,i)),t&&(i._activeTrigger["focusout"===t.type?_:b]=!1),i._isWithActiveTrigger()||(clearTimeout(i._timeout),i._hoverState=f,i.config.delay&&i.config.delay.hide?i._timeout=setTimeout(function(){i._hoverState===f&&i.hide()},i.config.delay.hide):i.hide())},S._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},S._getConfig=function(i){return"number"==typeof(i=a({},this.constructor.Default,e(this.element).data(),"object"==typeof i&&i?i:{})).delay&&(i.delay={show:i.delay,hide:i.delay}),"number"==typeof i.title&&(i.title=i.title.toString()),"number"==typeof i.content&&(i.content=i.content.toString()),s.typeCheckConfig(t,i,this.constructor.DefaultType),i},S._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},S._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(l);null!==i&&i.length>0&&t.removeClass(i.join(""))},S._handlePopperPlacementChange=function(e){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},S._fixTransition=function(){var t=this.getTipElement(),i=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(m),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},o._jQueryInterface=function(t){return this.each(function(){var i=e(this).data("bs.tooltip"),r="object"==typeof t&&t;if((i||!/dispose|hide/.test(t))&&(i||(i=new o(this,r),e(this).data("bs.tooltip",i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},n(o,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return u}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return r}},{key:"DefaultType",get:function(){return c}}]),o}();return e.fn[t]=S._jQueryInterface,e.fn[t].Constructor=S,e.fn[t].noConflict=function(){return e.fn[t]=o,S._jQueryInterface},S}(t),m=function(e){var t="popover",i=".bs.popover",r=e.fn[t],o=new RegExp("(^|\\s)bs-popover\\S+","g"),s=a({},p.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),l=a({},p.DefaultType,{content:"(string|element|function)"}),c="fade",h="show",u=".popover-header",d=".popover-body",f={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},m=function(r){var a,p;function m(){return r.apply(this,arguments)||this}p=r,(a=m).prototype=Object.create(p.prototype),a.prototype.constructor=a,a.__proto__=p;var g=m.prototype;return g.isWithContent=function(){return this.getTitle()||this._getContent()},g.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},g.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},g.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(u),this.getTitle());var i=this._getContent();"function"==typeof i&&(i=i.call(this.element)),this.setElementContent(t.find(d),i),t.removeClass(c+" "+h)},g._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},g._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(o);null!==i&&i.length>0&&t.removeClass(i.join(""))},m._jQueryInterface=function(t){return this.each(function(){var i=e(this).data("bs.popover"),r="object"==typeof t?t:null;if((i||!/destroy|hide/.test(t))&&(i||(i=new m(this,r),e(this).data("bs.popover",i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},n(m,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return s}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return l}}]),m}(p);return e.fn[t]=m._jQueryInterface,e.fn[t].Constructor=m,e.fn[t].noConflict=function(){return e.fn[t]=r,m._jQueryInterface},m}(t),g=function(e){var t="scrollspy",i=e.fn[t],r={offset:10,method:"auto",target:""},o={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},c="dropdown-item",h="active",u={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},d="offset",f="position",p=function(){function i(t,i){var r=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(i),this._selector=this._config.target+" "+u.NAV_LINKS+","+this._config.target+" "+u.LIST_ITEMS+","+this._config.target+" "+u.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(l.SCROLL,function(e){return r._process(e)}),this.refresh(),this._process()}var p=i.prototype;return p.refresh=function(){var t=this,i=this._scrollElement===this._scrollElement.window?d:f,r="auto"===this._config.method?i:this._config.method,n=r===f?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),e.makeArray(e(this._selector)).map(function(t){var i,o=s.getSelectorFromElement(t);if(o&&(i=e(o)[0]),i){var a=i.getBoundingClientRect();if(a.width||a.height)return[e(i)[r]().top+n,o]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},p.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},p._getConfig=function(i){if("string"!=typeof(i=a({},r,"object"==typeof i&&i?i:{})).target){var n=e(i.target).attr("id");n||(n=s.getUID(t),e(i.target).attr("id",n)),i.target="#"+n}return s.typeCheckConfig(t,i,o),i},p._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},p._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},p._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},p._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=i){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var n=this._offsets.length;n--;){this._activeTarget!==this._targets[n]&&e>=this._offsets[n]&&(void 0===this._offsets[n+1]||e<this._offsets[n+1])&&this._activate(this._targets[n])}}},p._activate=function(t){this._activeTarget=t,this._clear();var i=this._selector.split(",");i=i.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var r=e(i.join(","));r.hasClass(c)?(r.closest(u.DROPDOWN).find(u.DROPDOWN_TOGGLE).addClass(h),r.addClass(h)):(r.addClass(h),r.parents(u.NAV_LIST_GROUP).prev(u.NAV_LINKS+", "+u.LIST_ITEMS).addClass(h),r.parents(u.NAV_LIST_GROUP).prev(u.NAV_ITEMS).children(u.NAV_LINKS).addClass(h)),e(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:t})},p._clear=function(){e(this._selector).filter(u.ACTIVE).removeClass(h)},i._jQueryInterface=function(t){return this.each(function(){var r=e(this).data("bs.scrollspy");if(r||(r=new i(this,"object"==typeof t&&t),e(this).data("bs.scrollspy",r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}})},n(i,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return r}}]),i}();return e(window).on(l.LOAD_DATA_API,function(){for(var t=e.makeArray(e(u.DATA_SPY)),i=t.length;i--;){var r=e(t[i]);p._jQueryInterface.call(r,r.data())}}),e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=i,p._jQueryInterface},p}(t),v=function(e){var t=e.fn.tab,i={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},r="dropdown-menu",o="active",a="disabled",l="fade",c="show",h=".dropdown",u=".nav, .list-group",d=".active",f="> li > .active",p='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',m=".dropdown-toggle",g="> .dropdown-menu .active",v=function(){function t(e){this._element=e}var p=t.prototype;return p.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(o)||e(this._element).hasClass(a))){var r,n,l=e(this._element).closest(u)[0],c=s.getSelectorFromElement(this._element);if(l){var h="UL"===l.nodeName?f:d;n=(n=e.makeArray(e(l).find(h)))[n.length-1]}var p=e.Event(i.HIDE,{relatedTarget:this._element}),m=e.Event(i.SHOW,{relatedTarget:n});if(n&&e(n).trigger(p),e(this._element).trigger(m),!m.isDefaultPrevented()&&!p.isDefaultPrevented()){c&&(r=e(c)[0]),this._activate(this._element,l);var g=function(){var r=e.Event(i.HIDDEN,{relatedTarget:t._element}),o=e.Event(i.SHOWN,{relatedTarget:n});e(n).trigger(r),e(t._element).trigger(o)};r?this._activate(r,r.parentNode,g):g()}}},p.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},p._activate=function(t,i,r){var n=this,o=("UL"===i.nodeName?e(i).find(f):e(i).children(d))[0],a=r&&o&&e(o).hasClass(l),c=function(){return n._transitionComplete(t,o,r)};if(o&&a){var h=s.getTransitionDurationFromElement(o);e(o).one(s.TRANSITION_END,c).emulateTransitionEnd(h)}else c()},p._transitionComplete=function(t,i,n){if(i){e(i).removeClass(c+" "+o);var a=e(i.parentNode).find(g)[0];a&&e(a).removeClass(o),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}if(e(t).addClass(o),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),s.reflow(t),e(t).addClass(c),t.parentNode&&e(t.parentNode).hasClass(r)){var l=e(t).closest(h)[0];l&&e(l).find(m).addClass(o),t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(i){return this.each(function(){var r=e(this),n=r.data("bs.tab");if(n||(n=new t(this),r.data("bs.tab",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}})},n(t,null,[{key:"VERSION",get:function(){return"4.1.1"}}]),t}();return e(document).on(i.CLICK_DATA_API,p,function(t){t.preventDefault(),v._jQueryInterface.call(e(this),"show")}),e.fn.tab=v._jQueryInterface,e.fn.tab.Constructor=v,e.fn.tab.noConflict=function(){return e.fn.tab=t,v._jQueryInterface},v}(t);!function(e){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(t),e.Util=s,e.Alert=l,e.Button=c,e.Carousel=h,e.Collapse=u,e.Dropdown=d,e.Modal=f,e.Popover=m,e.Scrollspy=g,e.Tab=v,e.Tooltip=p,Object.defineProperty(e,"__esModule",{value:!0})})(t,i(0),i(120))},function(e,t,i){var r,n,o,a;a=function(e){return e.effects.define("highlight","show",function(t,i){var r=e(this),n={backgroundColor:r.css("backgroundColor")};"hide"===t.mode&&(n.opacity=0),e.effects.saveStyle(r),r.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:i})})},n=[i(0),i(1),i(26)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},function(e,t,i){var r,n,o,a;a=function(e){return e.effects.define("fade","toggle",function(t,i){var r="show"===t.mode;e(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})})},n=[i(0),i(1),i(26)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},function(e,t,i){var r,n,o,a;a=function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,r=this.options,n=this.element.find(".ui-slider-handle"),o=[];for(i=r.values&&r.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;t<i;t++)o.push("<span tabindex='0'></span>");this.handles=n.add(e(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,r,n,o,a,s,l,c=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(r-c.values(t));(n>i||n===i&&(t===c._lastChangedValue||c.values(t)===h.min))&&(n=i,o=e(this),a=t)}),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),s=o.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-o.width()/2,top:t.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,r,n,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=i/t)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),n=this._valueMax()-this._valueMin(),o=this._valueMin()+r*n,this._trimAlignValue(o)},_uiHash:function(e,t,i){var r={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(e),r.values=i||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,i){var r,n=this.value(),o=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),n=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(r,i):Math.max(r,i)),o[t]=i),i!==n&&!1!==this._trigger("slide",e,this._uiHash(t,i,o))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var r,n,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(r=this.options.values,n=arguments[0],o=0;o<r.length;o+=1)r[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,i){var r,n=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),this._super(t,i),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=n-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(i=this.options.values.slice(),r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(i[r]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,r=e-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;(e=Math.round((e-t)/i)*i+t)>this.options.max&&(e-=i),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,i,r,n,o,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,h={};this._hasMultipleValues()?this.handles.each(function(r){i=(l.values(r)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](h,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===r&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},s.animate),1===r&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:s.animate})):(0===r&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},s.animate),1===r&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:s.animate}))),t=i}):(r=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(r-n)/(o-n)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](h,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-i+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-i+"%"},s.animate))},_handleEvents:{keydown:function(t){var i,r,n,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,o)))return}switch(n=this.options.step,i=r=this._hasMultipleValues()?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+n);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-n)}this._slide(t,o,r)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(e(t.target),null,"ui-state-active"))}}})},n=[i(0),i(27),i(15),i(1),i(5)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},,function(e,t,i){var r,n,o,a;a=function(e){var t;return e.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(t=/#.*$/,function(e){var i,r;i=e.href.replace(t,""),r=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(e){}try{r=decodeURIComponent(r)}catch(e){}return e.hash.length>1&&i===r}),_create:function(){var t=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(i,n){if(e(n).attr("aria-controls")===r)return t=i,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!i&&0),!i&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(e.ui.safeActiveElement(this.document[0])).closest("li"),r=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r!==this.options.active&&r);default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){var r=this.tabs.length-1;for(;-1!==e.inArray((t>r&&(t=0),t<0&&(t=r),t),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,r=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=e(),this.anchors.each(function(i,r){var n,o,a,s=e(r).uniqueId().attr("id"),l=e(r).closest("li"),c=l.attr("aria-controls");t._isLocal(r)?(a=(n=r.hash).substring(1),o=t.element.find(t._sanitizeSelector(n))):(n="#"+(a=l.attr("aria-controls")||e({}).uniqueId()[0].id),(o=t.element.find(n)).length||(o=t._createPanel(a)).insertAfter(t.panels[i-1]||t.tablist),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(r.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var i,r,n;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),n=0;r=this.tabs[n];n++)i=e(r),!0===t||-1!==e.inArray(n,t)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,r=this.active,n=e(t.currentTarget).closest("li"),o=n[0]===r[0],a=o&&i.collapsible,s=a?e():this._getPanelForTab(n),l=r.length?this._getPanelForTab(r):e(),c={oldTab:r,oldPanel:l,newTab:a?e():n,newPanel:s};t.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",t,c)||(i.active=!a&&this.tabs.index(n),this.active=o?e():n,this.xhr&&this.xhr.abort(),l.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(n),t),this._toggle(t,c))},_toggle:function(t,i){var r=this,n=i.newPanel,o=i.oldPanel;function a(){r.running=!1,r._trigger("activate",t,i)}function s(){r._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),n.length&&r.options.show?r._show(n,r.options.show,a):(n.show(),a())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){r._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),s()),o.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&o.length?i.oldTab.attr("tabIndex",-1):n.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),i=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;!1!==i&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setOptionDisabled(i))},disable:function(t){var i=this.options.disabled;if(!0!==i){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setOptionDisabled(i)}},load:function(t,i){t=this._getIndex(t);var r=this,n=this.tabs.eq(t),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),s={tab:n,panel:a},l=function(e,t){"abort"===t&&r.panels.stop(!1,!0),r._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,i,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){a.html(e),r._trigger("load",i,s),l(n,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,i,r){var n=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,o){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:o},r))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),e.ui.tabs},n=[i(0),i(41),i(15),i(42),i(40),i(1),i(5)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}r.prototype=i(132),r.prototype.loadAsync=i(176),r.support=i(12),r.defaults=i(78),r.version="3.1.5",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=i(25),e.exports=r},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){e.exports=i(135)},function(e,t,i){"use strict";(function(t,r){var n=i(33);e.exports=b;var o,a=i(65);b.ReadableState=y;i(47).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=i(68),c=i(34).Buffer,h=t.Uint8Array||function(){};var u=i(24);u.inherits=i(18);var d=i(136),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=i(137),g=i(69);u.inherits(b,l);var v=["error","close","destroy","pause","resume"];function y(e,t){o=o||i(14),e=e||{};var r=t instanceof o;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=i(70).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||i(14),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,i,r,n){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,C(e)}(e,a)):(n||(o=function(e,t){var i;r=t,c.isBuffer(r)||r instanceof h||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk"));var r;return i}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):A(e,a)):x(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function x(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&C(e)),A(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),i=!0),_(this,e,t,!1,i)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=i(70).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var w=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(T,e):T(e))}function T(e){f("emit readable"),e.emit("readable"),F(e)}function A(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(M,e,t))}function M(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function E(e){f("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():i?function(e,t){var i=t.head,r=1,n=i.data;e-=n.length;for(;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(a===o.length?n+=o:n+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}(e,t):function(e,t){var i=c.allocUnsafe(e),r=t.head,n=1;r.data.copy(i),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,a),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t);return r}(e,t.buffer,t.decoder),i);var i}function k(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?k(this):C(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&k(this),null;var r,n=t.needReadable;return f("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",n=!0),t.ended||t.reading?f("reading or ended",n=!1):n&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(i,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&k(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,t);var l=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?h:b;function c(t,r){f("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",u),e.removeListener("error",g),e.removeListener("unpipe",c),i.removeListener("end",h),i.removeListener("end",b),i.removeListener("data",m),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function h(){f("onend"),e.end()}o.endEmitted?n.nextTick(l):i.once("end",l),e.on("unpipe",c);var u=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,F(e))}}(i);e.on("drain",u);var d=!1;var p=!1;function m(t){f("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!d&&(f("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){f("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){f("onfinish"),e.removeListener("close",v),b()}function b(){f("unpipe"),i.unpipe(e)}return i.on("data",m),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",i),o.flowing||(f("pipe resume"),i.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)r[o].emit("unpipe",this,i);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},b.prototype.on=function(e,t){var i=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&C(this):n.nextTick(E,this))}return i},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(D,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var n in e.on("end",function(){if(f("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){(f("wrapped data"),i.decoder&&(n=i.decoder.write(n)),!i.objectMode||null!==n&&void 0!==n)&&((i.objectMode||n&&n.length)&&(t.push(n)||(r=!0,e.pause())))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(t,i(8),i(20))},function(e,t,i){e.exports=i(47).EventEmitter},function(e,t,i){"use strict";var r=i(33);function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(n,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(n,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,i){"use strict";var r=i(34).Buffer,n=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=h,this.end=u,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function h(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var i=function(e,t,i){var r=t.length-1;if(r<i)return 0;var n=a(t[r]);if(n>=0)return n>0&&(e.lastNeed=n-1),n;if(--r<i||-2===n)return 0;if((n=a(t[r]))>=0)return n>0&&(e.lastNeed=n-2),n;if(--r<i||-2===n)return 0;if((n=a(t[r]))>=0)return n>0&&(2===n?n=0:e.lastNeed=n-3),n;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var r=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,i){"use strict";e.exports=o;var r=i(14),n=i(24);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,i){s(e,t,i)}):s(this,null,null)}function s(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}n.inherits=i(18),n.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var i=this;r.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},function(e,t,i){"use strict";var r=i(2),n=i(12),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,i,n,a,s,l,c,h=[],u=0,d=e.length,f=d,p="string"!==r.getTypeOf(e);u<e.length;)f=d-u,p?(t=e[u++],i=u<d?e[u++]:0,n=u<d?e[u++]:0):(t=e.charCodeAt(u++),i=u<d?e.charCodeAt(u++):0,n=u<d?e.charCodeAt(u++):0),a=t>>2,s=(3&t)<<4|i>>4,l=f>1?(15&i)<<2|n>>6:64,c=f>2?63&n:64,h.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c));return h.join("")},t.decode=function(e){var t,i,r,a,s,l,c=0,h=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,d=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&d--,e.charAt(e.length-2)===o.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=n.uint8array?new Uint8Array(0|d):new Array(0|d);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(a=o.indexOf(e.charAt(c++)))>>4,i=(15&a)<<4|(s=o.indexOf(e.charAt(c++)))>>2,r=(3&s)<<6|(l=o.indexOf(e.charAt(c++))),u[h++]=t,64!==s&&(u[h++]=i),64!==l&&(u[h++]=r);return u}},function(e,t){var i=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=i)},function(e,t,i){var r=i(148);e.exports=function(e,t,i){if(r(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,n){return e.call(t,i,r,n)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){var r=i(50),n=i(36).document,o=r(n)&&r(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},function(e,t,i){"use strict";(function(t){var r=i(2),n=i(161),o=i(6),a=i(72),s=i(12),l=i(25),c=null;if(s.nodestream)try{c=i(162)}catch(e){}function h(e,i){return new l.Promise(function(n,o){var s=[],l=e._internalType,c=e._outputType,h=e._mimeType;e.on("data",function(e,t){s.push(e),i&&i(t)}).on("error",function(e){s=[],o(e)}).on("end",function(){try{var e=function(e,t,i){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),i);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(c,function(e,i){var r,n=0,o=null,a=0;for(r=0;r<i.length;r++)a+=i[r].length;switch(e){case"string":return i.join("");case"array":return Array.prototype.concat.apply([],i);case"uint8array":for(o=new Uint8Array(a),r=0;r<i.length;r++)o.set(i[r],n),n+=i[r].length;return o;case"nodebuffer":return t.concat(i);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,s),h);n(e)}catch(e){o(e)}s=[]}).resume()})}function u(e,t,i){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=i,r.checkSupport(a),this._worker=e.pipe(new n(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return h(this,e)},on:function(e,t){var i=this;return"data"===e?this._worker.on(e,function(e){t.call(i,e.data,e.meta)}):this._worker.on(e,function(){r.delay(t,arguments,i)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=u}).call(t,i(23).Buffer)},function(e,t,i){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,i){"use strict";var r=i(2),n=i(6);function o(e){n.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(o,n),o.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},function(e,t,i){"use strict";var r=i(2),n=i(6);function o(e){n.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,n),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}n.prototype.processChunk.call(this,e)},e.exports=o},function(e,t,i){"use strict";var r=i(6),n=i(53);function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i(2).inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=n(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=o},function(e,t,i){"use strict";var r=i(6);t.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=i(165)},function(e,t,i){"use strict";var r={};(0,i(13).assign)(r,i(166),i(169),i(88)),e.exports=r},function(e,t,i){"use strict";e.exports=function(e,t,i,r){for(var n=65535&e|0,o=e>>>16&65535|0,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{o=o+(n=n+t[r++]|0)|0}while(--a);n%=65521,o%=65521}return n|o<<16|0}},function(e,t,i){"use strict";var r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,t,i,n){var o=r,a=n+i;e^=-1;for(var s=n;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,i){"use strict";var r=i(13),n=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&n))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}a[254]=a[254]=1,t.string2buf=function(e){var t,i,n,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),i=0,n=t.length;i<n;i++)t[i]=e.charCodeAt(i);return t},t.buf2string=function(e,t){var i,r,n,o,s=t||e.length,c=new Array(2*s);for(r=0,i=0;i<s;)if((n=e[i++])<128)c[r++]=n;else if((o=a[n])>4)c[r++]=65533,i+=o-1;else{for(n&=2===o?31:3===o?15:7;o>1&&i<s;)n=n<<6|63&e[i++],o--;o>1?c[r++]=65533:n<65536?c[r++]=n:(n-=65536,c[r++]=55296|n>>10&1023,c[r++]=56320|1023&n)}return l(c,r)},t.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+a[e[i]]>t?i:t}},function(e,t,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,i){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,i){"use strict";var r=i(2),n=i(12),o=i(91),a=i(178),s=i(179),l=i(93);e.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||n.uint8array?"nodebuffer"===t?new s(e):n.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},function(e,t,i){"use strict";var r=i(92);function n(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}i(2).inherits(n,r),n.prototype.byteAt=function(e){return this.data[this.zero+e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),r=e.charCodeAt(2),n=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===i&&this.data[o+2]===r&&this.data[o+3]===n)return o-this.zero;return-1},n.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),r=e.charCodeAt(2),n=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&i===o[1]&&r===o[2]&&n===o[3]},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},function(e,t,i){"use strict";var r=i(2);function n(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=n},function(e,t,i){"use strict";var r=i(91);function n(e){r.call(this,e)}i(2).inherits(n,r),n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable,o=0,a=function(t,i){if(!n.versionCheck||!n.versionCheck("1.10.8"))throw"Warning: AutoFill requires DataTables 1.10.8 or greater";this.c=e.extend(!0,{},n.defaults.autoFill,a.defaults,i),this.s={dt:new n.Api(t),namespace:".autoFill"+o++,scroll:{},scrollInterval:null,handle:{height:0,width:0},enabled:!1},this.dom={handle:e('<div class="dt-autofill-handle"/>'),select:{top:e('<div class="dt-autofill-select top"/>'),right:e('<div class="dt-autofill-select right"/>'),bottom:e('<div class="dt-autofill-select bottom"/>'),left:e('<div class="dt-autofill-select left"/>')},background:e('<div class="dt-autofill-background"/>'),list:e('<div class="dt-autofill-list">'+this.s.dt.i18n("autoFill.info","")+"<ul/></div>"),dtScroll:null,offsetParent:null},this._constructor()};e.extend(a.prototype,{enabled:function(){return this.s.enabled},enable:function(e){var t=this;return!1===e?this.disable():(this.s.enabled=!0,this._focusListener(),this.dom.handle.on("mousedown",function(e){return t._mousedown(e),!1}),this)},disable:function(){return this.s.enabled=!1,this._focusListenerRemove(),this},_constructor:function(){var t=this,i=this.s.dt,r=e("div.dataTables_scrollBody",this.s.dt.table().container());i.settings()[0].autoFill=this,r.length&&(this.dom.dtScroll=r,"static"===r.css("position")&&r.css("position","relative")),!1!==this.c.enable&&this.enable(),i.on("destroy.autoFill",function(){t._focusListenerRemove()})},_attach:function(t){var i=this.s.dt,r=i.cell(t).index(),n=this.dom.handle,o=this.s.handle;if(r&&-1!==i.columns(this.c.columns).indexes().indexOf(r.column)){this.dom.offsetParent||(this.dom.offsetParent=e(i.table().node()).offsetParent()),o.height&&o.width||(n.appendTo("body"),o.height=n.outerHeight(),o.width=n.outerWidth());var a=this._getPosition(t,this.dom.offsetParent);this.dom.attachedTo=t,n.css({top:a.top+t.offsetHeight-o.height,left:a.left+t.offsetWidth-o.width}).appendTo(this.dom.offsetParent)}else this._detach()},_actionSelector:function(t){var i=this,r=this.s.dt,n=a.actions,o=[];if(e.each(n,function(e,i){i.available(r,t)&&o.push(e)}),1===o.length&&!1===this.c.alwaysAsk){var s=n[o[0]].execute(r,t);this._update(s,t)}else{var l=this.dom.list.children("ul").empty();o.push("cancel"),e.each(o,function(o,s){l.append(e("<li/>").append('<div class="dt-autofill-question">'+n[s].option(r,t)+"<div>").append(e('<div class="dt-autofill-button">').append(e('<button class="'+a.classes.btn+'">'+r.i18n("autoFill.button","&gt;")+"</button>").on("click",function(){var o=n[s].execute(r,t,e(this).closest("li"));i._update(o,t),i.dom.background.remove(),i.dom.list.remove()}))))}),this.dom.background.appendTo("body"),this.dom.list.appendTo("body"),this.dom.list.css("margin-top",this.dom.list.outerHeight()/2*-1)}},_detach:function(){this.dom.attachedTo=null,this.dom.handle.detach()},_drawSelection:function(t,i){var r=this.s.dt,n=this.s.start,o=e(this.dom.start),a={row:this.c.vertical?r.rows({page:"current"}).nodes().indexOf(t.parentNode):n.row,column:this.c.horizontal?e(t).index():n.column},s=r.column.index("toData",a.column),l=e(r.cell(":eq("+a.row+")",s).node());if(r.cell(l).any()&&-1!==r.columns(this.c.columns).indexes().indexOf(s)){var c,h,u,d,f,p;this.s.end=a,c=n.row<a.row?o:l,h=n.row<a.row?l:o,u=n.column<a.column?o:l,d=n.column<a.column?l:o,c=this._getPosition(c).top,u=this._getPosition(u).left,f=this._getPosition(h).top+h.outerHeight()-c,p=this._getPosition(d).left+d.outerWidth()-u;var m=this.dom.select;m.top.css({top:c,left:u,width:p}),m.left.css({top:c,left:u,height:f}),m.bottom.css({top:c+f,left:u,width:p}),m.right.css({top:c,left:u+p,height:f})}},_editor:function(e){var t=this.s.dt,i=this.c.editor;if(i){for(var n={},o=[],a=i.fields(),s=0,l=e.length;s<l;s++)for(var c=0,h=e[s].length;c<h;c++){var u=e[s][c],d=t.settings()[0].aoColumns[u.index.column],f=d.editField;if(f===r)for(var p=d.mData,m=0,g=a.length;m<g;m++){var v=i.field(a[m]);if(v.dataSrc()===p){f=v.name();break}}if(!f)throw"Could not automatically determine field data. Please see https://datatables.net/tn/11";n[f]||(n[f]={});var y=t.row(u.index.row).id();n[f][y]=u.set,o.push(u.index)}i.bubble(o,!1).multiSet(n).submit()}},_emitEvent:function(t,i){this.s.dt.iterator("table",function(r,n){e(r.nTable).triggerHandler(t+".dt",i)})},_focusListener:function(){var t=this,r=this.s.dt,n=this.s.namespace,o=null!==this.c.focus?this.c.focus:r.init().keys||r.settings()[0].keytable?"focus":"hover";"focus"===o?r.on("key-focus.autoFill",function(e,i,r){t._attach(r.node())}).on("key-blur.autoFill",function(e,i,r){t._detach()}):"click"===o?(e(r.table().body()).on("click"+n,"td, th",function(e){t._attach(this)}),e(i.body).on("click"+n,function(i){e(i.target).parents().filter(r.table().body()).length||t._detach()})):e(r.table().body()).on("mouseenter"+n,"td, th",function(e){t._attach(this)}).on("mouseleave"+n,function(i){e(i.relatedTarget).hasClass("dt-autofill-handle")||t._detach()})},_focusListenerRemove:function(){var t=this.s.dt;t.off(".autoFill"),e(t.table().body()).off(this.s.namespace),e(i.body).off(this.s.namespace)},_getPosition:function(t,i){var r,n,o=e(t),a=0,s=0;i||(i=e(e(this.s.dt.table().node())[0].offsetParent));do{if(n=o.position(),r=e(o[0].offsetParent),a+=n.top+r.scrollTop(),s+=n.left+r.scrollLeft(),a+=1*parseInt(r.css("margin-top")),a+=1*parseInt(r.css("border-top-width")),"body"===o.get(0).nodeName.toLowerCase())break;o=r}while(r.get(0)!==i.get(0));return{top:a,left:s}},_mousedown:function(r){var n=this,o=this.s.dt;this.dom.start=this.dom.attachedTo,this.s.start={row:o.rows({page:"current"}).nodes().indexOf(e(this.dom.start).parent()[0]),column:e(this.dom.start).index()},e(i.body).on("mousemove.autoFill",function(e){n._mousemove(e)}).on("mouseup.autoFill",function(e){n._mouseup(e)});var a=this.dom.select,s=e(o.table().node()).offsetParent();a.top.appendTo(s),a.left.appendTo(s),a.right.appendTo(s),a.bottom.appendTo(s),this._drawSelection(this.dom.start,r),this.dom.handle.css("display","none");var l=this.dom.dtScroll;this.s.scroll={windowHeight:e(t).height(),windowWidth:e(t).width(),dtTop:l?l.offset().top:null,dtLeft:l?l.offset().left:null,dtHeight:l?l.outerHeight():null,dtWidth:l?l.outerWidth():null}},_mousemove:function(e){this.s.dt;var t=e.target.nodeName.toLowerCase();"td"!==t&&"th"!==t||(this._drawSelection(e.target,e),this._shiftScroll(e))},_mouseup:function(t){e(i.body).off(".autoFill");var n=this,o=this.s.dt,a=this.dom.select;a.top.remove(),a.left.remove(),a.right.remove(),a.bottom.remove(),this.dom.handle.css("display","block");var s=this.s.start,l=this.s.end;if(s.row!==l.row||s.column!==l.column){var c=o.cell(":eq("+s.row+")",s.column+":visible",{page:"current"});if(e("div.DTE",c.node()).length){var h=o.editor();return h.on("submitSuccess.kt",function(){h.off(".kt"),n._mouseup(t)}).on("submitComplete.kt preSubmitCancelled.kt",function(){h.off(".kt")}),void h.submit()}for(var u=this._range(s.row,l.row),d=this._range(s.column,l.column),f=[],p=o.settings()[0],m=p.aoColumns,g=0;g<u.length;g++)f.push(e.map(d,function(e){var t=o.cell(":eq("+u[g]+")",e+":visible",{page:"current"}),i=t.data(),n=t.index(),a=m[n.column].editField;return a!==r&&(i=p.oApi._fnGetObjectDataFn(a)(o.row(n.row).data())),{cell:t,data:i,label:t.data(),index:n}}));this._actionSelector(f),clearInterval(this.s.scrollInterval),this.s.scrollInterval=null}},_range:function(e,t){var i,r=[];if(e<=t)for(i=e;i<=t;i++)r.push(i);else for(i=e;i>=t;i--)r.push(i);return r},_shiftScroll:function(e){var t,r,n,o,a=this,s=(this.s.dt,this.s.scroll),l=!1,c=e.pageY-i.body.scrollTop,h=e.pageX-i.body.scrollLeft;c<65?t=-5:c>s.windowHeight-65&&(t=5),h<65?r=-5:h>s.windowWidth-65&&(r=5),null!==s.dtTop&&e.pageY<s.dtTop+65?n=-5:null!==s.dtTop&&e.pageY>s.dtTop+s.dtHeight-65&&(n=5),null!==s.dtLeft&&e.pageX<s.dtLeft+65?o=-5:null!==s.dtLeft&&e.pageX>s.dtLeft+s.dtWidth-65&&(o=5),t||r||n||o?(s.windowVert=t,s.windowHoriz=r,s.dtVert=n,s.dtHoriz=o,l=!0):this.s.scrollInterval&&(clearInterval(this.s.scrollInterval),this.s.scrollInterval=null),!this.s.scrollInterval&&l&&(this.s.scrollInterval=setInterval(function(){if(s.windowVert&&(i.body.scrollTop+=s.windowVert),s.windowHoriz&&(i.body.scrollLeft+=s.windowHoriz),s.dtVert||s.dtHoriz){var e=a.dom.dtScroll[0];s.dtVert&&(e.scrollTop+=s.dtVert),s.dtHoriz&&(e.scrollLeft+=s.dtHoriz)}},20))},_update:function(e,t){if(!1!==e){var i,r=this.s.dt;if(this._emitEvent("preAutoFill",[r,t]),this._editor(t),null!==this.c.update?this.c.update:!this.c.editor){for(var n=0,o=t.length;n<o;n++)for(var a=0,s=t[n].length;a<s;a++)(i=t[n][a]).cell.data(i.set);r.draw(!1)}this._emitEvent("autoFill",[r,t])}}}),a.actions={increment:{available:function(e,t){var i=t[0][0].label;return!isNaN(i-parseFloat(i))},option:function(e,t){return e.i18n("autoFill.increment",'Increment / decrement each cell by: <input type="number" value="1">')},execute:function(t,i,r){for(var n=1*i[0][0].data,o=1*e("input",r).val(),a=0,s=i.length;a<s;a++)for(var l=0,c=i[a].length;l<c;l++)i[a][l].set=n,n+=o}},fill:{available:function(e,t){return!0},option:function(e,t){return e.i18n("autoFill.fill","Fill all cells with <i>"+t[0][0].label+"</i>")},execute:function(e,t,i){for(var r=t[0][0].data,n=0,o=t.length;n<o;n++)for(var a=0,s=t[n].length;a<s;a++)t[n][a].set=r}},fillHorizontal:{available:function(e,t){return t.length>1&&t[0].length>1},option:function(e,t){return e.i18n("autoFill.fillHorizontal","Fill cells horizontally")},execute:function(e,t,i){for(var r=0,n=t.length;r<n;r++)for(var o=0,a=t[r].length;o<a;o++)t[r][o].set=t[r][0].data}},fillVertical:{available:function(e,t){return t.length>1&&t[0].length>1},option:function(e,t){return e.i18n("autoFill.fillVertical","Fill cells vertically")},execute:function(e,t,i){for(var r=0,n=t.length;r<n;r++)for(var o=0,a=t[r].length;o<a;o++)t[r][o].set=t[0][o].data}},cancel:{available:function(){return!1},option:function(e){return e.i18n("autoFill.cancel","Cancel")},execute:function(){return!1}}},a.version="2.3.1",a.defaults={alwaysAsk:!1,focus:null,columns:"",enable:!0,update:null,editor:null,vertical:!0,horizontal:!0},a.classes={btn:"btn"};var s=e.fn.dataTable.Api;return s.register("autoFill()",function(){return this}),s.register("autoFill().enabled()",function(){var e=this.context[0];return!!e.autoFill&&e.autoFill.enabled()}),s.register("autoFill().enable()",function(e){return this.iterator("table",function(t){t.autoFill&&t.autoFill.enable(e)})}),s.register("autoFill().disable()",function(){return this.iterator("table",function(e){e.autoFill&&e.autoFill.disable()})}),e(i).on("preInit.dt.autofill",function(t,i,r){if("dt"===t.namespace){var o=i.oInit.autoFill,s=n.defaults.autoFill;if(o||s){var l=e.extend({},o,s);!1!==o&&new a(i,l)}}}),n.AutoFill=a,n.AutoFill=a,a},r=[i(0),i(4)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable;return e.extend(n.ext.buttons,{colvis:function(e,t){return{extend:"collection",text:function(e){return e.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}]}},columnsToggle:function(e,t){return e.columns(t.columns).indexes().map(function(e){return{extend:"columnToggle",columns:e,columnText:t.columnText}}).toArray()},columnToggle:function(e,t){return{extend:"columnVisibility",columns:t.columns,columnText:t.columnText}},columnsVisibility:function(e,t){return e.columns(t.columns).indexes().map(function(e){return{extend:"columnVisibility",columns:e,visibility:t.visibility,columnText:t.columnText}}).toArray()},columnVisibility:{columns:r,text:function(e,t,i){return i._columnText(e,i)},className:"buttons-columnVisibility",action:function(e,t,i,n){var o=t.columns(n.columns),a=o.visible();o.visible(n.visibility!==r?n.visibility:!(a.length&&a[0]))},init:function(e,t,i){var r=this;e.on("column-visibility.dt"+i.namespace,function(t,n){n.bDestroying||n.nTable!=e.settings()[0].nTable||r.active(e.column(i.columns).visible())}).on("column-reorder.dt"+i.namespace,function(t,n,o){1===e.columns(i.columns).count()&&(r.text(i._columnText(e,i)),r.active(e.column(i.columns).visible()))}),this.active(e.column(i.columns).visible())},destroy:function(e,t,i){e.off("column-visibility.dt"+i.namespace).off("column-reorder.dt"+i.namespace)},_columnText:function(e,t){var i=e.column(t.columns).index(),r=e.settings()[0].aoColumns[i].sTitle.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");return t.columnText?t.columnText(e,i,r):r}},colvisRestore:{className:"buttons-colvisRestore",text:function(e){return e.i18n("buttons.colvisRestore","Restore visibility")},init:function(e,t,i){i._visOriginal=e.columns().indexes().map(function(t){return e.column(t).visible()}).toArray()},action:function(e,t,i,r){t.columns().every(function(e){var i=t.colReorder&&t.colReorder.transpose?t.colReorder.transpose(e,"toOriginal"):e;this.visible(r._visOriginal[i])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(e,t,i,r){t.columns(r.show).visible(!0,!1),t.columns(r.hide).visible(!1,!1),t.columns.adjust()},show:[],hide:[]}}),n.Buttons},r=[i(0),i(4),i(19)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r,n,o){"use strict";var a=e.fn.dataTable;function s(){return r||t.JSZip}function l(){return n||t.pdfMake}var c=function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},i=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,n=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},h=function(h,u,d){d||(h=c(h));var f,p=this,m="application/octet-stream"===h.type,g=function(){!function(e,t,i){for(var r=(t=[].concat(t)).length;r--;){var n=e["on"+t[r]];if("function"==typeof n)try{n.call(e,i||e)}catch(e){s(e)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return f=t().createObjectURL(h),void setTimeout(function(){var e,t;i.href=f,i.download=u,e=i,t=new MouseEvent("click"),e.dispatchEvent(t),g(),l(f),p.readyState=p.DONE});!function(){if((a||m&&n)&&e.FileReader){var i=new FileReader;return i.onloadend=function(){var t=a?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=o,p.readyState=p.DONE,g()},i.readAsDataURL(h),void(p.readyState=p.INIT)}f||(f=t().createObjectURL(h)),m?e.location.href=f:e.open(f,"_blank")||(e.location.href=f);p.readyState=p.DONE,g(),l(f)}()},u=h.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,i){return t=t||e.name||"download",i||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(e,t,i){return new h(e,t||e.name||"download",i)})}}("undefined"!=typeof self&&self||void 0!==t&&t||this.content);a.fileSave=c;var h=function(e){return e.newline?e.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},u=function(e,t){for(var i=h(t),r=e.buttons.exportData(t.exportOptions),n=t.fieldBoundary,a=t.fieldSeparator,s=new RegExp(n,"g"),l=t.escapeChar!==o?t.escapeChar:"\\",c=function(e){for(var t="",i=0,r=e.length;i<r;i++)i>0&&(t+=a),t+=n?n+(""+e[i]).replace(s,l+n)+n:e[i];return t},u=t.header?c(r.header)+i:"",d=t.footer&&r.footer?i+c(r.footer):"",f=[],p=0,m=r.body.length;p<m;p++)f.push(c(r.body[p]));return{str:u+f.join(i)+d,rows:f.length}},d=function(){if(!(-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Opera")))return!1;var e=navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);return!!(e&&e.length>1&&1*e[1]<603.1)};function f(e){for(var t="A".charCodeAt(0),i="Z".charCodeAt(0)-t+1,r="";e>=0;)r=String.fromCharCode(e%i+t)+r,e=Math.floor(e/i)-1;return r}try{var p,m=new XMLSerializer}catch(e){}function g(t,i,r){var n=t.createElement(i);return r&&(r.attr&&e(n).attr(r.attr),r.children&&e.each(r.children,function(e,t){n.appendChild(t)}),null!==r.text&&r.text!==o&&n.appendChild(t.createTextNode(r.text))),n}function v(e,t){var i,r,n,a=e.header[t].length;e.footer&&e.footer[t].length>a&&(a=e.footer[t].length);for(var s=0,l=e.body.length;s<l;s++){var c=e.body[s][t];if(-1!==(n=null!==c&&c!==o?c.toString():"").indexOf("\n")?((r=n.split("\n")).sort(function(e,t){return t.length-e.length}),i=r[0].length):i=n.length,i>a&&(a=i),a>40)return 52}return(a*=1.3)>6?a:6}var y={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$€-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="67"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},b=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(e){return e/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(e){return e/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?£[\d,]+.?\d*$/,style:58},{match:/^\-?€[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64}];return a.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(e){return e.i18n("buttons.copy","Copy")},action:function(t,r,n,o){this.processing(!0);var a=this,s=u(r,o),l=r.buttons.exportInfo(o),c=h(o),d=s.str,f=e("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});l.title&&(d=l.title+c+c+d),l.messageTop&&(d=l.messageTop+c+c+d),l.messageBottom&&(d=d+c+c+l.messageBottom),o.customize&&(d=o.customize(d,o,r));var p=e("<textarea readonly/>").val(d).appendTo(f);if(i.queryCommandSupported("copy")){f.appendTo(r.table().container()),p[0].focus(),p[0].select();try{var m=i.execCommand("copy");if(f.remove(),m)return r.buttons.info(r.i18n("buttons.copyTitle","Copy to clipboard"),r.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},s.rows),2e3),void this.processing(!1)}catch(e){}}var g=e("<span>"+r.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>⌘</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(f);r.buttons.info(r.i18n("buttons.copyTitle","Copy to clipboard"),g,0),p[0].focus(),p[0].select();var v=e(g).closest(".dt-button-info"),y=function(){v.off("click.buttons-copy"),e(i).off(".buttons-copy"),r.buttons.info(!1)};v.on("click.buttons-copy",y),e(i).on("keydown.buttons-copy",function(e){27===e.keyCode&&(y(),a.processing(!1))}).on("copy.buttons-copy cut.buttons-copy",function(){y(),a.processing(!1)})},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*"},a.ext.buttons.csvHtml5={bom:!1,className:"buttons-csv buttons-html5",available:function(){return t.FileReader!==o&&t.Blob},text:function(e){return e.i18n("buttons.csv","CSV")},action:function(e,t,r,n){this.processing(!0);var o=u(t,n).str,a=t.buttons.exportInfo(n),s=n.charset;n.customize&&(o=n.customize(o,n,t)),!1!==s?(s||(s=i.characterSet||i.charset),s&&(s=";charset="+s)):s="",n.bom&&(o="\ufeff"+o),c(new Blob([o],{type:"text/csv"+s}),a.filename,!0),this.processing(!1)},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},a.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return t.FileReader!==o&&s()!==o&&!d()&&m},text:function(e){return e.i18n("buttons.excel","Excel")},action:function(t,i,r,n){this.processing(!0);var a,l,h=this,u=0,d=function(t){var i=y[t];return e.parseXML(i)},_=d("xl/worksheets/sheet1.xml"),x=_.getElementsByTagName("sheetData")[0],w={_rels:{".rels":d("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":d("xl/_rels/workbook.xml.rels")},"workbook.xml":d("xl/workbook.xml"),"styles.xml":d("xl/styles.xml"),worksheets:{"sheet1.xml":_}},"[Content_Types].xml":d("[Content_Types].xml")},S=i.buttons.exportData(n.exportOptions),C=function(t){l=g(_,"row",{attr:{r:a=u+1}});for(var i=0,r=t.length;i<r;i++){var s=f(i)+""+a,c=null;if(null===t[i]||t[i]===o||""===t[i]){if(!0!==n.createEmptyCells)continue;t[i]=""}var h=t[i];t[i]=e.trim(t[i]);for(var d=0,p=b.length;d<p;d++){var m=b[d];if(t[i].match&&!t[i].match(/^0\d+/)&&t[i].match(m.match)){var v=t[i].replace(/[^\d\.\-]/g,"");m.fmt&&(v=m.fmt(v)),c=g(_,"c",{attr:{r:s,s:m.style},children:[g(_,"v",{text:v})]});break}}if(!c)if("number"==typeof t[i]||t[i].match&&t[i].match(/^-?\d+(\.\d+)?$/)&&!t[i].match(/^0\d+/))c=g(_,"c",{attr:{t:"n",r:s},children:[g(_,"v",{text:t[i]})]});else{var y=h.replace?h.replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):h;c=g(_,"c",{attr:{t:"inlineStr",r:s},children:{row:g(_,"is",{children:{row:g(_,"t",{text:y,attr:{"xml:space":"preserve"}})}})}})}l.appendChild(c)}x.appendChild(l),u++};e("sheets sheet",w.xl["workbook.xml"]).attr("name",function(e){var t="Sheet1";return e.sheetName&&(t=e.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),t}(n)),n.customizeData&&n.customizeData(S);var T=function(t,i){var r=e("mergeCells",_);r[0].appendChild(g(_,"mergeCell",{attr:{ref:"A"+t+":"+f(i)+t}})),r.attr("count",parseFloat(r.attr("count"))+1),e("row:eq("+(t-1)+") c",_).attr("s","51")},A=i.buttons.exportInfo(n);A.title&&(C([A.title]),T(u,S.header.length-1)),A.messageTop&&(C([A.messageTop]),T(u,S.header.length-1)),n.header&&(C(S.header),e("row:last c",_).attr("s","2"));for(var M=0,E=S.body.length;M<E;M++)C(S.body[M]);n.footer&&S.footer&&(C(S.footer),e("row:last c",_).attr("s","2")),A.messageBottom&&(C([A.messageBottom]),T(u,S.header.length-1));var D=g(_,"cols");e("worksheet",_).prepend(D);for(var F=0,I=S.header.length;F<I;F++)D.appendChild(g(_,"col",{attr:{min:F+1,max:F+1,width:v(S,F),customWidth:1}}));n.customize&&n.customize(w,n,i),0===e("mergeCells",_).children().length&&e("mergeCells",_).remove();var k=new(s()),R={type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};!function t(i,r){p===o&&(p=-1===m.serializeToString(e.parseXML(y["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),e.each(r,function(r,n){if(e.isPlainObject(n))t(i.folder(r),n);else{if(p){var o,a,s=n.childNodes[0],l=[];for(o=s.attributes.length-1;o>=0;o--){var c=s.attributes[o].nodeName,h=s.attributes[o].nodeValue;-1!==c.indexOf(":")&&(l.push({name:c,value:h}),s.removeAttribute(c))}for(o=0,a=l.length;o<a;o++){var u=n.createAttribute(l[o].name.replace(":","_dt_b_namespace_token_"));u.value=l[o].value,s.setAttributeNode(u)}}var d=m.serializeToString(n);p&&(-1===d.indexOf("<?xml")&&(d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+d),d=d.replace(/_dt_b_namespace_token_/g,":")),d=d.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),i.file(r,d)}})}(k,w),k.generateAsync?k.generateAsync(R).then(function(e){c(e,A.filename),h.processing(!1)}):(c(k.generate(R),A.filename),this.processing(!1))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*",createEmptyCells:!1},a.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return t.FileReader!==o&&l()},text:function(e){return e.i18n("buttons.pdf","PDF")},action:function(t,i,r,n){this.processing(!0);var o=i.buttons.exportData(n.exportOptions),a=i.buttons.exportInfo(n),s=[];n.header&&s.push(e.map(o.header,function(e){return{text:"string"==typeof e?e:e+"",style:"tableHeader"}}));for(var c=0,h=o.body.length;c<h;c++)s.push(e.map(o.body[c],function(e){return{text:"string"==typeof e?e:e+"",style:c%2?"tableBodyEven":"tableBodyOdd"}}));n.footer&&o.footer&&s.push(e.map(o.footer,function(e){return{text:"string"==typeof e?e:e+"",style:"tableFooter"}}));var u={pageSize:n.pageSize,pageOrientation:n.orientation,content:[{table:{headerRows:1,body:s},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}};a.messageTop&&u.content.unshift({text:a.messageTop,style:"message",margin:[0,0,0,12]}),a.messageBottom&&u.content.push({text:a.messageBottom,style:"message",margin:[0,0,0,12]}),a.title&&u.content.unshift({text:a.title,style:"title",margin:[0,0,0,12]}),n.customize&&n.customize(u,n,i);var f=l().createPdf(u);"open"!==n.download||d()?f.download(a.filename):f.open(),this.processing(!1)},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,messageTop:"*",messageBottom:"*",customize:null,download:"download"},a.Buttons},r=[i(0),i(4),i(19)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable,o={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(e){return"string"==typeof e&&(e=i.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){this.className=this.className.replace(new RegExp("\\s*"+e+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,i){var r=this.clients[e];r&&r.receiveEvent(t,i)},log:function(e){console.log("Flash: "+e)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e){var t={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};for(""!==e.style.width&&(t.width=e.style.width.replace("px","")),""!==e.style.height&&(t.height=e.style.height.replace("px",""));e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},Client:function(e){this.handlers={},this.id=o.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,o.register(this.id,this),e&&this.glue(e)}};o.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,sheetName:"",glue:function(e,t){this.domElement=o.$(e);var r=99;this.domElement.style.zIndex&&(r=parseInt(this.domElement.style.zIndex,10)+1);var n=o.getDOMObjectPosition(this.domElement);this.div=i.createElement("div");var a=this.div.style;a.position="absolute",a.left="0px",a.top="0px",a.width=n.width+"px",a.height=n.height+"px",a.zIndex=r,void 0!==t&&""!==t&&(this.div.title=t),0!==n.width&&0!==n.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(n.width,n.height).replace(/&/g,"&amp;"))},positionElement:function(){var e=o.getDOMObjectPosition(this.domElement),t=this.div.style;if(t.position="absolute",t.width=e.width+"px",t.height=e.height+"px",0!==e.width&&0!==e.height){this.sized=!0;var i=this.div.childNodes[0];i.width=e.width,i.height=e.height}},getHTML:function(e,t){var i="",r="id="+this.id+"&width="+e+"&height="+t;navigator.userAgent.match(/MSIE/)?i+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+o.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+r+'"/><param name="wmode" value="transparent"/></object>':i+='<embed id="'+this.movieId+'" src="'+o.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+r+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){var t=this;this.domElement&&this.div&&(e(this.div).remove(),this.domElement=null,this.div=null,e.each(o.clients,function(e,i){i===t&&delete o.clients[e]}))},reposition:function(e){if(e&&(this.domElement=o.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=o.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=t.left+"px",i.top=t.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(e){this.clipText+=e,this.ready&&this.movie.appendText(e)},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setFileName:function(e){this.fileName=e,this.ready&&this.movie.setFileName(e)},setSheetData:function(e){this.ready&&this.movie.setSheetData(JSON.stringify(e))},setAction:function(e){this.action=e,this.ready&&this.movie.setAction(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,r){var n;switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=i.getElementById(this.movieId),!this.movie)return n=this,void setTimeout(function(){n.receiveEvent("load",null)},1);if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return n=this,setTimeout(function(){n.receiveEvent("load",null)},100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var o=0,a=this.handlers[e].length;o<a;o++){var s=this.handlers[e][o];"function"==typeof s?s(this,r):"object"==typeof s&&2==s.length?s[0][s[1]](this,r):"string"==typeof s&&t[s](this,r)}}},o.hasFlash=function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(e){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==r&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},t.ZeroClipboard_TableTools=o;var a=function(e,t){t.attr("id");t.parents("html").length?e.glue(t[0],""):setTimeout(function(){a(e,t)},500)},s=function(e,t){var i=t.match(/[\s\S]{1,8192}/g)||[];e.clearText();for(var r=0,n=i.length;r<n;r++)e.appendText(i[r])},l=function(e){return e.newline?e.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},c=function(e,t){for(var i=l(t),n=e.buttons.exportData(t.exportOptions),o=t.fieldBoundary,a=t.fieldSeparator,s=new RegExp(o,"g"),c=t.escapeChar!==r?t.escapeChar:"\\",h=function(e){for(var t="",i=0,r=e.length;i<r;i++)i>0&&(t+=a),t+=o?o+(""+e[i]).replace(s,c+o)+o:e[i];return t},u=t.header?h(n.header)+i:"",d=t.footer&&n.footer?i+h(n.footer):"",f=[],p=0,m=n.body.length;p<m;p++)f.push(h(n.body[p]));return{str:u+f.join(i)+d,rows:f.length}},h={available:function(){return o.hasFlash()},init:function(e,t,i){o.moviePath=n.Buttons.swfPath;var r=new o.Client;r.setHandCursor(!0),r.addEventListener("mouseDown",function(r){i._fromFlash=!0,e.button(t[0]).trigger(),i._fromFlash=!1}),a(r,t),i._flash=r},destroy:function(e,t,i){i._flash.destroy()},fieldSeparator:",",fieldBoundary:'"',exportOptions:{},title:"*",messageTop:"*",messageBottom:"*",filename:"*",extension:".csv",header:!0,footer:!1};function u(e){for(var t="A".charCodeAt(0),i="Z".charCodeAt(0)-t+1,r="";e>=0;)r=String.fromCharCode(e%i+t)+r,e=Math.floor(e/i)-1;return r}function d(t,i,n){var o=t.createElement(i);return n&&(n.attr&&e(o).attr(n.attr),n.children&&e.each(n.children,function(e,t){o.appendChild(t)}),null!==n.text&&n.text!==r&&o.appendChild(t.createTextNode(n.text))),o}function f(e,t){var i,n,o,a=e.header[t].length;e.footer&&e.footer[t].length>a&&(a=e.footer[t].length);for(var s=0,l=e.body.length;s<l;s++){var c=e.body[s][t];if(-1!==(o=null!==c&&c!==r?c.toString():"").indexOf("\n")?((n=o.split("\n")).sort(function(e,t){return t.length-e.length}),i=n[0].length):i=o.length,i>a&&(a=i),a>40)return 52}return(a*=1.3)>6?a:6}var p,m="";m=void 0===t.XMLSerializer?new function(){this.serializeToString=function(e){return e.xml}}:new XMLSerializer;var g={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$€-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="61"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},v=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(e){return e/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(e){return e/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?£[\d,]+.?\d*$/,style:58},{match:/^\-?€[\d,]+.?\d*$/,style:59},{match:/^\([\d,]+\)$/,style:61,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^[\d,]+$/,style:63},{match:/^[\d,]+\.\d{2}$/,style:64}];return n.Buttons.swfPath="//cdn.datatables.net/buttons/"+n.Buttons.version+"/swf/flashExport.swf",n.Api.register("buttons.resize()",function(){e.each(o.clients,function(e,t){t.domElement!==r&&t.domElement.parentNode&&t.positionElement()})}),n.ext.buttons.copyFlash=e.extend({},h,{className:"buttons-copy buttons-flash",text:function(e){return e.i18n("buttons.copy","Copy")},action:function(e,t,i,r){if(r._fromFlash){this.processing(!0);var n=r._flash,o=c(t,r),a=t.buttons.exportInfo(r),h=l(r),u=o.str;a.title&&(u=a.title+h+h+u),a.messageTop&&(u=a.messageTop+h+h+u),a.messageBottom&&(u=u+h+h+a.messageBottom),r.customize&&(u=r.customize(u,r,t)),n.setAction("copy"),s(n,u),this.processing(!1),t.buttons.info(t.i18n("buttons.copyTitle","Copy to clipboard"),t.i18n("buttons.copySuccess",{_:"Copied %d rows to clipboard",1:"Copied 1 row to clipboard"},data.rows),3e3)}},fieldSeparator:"\t",fieldBoundary:""}),n.ext.buttons.csvFlash=e.extend({},h,{className:"buttons-csv buttons-flash",text:function(e){return e.i18n("buttons.csv","CSV")},action:function(e,t,i,r){var n=r._flash,o=c(t,r),a=t.buttons.exportInfo(r),l=r.customize?r.customize(o.str,r,t):o.str;n.setAction("csv"),n.setFileName(a.filename),s(n,l)},escapeChar:'"'}),n.ext.buttons.excelFlash=e.extend({},h,{className:"buttons-excel buttons-flash",text:function(e){return e.i18n("buttons.excel","Excel")},action:function(t,i,n,o){this.processing(!0);var a,l,c=o._flash,h=0,y=e.parseXML(g["xl/worksheets/sheet1.xml"]),b=y.getElementsByTagName("sheetData")[0],_={_rels:{".rels":e.parseXML(g["_rels/.rels"])},xl:{_rels:{"workbook.xml.rels":e.parseXML(g["xl/_rels/workbook.xml.rels"])},"workbook.xml":e.parseXML(g["xl/workbook.xml"]),"styles.xml":e.parseXML(g["xl/styles.xml"]),worksheets:{"sheet1.xml":y}},"[Content_Types].xml":e.parseXML(g["[Content_Types].xml"])},x=i.buttons.exportData(o.exportOptions),w=function(t){l=d(y,"row",{attr:{r:a=h+1}});for(var i=0,n=t.length;i<n;i++){var s=u(i)+""+a,c=null;if(null===t[i]||t[i]===r||""===t[i]){if(!0!==o.createEmptyCells)continue;t[i]=""}t[i]=e.trim(t[i]);for(var f=0,p=v.length;f<p;f++){var m=v[f];if(t[i].match&&!t[i].match(/^0\d+/)&&t[i].match(m.match)){var g=t[i].replace(/[^\d\.\-]/g,"");m.fmt&&(g=m.fmt(g)),c=d(y,"c",{attr:{r:s,s:m.style},children:[d(y,"v",{text:g})]});break}}if(!c)if("number"==typeof t[i]||t[i].match&&t[i].match(/^-?\d+(\.\d+)?$/)&&!t[i].match(/^0\d+/))c=d(y,"c",{attr:{t:"n",r:s},children:[d(y,"v",{text:t[i]})]});else{var _=t[i].replace?t[i].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):t[i];c=d(y,"c",{attr:{t:"inlineStr",r:s},children:{row:d(y,"is",{children:{row:d(y,"t",{text:_})}})}})}l.appendChild(c)}b.appendChild(l),h++};e("sheets sheet",_.xl["workbook.xml"]).attr("name",function(e){var t="Sheet1";return e.sheetName&&(t=e.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),t}(o)),o.customizeData&&o.customizeData(x);var S=function(t,i){var r=e("mergeCells",y);r[0].appendChild(d(y,"mergeCell",{attr:{ref:"A"+t+":"+u(i)+t}})),r.attr("count",r.attr("count")+1),e("row:eq("+(t-1)+") c",y).attr("s","51")},C=i.buttons.exportInfo(o);C.title&&(w([C.title]),S(h,x.header.length-1)),C.messageTop&&(w([C.messageTop]),S(h,x.header.length-1)),o.header&&(w(x.header),e("row:last c",y).attr("s","2"));for(var T=0,A=x.body.length;T<A;T++)w(x.body[T]);o.footer&&x.footer&&(w(x.footer),e("row:last c",y).attr("s","2")),C.messageBottom&&(w([C.messageBottom]),S(h,x.header.length-1));var M=d(y,"cols");e("worksheet",y).prepend(M);for(var E=0,D=x.header.length;E<D;E++)M.appendChild(d(y,"col",{attr:{min:E+1,max:E+1,width:f(x,E),customWidth:1}}));o.customize&&o.customize(_,o,i),function t(i){p===r&&(p=-1===m.serializeToString(e.parseXML(g["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),e.each(i,function(r,n){if(e.isPlainObject(n))t(n);else{if(p){var o,a,s=n.childNodes[0],l=[];for(o=s.attributes.length-1;o>=0;o--){var c=s.attributes[o].nodeName,h=s.attributes[o].nodeValue;-1!==c.indexOf(":")&&(l.push({name:c,value:h}),s.removeAttribute(c))}for(o=0,a=l.length;o<a;o++){var u=n.createAttribute(l[o].name.replace(":","_dt_b_namespace_token_"));u.value=l[o].value,s.setAttributeNode(u)}}var d=m.serializeToString(n);p&&(-1===d.indexOf("<?xml")&&(d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+d),d=d.replace(/_dt_b_namespace_token_/g,":")),d=d.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),i[r]=d}})}(_),c.setAction("excel"),c.setFileName(C.filename),c.setSheetData(_),s(c,""),this.processing(!1)},extension:".xlsx",createEmptyCells:!1}),n.ext.buttons.pdfFlash=e.extend({},h,{className:"buttons-pdf buttons-flash",text:function(e){return e.i18n("buttons.pdf","PDF")},action:function(e,t,i,r){this.processing(!0);var n=r._flash,o=t.buttons.exportData(r.exportOptions),a=t.buttons.exportInfo(r),l=t.table().node().offsetWidth,c=t.columns(r.columns).indexes().map(function(e){return t.column(e).header().offsetWidth/l});n.setAction("pdf"),n.setFileName(a.filename),s(n,JSON.stringify({title:a.title||"",messageTop:a.messageTop||"",messageBottom:a.messageBottom||"",colWidth:c.toArray(),orientation:r.orientation,size:r.pageSize,header:r.header?o.header:null,footer:r.footer?o.footer:null,body:o.body})),this.processing(!1)},extension:".pdf",orientation:"portrait",pageSize:"A4",newline:"\n"}),n.Buttons},r=[i(0),i(4),i(19)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable,o=i.createElement("a"),a=function(e){o.href=e;var t=o.host;return-1===t.indexOf("/")&&0!==o.pathname.indexOf("/")&&(t+="/"),o.protocol+"//"+t+o.pathname+o.search};return n.ext.buttons.print={className:"buttons-print",text:function(e){return e.i18n("buttons.print","Print")},action:function(i,n,o,s){var l=n.buttons.exportData(e.extend({decodeEntities:!1},s.exportOptions)),c=n.buttons.exportInfo(s),h=e.map(n.settings()[0].aoColumns,function(e,t){return e.sClass}),u=function(e,t){for(var i="<tr>",n=0,o=e.length;n<o;n++){var a=null===e[n]||e[n]===r?"":e[n];i+="<"+t+" "+(h[n]?'class="'+h[n]+'"':"")+">"+a+"</"+t+">"}return i+"</tr>"},d='<table class="'+n.table().node().className+'">';s.header&&(d+="<thead>"+u(l.header,"th")+"</thead>"),d+="<tbody>";for(var f=0,p=l.body.length;f<p;f++)d+=u(l.body[f],"td");d+="</tbody>",s.footer&&l.footer&&(d+="<tfoot>"+u(l.footer,"th")+"</tfoot>"),d+="</table>";var m=t.open("","");m.document.close();var g="<title>"+c.title+"</title>";e("style, link").each(function(){var t;g+=("link"===(t=e(this).clone()[0]).nodeName.toLowerCase()&&(t.href=a(t.href)),t.outerHTML)});try{m.document.head.innerHTML=g}catch(i){e(m.document.head).html(g)}m.document.body.innerHTML="<h1>"+c.title+"</h1><div>"+(c.messageTop||"")+"</div>"+d+"<div>"+(c.messageBottom||"")+"</div>",e(m.document.body).addClass("dt-print-view"),e("img",m.document.body).each(function(e,t){t.setAttribute("src",a(t.getAttribute("src")))}),s.customize&&s.customize(m,s,n),m.setTimeout(function(){s.autoPrint&&(m.print(),m.close())},1e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},n.Buttons},r=[i(0),i(4),i(19)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable;function o(e){for(var t=[],i=0,r=e.length;i<r;i++)t[e[i]]=i;return t}function a(e,t,i){var r=e.splice(t,1)[0];e.splice(i,0,r)}function s(e,t,i){for(var r=[],n=0,o=e.childNodes.length;n<o;n++)1==e.childNodes[n].nodeType&&r.push(e.childNodes[n]);var a=r[t];null!==i?e.insertBefore(a,r[i]):e.appendChild(a)}e.fn.dataTableExt.oApi.fnColReorder=function(t,i,n,l,c){var h,u,d,f,p,m,g,v=t.aoColumns.length,y=function(e,t,i){if(e[t]&&"function"!=typeof e[t]){var r=e[t].split("."),n=r.shift();isNaN(1*n)||(e[t]=i[1*n]+"."+r.join("."))}};if(i!=n)if(i<0||i>=v)this.oApi._fnLog(t,1,"ColReorder 'from' index is out of bounds: "+i);else if(n<0||n>=v)this.oApi._fnLog(t,1,"ColReorder 'to' index is out of bounds: "+n);else{var b=[];for(h=0,u=v;h<u;h++)b[h]=h;a(b,i,n);var _=o(b);for(h=0,u=t.aaSorting.length;h<u;h++)t.aaSorting[h][0]=_[t.aaSorting[h][0]];if(null!==t.aaSortingFixed)for(h=0,u=t.aaSortingFixed.length;h<u;h++)t.aaSortingFixed[h][0]=_[t.aaSortingFixed[h][0]];for(h=0,u=v;h<u;h++){for(d=0,f=(g=t.aoColumns[h]).aDataSort.length;d<f;d++)g.aDataSort[d]=_[g.aDataSort[d]];g.idx=_[g.idx]}for(e.each(t.aLastSort,function(e,i){t.aLastSort[e].src=_[i.src]}),h=0,u=v;h<u;h++)"number"==typeof(g=t.aoColumns[h]).mData?g.mData=_[g.mData]:e.isPlainObject(g.mData)&&(y(g.mData,"_",_),y(g.mData,"filter",_),y(g.mData,"sort",_),y(g.mData,"type",_));if(t.aoColumns[i].bVisible){var x=this.oApi._fnColumnIndexToVisible(t,i),w=null;for(h=n<i?n:n+1;null===w&&h<v;)w=this.oApi._fnColumnIndexToVisible(t,h),h++;for(h=0,u=(m=t.nTHead.getElementsByTagName("tr")).length;h<u;h++)s(m[h],x,w);if(null!==t.nTFoot)for(h=0,u=(m=t.nTFoot.getElementsByTagName("tr")).length;h<u;h++)s(m[h],x,w);for(h=0,u=t.aoData.length;h<u;h++)null!==t.aoData[h].nTr&&s(t.aoData[h].nTr,x,w)}for(a(t.aoColumns,i,n),h=0,u=v;h<u;h++)t.oApi._fnColumnOptions(t,h,{});for(a(t.aoPreSearchCols,i,n),h=0,u=t.aoData.length;h<u;h++){var S=t.aoData[h],C=S.anCells;if(C)for(a(C,i,n),d=0,p=C.length;d<p;d++)C[d]&&C[d]._DT_CellIndex&&(C[d]._DT_CellIndex.column=d);"dom"!==S.src&&e.isArray(S._aData)&&a(S._aData,i,n)}for(h=0,u=t.aoHeader.length;h<u;h++)a(t.aoHeader[h],i,n);if(null!==t.aoFooter)for(h=0,u=t.aoFooter.length;h<u;h++)a(t.aoFooter[h],i,n);for((c||c===r)&&e.fn.dataTable.Api(t).rows().invalidate(),h=0,u=v;h<u;h++)e(t.aoColumns[h].nTh).off(".DT"),this.oApi._fnSortAttachListener(t,t.aoColumns[h].nTh,h);e(t.oInstance).trigger("column-reorder.dt",[t,{from:i,to:n,mapping:_,drop:l,iFrom:i,iTo:n,aiInvertMapping:_}])}};var l=function(t,i){var r=new e.fn.dataTable.Api(t).settings()[0];if(r._colReorder)return r._colReorder;!0===i&&(i={});var n=e.fn.dataTable.camelToHungarian;return n&&(n(l.defaults,l.defaults,!0),n(l.defaults,i||{})),this.s={dt:null,enable:null,init:e.extend(!0,{},l.defaults,i),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]},this.dom={drag:null,pointer:null},this.s.enable=this.s.init.bEnable,this.s.dt=r,this.s.dt._colReorder=this,this._fnConstruct(),this};return e.extend(l.prototype,{fnEnable:function(e){if(!1===e)return fnDisable();this.s.enable=!0},fnDisable:function(){this.s.enable=!1},fnReset:function(){return this._fnOrderColumns(this.fnOrder()),this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(t,i){var n,a,s=[],l=this.s.dt.aoColumns;if(t===r){for(n=0,a=l.length;n<a;n++)s.push(l[n]._ColReorder_iOrigCol);return s}if(i){var c=this.fnOrder();for(n=0,a=t.length;n<a;n++)s.push(e.inArray(t[n],c));t=s}return this._fnOrderColumns(o(t)),this},fnTranspose:function(t,i){i||(i="toCurrent");var r=this.fnOrder(),n=this.s.dt.aoColumns;return"toCurrent"===i?e.isArray(t)?e.map(t,function(t){return e.inArray(t,r)}):e.inArray(t,r):e.isArray(t)?e.map(t,function(e){return n[e]._ColReorder_iOrigCol}):n[t]._ColReorder_iOrigCol},_fnConstruct:function(){var t,i=this,r=this.s.dt.aoColumns.length,n=this.s.dt.nTable;for(this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns),this.s.init.iFixedColumnsLeft&&(this.s.fixed=this.s.init.iFixedColumnsLeft),this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0,this.s.init.fnReorderCallback&&(this.s.reorderCallback=this.s.init.fnReorderCallback),t=0;t<r;t++)t>this.s.fixed-1&&t<r-this.s.fixedRight&&this._fnMouseListener(t,this.s.dt.aoColumns[t].nTh),this.s.dt.aoColumns[t]._ColReorder_iOrigCol=t;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(e,t){i._fnStateSave.call(i,t)},"ColReorder_State");var a=null;if(this.s.init.aiOrder&&(a=this.s.init.aiOrder.slice()),this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(a=this.s.dt.oLoadedState.ColReorder),a)if(i.s.dt._bInitComplete){var s=o(a);i._fnOrderColumns.call(i,s)}else{var l=!1;e(n).on("draw.dt.colReorder",function(){if(!i.s.dt._bInitComplete&&!l){l=!0;var e=o(a);i._fnOrderColumns.call(i,e)}})}else this._fnSetColumnIndexes();e(n).on("destroy.dt.colReorder",function(){e(n).off("destroy.dt.colReorder draw.dt.colReorder"),e.each(i.s.dt.aoColumns,function(t,i){e(i.nTh).off(".ColReorder"),e(i.nTh).removeAttr("data-column-index")}),i.s.dt._colReorder=null,i.s=null})},_fnOrderColumns:function(t){var i=!1;if(t.length==this.s.dt.aoColumns.length){for(var r=0,n=t.length;r<n;r++){var o=e.inArray(r,t);r!=o&&(a(t,o,r),this.s.dt.oInstance.fnColReorder(o,r,!0,!1),i=!0)}this._fnSetColumnIndexes(),i&&(e.fn.dataTable.Api(this.s.dt).rows().invalidate(),""===this.s.dt.oScroll.sX&&""===this.s.dt.oScroll.sY||this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))}else this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.")},_fnStateSave:function(t){var i,r,n,o=this.s.dt.aoColumns;if(t.ColReorder=[],t.aaSorting){for(i=0;i<t.aaSorting.length;i++)t.aaSorting[i][0]=o[t.aaSorting[i][0]]._ColReorder_iOrigCol;var a=e.extend(!0,[],t.aoSearchCols);for(i=0,r=o.length;i<r;i++)n=o[i]._ColReorder_iOrigCol,t.aoSearchCols[n]=a[i],t.abVisCols[n]=o[i].bVisible,t.ColReorder.push(n)}else if(t.order){for(i=0;i<t.order.length;i++)t.order[i][0]=o[t.order[i][0]]._ColReorder_iOrigCol;var s=e.extend(!0,[],t.columns);for(i=0,r=o.length;i<r;i++)n=o[i]._ColReorder_iOrigCol,t.columns[n]=s[i],t.ColReorder.push(n)}},_fnMouseListener:function(t,i){var r=this;e(i).on("mousedown.ColReorder",function(e){r.s.enable&&r._fnMouseDown.call(r,e,i)}).on("touchstart.ColReorder",function(e){r.s.enable&&r._fnMouseDown.call(r,e,i)})},_fnMouseDown:function(t,n){var o=this,a=e(t.target).closest("th, td").offset(),s=parseInt(e(n).attr("data-column-index"),10);s!==r&&(this.s.mouse.startX=this._fnCursorPosition(t,"pageX"),this.s.mouse.startY=this._fnCursorPosition(t,"pageY"),this.s.mouse.offsetX=this._fnCursorPosition(t,"pageX")-a.left,this.s.mouse.offsetY=this._fnCursorPosition(t,"pageY")-a.top,this.s.mouse.target=this.s.dt.aoColumns[s].nTh,this.s.mouse.targetIndex=s,this.s.mouse.fromIndex=s,this._fnRegions(),e(i).on("mousemove.ColReorder touchmove.ColReorder",function(e){o._fnMouseMove.call(o,e)}).on("mouseup.ColReorder touchend.ColReorder",function(e){o._fnMouseUp.call(o,e)}))},_fnMouseMove:function(e){if(null===this.dom.drag){if(Math.pow(Math.pow(this._fnCursorPosition(e,"pageX")-this.s.mouse.startX,2)+Math.pow(this._fnCursorPosition(e,"pageY")-this.s.mouse.startY,2),.5)<5)return;this._fnCreateDragNode()}this.dom.drag.css({left:this._fnCursorPosition(e,"pageX")-this.s.mouse.offsetX,top:this._fnCursorPosition(e,"pageY")-this.s.mouse.offsetY});for(var t=!1,i=this.s.mouse.toIndex,r=1,n=this.s.aoTargets.length;r<n;r++)if(this._fnCursorPosition(e,"pageX")<this.s.aoTargets[r-1].x+(this.s.aoTargets[r].x-this.s.aoTargets[r-1].x)/2){this.dom.pointer.css("left",this.s.aoTargets[r-1].x),this.s.mouse.toIndex=this.s.aoTargets[r-1].to,t=!0;break}t||(this.dom.pointer.css("left",this.s.aoTargets[this.s.aoTargets.length-1].x),this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to),this.s.init.bRealtime&&i!==this.s.mouse.toIndex&&(this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex),this.s.mouse.fromIndex=this.s.mouse.toIndex,""===this.s.dt.oScroll.sX&&""===this.s.dt.oScroll.sY||this.s.dt.oInstance.fnAdjustColumnSizing(!1),this._fnRegions())},_fnMouseUp:function(t){e(i).off(".ColReorder"),null!==this.dom.drag&&(this.dom.drag.remove(),this.dom.pointer.remove(),this.dom.drag=null,this.dom.pointer=null,this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!0),this._fnSetColumnIndexes(),""===this.s.dt.oScroll.sX&&""===this.s.dt.oScroll.sY||this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))},_fnRegions:function(){var t=this.s.dt.aoColumns;this.s.aoTargets.splice(0,this.s.aoTargets.length),this.s.aoTargets.push({x:e(this.s.dt.nTable).offset().left,to:0});for(var i=0,r=this.s.aoTargets[0].x,n=0,o=t.length;n<o;n++)n!=this.s.mouse.fromIndex&&i++,t[n].bVisible&&"none"!==t[n].nTh.style.display&&(r+=e(t[n].nTh).outerWidth(),this.s.aoTargets.push({x:r,to:i}));0!==this.s.fixedRight&&this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight),0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed)},_fnCreateDragNode:function(){var t=""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY,i=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh,r=i.parentNode,n=r.parentNode,o=n.parentNode,a=e(i).clone();this.dom.drag=e(o.cloneNode(!1)).addClass("DTCR_clonedTable").append(e(n.cloneNode(!1)).append(e(r.cloneNode(!1)).append(a[0]))).css({position:"absolute",top:0,left:0,width:e(i).outerWidth(),height:e(i).outerHeight()}).appendTo("body"),this.dom.pointer=e("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:t?e("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:e(this.s.dt.nTable).offset().top,height:t?e("div.dataTables_scroll",this.s.dt.nTableWrapper).height():e(this.s.dt.nTable).height()}).appendTo("body")},_fnSetColumnIndexes:function(){e.each(this.s.dt.aoColumns,function(t,i){e(i.nTh).attr("data-column-index",t)})},_fnCursorPosition:function(e,t){return-1!==e.type.indexOf("touch")?e.originalEvent.touches[0][t]:e[t]}}),l.defaults={aiOrder:null,bEnable:!0,bRealtime:!0,iFixedColumnsLeft:0,iFixedColumnsRight:0,fnReorderCallback:null},l.version="1.5.1",e.fn.dataTable.ColReorder=l,e.fn.DataTable.ColReorder=l,"function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.10.8")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInstance;if(e._colReorder)t.oApi._fnLog(e,1,"ColReorder attempted to initialise twice. Ignoring second");else{var i=e.oInit,r=i.colReorder||i.oColReorder||{};new l(e,r)}return null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download"),e(i).on("preInit.dt.colReorder",function(t,i){if("dt"===t.namespace){var r=i.oInit.colReorder,o=n.defaults.colReorder;if(r||o){var a=e.extend({},r,o);!1!==r&&new l(i,a)}}}),e.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(e){e._colReorder.fnReset()})}),e.fn.dataTable.Api.register("colReorder.order()",function(e,t){return e?this.iterator("table",function(i){i._colReorder.fnOrder(e,t)}):this.context.length?this.context[0]._colReorder.fnOrder():null}),e.fn.dataTable.Api.register("colReorder.transpose()",function(e,t){return this.context.length&&this.context[0]._colReorder?this.context[0]._colReorder.fnTranspose(e,t):e}),e.fn.dataTable.Api.register("colReorder.move()",function(e,t,i,r){return this.context.length&&this.context[0]._colReorder.s.dt.oInstance.fnColReorder(e,t,i,r),this}),e.fn.dataTable.Api.register("colReorder.enable()",function(e){return this.iterator("table",function(t){t._colReorder&&t._colReorder.fnEnable(e)})}),e.fn.dataTable.Api.register("colReorder.disable()",function(){return this.iterator("table",function(e){e._colReorder&&e._colReorder.fnDisable()})}),l},r=[i(0),i(4)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n,o=e.fn.dataTable,a=function(t,i){var n=this;if(this instanceof a){i!==r&&!0!==i||(i={});var o=e.fn.dataTable.camelToHungarian;o&&(o(a.defaults,a.defaults,!0),o(a.defaults,i));var s=new e.fn.dataTable.Api(t).settings()[0];if(this.s={dt:s,iTableColumns:s.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===e(s.nTable).css("direction")},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},s._oFixedColumns)throw"FixedColumns already initialised on this table";s._oFixedColumns=this,s._bInitComplete?this._fnConstruct(i):s.oApi._fnCallbackReg(s,"aoInitComplete",function(){n._fnConstruct(i)},"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};return e.extend(a.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(e){delete e._DTTC_iHeight,e.style.height="auto"},fnSetRowHeight:function(e,t){e.style.height=t+"px"},fnGetPosition:function(t){var i,r=this.s.dt.oInstance;if(e(t).parents(".DTFC_Cloned").length){if("tr"===t.nodeName.toLowerCase())return i=e(t).index(),r.fnGetPosition(e("tr",this.s.dt.nTBody)[i]);var n=e(t).index();return i=e(t.parentNode).index(),[r.fnGetPosition(e("tr",this.s.dt.nTBody)[i]),n,r.oApi._fnVisibleToColumnIndex(this.s.dt,n)]}return r.fnGetPosition(t)},_fnConstruct:function(n){var o=this;if("function"==typeof this.s.dt.oInstance.fnVersionCheck&&!0===this.s.dt.oInstance.fnVersionCheck("1.8.0"))if(""!==this.s.dt.oScroll.sX){this.s=e.extend(!0,this.s,a.defaults,n);var s,l=this.s.dt.oClasses;this.dom.grid.dt=e(this.s.dt.nTable).parents("div."+l.sScrollWrapper)[0],this.dom.scroller=e("div."+l.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var c=!1;e(this.s.dt.nTableWrapper).on("mousedown.DTFC",function(t){0===t.button&&(c=!0,e(i).one("mouseup",function(){c=!1}))}),e(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){c||(s="main")}).on("scroll.DTFC",function(e){!s&&e.originalEvent&&(s="main"),"main"===s&&(o.s.iLeftColumns>0&&(o.dom.grid.left.liner.scrollTop=o.dom.scroller.scrollTop),o.s.iRightColumns>0&&(o.dom.grid.right.liner.scrollTop=o.dom.scroller.scrollTop))});var h="onwheel"in i.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";o.s.iLeftColumns>0&&e(o.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){c||(s="left")}).on("scroll.DTFC",function(e){!s&&e.originalEvent&&(s="left"),"left"===s&&(o.dom.scroller.scrollTop=o.dom.grid.left.liner.scrollTop,o.s.iRightColumns>0&&(o.dom.grid.right.liner.scrollTop=o.dom.grid.left.liner.scrollTop))}).on(h,function(e){var t="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX;o.dom.scroller.scrollLeft-=t}),o.s.iRightColumns>0&&e(o.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){c||(s="right")}).on("scroll.DTFC",function(e){!s&&e.originalEvent&&(s="right"),"right"===s&&(o.dom.scroller.scrollTop=o.dom.grid.right.liner.scrollTop,o.s.iLeftColumns>0&&(o.dom.grid.left.liner.scrollTop=o.dom.grid.right.liner.scrollTop))}).on(h,function(e){var t="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX;o.dom.scroller.scrollLeft-=t}),e(t).on("resize.DTFC",function(){o._fnGridLayout.call(o)});var u=!0,d=e(this.s.dt.nTable);d.on("draw.dt.DTFC",function(){o._fnColCalc(),o._fnDraw.call(o,u),u=!1}).on("column-sizing.dt.DTFC",function(){o._fnColCalc(),o._fnGridLayout(o)}).on("column-visibility.dt.DTFC",function(e,t,i,n,a){(a===r||a)&&(o._fnColCalc(),o._fnGridLayout(o),o._fnDraw(!0))}).on("select.dt.DTFC deselect.dt.DTFC",function(e,t,i,r){"dt"===e.namespace&&o._fnDraw(!1)}).on("destroy.dt.DTFC",function(){d.off(".DTFC"),e(o.dom.scroller).off(".DTFC"),e(t).off(".DTFC"),e(o.s.dt.nTableWrapper).off(".DTFC"),e(o.dom.grid.left.liner).off(".DTFC "+h),e(o.dom.grid.left.wrapper).remove(),e(o.dom.grid.right.liner).off(".DTFC "+h),e(o.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)}else this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else alert("FixedColumns "+a.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation")},_fnColCalc:function(){var t=this,i=0,r=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],e.each(this.s.dt.aoColumns,function(n,o){var a,s=e(o.nTh);if(s.filter(":visible").length){var l=s.outerWidth();0===t.s.aiOuterWidths.length&&(l+="string"==typeof(a=e(t.s.dt.nTable).css("border-left-width"))&&-1===a.indexOf("px")?1:parseInt(a,10)),t.s.aiOuterWidths.length===t.s.dt.aoColumns.length-1&&(l+="string"==typeof(a=e(t.s.dt.nTable).css("border-right-width"))&&-1===a.indexOf("px")?1:parseInt(a,10)),t.s.aiOuterWidths.push(l),t.s.aiInnerWidths.push(s.width()),n<t.s.iLeftColumns&&(i+=l),t.s.iTableColumns-t.s.iRightColumns<=n&&(r+=l)}else t.s.aiInnerWidths.push(0),t.s.aiOuterWidths.push(0)}),this.s.iLeftWidth=i,this.s.iRightWidth=r},_fnGridSetup:function(){var t,i=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var r=e('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;" aria-hidden="true"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;" aria-hidden="true"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],n=r.childNodes[0],o=r.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(r,this.dom.grid.dt),r.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=r,this.s.iLeftColumns>0&&(this.dom.grid.left.wrapper=n,this.dom.grid.left.head=n.childNodes[0],this.dom.grid.left.body=n.childNodes[1],this.dom.grid.left.liner=e("div.DTFC_LeftBodyLiner",r)[0],r.appendChild(n)),this.s.iRightColumns>0&&(this.dom.grid.right.wrapper=o,this.dom.grid.right.head=o.childNodes[0],this.dom.grid.right.body=o.childNodes[1],this.dom.grid.right.liner=e("div.DTFC_RightBodyLiner",r)[0],o.style.right=i.bar+"px",(t=e("div.DTFC_RightHeadBlocker",r)[0]).style.width=i.bar+"px",t.style.right=-i.bar+"px",this.dom.grid.right.headBlock=t,(t=e("div.DTFC_RightFootBlocker",r)[0]).style.width=i.bar+"px",t.style.right=-i.bar+"px",this.dom.grid.right.footBlock=t,r.appendChild(o)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,this.s.iLeftColumns>0&&(this.dom.grid.left.foot=n.childNodes[2]),this.s.iRightColumns>0&&(this.dom.grid.right.foot=o.childNodes[2])),this.s.rtl&&e("div.DTFC_RightHeadBlocker",r).css({left:-i.bar+"px",right:""})},_fnGridLayout:function(){var t,i=this,r=this.dom.grid,n=(e(r.wrapper).width(),this.s.dt.nTable.parentNode.offsetHeight),o=this.s.dt.nTable.parentNode.parentNode.offsetHeight,a=this._fnDTOverflow(),s=this.s.iLeftWidth,l=this.s.iRightWidth,c="rtl"===e(this.dom.body).css("direction"),h=function(t,r){a.bar?i._firefoxScrollError()?e(t).height()>34&&(t.style.width=r+a.bar+"px"):t.style.width=r+a.bar+"px":(t.style.width=r+20+"px",t.style.paddingRight="20px",t.style.boxSizing="border-box")};a.x&&(n-=a.bar),r.wrapper.style.height=o+"px",this.s.iLeftColumns>0&&((t=r.left.wrapper).style.width=s+"px",t.style.height="1px",c?(t.style.left="",t.style.right=0):(t.style.left=0,t.style.right=""),r.left.body.style.height=n+"px",r.left.foot&&(r.left.foot.style.top=(a.x?a.bar:0)+"px"),h(r.left.liner,s),r.left.liner.style.height=n+"px",r.left.liner.style.maxHeight=n+"px"),this.s.iRightColumns>0&&((t=r.right.wrapper).style.width=l+"px",t.style.height="1px",this.s.rtl?(t.style.left=a.y?a.bar+"px":0,t.style.right=""):(t.style.left="",t.style.right=a.y?a.bar+"px":0),r.right.body.style.height=n+"px",r.right.foot&&(r.right.foot.style.top=(a.x?a.bar:0)+"px"),h(r.right.liner,l),r.right.liner.style.height=n+"px",r.right.liner.style.maxHeight=n+"px",r.right.headBlock.style.display=a.y?"block":"none",r.right.footBlock.style.display=a.y?"block":"none")},_fnDTOverflow:function(){var e=this.s.dt.nTable,t=e.parentNode,i={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return e.offsetWidth>t.clientWidth&&(i.x=!0),e.offsetHeight>t.clientHeight&&(i.y=!0),i},_fnDraw:function(t){this._fnGridLayout(),this._fnCloneLeft(t),this._fnCloneRight(t),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),e(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(e){if(!(this.s.iRightColumns<=0)){var t,i=[];for(t=this.s.iTableColumns-this.s.iRightColumns;t<this.s.iTableColumns;t++)this.s.dt.aoColumns[t].bVisible&&i.push(t);this._fnClone(this.dom.clone.right,this.dom.grid.right,i,e)}},_fnCloneLeft:function(e){if(!(this.s.iLeftColumns<=0)){var t,i=[];for(t=0;t<this.s.iLeftColumns;t++)this.s.dt.aoColumns[t].bVisible&&i.push(t);this._fnClone(this.dom.clone.left,this.dom.grid.left,i,e)}},_fnCopyLayout:function(t,i,r){for(var n=[],o=[],a=[],s=0,l=t.length;s<l;s++){var c=[];c.nTr=e(t[s].nTr).clone(r,!1)[0];for(var h=0,u=this.s.iTableColumns;h<u;h++)if(-1!==e.inArray(h,i)){var d=e.inArray(t[s][h].cell,a);if(-1===d){var f=e(t[s][h].cell).clone(r,!1)[0];o.push(f),a.push(t[s][h].cell),c.push({cell:f,unique:t[s][h].unique})}else c.push({cell:o[d],unique:t[s][h].unique})}n.push(c)}return n},_fnClone:function(t,i,n,o){var a,s,l,c,h,u,d,f,p,m,g=this,v=this.s.dt;if(o){for(e(t.header).remove(),t.header=e(this.dom.header).clone(!0,!1)[0],t.header.className+=" DTFC_Cloned",t.header.style.width="100%",i.head.appendChild(t.header),f=this._fnCopyLayout(v.aoHeader,n,!0),(p=e(">thead",t.header)).empty(),a=0,s=f.length;a<s;a++)p[0].appendChild(f[a].nTr);v.oApi._fnDrawHead(v,f,!0)}else for(f=this._fnCopyLayout(v.aoHeader,n,!1),m=[],v.oApi._fnDetectHeader(m,e(">thead",t.header)[0]),a=0,s=f.length;a<s;a++)for(l=0,c=f[a].length;l<c;l++)m[a][l].cell.className=f[a][l].cell.className,e("span.DataTables_sort_icon",m[a][l].cell).each(function(){this.className=e("span.DataTables_sort_icon",f[a][l].cell)[0].className});this._fnEqualiseHeights("thead",this.dom.header,t.header),"auto"==this.s.sHeightMatch&&e(">tbody>tr",g.dom.body).css("height","auto"),null!==t.body&&(e(t.body).remove(),t.body=null),t.body=e(this.dom.body).clone(!0)[0],t.body.className+=" DTFC_Cloned",t.body.style.paddingBottom=v.oScroll.iBarWidth+"px",t.body.style.marginBottom=2*v.oScroll.iBarWidth+"px",null!==t.body.getAttribute("id")&&t.body.removeAttribute("id"),e(">thead>tr",t.body).empty(),e(">tfoot",t.body).remove();var y=e("tbody",t.body)[0];if(e(y).empty(),v.aiDisplay.length>0){var b=e(">thead>tr",t.body)[0];for(d=0;d<n.length;d++){h=n[d],(u=e(v.aoColumns[h].nTh).clone(!0)[0]).innerHTML="";var _=u.style;_.paddingTop="0",_.paddingBottom="0",_.borderTopWidth="0",_.borderBottomWidth="0",_.height=0,_.width=g.s.aiInnerWidths[h]+"px",b.appendChild(u)}e(">tbody>tr",g.dom.body).each(function(t){var i=!1===g.s.dt.oFeatures.bServerSide?g.s.dt.aiDisplay[g.s.dt._iDisplayStart+t]:t,r=g.s.dt.aoData[i].anCells||e(this).children("td, th"),o=this.cloneNode(!1);for(o.removeAttribute("id"),o.setAttribute("data-dt-row",i),d=0;d<n.length;d++)h=n[d],r.length>0&&((u=e(r[h]).clone(!0,!0)[0]).removeAttribute("id"),u.setAttribute("data-dt-row",i),u.setAttribute("data-dt-column",h),o.appendChild(u));y.appendChild(o)})}else e(">tbody>tr",g.dom.body).each(function(t){(u=this.cloneNode(!0)).className+=" DTFC_NoData",e("td",u).html(""),y.appendChild(u)});if(t.body.style.width="100%",t.body.style.margin="0",t.body.style.padding="0",v.oScroller!==r){var x=v.oScroller.dom.force;i.forcer?i.forcer.style.height=x.style.height:(i.forcer=x.cloneNode(!0),i.liner.appendChild(i.forcer))}if(i.liner.appendChild(t.body),this._fnEqualiseHeights("tbody",g.dom.body,t.body),null!==v.nTFoot){if(o){null!==t.footer&&t.footer.parentNode.removeChild(t.footer),t.footer=e(this.dom.footer).clone(!0,!0)[0],t.footer.className+=" DTFC_Cloned",t.footer.style.width="100%",i.foot.appendChild(t.footer),f=this._fnCopyLayout(v.aoFooter,n,!0);var w=e(">tfoot",t.footer);for(w.empty(),a=0,s=f.length;a<s;a++)w[0].appendChild(f[a].nTr);v.oApi._fnDrawHead(v,f,!0)}else{f=this._fnCopyLayout(v.aoFooter,n,!1);var S=[];for(v.oApi._fnDetectHeader(S,e(">tfoot",t.footer)[0]),a=0,s=f.length;a<s;a++)for(l=0,c=f[a].length;l<c;l++)S[a][l].cell.className=f[a][l].cell.className}this._fnEqualiseHeights("tfoot",this.dom.footer,t.footer)}var C=v.oApi._fnGetUniqueThs(v,e(">thead",t.header)[0]);e(C).each(function(e){h=n[e],this.style.width=g.s.aiInnerWidths[h]+"px"}),null!==g.s.dt.nTFoot&&(C=v.oApi._fnGetUniqueThs(v,e(">tfoot",t.footer)[0]),e(C).each(function(e){h=n[e],this.style.width=g.s.aiInnerWidths[h]+"px"}))},_fnGetTrNodes:function(e){for(var t=[],i=0,r=e.childNodes.length;i<r;i++)"TR"==e.childNodes[i].nodeName.toUpperCase()&&t.push(e.childNodes[i]);return t},_fnEqualiseHeights:function(t,i,r){if("none"!=this.s.sHeightMatch||"thead"===t||"tfoot"===t){var n,o,a,s,l,c=i.getElementsByTagName(t)[0],h=r.getElementsByTagName(t)[0],u=e(">"+t+">tr:eq(0)",i).children(":first"),d=(u.outerHeight(),u.height(),this._fnGetTrNodes(c)),f=this._fnGetTrNodes(h),p=[];for(n=0,o=f.length;n<o;n++)s=d[n].offsetHeight,a=(l=f[n].offsetHeight)>s?l:s,"semiauto"==this.s.sHeightMatch&&(d[n]._DTTC_iHeight=a),p.push(a);for(n=0,o=f.length;n<o;n++)f[n].style.height=p[n]+"px",d[n].style.height=p[n]+"px"}},_firefoxScrollError:function(){if(n===r){var t=e("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body");n=t[0].clientWidth===t[0].offsetWidth&&0!==this._fnDTOverflow().bar,t.remove()}return n}}),a.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},a.version="3.2.6",o.Api.register("fixedColumns()",function(){return this}),o.Api.register("fixedColumns().update()",function(){return this.iterator("table",function(e){e._oFixedColumns&&e._oFixedColumns.fnUpdate()})}),o.Api.register("fixedColumns().relayout()",function(){return this.iterator("table",function(e){e._oFixedColumns&&e._oFixedColumns.fnRedrawLayout()})}),o.Api.register("rows().recalcHeight()",function(){return this.iterator("row",function(e,t){e._oFixedColumns&&e._oFixedColumns.fnRecalculateHeight(this.row(t).node())})}),o.Api.register("fixedColumns().rowIndex()",function(t){return(t=e(t)).parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[t.index()]:this.row(t).index()}),o.Api.register("fixedColumns().cellIndex()",function(t){if((t=e(t)).parents(".DTFC_Cloned").length){var i,r=t.parent().index(),n=this.rows({page:"current"}).indexes()[r];if(t.parents(".DTFC_LeftWrapper").length)i=t.index();else i=this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+t.index();return{row:n,column:this.column.index("toData",i),columnVisible:i}}return this.cell(t).index()}),e(i).on("init.dt.fixedColumns",function(t,i){if("dt"===t.namespace){var r=i.oInit.fixedColumns,n=o.defaults.fixedColumns;if(r||n){var s=e.extend({},r,n);!1!==r&&new a(i,s)}}}),e.fn.dataTable.FixedColumns=a,e.fn.DataTable.FixedColumns=a,a},r=[i(0),i(4)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable,o=0,a=function(i,r){if(!(this instanceof a))throw"FixedHeader must be initialised with the 'new' keyword.";!0===r&&(r={}),i=new n.Api(i),this.c=e.extend(!0,{},a.defaults,r),this.s={dt:i,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:e(t).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:i.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+o++,scrollLeft:{header:-1,footer:-1},enable:!0},this.dom={floatingHeader:null,thead:e(i.table().header()),tbody:e(i.table().body()),tfoot:e(i.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var s=i.settings()[0];if(s._fixedHeader)throw"FixedHeader already initialised on table "+s.nTable.id;s._fixedHeader=this,this._constructor()};return e.extend(a.prototype,{enable:function(e){this.s.enable=e,this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&this.dom.tfoot.length&&this._modeChange("in-place","footer",!0),this.update()},headerOffset:function(e){return e!==r&&(this.c.headerOffset=e,this.update()),this.c.headerOffset},footerOffset:function(e){return e!==r&&(this.c.footerOffset=e,this.update()),this.c.footerOffset},update:function(){this._positions(),this._scroll(!0)},_constructor:function(){var i=this,r=this.s.dt;e(t).on("scroll"+this.s.namespace,function(){i._scroll()}).on("resize"+this.s.namespace,n.util.throttle(function(){i.s.position.windowHeight=e(t).height(),i.update()},50));var o=e(".fh-fixedHeader");!this.c.headerOffset&&o.length&&(this.c.headerOffset=o.outerHeight());var a=e(".fh-fixedFooter");!this.c.footerOffset&&a.length&&(this.c.footerOffset=a.outerHeight()),r.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc responsive-display.dt.dtfc",function(){i.update()}),r.on("destroy.dtfc",function(){i.c.header&&i._modeChange("in-place","header",!0),i.c.footer&&i.dom.tfoot.length&&i._modeChange("in-place","footer",!0),r.off(".dtfc"),e(t).off(i.s.namespace)}),this._positions(),this._scroll()},_clone:function(t,i){var r=this.s.dt,n=this.dom[t],o="header"===t?this.dom.thead:this.dom.tfoot;!i&&n.floating?n.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(n.floating&&(n.placeholder.remove(),this._unsize(t),n.floating.children().detach(),n.floating.remove()),n.floating=e(r.table().node().cloneNode(!1)).css("table-layout","fixed").attr("aria-hidden","true").removeAttr("id").append(o).appendTo("body"),n.placeholder=o.clone(!1),n.placeholder.find("*[id]").removeAttr("id"),n.host.prepend(n.placeholder),this._matchWidths(n.placeholder,n.floating))},_matchWidths:function(t,i){var r=function(i){return e(i,t).map(function(){return e(this).width()}).toArray()},n=function(t,r){e(t,i).each(function(t){e(this).css({width:r[t],minWidth:r[t]})})},o=r("th"),a=r("td");n("th",o),n("td",a)},_unsize:function(t){var i=this.dom[t].floating;i&&("footer"===t||"header"===t&&!this.s.autoWidth)?e("th, td",i).css({width:"",minWidth:""}):i&&"header"===t&&e("th, td",i).css("min-width","")},_horizontal:function(e,t){var i=this.dom[e],r=this.s.position,n=this.s.scrollLeft;i.floating&&n[e]!==t&&(i.floating.css("left",r.left-t),n[e]=t)},_modeChange:function(t,r,n){this.s.dt;var o=this.dom[r],a=this.s.position,s=this.dom["footer"===r?"tfoot":"thead"],l=e.contains(s[0],i.activeElement)?i.activeElement:null;l&&l.blur(),"in-place"===t?(o.placeholder&&(o.placeholder.remove(),o.placeholder=null),this._unsize(r),"header"===r?o.host.prepend(s):o.host.append(s),o.floating&&(o.floating.remove(),o.floating=null)):"in"===t?(this._clone(r,n),o.floating.addClass("fixedHeader-floating").css("header"===r?"top":"bottom",this.c[r+"Offset"]).css("left",a.left+"px").css("width",a.width+"px"),"footer"===r&&o.floating.css("top","")):"below"===t?(this._clone(r,n),o.floating.addClass("fixedHeader-locked").css("top",a.tfootTop-a.theadHeight).css("left",a.left+"px").css("width",a.width+"px")):"above"===t&&(this._clone(r,n),o.floating.addClass("fixedHeader-locked").css("top",a.tbodyTop).css("left",a.left+"px").css("width",a.width+"px")),l&&l!==i.activeElement&&setTimeout(function(){l.focus()},10),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[r+"Mode"]=t},_positions:function(){var t=this.s.dt.table(),i=this.s.position,r=this.dom,n=e(t.node()),o=n.children("thead"),a=n.children("tfoot"),s=r.tbody;i.visible=n.is(":visible"),i.width=n.outerWidth(),i.left=n.offset().left,i.theadTop=o.offset().top,i.tbodyTop=s.offset().top,i.theadHeight=i.tbodyTop-i.theadTop,a.length?(i.tfootTop=a.offset().top,i.tfootBottom=i.tfootTop+a.outerHeight(),i.tfootHeight=i.tfootBottom-i.tfootTop):(i.tfootTop=i.tbodyTop+s.outerHeight(),i.tfootBottom=i.tfootTop,i.tfootHeight=i.tfootTop)},_scroll:function(t){var r,n,o=e(i).scrollTop(),a=e(i).scrollLeft(),s=this.s.position;this.s.enable&&(this.c.header&&(r=!s.visible||o<=s.theadTop-this.c.headerOffset?"in-place":o<=s.tfootTop-s.theadHeight-this.c.headerOffset?"in":"below",(t||r!==this.s.headerMode)&&this._modeChange(r,"header",t),this._horizontal("header",a)),this.c.footer&&this.dom.tfoot.length&&(n=!s.visible||o+s.windowHeight>=s.tfootBottom+this.c.footerOffset?"in-place":s.windowHeight+o>s.tbodyTop+s.tfootHeight+this.c.footerOffset?"in":"above",(t||n!==this.s.footerMode)&&this._modeChange(n,"footer",t),this._horizontal("footer",a)))}}),a.version="3.1.5",a.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},e.fn.dataTable.FixedHeader=a,e.fn.DataTable.FixedHeader=a,e(i).on("init.dt.dtfh",function(t,i,r){if("dt"===t.namespace){var o=i.oInit.fixedHeader,s=n.defaults.fixedHeader;if((o||s)&&!i._fixedHeader){var l=e.extend({},s,o);!1!==o&&new a(i,l)}}}),n.Api.register("fixedHeader()",function(){}),n.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(e){var t=e._fixedHeader;t&&t.update()})}),n.Api.register("fixedHeader.enable()",function(e){return this.iterator("table",function(t){var i=t._fixedHeader;e=e===r||e,i&&e!==i.s.enable&&i.enable(e)})}),n.Api.register("fixedHeader.disable()",function(){return this.iterator("table",function(e){var t=e._fixedHeader;t&&t.s.enable&&t.enable(!1)})}),e.each(["header","footer"],function(e,t){n.Api.register("fixedHeader."+t+"Offset()",function(e){var i=this.context;return e===r?i.length&&i[0]._fixedHeader?i[0]._fixedHeader[t+"Offset"]():r:this.iterator("table",function(i){var r=i._fixedHeader;r&&r[t+"Offset"](e)})})}),a},r=[i(0),i(4)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable,o=function(t,i){if(!n.versionCheck||!n.versionCheck("1.10.8"))throw"KeyTable requires DataTables 1.10.8 or newer";this.c=e.extend(!0,{},n.defaults.keyTable,o.defaults,i),this.s={dt:new n.Api(t),enable:!0,focusDraw:!1,waitingForDraw:!1,lastFocus:null},this.dom={};var r=this.s.dt.settings()[0],a=r.keytable;if(a)return a;r.keytable=this,this._constructor()};return e.extend(o.prototype,{blur:function(){this._blur()},enable:function(e){this.s.enable=e},focus:function(e,t){this._focus(this.s.dt.cell(e,t))},focused:function(e){if(!this.s.lastFocus)return!1;var t=this.s.lastFocus.cell.index();return e.row===t.row&&e.column===t.column},_constructor:function(){this._tabInput();var t=this,r=this.s.dt,n=e(r.table().node());if("static"===n.css("position")&&n.css("position","relative"),e(r.table().body()).on("click.keyTable","th, td",function(e){if(!1!==t.s.enable){var i=r.cell(this);i.any()&&t._focus(i,null,!1,e)}}),e(i).on("keydown.keyTable",function(e){t._key(e)}),this.c.blurable&&e(i).on("mousedown.keyTable",function(i){e(i.target).parents(".dataTables_filter").length&&t._blur(),e(i.target).parents().filter(r.table().container()).length||e(i.target).parents("div.DTE").length||e(i.target).parents("div.editor-datetime").length||e(i.target).parents().filter(".DTFC_Cloned").length||t._blur()}),this.c.editor){var o=this.c.editor;o.on("open.keyTableMain",function(e,i,r){"inline"!==i&&t.s.enable&&(t.enable(!1),o.one("close.keyTable",function(){t.enable(!0)}))}),this.c.editOnFocus&&r.on("key-focus.keyTable key-refocus.keyTable",function(e,i,r,n){t._editor(null,n)}),r.on("key.keyTable",function(e,i,r,n,o){t._editor(r,o)})}r.settings()[0].oFeatures.bStateSave&&r.on("stateSaveParams.keyTable",function(e,i,r){r.keyTable=t.s.lastFocus?t.s.lastFocus.cell.index():null}),r.on("draw.keyTable",function(n){if(!t.s.focusDraw){var o=t.s.lastFocus;if(o&&o.node&&e(o.node).closest("body")===i.body){var a=t.s.lastFocus.relative,s=r.page.info(),l=a.row+s.start;if(0===s.recordsDisplay)return;l>=s.recordsDisplay&&(l=s.recordsDisplay-1),t._focus(l,a.column,!0,n)}}}),this.c.clipboard&&this._clipboard(),r.on("destroy.keyTable",function(){r.off(".keyTable"),e(r.table().body()).off("click.keyTable","th, td"),e(i).off("keydown.keyTable").off("click.keyTable").off("copy.keyTable").off("paste.keyTable")});var a=r.state.loaded();a&&a.keyTable?r.one("init",function(){var e=r.cell(a.keyTable);e.any()&&e.focus()}):this.c.focus&&r.cell(this.c.focus).focus()},_blur:function(){if(this.s.enable&&this.s.lastFocus){var t=this.s.lastFocus.cell;e(t.node()).removeClass(this.c.className),this.s.lastFocus=null,this._updateFixedColumns(t.index().column),this._emitEvent("key-blur",[this.s.dt,t])}},_clipboard:function(){var r=this.s.dt,n=this;t.getSelection&&(e(i).on("copy.keyTable",function(e){var i=e.originalEvent,r=t.getSelection().toString(),o=n.s.lastFocus;!r&&o&&(i.clipboardData.setData("text/plain",o.cell.render(n.c.clipboardOrthogonal)),i.preventDefault())}),e(i).on("paste.keyTable",function(e){var o,a=e.originalEvent,s=n.s.lastFocus,l=i.activeElement,c=n.c.editor;!s||l&&"body"!==l.nodeName.toLowerCase()||(a.preventDefault(),t.clipboardData&&t.clipboardData.getData?o=t.clipboardData.getData("Text"):a.clipboardData&&a.clipboardData.getData&&(o=a.clipboardData.getData("text/plain")),c?c.inline(s.cell.index()).set(c.displayed()[0],o).submit():(s.cell.data(o),r.draw(!1)))}))},_columns:function(){var e=this.s.dt,t=e.columns(this.c.columns).indexes(),i=[];return e.columns(":visible").every(function(e){-1!==t.indexOf(e)&&i.push(e)}),i},_editor:function(t,r){var n=this,o=this.s.dt,a=this.c.editor;if(!e("div.DTE",this.s.lastFocus.cell.node()).length&&!(t>=0&&t<=9||11===t||12===t||t>=14&&t<=31||t>=112&&t<=123||t>=127&&t<=159)){r.stopPropagation(),13===t&&r.preventDefault();var s=function(){a.one("open.keyTable",function(){a.off("cancelOpen.keyTable"),n.c.editAutoSelect&&e("div.DTE_Field_InputControl input, div.DTE_Field_InputControl textarea").select(),o.keys.enable(n.c.editorKeys),o.one("key-blur.editor",function(){a.displayed()&&a.submit()}),a.one("close",function(){o.keys.enable(!0),o.off("key-blur.editor")})}).one("cancelOpen.keyTable",function(){a.off("open.keyTable")}).inline(n.s.lastFocus.cell.index())};13===t?e(i).one("keyup",function(){s()}):s()}},_emitEvent:function(t,i){this.s.dt.iterator("table",function(r,n){e(r.nTable).triggerHandler(t,i)})},_focus:function(n,o,a,s){var l=this,c=this.s.dt,h=c.page.info(),u=this.s.lastFocus;if(s||(s=null),this.s.enable){if("number"!=typeof n){if(!n.any())return;var d=n.index();o=d.column,n=c.rows({filter:"applied",order:"applied"}).indexes().indexOf(d.row),h.serverSide&&(n+=h.start)}if(-1!==h.length&&(n<h.start||n>=h.start+h.length))return this.s.focusDraw=!0,this.s.waitingForDraw=!0,void c.one("draw",function(){l.s.focusDraw=!1,l.s.waitingForDraw=!1,l._focus(n,o,r,s)}).page(Math.floor(n/h.length)).draw(!1);if(-1!==e.inArray(o,this._columns())){h.serverSide&&(n-=h.start);var f=c.cells(null,o,{search:"applied",order:"applied"}).flatten(),p=c.cell(f[n]);if(u){if(u.node===p.node())return void this._emitEvent("key-refocus",[this.s.dt,p,s||null]);this._blur()}var m=e(p.node());if(m.addClass(this.c.className),this._updateFixedColumns(o),a===r||!0===a){this._scroll(e(t),e(i.body),m,"offset");var g=c.table().body().parentNode;if(g!==c.table().header().parentNode){var v=e(g.parentNode);this._scroll(v,v,m,"position")}}this.s.lastFocus={cell:p,node:p.node(),relative:{row:c.rows({page:"current"}).indexes().indexOf(p.index().row),column:p.index().column}},this._emitEvent("key-focus",[this.s.dt,p,s||null]),c.state.save()}}},_key:function(t){if(this.s.waitingForDraw)t.preventDefault();else{var i=this.s.enable,r=!0===i||"navigation-only"===i;if(i)if(!(0===t.keyCode||t.ctrlKey||t.metaKey||t.altKey)||t.ctrlKey&&t.altKey)if(this.s.lastFocus){var n=this.s.dt,o=!!this.s.dt.settings()[0].oScroll.sY;if(!this.c.keys||-1!==e.inArray(t.keyCode,this.c.keys))switch(t.keyCode){case 9:this._shift(t,t.shiftKey?"left":"right",!0);break;case 27:this.s.blurable&&!0===i&&this._blur();break;case 33:case 34:r&&!o&&(t.preventDefault(),n.page(33===t.keyCode?"previous":"next").draw(!1));break;case 35:case 36:if(r){t.preventDefault();var a=n.cells({page:"current"}).indexes(),s=this._columns();this._focus(n.cell(a[35===t.keyCode?a.length-1:s[0]]),null,!0,t)}break;case 37:r&&this._shift(t,"left");break;case 38:r&&this._shift(t,"up");break;case 39:r&&this._shift(t,"right");break;case 40:r&&this._shift(t,"down");break;default:!0===i&&this._emitEvent("key",[n,t.keyCode,this.s.lastFocus.cell,t])}}}},_scroll:function(e,t,i,r){var n=i[r](),o=i.outerHeight(),a=i.outerWidth(),s=t.scrollTop(),l=t.scrollLeft(),c=e.height(),h=e.width();"position"===r&&(n.top+=parseInt(i.closest("table").css("top"),10)),n.top<s&&t.scrollTop(n.top),n.left<l&&t.scrollLeft(n.left),n.top+o>s+c&&o<c&&t.scrollTop(n.top+o-c),n.left+a>l+h&&a<h&&t.scrollLeft(n.left+a-h)},_shift:function(t,i,r){var n=this.s.dt,o=n.page.info(),a=o.recordsDisplay,s=this.s.lastFocus.cell,l=this._columns();if(s){var c=n.rows({filter:"applied",order:"applied"}).indexes().indexOf(s.index().row);o.serverSide&&(c+=o.start);var h=n.columns(l).indexes().indexOf(s.index().column),u=c,d=l[h];"right"===i?h>=l.length-1?(u++,d=l[0]):d=l[h+1]:"left"===i?0===h?(u--,d=l[l.length-1]):d=l[h-1]:"up"===i?u--:"down"===i&&u++,u>=0&&u<a&&-1!==e.inArray(d,l)?(t.preventDefault(),this._focus(u,d,!0,t)):r&&this.c.blurable?this._blur():t.preventDefault()}},_tabInput:function(){var t=this,i=this.s.dt,r=null!==this.c.tabIndex?this.c.tabIndex:i.settings()[0].iTabIndex;-1!=r&&e('<div><input type="text" tabindex="'+r+'"/></div>').css({position:"absolute",height:1,width:0,overflow:"hidden"}).insertBefore(i.table().node()).children().on("focus",function(e){i.cell(":eq(0)",{page:"current"}).any()&&t._focus(i.cell(":eq(0)","0:visible",{page:"current"}),null,!0,e)})},_updateFixedColumns:function(e){var t=this.s.dt,i=t.settings()[0];if(i._oFixedColumns){var r=i._oFixedColumns.s.iLeftColumns,n=i.aoColumns.length-i._oFixedColumns.s.iRightColumns;(e<r||e>=n)&&t.fixedColumns().update()}}}),o.defaults={blurable:!0,className:"focus",clipboard:!0,clipboardOrthogonal:"display",columns:"",editor:null,editorKeys:"navigation-only",editAutoSelect:!0,editOnFocus:!1,focus:null,keys:null,tabIndex:null},o.version="2.4.1",e.fn.dataTable.KeyTable=o,e.fn.DataTable.KeyTable=o,n.Api.register("cell.blur()",function(){return this.iterator("table",function(e){e.keytable&&e.keytable.blur()})}),n.Api.register("cell().focus()",function(){return this.iterator("cell",function(e,t,i){e.keytable&&e.keytable.focus(t,i)})}),n.Api.register("keys.disable()",function(){return this.iterator("table",function(e){e.keytable&&e.keytable.enable(!1)})}),n.Api.register("keys.enable()",function(e){return this.iterator("table",function(t){t.keytable&&t.keytable.enable(e===r||e)})}),n.ext.selector.cell.push(function(e,t,i){var n=t.focused,o=e.keytable,a=[];if(!o||n===r)return i;for(var s=0,l=i.length;s<l;s++)(!0===n&&o.focused(i[s])||!1===n&&!o.focused(i[s]))&&a.push(i[s]);return a}),e(i).on("preInit.dt.dtk",function(t,i,r){if("dt"===t.namespace){var a=i.oInit.keys,s=n.defaults.keys;if(a||s){var l=e.extend({},s,a);!1!==a&&new o(i,l)}}}),o},r=[i(0),i(4)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable,o=function(t,i){if(!n.versionCheck||!n.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={dt:new n.Api(t),columns:[],current:[]},this.s.dt.settings()[0].responsive||(i&&"string"==typeof i.details?i.details={type:i.details}:i&&!1===i.details?i.details={type:!1}:i&&!0===i.details&&(i.details={type:"inline"}),this.c=e.extend(!0,{},o.defaults,n.defaults.responsive,i),t.responsive=this,this._constructor())};e.extend(o.prototype,{_constructor:function(){var i=this,r=this.s.dt,o=r.settings()[0],a=e(t).width();r.settings()[0]._responsive=this,e(t).on("resize.dtr orientationchange.dtr",n.util.throttle(function(){var r=e(t).width();r!==a&&(i._resize(),a=r)})),o.oApi._fnCallbackReg(o,"aoRowCreatedCallback",function(t,n,o){-1!==e.inArray(!1,i.s.current)&&e(">td, >th",t).each(function(t){var n=r.column.index("toData",t);!1===i.s.current[n]&&e(this).css("display","none")})}),r.on("destroy.dtr",function(){r.off(".dtr"),e(r.table().body()).off(".dtr"),e(t).off("resize.dtr orientationchange.dtr"),e.each(i.s.current,function(e,t){!1===t&&i._setColumnVis(e,!0)})}),this.c.breakpoints.sort(function(e,t){return e.width<t.width?1:e.width>t.width?-1:0}),this._classLogic(),this._resizeAuto();var s=this.c.details;!1!==s.type&&(i._detailsInit(),r.on("column-visibility.dtr",function(){i._timer&&clearTimeout(i._timer),i._timer=setTimeout(function(){i._timer=null,i._classLogic(),i._resizeAuto(),i._resize(),i._redrawChildren()},100)}),r.on("draw.dtr",function(){i._redrawChildren()}),e(r.table().node()).addClass("dtr-"+s.type)),r.on("column-reorder.dtr",function(e,t,r){i._classLogic(),i._resizeAuto(),i._resize()}),r.on("column-sizing.dtr",function(){i._resizeAuto(),i._resize()}),r.on("preXhr.dtr",function(){var e=[];r.rows().every(function(){this.child.isShown()&&e.push(this.id(!0))}),r.one("draw.dtr",function(){i._resizeAuto(),i._resize(),r.rows(e).every(function(){i._detailsDisplay(this,!1)})})}),r.on("init.dtr",function(t,n,o){i._resizeAuto(),i._resize(),e.inArray(!1,i.s.current)&&r.columns.adjust()}),this._resize()},_columnsVisiblity:function(t){var i,r,n=this.s.dt,o=this.s.columns,a=o.map(function(e,t){return{columnIdx:t,priority:e.priority}}).sort(function(e,t){return e.priority!==t.priority?e.priority-t.priority:e.columnIdx-t.columnIdx}),s=e.map(o,function(i,r){return!1===n.column(r).visible()?"not-visible":(!i.auto||null!==i.minWidth)&&(!0===i.auto?"-":-1!==e.inArray(t,i.includeIn))}),l=0;for(i=0,r=s.length;i<r;i++)!0===s[i]&&(l+=o[i].minWidth);var c=n.settings()[0].oScroll,h=c.sY||c.sX?c.iBarWidth:0,u=n.table().container().offsetWidth-h-l;for(i=0,r=s.length;i<r;i++)o[i].control&&(u-=o[i].minWidth);var d=!1;for(i=0,r=a.length;i<r;i++){var f=a[i].columnIdx;"-"===s[f]&&!o[f].control&&o[f].minWidth&&(d||u-o[f].minWidth<0?(d=!0,s[f]=!1):s[f]=!0,u-=o[f].minWidth)}var p=!1;for(i=0,r=o.length;i<r;i++)if(!o[i].control&&!o[i].never&&!1===s[i]){p=!0;break}for(i=0,r=o.length;i<r;i++)o[i].control&&(s[i]=p),"not-visible"===s[i]&&(s[i]=!1);return-1===e.inArray(!0,s)&&(s[0]=!0),s},_classLogic:function(){var t=this,i=this.c.breakpoints,n=this.s.dt,o=n.columns().eq(0).map(function(t){var i=this.column(t),o=i.header().className,a=n.settings()[0].aoColumns[t].responsivePriority;if(a===r){var s=e(i.header()).data("priority");a=s!==r?1*s:1e4}return{className:o,includeIn:[],auto:!1,control:!1,never:!!o.match(/\bnever\b/),priority:a}}),a=function(t,i){var r=o[t].includeIn;-1===e.inArray(i,r)&&r.push(i)},s=function(e,r,n,s){var l,c,h;if(n){if("max-"===n)for(l=t._find(r).width,c=0,h=i.length;c<h;c++)i[c].width<=l&&a(e,i[c].name);else if("min-"===n)for(l=t._find(r).width,c=0,h=i.length;c<h;c++)i[c].width>=l&&a(e,i[c].name);else if("not-"===n)for(c=0,h=i.length;c<h;c++)-1===i[c].name.indexOf(s)&&a(e,i[c].name)}else o[e].includeIn.push(r)};o.each(function(t,r){for(var n=t.className.split(" "),o=!1,a=0,l=n.length;a<l;a++){var c=e.trim(n[a]);if("all"===c)return o=!0,void(t.includeIn=e.map(i,function(e){return e.name}));if("none"===c||t.never)return void(o=!0);if("control"===c)return o=!0,void(t.control=!0);e.each(i,function(e,t){var i=t.name.split("-"),n=new RegExp("(min\\-|max\\-|not\\-)?("+i[0]+")(\\-[_a-zA-Z0-9])?"),a=c.match(n);a&&(o=!0,a[2]===i[0]&&a[3]==="-"+i[1]?s(r,t.name,a[1],a[2]+a[3]):a[2]!==i[0]||a[3]||s(r,t.name,a[1],a[2]))})}o||(t.auto=!0)}),this.s.columns=o},_detailsDisplay:function(t,i){var r=this,n=this.s.dt,o=this.c.details;if(o&&!1!==o.type){var a=o.display(t,i,function(){return o.renderer(n,t[0],r._detailsObj(t[0]))});!0!==a&&!1!==a||e(n.table().node()).triggerHandler("responsive-display.dt",[n,t,a,i])}},_detailsInit:function(){var t=this,i=this.s.dt,r=this.c.details;"inline"===r.type&&(r.target="td:first-child, th:first-child"),i.on("draw.dtr",function(){t._tabIndexes()}),t._tabIndexes(),e(i.table().body()).on("keyup.dtr","td, th",function(t){13===t.keyCode&&e(this).data("dtr-keyboard")&&e(this).click()});var n=r.target,o="string"==typeof n?n:"td, th";e(i.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",o,function(r){if(e(i.table().node()).hasClass("collapsed")&&-1!==e.inArray(e(this).closest("tr").get(0),i.rows().nodes().toArray())){if("number"==typeof n){var o=n<0?i.columns().eq(0).length+n:n;if(i.cell(this).index().column!==o)return}var a=i.row(e(this).closest("tr"));"click"===r.type?t._detailsDisplay(a,!1):"mousedown"===r.type?e(this).css("outline","none"):"mouseup"===r.type&&e(this).blur().css("outline","")}})},_detailsObj:function(t){var i=this,r=this.s.dt;return e.map(this.s.columns,function(e,n){if(!e.never&&!e.control)return{title:r.settings()[0].aoColumns[n].sTitle,data:r.cell(t,n).render(i.c.orthogonal),hidden:r.column(n).visible()&&!i.s.current[n],columnIndex:n,rowIndex:t}})},_find:function(e){for(var t=this.c.breakpoints,i=0,r=t.length;i<r;i++)if(t[i].name===e)return t[i]},_redrawChildren:function(){var e=this,t=this.s.dt;t.rows({page:"current"}).iterator("row",function(i,r){t.row(r);e._detailsDisplay(t.row(r),!0)})},_resize:function(){var i,r,n=this,o=this.s.dt,a=e(t).width(),s=this.c.breakpoints,l=s[0].name,c=this.s.columns,h=this.s.current.slice();for(i=s.length-1;i>=0;i--)if(a<=s[i].width){l=s[i].name;break}var u=this._columnsVisiblity(l);this.s.current=u;var d=!1;for(i=0,r=c.length;i<r;i++)if(!1===u[i]&&!c[i].never&&!c[i].control&&!1==!o.column(i).visible()){d=!0;break}e(o.table().node()).toggleClass("collapsed",d);var f=!1,p=0;o.columns().eq(0).each(function(e,t){!0===u[t]&&p++,u[t]!==h[t]&&(f=!0,n._setColumnVis(e,u[t]))}),f&&(this._redrawChildren(),e(o.table().node()).trigger("responsive-resize.dt",[o,this.s.current]),0===o.page.info().recordsDisplay&&e("td",o.table().body()).eq(0).attr("colspan",p))},_resizeAuto:function(){var t=this.s.dt,i=this.s.columns;if(this.c.auto&&-1!==e.inArray(!0,e.map(i,function(e){return e.auto}))){e.isEmptyObject(a)||e.each(a,function(e){var i=e.split("-");s(t,1*i[0],1*i[1])});t.table().node().offsetWidth,t.columns;var r=t.table().node().cloneNode(!1),n=e(t.table().header().cloneNode(!1)).appendTo(r),o=e(t.table().body()).clone(!1,!1).empty().appendTo(r),l=t.columns().header().filter(function(e){return t.column(e).visible()}).to$().clone(!1).css("display","table-cell").css("min-width",0);e(o).append(e(t.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");var c=t.table().footer();if(c){var h=e(c.cloneNode(!1)).appendTo(r),u=t.columns().footer().filter(function(e){return t.column(e).visible()}).to$().clone(!1).css("display","table-cell");e("<tr/>").append(u).appendTo(h)}e("<tr/>").append(l).appendTo(n),"inline"===this.c.details.type&&e(r).addClass("dtr-inline collapsed"),e(r).find("[name]").removeAttr("name"),e(r).css("position","relative");var d=e("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(r);d.insertBefore(t.table().node()),l.each(function(e){var r=t.column.index("fromVisible",e);i[r].minWidth=this.offsetWidth||0}),d.remove()}},_setColumnVis:function(t,i){var r=this.s.dt,n=i?"":"none";e(r.column(t).header()).css("display",n),e(r.column(t).footer()).css("display",n),r.column(t).nodes().to$().css("display",n),e.isEmptyObject(a)||r.cells(null,t).indexes().each(function(e){s(r,e.row,e.column)})},_tabIndexes:function(){var t=this.s.dt,i=t.cells({page:"current"}).nodes().to$(),r=t.settings()[0],n=this.c.details.target;i.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),"number"==typeof n?t.cells(null,n,{page:"current"}).nodes().to$().attr("tabIndex",r.iTabIndex).data("dtr-keyboard",1):("td:first-child, th:first-child"===n&&(n=">td:first-child, >th:first-child"),e(n,t.rows({page:"current"}).nodes()).attr("tabIndex",r.iTabIndex).data("dtr-keyboard",1))}}),o.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],o.display={childRow:function(t,i,r){return i?e(t.node()).hasClass("parent")?(t.child(r(),"child").show(),!0):void 0:t.child.isShown()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(r(),"child").show(),e(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,i,r){return!i&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(r(),"child").show(),e(t.node()).addClass("parent"),!0)},modal:function(t){return function(r,n,o){if(n)e("div.dtr-modal-content").empty().append(o());else{var a=function(){s.remove(),e(i).off("keypress.dtr")},s=e('<div class="dtr-modal"/>').append(e('<div class="dtr-modal-display"/>').append(e('<div class="dtr-modal-content"/>').append(o())).append(e('<div class="dtr-modal-close">&times;</div>').click(function(){a()}))).append(e('<div class="dtr-modal-background"/>').click(function(){a()})).appendTo("body");e(i).on("keyup.dtr",function(e){27===e.keyCode&&(e.stopPropagation(),a())})}t&&t.header&&e("div.dtr-modal-content").prepend("<h2>"+t.header(r)+"</h2>")}}};var a={};function s(e,t,i){var n=t+"-"+i;if(a[n]){for(var o=e.cell(t,i).node(),s=a[n][0].parentNode.childNodes,l=[],c=0,h=s.length;c<h;c++)l.push(s[c]);for(var u=0,d=l.length;u<d;u++)o.appendChild(l[u]);a[n]=r}}o.renderer={listHiddenNodes:function(){return function(t,i,r){var n=e('<ul data-dtr-index="'+i+'" class="dtr-details"/>'),o=!1;e.each(r,function(i,r){r.hidden&&(e('<li data-dtr-index="'+r.columnIndex+'" data-dt-row="'+r.rowIndex+'" data-dt-column="'+r.columnIndex+'"><span class="dtr-title">'+r.title+"</span> </li>").append(e('<span class="dtr-data"/>').append(function(e,t,i){var r=t+"-"+i;if(a[r])return a[r];for(var n=[],o=e.cell(t,i).node().childNodes,s=0,l=o.length;s<l;s++)n.push(o[s]);return a[r]=n,n}(t,r.rowIndex,r.columnIndex))).appendTo(n),o=!0)});return!!o&&n}},listHidden:function(){return function(t,i,r){var n=e.map(r,function(e){return e.hidden?'<li data-dtr-index="'+e.columnIndex+'" data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><span class="dtr-title">'+e.title+'</span> <span class="dtr-data">'+e.data+"</span></li>":""}).join("");return!!n&&e('<ul data-dtr-index="'+i+'" class="dtr-details"/>').append(n)}},tableAll:function(t){return t=e.extend({tableClass:""},t),function(i,r,n){var o=e.map(n,function(e){return'<tr data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><td>'+e.title+":</td> <td>"+e.data+"</td></tr>"}).join("");return e('<table class="'+t.tableClass+' dtr-details" width="100%"/>').append(o)}}},o.defaults={breakpoints:o.breakpoints,auto:!0,details:{display:o.display.childRow,renderer:o.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var l=e.fn.dataTable.Api;return l.register("responsive()",function(){return this}),l.register("responsive.index()",function(t){return{column:(t=e(t)).data("dtr-index"),row:t.parent().data("dtr-index")}}),l.register("responsive.rebuild()",function(){return this.iterator("table",function(e){e._responsive&&e._responsive._classLogic()})}),l.register("responsive.recalc()",function(){return this.iterator("table",function(e){e._responsive&&(e._responsive._resizeAuto(),e._responsive._resize())})}),l.register("responsive.hasHidden()",function(){var t=this.context[0];return!!t._responsive&&-1!==e.inArray(!1,t._responsive.s.current)}),l.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(e,t){return!!e._responsive&&e._responsive.s.current[t]},1)}),o.version="2.2.3",e.fn.dataTable.Responsive=o,e.fn.DataTable.Responsive=o,e(i).on("preInit.dt.dtr",function(t,i,r){if("dt"===t.namespace&&(e(i.nTable).hasClass("responsive")||e(i.nTable).hasClass("dt-responsive")||i.oInit.responsive||n.defaults.responsive)){var a=i.oInit.responsive;!1!==a&&new o(i,e.isPlainObject(a)?a:{})}}),o},r=[i(0),i(4)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable,o=function(t,n){if(this instanceof o){n===r&&(n={});var a=e.fn.dataTable.Api(t);this.s={dt:a.settings()[0],dtApi:a,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1,forceReposition:!1},this.s=e.extend(this.s,o.oDefaults,n),this.s.heights.row=this.s.rowHeight,this.dom={force:i.createElement("div"),scroller:null,table:null,loader:null},this.s.dt.oScroller||(this.s.dt.oScroller=this,this._fnConstruct())}else alert("Scroller warning: Scroller must be initialised with the 'new' keyword.")};e.extend(o.prototype,{fnRowToPixels:function(e,t,i){var n,o=e-this.s.baseRowTop;return i?(n=this._domain("virtualToPhysical",this.s.baseScrollTop),n+=o*this.s.heights.row):(n=this.s.baseScrollTop,n+=o*this.s.heights.row),t||t===r?parseInt(n,10):n},fnPixelsToRow:function(e,t,i){var n=e-this.s.baseScrollTop,o=i?(this._domain("physicalToVirtual",this.s.baseScrollTop)+n)/this.s.heights.row:n/this.s.heights.row+this.s.baseRowTop;return t||t===r?parseInt(o,10):o},fnScrollToRow:function(t,i){var r=this,n=!1,o=this.fnRowToPixels(t),a=t-(this.s.displayBuffer-1)/2*this.s.viewportRows;a<0&&(a=0),(o>this.s.redrawBottom||o<this.s.redrawTop)&&this.s.dt._iDisplayStart!==a&&(n=!0,o=this._domain("virtualToPhysical",t*this.s.heights.row),this.s.redrawTop<o&&o<this.s.redrawBottom&&(this.s.forceReposition=!0,i=!1)),void 0===i||i?(this.s.ani=n,e(this.dom.scroller).animate({scrollTop:o},function(){setTimeout(function(){r.s.ani=!1},25)})):e(this.dom.scroller).scrollTop(o)},fnMeasure:function(t){this.s.autoHeight&&this._fnCalcRowHeight();var n=this.s.heights;n.row&&(n.viewport=e.contains(i,this.dom.scroller)?e(this.dom.scroller).height():this._parseHeight(e(this.dom.scroller).css("height")),n.viewport||(n.viewport=this._parseHeight(e(this.dom.scroller).css("max-height"))),this.s.viewportRows=parseInt(n.viewport/n.row,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer),(t===r||t)&&this.s.dt.oInstance.fnDraw(!1)},fnPageInfo:function(){var e=this.s.dt,t=this.dom.scroller.scrollTop,i=e.fnRecordsDisplay(),r=Math.ceil(this.fnPixelsToRow(t+this.s.heights.viewport,!1,this.s.ani));return{start:Math.floor(this.fnPixelsToRow(t,!1,this.s.ani)),end:i<r?i-1:r-1}},_fnConstruct:function(){var i=this,r=this.s.dtApi;if(this.s.dt.oFeatures.bPaginate){this.dom.force.style.position="relative",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=e("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=e(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",e(r.table().container()).addClass("DTS"),this.s.loadingIndicator&&(this.dom.loader=e('<div class="dataTables_processing DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none"),e(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader)),this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1),this.fnMeasure(!1),this.s.ingnoreScroll=!0,this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){i.s.dtApi.state.save()},500),e(this.dom.scroller).on("scroll.dt-scroller",function(e){i._fnScroll.call(i)}),e(this.dom.scroller).on("touchstart.dt-scroller",function(){i._fnScroll.call(i)}),e(t).on("resize.dt-scroller",function(){i.fnMeasure(!1),i._fnInfo()});var n=!0,o=r.state.loaded();r.on("stateSaveParams.scroller",function(e,t,r){r.scroller={topRow:n&&o&&o.scroller?o.scroller.topRow:i.s.topRowFloat,baseScrollTop:i.s.baseScrollTop,baseRowTop:i.s.baseRowTop},n=!1}),o&&o.scroller&&(this.s.topRowFloat=o.scroller.topRow,this.s.baseScrollTop=o.scroller.baseScrollTop,this.s.baseRowTop=o.scroller.baseRowTop),r.on("init.scroller",function(){i.fnMeasure(!1),i._fnDrawCallback(),r.on("draw.scroller",function(){i._fnDrawCallback()})}),r.on("preDraw.dt.scroller",function(){i._fnScrollForce()}),r.on("destroy.scroller",function(){e(t).off("resize.dt-scroller"),e(i.dom.scroller).off(".dt-scroller"),e(i.s.dt.nTable).off(".scroller"),e(i.s.dt.nTableWrapper).removeClass("DTS"),e("div.DTS_Loading",i.dom.scroller.parentNode).remove(),i.dom.table.style.position="",i.dom.table.style.top="",i.dom.table.style.left=""})}else this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller")},_fnScroll:function(){var t,i=this,r=this.s.heights,n=this.dom.scroller.scrollTop;if(!this.s.skip&&!this.s.ingnoreScroll)if(this.s.dt.bFiltered||this.s.dt.bSorted)this.s.lastScrollTop=0;else{if(this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout(function(){i.s.dtApi.state.save()},250),this.s.forceReposition||n<this.s.redrawTop||n>this.s.redrawBottom){var o=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);if(t=parseInt(this._domain("physicalToVirtual",n)/r.row,10)-o,this.s.topRowFloat=this._domain("physicalToVirtual",n)/r.row,this.s.forceReposition=!1,t<=0?t=0:t+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(t=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength)<0&&(t=0):t%2!=0&&t++,t!=this.s.dt._iDisplayStart){this.s.tableTop=e(this.s.dt.nTable).offset().top,this.s.tableBottom=e(this.s.dt.nTable).height()+this.s.tableTop;var a=function(){null===i.s.scrollDrawReq&&(i.s.scrollDrawReq=n),i.s.dt._iDisplayStart=t,i.s.dt.oApi._fnDraw(i.s.dt)};this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(a,this.s.serverWait)):a(),this.dom.loader&&!this.s.loaderVisible&&(this.dom.loader.css("display","block"),this.s.loaderVisible=!0)}}else this.s.topRowFloat=this.fnPixelsToRow(n,!1,!0);this.s.lastScrollTop=n,this.s.stateSaveThrottle()}},_domain:function(e,t){var i,r=this.s.heights;if(r.virtual===r.scroll)return t;var n=(r.scroll-r.viewport)/2,o=(r.virtual-r.viewport)/2;return i=o/(n*n),"virtualToPhysical"===e?t<o?Math.pow(t/i,.5):(t=2*o-t)<0?r.scroll:2*n-Math.pow(t/i,.5):"physicalToVirtual"===e?t<n?t*t*i:(t=2*n-t)<0?r.virtual:2*o-t*t*i:void 0},_parseHeight:function(i){var r,n=/^([+-]?(?:\d+(?:\.\d+)?|\.\d+))(px|em|rem|vh)$/.exec(i);if(null===n)return 0;var o=parseFloat(n[1]),a=n[2];return"px"===a?r=o:"vh"===a?r=o/100*e(t).height():"rem"===a?r=o*parseFloat(e(":root").css("font-size")):"em"===a&&(r=o*parseFloat(e("body").css("font-size"))),r||0},_fnDrawCallback:function(){var t=this,i=this.s.heights,r=this.dom.scroller.scrollTop,n=(i.viewport,e(this.s.dt.nTable).height()),o=this.s.dt._iDisplayStart,a=this.s.dt._iDisplayLength,s=this.s.dt.fnRecordsDisplay();this.s.skip=!0,(this.s.dt.bSorted||this.s.dt.bFiltered)&&0===o&&(this.s.topRowFloat=0),r=0===o?this.s.topRowFloat*i.row:o+a>=s?i.scroll-(s-this.s.topRowFloat)*i.row:this._domain("virtualToPhysical",this.s.topRowFloat*i.row),this.dom.scroller.scrollTop=r,this.s.baseScrollTop=r,this.s.baseRowTop=this.s.topRowFloat;var l=r-(this.s.topRowFloat-o)*i.row;0===o?l=0:o+a>=s&&(l=i.scroll-n),this.dom.table.style.top=l+"px",this.s.tableTop=l,this.s.tableBottom=n+this.s.tableTop;var c=(r-this.s.tableTop)*this.s.boundaryScale;if(this.s.redrawTop=r-c,this.s.redrawBottom=r+c>i.scroll-i.viewport-i.row?i.scroll-i.viewport-i.row:r+c,this.s.skip=!1,this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.iScroller){var h=!(!this.s.dt.sAjaxSource&&!t.s.dt.ajax||this.s.dt.oFeatures.bServerSide);(h&&2==this.s.dt.iDraw||!h&&1==this.s.dt.iDraw)&&setTimeout(function(){e(t.dom.scroller).scrollTop(t.s.dt.oLoadedState.iScroller),t.s.redrawTop=t.s.dt.oLoadedState.iScroller-i.viewport/2,setTimeout(function(){t.s.ingnoreScroll=!1},0)},0)}else t.s.ingnoreScroll=!1;this.s.dt.oFeatures.bInfo&&setTimeout(function(){t._fnInfo.call(t)},0),this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css("display","none"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var e=this.s.heights;e.virtual=e.row*this.s.dt.fnRecordsDisplay(),e.scroll=e.virtual,e.scroll>1e6&&(e.scroll=1e6),this.dom.force.style.height=e.scroll>this.s.heights.row?e.scroll+"px":this.s.heights.row+"px"},_fnCalcRowHeight:function(){var t=this.s.dt,i=t.nTable,r=i.cloneNode(!1),n=e("<tbody/>").appendTo(r),o=e('<div class="'+t.oClasses.sWrapper+' DTS"><div class="'+t.oClasses.sScrollWrapper+'"><div class="'+t.oClasses.sScrollBody+'"></div></div></div>');for(e("tbody tr:lt(4)",i).clone().appendTo(n);e("tr",n).length<3;)n.append("<tr><td>&nbsp;</td></tr>");e("div."+t.oClasses.sScrollBody,o).append(r);var a=this.s.dt.nHolding||i.parentNode;e(a).is(":visible")||(a="body"),o.appendTo(a),this.s.heights.row=e("tr",n).eq(1).outerHeight(),o.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var t,i=this.s.dt,r=i.oLanguage,n=this.dom.scroller.scrollTop,o=Math.floor(this.fnPixelsToRow(n,!1,this.s.ani)+1),a=i.fnRecordsTotal(),s=i.fnRecordsDisplay(),l=Math.ceil(this.fnPixelsToRow(n+this.s.heights.viewport,!1,this.s.ani)),c=s<l?s:l,h=i.fnFormatNumber(o),u=i.fnFormatNumber(c),d=i.fnFormatNumber(a),f=i.fnFormatNumber(s);t=0===i.fnRecordsDisplay()&&i.fnRecordsDisplay()==i.fnRecordsTotal()?r.sInfoEmpty+r.sInfoPostFix:0===i.fnRecordsDisplay()?r.sInfoEmpty+" "+r.sInfoFiltered.replace("_MAX_",d)+r.sInfoPostFix:i.fnRecordsDisplay()==i.fnRecordsTotal()?r.sInfo.replace("_START_",h).replace("_END_",u).replace("_MAX_",d).replace("_TOTAL_",f)+r.sInfoPostFix:r.sInfo.replace("_START_",h).replace("_END_",u).replace("_MAX_",d).replace("_TOTAL_",f)+" "+r.sInfoFiltered.replace("_MAX_",i.fnFormatNumber(i.fnRecordsTotal()))+r.sInfoPostFix;var p=r.fnInfoCallback;p&&(t=p.call(i.oInstance,i,o,c,a,s,t));var m=i.aanFeatures.i;if(void 0!==m)for(var g=0,v=m.length;g<v;g++)e(m[g]).html(t);e(i.nTable).triggerHandler("info.dt")}}}),o.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},o.oDefaults=o.defaults,o.version="1.5.1","function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.10.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInit,i=t.scroller||t.oScroller||{};new o(e,i)},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.10.0 or greater - www.datatables.net/download"),e(i).on("preInit.dt.dtscroller",function(t,i){if("dt"===t.namespace){var r=i.oInit.scroller,a=n.defaults.scroller;if(r||a){var s=e.extend({},r,a);!1!==r&&new o(i,s)}}}),e.fn.dataTable.Scroller=o,e.fn.DataTable.Scroller=o;var a=e.fn.dataTable.Api;return a.register("scroller()",function(){return this}),a.register("scroller().rowToPixels()",function(e,t,i){var r=this.context;if(r.length&&r[0].oScroller)return r[0].oScroller.fnRowToPixels(e,t,i)}),a.register("scroller().pixelsToRow()",function(e,t,i){var r=this.context;if(r.length&&r[0].oScroller)return r[0].oScroller.fnPixelsToRow(e,t,i)}),a.register(["scroller().scrollToRow()","scroller.toPosition()"],function(e,t){return this.iterator("table",function(i){i.oScroller&&i.oScroller.fnScrollToRow(e,t)}),this}),a.register("row().scrollTo()",function(e){var t=this;return this.iterator("row",function(i,r){if(i.oScroller){var n=t.rows({order:"applied",search:"applied"}).indexes().indexOf(r);i.oScroller.fnScrollToRow(n,e)}}),this}),a.register("scroller.measure()",function(e){return this.iterator("table",function(t){t.oScroller&&t.oScroller.fnMeasure(e)}),this}),a.register("scroller.page()",function(){var e=this.context;if(e.length&&e[0].oScroller)return e[0].oScroller.fnPageInfo()}),o},r=[i(0),i(4)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o;o=function(e,t,i,r){"use strict";var n=e.fn.dataTable;function o(e,t,i){var r,n,o,a=function(t,i){if(t>i){var r=i;i=t,t=r}var n=!1;return e.columns(":visible").indexes().filter(function(e){return e===t&&(n=!0),e===i?(n=!1,!0):n})},s=function(t,i){var r=e.rows({search:"applied"}).indexes();if(r.indexOf(t)>r.indexOf(i)){var n=i;i=t,t=n}var o=!1;return r.filter(function(e){return e===t&&(o=!0),e===i?(o=!1,!0):o})};e.cells({selected:!0}).any()||i?(n=a(i.column,t.column),o=s(i.row,t.row)):(n=a(0,t.column),o=s(0,t.row)),r=e.cells(o,n).flatten(),e.cells(t,{selected:!0}).any()?e.cells(r).deselect():e.cells(r).select()}function a(t){var i=t.settings()[0]._select.selector;e(t.table().container()).off("mousedown.dtSelect",i).off("mouseup.dtSelect",i).off("click.dtSelect",i),e("body").off("click.dtSelect"+t.table().node().id)}function s(i){var r,n=e(i.table().container()),o=i.settings()[0],a=o._select.selector;n.on("mousedown.dtSelect",a,function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&n.css("-moz-user-select","none").one("selectstart.dtSelect",a,function(){return!1}),t.getSelection&&(r=t.getSelection())}).on("mouseup.dtSelect",a,function(){n.css("-moz-user-select","")}).on("click.dtSelect",a,function(n){var o,a=i.select.items();if(t.getSelection){var s=t.getSelection();if((!s.anchorNode||e(s.anchorNode).closest("table")[0]===i.table().node())&&s!==r)return}var c=i.settings()[0],h=i.settings()[0].oClasses.sWrapper.replace(/ /g,".");if(e(n.target).closest("div."+h)[0]==i.table().container()){var u=i.cell(e(n.target).closest("td, th"));if(u.any()){var f=e.Event("user-select.dt");if(l(i,f,[a,u,n]),!f.isDefaultPrevented()){var p=u.index();"row"===a?(o=p.row,d(n,i,c,"row",o)):"column"===a?(o=u.index().column,d(n,i,c,"column",o)):"cell"===a&&(o=u.index(),d(n,i,c,"cell",o)),c._select_lastCell=p}}}}),e("body").on("click.dtSelect"+i.table().node().id,function(t){if(o._select.blurable){if(e(t.target).parents().filter(i.table().container()).length)return;if(0===e(t.target).parents("html").length)return;if(e(t.target).parents("div.DTE").length)return;u(o,!0)}})}function l(t,i,r,n){n&&!t.flatten().length||("string"==typeof i&&(i+=".dt"),r.unshift(t),e(t.table().node()).trigger(i,r))}function c(t){var i=t.settings()[0];if(i._select.info&&i.aanFeatures.i&&"api"!==t.select.style()){var r=t.rows({selected:!0}).flatten().length,n=t.columns({selected:!0}).flatten().length,o=t.cells({selected:!0}).flatten().length,a=function(i,r,n){i.append(e('<span class="select-item"/>').append(t.i18n("select."+r+"s",{_:"%d "+r+"s selected",0:"",1:"1 "+r+" selected"},n)))};e.each(i.aanFeatures.i,function(t,i){i=e(i);var s=e('<span class="select-info"/>');a(s,"row",r),a(s,"column",n),a(s,"cell",o);var l=i.children("span.select-info");l.length&&l.remove(),""!==s.text()&&i.append(s)})}}function h(t,i,r,n){var o=t[i+"s"]({search:"applied"}).indexes(),a=e.inArray(n,o),s=e.inArray(r,o);if(t[i+"s"]({selected:!0}).any()||-1!==a){if(a>s){var l=s;s=a,a=l}o.splice(s+1,o.length),o.splice(0,a)}else o.splice(e.inArray(r,o)+1,o.length);t[i](r,{selected:!0}).any()?(o.splice(e.inArray(r,o),1),t[i+"s"](o).deselect()):t[i+"s"](o).select()}function u(e,t){if(t||"single"===e._select.style){var i=new n.Api(e);i.rows({selected:!0}).deselect(),i.columns({selected:!0}).deselect(),i.cells({selected:!0}).deselect()}}function d(e,t,i,r,n){var a=t.select.style(),s=t[r](n,{selected:!0}).any();if("os"===a)if(e.ctrlKey||e.metaKey)t[r](n).select(!s);else if(e.shiftKey)"cell"===r?o(t,n,i._select_lastCell||null):h(t,r,n,i._select_lastCell?i._select_lastCell[r]:null);else{var l=t[r+"s"]({selected:!0});s&&1===l.flatten().length?t[r](n).deselect():(l.deselect(),t[r](n).select())}else"multi+shift"==a&&e.shiftKey?"cell"===r?o(t,n,i._select_lastCell||null):h(t,r,n,i._select_lastCell?i._select_lastCell[r]:null):t[r](n).select(!s)}n.select={},n.select.version="1.2.7",n.select.init=function(t){var i=t.settings()[0],o=i.oInit.select,a=n.defaults.select,s=o===r?a:o,l="row",c="api",h=!1,u=!0,d="td, th",f="selected",p=!1;i._select={},!0===s?(c="os",p=!0):"string"==typeof s?(c=s,p=!0):e.isPlainObject(s)&&(s.blurable!==r&&(h=s.blurable),s.info!==r&&(u=s.info),s.items!==r&&(l=s.items),s.style!==r&&(c=s.style,p=!0),s.selector!==r&&(d=s.selector),s.className!==r&&(f=s.className)),t.select.selector(d),t.select.items(l),t.select.style(c),t.select.blurable(h),t.select.info(u),i._select.className=f,e.fn.dataTable.ext.order["select-checkbox"]=function(t,i){return this.api().column(i,{order:"index"}).nodes().map(function(i){return"row"===t._select.items?e(i).parent().hasClass(t._select.className):"cell"===t._select.items&&e(i).hasClass(t._select.className)})},!p&&e(t.table().node()).hasClass("selectable")&&t.select.style("os")},e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,t){n.ext.selector[t.type].push(function(e,i,r){var n,o=i.selected,a=[];if(!0!==o&&!1!==o)return r;for(var s=0,l=r.length;s<l;s++)n=e[t.prop][r[s]],(!0===o&&!0===n._select_selected||!1===o&&!n._select_selected)&&a.push(r[s]);return a})}),n.ext.selector.cell.push(function(e,t,i){var n,o=t.selected,a=[];if(o===r)return i;for(var s=0,l=i.length;s<l;s++)n=e.aoData[i[s].row],(!0===o&&n._selected_cells&&!0===n._selected_cells[i[s].column]||!1===o&&(!n._selected_cells||!n._selected_cells[i[s].column]))&&a.push(i[s]);return a});var f=n.Api.register,p=n.Api.registerPlural;function m(e,t){return function(i){return i.i18n("buttons."+e,t)}}function g(e){var t=e._eventNamespace;return"draw.dt.DT"+t+" select.dt.DT"+t+" deselect.dt.DT"+t}f("select()",function(){return this.iterator("table",function(e){n.select.init(new n.Api(e))})}),f("select.blurable()",function(e){return e===r?this.context[0]._select.blurable:this.iterator("table",function(t){t._select.blurable=e})}),f("select.info()",function(e){return c===r?this.context[0]._select.info:this.iterator("table",function(t){t._select.info=e})}),f("select.items()",function(e){return e===r?this.context[0]._select.items:this.iterator("table",function(t){t._select.items=e,l(new n.Api(t),"selectItems",[e])})}),f("select.style()",function(t){return t===r?this.context[0]._select.style:this.iterator("table",function(i){i._select.style=t,i._select_init||function(t){var i=new n.Api(t);t.aoRowCreatedCallback.push({fn:function(i,r,n){var o,a,s=t.aoData[n];for(s._select_selected&&e(i).addClass(t._select.className),o=0,a=t.aoColumns.length;o<a;o++)(t.aoColumns[o]._select_selected||s._selected_cells&&s._selected_cells[o])&&e(s.anCells[o]).addClass(t._select.className)},sName:"select-deferRender"}),i.on("preXhr.dt.dtSelect",function(){var e=i.rows({selected:!0}).ids(!0).filter(function(e){return e!==r}),t=i.cells({selected:!0}).eq(0).map(function(e){var t=i.row(e.row).id(!0);return t?{row:t,column:e.column}:r}).filter(function(e){return e!==r});i.one("draw.dt.dtSelect",function(){i.rows(e).select(),t.any()&&t.each(function(e){i.cells(e.row,e.column).select()})})}),i.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){c(i)}),i.on("destroy.dtSelect",function(){a(i),i.off(".dtSelect")})}(i);var o=new n.Api(i);a(o),"api"!==t&&s(o),l(new n.Api(i),"selectStyle",[t])})}),f("select.selector()",function(e){return e===r?this.context[0]._select.selector:this.iterator("table",function(t){a(new n.Api(t)),t._select.selector=e,"api"!==t._select.style&&s(new n.Api(t))})}),p("rows().select()","row().select()",function(t){var i=this;return!1===t?this.deselect():(this.iterator("row",function(t,i){u(t),t.aoData[i]._select_selected=!0,e(t.aoData[i].nTr).addClass(t._select.className)}),this.iterator("table",function(e,t){l(i,"select",["row",i[t]],!0)}),this)}),p("columns().select()","column().select()",function(t){var i=this;return!1===t?this.deselect():(this.iterator("column",function(t,i){u(t),t.aoColumns[i]._select_selected=!0;var r=new n.Api(t).column(i);e(r.header()).addClass(t._select.className),e(r.footer()).addClass(t._select.className),r.nodes().to$().addClass(t._select.className)}),this.iterator("table",function(e,t){l(i,"select",["column",i[t]],!0)}),this)}),p("cells().select()","cell().select()",function(t){var i=this;return!1===t?this.deselect():(this.iterator("cell",function(t,i,n){u(t);var o=t.aoData[i];o._selected_cells===r&&(o._selected_cells=[]),o._selected_cells[n]=!0,o.anCells&&e(o.anCells[n]).addClass(t._select.className)}),this.iterator("table",function(e,t){l(i,"select",["cell",i[t]],!0)}),this)}),p("rows().deselect()","row().deselect()",function(){var t=this;return this.iterator("row",function(t,i){t.aoData[i]._select_selected=!1,e(t.aoData[i].nTr).removeClass(t._select.className)}),this.iterator("table",function(e,i){l(t,"deselect",["row",t[i]],!0)}),this}),p("columns().deselect()","column().deselect()",function(){var t=this;return this.iterator("column",function(t,i){t.aoColumns[i]._select_selected=!1;var r=new n.Api(t),o=r.column(i);e(o.header()).removeClass(t._select.className),e(o.footer()).removeClass(t._select.className),r.cells(null,i).indexes().each(function(i){var r=t.aoData[i.row],n=r._selected_cells;!r.anCells||n&&n[i.column]||e(r.anCells[i.column]).removeClass(t._select.className)})}),this.iterator("table",function(e,i){l(t,"deselect",["column",t[i]],!0)}),this}),p("cells().deselect()","cell().deselect()",function(){var t=this;return this.iterator("cell",function(t,i,r){var n=t.aoData[i];n._selected_cells[r]=!1,n.anCells&&!t.aoColumns[r]._select_selected&&e(n.anCells[r]).removeClass(t._select.className)}),this.iterator("table",function(e,i){l(t,"deselect",["cell",t[i]],!0)}),this});var v=0;return e.extend(n.ext.buttons,{selected:{text:m("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(t,i,r){var n=this;r._eventNamespace=".select"+v++,t.on(g(r),function(){n.enable(function(t,i){return!(-1===e.inArray("rows",i.limitTo)||!t.rows({selected:!0}).any())||!(-1===e.inArray("columns",i.limitTo)||!t.columns({selected:!0}).any())||!(-1===e.inArray("cells",i.limitTo)||!t.cells({selected:!0}).any())}(t,r))}),this.disable()},destroy:function(e,t,i){e.off(i._eventNamespace)}},selectedSingle:{text:m("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e,t,i){var r=this;i._eventNamespace=".select"+v++,e.on(g(i),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;r.enable(1===t)}),this.disable()},destroy:function(e,t,i){e.off(i._eventNamespace)}},selectAll:{text:m("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:m("selectNone","Deselect all"),className:"buttons-select-none",action:function(){u(this.settings()[0],!0)},init:function(e,t,i){var r=this;i._eventNamespace=".select"+v++,e.on(g(i),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;r.enable(t>0)}),this.disable()},destroy:function(e,t,i){e.off(i._eventNamespace)}}}),e.each(["Row","Column","Cell"],function(e,t){var i=t.toLowerCase();n.ext.buttons["select"+t+"s"]={text:m("select"+t+"s","Select "+i+"s"),className:"buttons-select-"+i+"s",action:function(){this.select.items(i)},init:function(e){var t=this;e.on("selectItems.dt.DT",function(e,r,n){t.active(n===i)})}}}),e(i).on("preInit.dt.dtSelect",function(e,t){"dt"===e.namespace&&n.select.init(new n.Api(t))}),n.select},r=[i(0),i(4)],void 0===(n=function(e){return o(e,window,document)}.apply(t,r))||(e.exports=n)},function(e,t,i){var r,n,o,a,s,l,c,h,u=u||{},d=d||{},f=f||{REVISION:"55"};d.console=d.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}},d.Int32Array=d.Int32Array||Array,d.Float32Array=d.Float32Array||Array,String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},String.prototype.endsWith=String.prototype.endsWith||function(e){var t=String(e),i=this.lastIndexOf(t);return(-1<i&&i)===this.length-t.length},String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!u.requestAnimationFrame;++i)u.requestAnimationFrame=u[t[i]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[t[i]+"CancelAnimationFrame"]||u[t[i]+"CancelRequestAnimationFrame"];void 0===u.requestAnimationFrame&&(u.requestAnimationFrame=function(t,i){var r=Date.now(),n=Math.max(0,16-(r-e)),o=u.setTimeout(function(){t(r+n)},n);return e=r+n,o}),u.cancelAnimationFrame=u.cancelAnimationFrame||function(e){u.clearTimeout(e)}}(),f.CullFaceNone=0,f.CullFaceBack=1,f.CullFaceFront=2,f.CullFaceFrontBack=3,f.FrontFaceDirectionCW=0,f.FrontFaceDirectionCCW=1,f.BasicShadowMap=0,f.PCFShadowMap=1,f.PCFSoftShadowMap=2,f.FrontSide=0,f.BackSide=1,f.DoubleSide=2,f.NoShading=0,f.FlatShading=1,f.SmoothShading=2,f.NoColors=0,f.FaceColors=1,f.VertexColors=2,f.NoBlending=0,f.NormalBlending=1,f.AdditiveBlending=2,f.SubtractiveBlending=3,f.MultiplyBlending=4,f.CustomBlending=5,f.AddEquation=100,f.SubtractEquation=101,f.ReverseSubtractEquation=102,f.ZeroFactor=200,f.OneFactor=201,f.SrcColorFactor=202,f.OneMinusSrcColorFactor=203,f.SrcAlphaFactor=204,f.OneMinusSrcAlphaFactor=205,f.DstAlphaFactor=206,f.OneMinusDstAlphaFactor=207,f.DstColorFactor=208,f.OneMinusDstColorFactor=209,f.SrcAlphaSaturateFactor=210,f.MultiplyOperation=0,f.MixOperation=1,f.AddOperation=2,f.UVMapping=function(){},f.CubeReflectionMapping=function(){},f.CubeRefractionMapping=function(){},f.SphericalReflectionMapping=function(){},f.SphericalRefractionMapping=function(){},f.RepeatWrapping=1e3,f.ClampToEdgeWrapping=1001,f.MirroredRepeatWrapping=1002,f.NearestFilter=1003,f.NearestMipMapNearestFilter=1004,f.NearestMipMapLinearFilter=1005,f.LinearFilter=1006,f.LinearMipMapNearestFilter=1007,f.LinearMipMapLinearFilter=1008,f.UnsignedByteType=1009,f.ByteType=1010,f.ShortType=1011,f.UnsignedShortType=1012,f.IntType=1013,f.UnsignedIntType=1014,f.FloatType=1015,f.UnsignedShort4444Type=1016,f.UnsignedShort5551Type=1017,f.UnsignedShort565Type=1018,f.AlphaFormat=1019,f.RGBFormat=1020,f.RGBAFormat=1021,f.LuminanceFormat=1022,f.LuminanceAlphaFormat=1023,f.RGB_S3TC_DXT1_Format=2001,f.RGBA_S3TC_DXT1_Format=2002,f.RGBA_S3TC_DXT3_Format=2003,f.RGBA_S3TC_DXT5_Format=2004,f.Color=function(e){return void 0!==e&&this.set(e),this},f.Color.prototype={constructor:f.Color,r:1,g:1,b:1,set:function(e){switch(typeof e){case"number":this.setHex(e);break;case"string":this.setStyle(e)}},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSV:function(e,t,i){var r,n,o,a,s;return 0===i?this.r=this.g=this.b=0:(o=i*(1-t),a=i*(1-t*(n=6*e-(r=Math.floor(6*e)))),s=i*(1-t*(1-n)),0===r?(this.r=i,this.g=s,this.b=o):1===r?(this.r=a,this.g=i,this.b=o):2===r?(this.r=o,this.g=i,this.b=s):3===r?(this.r=o,this.g=a,this.b=i):4===r?(this.r=s,this.g=o,this.b=i):5===r&&(this.r=i,this.g=o,this.b=a)),this},setStyle:function(e){if(/^rgb\((\d+),(\d+),(\d+)\)$/i.test(e)){var t=/^rgb\((\d+),(\d+),(\d+)\)$/i.exec(e);return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,this}if(/^rgb\((\d+)\%,(\d+)\%,(\d+)\%\)$/i.test(e)){t=/^rgb\((\d+)\%,(\d+)\%,(\d+)\%\)$/i.exec(e);return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(e)){t=/^\#([0-9a-f]{6})$/i.exec(e);return this.setHex(parseInt(t[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)){t=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e);return this.setHex(parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3],16)),this}if(/^(\w+)$/i.test(e))return this.setHex(f.ColorKeywords[e]),this},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e){return this.r=e.r*e.r,this.g=e.g*e.g,this.b=e.b*e.b,this},copyLinearToGamma:function(e){return this.r=Math.sqrt(e.r),this.g=Math.sqrt(e.g),this.b=Math.sqrt(e.b),this},convertGammaToLinear:function(){var e=this.r,t=this.g,i=this.b;return this.r=e*e,this.g=t*t,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},getHSV:function(e){var t,i,r=this.r,n=this.g,o=this.b,a=Math.max(Math.max(r,n),o),s=Math.min(Math.min(r,n),o),l=a;if(s===a)t=0,i=0;else{var c=a-s;i=c/a,t=r===a?(n-o)/c:n===a?2+(o-r)/c:4+(r-n)/c,(t/=6)<0&&(t+=1),t>1&&(t-=1)}return void 0===e&&(e={h:0,s:0,v:0}),e.h=t,e.s=i,e.v=l,e},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},clone:function(){return(new f.Color).setRGB(this.r,this.g,this.b)}},f.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},f.Quaternion=function(e,t,i,r){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==r?r:1},f.Quaternion.prototype={constructor:f.Quaternion,set:function(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEuler:function(e,t){var i=Math.cos(e.x/2),r=Math.cos(e.y/2),n=Math.cos(e.z/2),o=Math.sin(e.x/2),a=Math.sin(e.y/2),s=Math.sin(e.z/2);return void 0===t||"XYZ"===t?(this.x=o*r*n+i*a*s,this.y=i*a*n-o*r*s,this.z=i*r*s+o*a*n,this.w=i*r*n-o*a*s):"YXZ"===t?(this.x=o*r*n+i*a*s,this.y=i*a*n-o*r*s,this.z=i*r*s-o*a*n,this.w=i*r*n+o*a*s):"ZXY"===t?(this.x=o*r*n-i*a*s,this.y=i*a*n+o*r*s,this.z=i*r*s+o*a*n,this.w=i*r*n-o*a*s):"ZYX"===t?(this.x=o*r*n-i*a*s,this.y=i*a*n+o*r*s,this.z=i*r*s-o*a*n,this.w=i*r*n+o*a*s):"YZX"===t?(this.x=o*r*n+i*a*s,this.y=i*a*n+o*r*s,this.z=i*r*s-o*a*n,this.w=i*r*n-o*a*s):"XZY"===t&&(this.x=o*r*n-i*a*s,this.y=i*a*n-o*r*s,this.z=i*r*s+o*a*n,this.w=i*r*n+o*a*s),this},setFromAxisAngle:function(e,t){var i=t/2,r=Math.sin(i);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(i),this},setFromRotationMatrix:function(e){var t,i=e.elements,r=i[0],n=i[4],o=i[8],a=i[1],s=i[5],l=i[9],c=i[2],h=i[6],u=i[10],d=r+s+u;return d>0?(t=.5/Math.sqrt(d+1),this.w=.25/t,this.x=(h-l)*t,this.y=(o-c)*t,this.z=(a-n)*t):r>s&&r>u?(t=2*Math.sqrt(1+r-s-u),this.w=(h-l)/t,this.x=.25*t,this.y=(n+a)/t,this.z=(o+c)/t):s>u?(t=2*Math.sqrt(1+s-r-u),this.w=(o-c)/t,this.x=(n+a)/t,this.y=.25*t,this.z=(l+h)/t):(t=2*Math.sqrt(1+u-r-s),this.w=(a-n)/t,this.x=(o+c)/t,this.y=(l+h)/t,this.z=.25*t),this},inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var e=this.length();return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Quaternion's .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var i=e.x,r=e.y,n=e.z,o=e.w,a=t.x,s=t.y,l=t.z,c=t.w;return this.x=i*c+o*a+r*l-n*s,this.y=r*c+o*s+n*a-i*l,this.z=n*c+o*l+i*s-r*a,this.w=o*c-i*a-r*s-n*l,this},multiplyVector3:function(e){return console.warn("DEPRECATED: Quaternion's .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){var i=this.x,r=this.y,n=this.z,o=this.w,a=o*e.w+i*e.x+r*e.y+n*e.z;if(a<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,a=-a):this.copy(e),a>=1)return this.w=o,this.x=i,this.y=r,this.z=n,this;var s=Math.acos(a),l=Math.sqrt(1-a*a);if(Math.abs(l)<.001)return this.w=.5*(o+this.w),this.x=.5*(i+this.x),this.y=.5*(r+this.y),this.z=.5*(n+this.z),this;var c=Math.sin((1-t)*s)/l,h=Math.sin(t*s)/l;return this.w=o*c+this.w*h,this.x=i*c+this.x*h,this.y=r*c+this.y*h,this.z=n*c+this.z*h,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},clone:function(){return new f.Quaternion(this.x,this.y,this.z,this.w)}},f.Quaternion.slerp=function(e,t,i,r){return i.copy(e).slerp(t,r)},f.Vector2=function(e,t){this.x=e||0,this.y=t||0},f.Vector2.prototype={constructor:f.Vector2,set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScalar:function(e){return this.x+=e,this.y+=e,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e):this.set(0,0),this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y},clone:function(){return new f.Vector2(this.x,this.y)}},f.Vector3=function(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0},f.Vector3.prototype={constructor:f.Vector3,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyMatrix3:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6]*r,this.y=n[1]*t+n[4]*i+n[7]*r,this.z=n[2]*t+n[5]*i+n[8]*r,this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[4]*i+n[8]*r+n[12],this.y=n[1]*t+n[5]*i+n[9]*r+n[13],this.z=n[2]*t+n[6]*i+n[10]*r+n[14],this},applyProjection:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements,o=1/(n[3]*t+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*t+n[4]*i+n[8]*r+n[12])*o,this.y=(n[1]*t+n[5]*i+n[9]*r+n[13])*o,this.z=(n[2]*t+n[6]*i+n[10]*r+n[14])*o,this},applyQuaternion:function(e){var t=this.x,i=this.y,r=this.z,n=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*i,c=s*i+a*t-n*r,h=s*r+n*i-o*t,u=-n*t-o*i-a*r;return this.x=l*s+u*-n+c*-a-h*-o,this.y=c*s+u*-o+h*-n-l*-a,this.z=h*s+u*-a+l*-o-c*-n,this},applyEuler:function(e,t){var i=f.Vector3.__q1.setFromEuler(e,t);return this.applyQuaternion(i),this},applyAxisAngle:function(e,t){var i=f.Vector3.__q1.setFromAxisAngle(e,t);return this.applyQuaternion(i),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e,this.z/=e):(this.x=0,this.y=0,this.z=0),this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var i=this.x,r=this.y,n=this.z;return this.x=r*e.z-n*e.y,this.y=n*e.x-i*e.z,this.z=i*e.y-r*e.x,this},crossVectors:function(e,t){return this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x,this},angleTo:function(e){return Math.acos(this.dot(e)/this.length()/e.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r},getPositionFromMatrix:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setEulerFromRotationMatrix:function(e,t){function i(e){return Math.min(Math.max(e,-1),1)}var r=e.elements,n=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],h=r[2],u=r[6],d=r[10];return void 0===t||"XYZ"===t?(this.y=Math.asin(i(a)),Math.abs(a)<.99999?(this.x=Math.atan2(-c,d),this.z=Math.atan2(-o,n)):(this.x=Math.atan2(u,l),this.z=0)):"YXZ"===t?(this.x=Math.asin(-i(c)),Math.abs(c)<.99999?(this.y=Math.atan2(a,d),this.z=Math.atan2(s,l)):(this.y=Math.atan2(-h,n),this.z=0)):"ZXY"===t?(this.x=Math.asin(i(u)),Math.abs(u)<.99999?(this.y=Math.atan2(-h,d),this.z=Math.atan2(-o,l)):(this.y=0,this.z=Math.atan2(s,n))):"ZYX"===t?(this.y=Math.asin(-i(h)),Math.abs(h)<.99999?(this.x=Math.atan2(u,d),this.z=Math.atan2(s,n)):(this.x=0,this.z=Math.atan2(-o,l))):"YZX"===t?(this.z=Math.asin(i(s)),Math.abs(s)<.99999?(this.x=Math.atan2(-c,l),this.y=Math.atan2(-h,n)):(this.x=0,this.y=Math.atan2(a,d))):"XZY"===t&&(this.z=Math.asin(-i(o)),Math.abs(o)<.99999?(this.x=Math.atan2(u,l),this.y=Math.atan2(a,n)):(this.x=Math.atan2(-c,d),this.y=0)),this},setEulerFromQuaternion:function(e,t){function i(e){return Math.min(Math.max(e,-1),1)}var r=e.x*e.x,n=e.y*e.y,o=e.z*e.z,a=e.w*e.w;return void 0===t||"XYZ"===t?(this.x=Math.atan2(2*(e.x*e.w-e.y*e.z),a-r-n+o),this.y=Math.asin(i(2*(e.x*e.z+e.y*e.w))),this.z=Math.atan2(2*(e.z*e.w-e.x*e.y),a+r-n-o)):"YXZ"===t?(this.x=Math.asin(i(2*(e.x*e.w-e.y*e.z))),this.y=Math.atan2(2*(e.x*e.z+e.y*e.w),a-r-n+o),this.z=Math.atan2(2*(e.x*e.y+e.z*e.w),a-r+n-o)):"ZXY"===t?(this.x=Math.asin(i(2*(e.x*e.w+e.y*e.z))),this.y=Math.atan2(2*(e.y*e.w-e.z*e.x),a-r-n+o),this.z=Math.atan2(2*(e.z*e.w-e.x*e.y),a-r+n-o)):"ZYX"===t?(this.x=Math.atan2(2*(e.x*e.w+e.z*e.y),a-r-n+o),this.y=Math.asin(i(2*(e.y*e.w-e.x*e.z))),this.z=Math.atan2(2*(e.x*e.y+e.z*e.w),a+r-n-o)):"YZX"===t?(this.x=Math.atan2(2*(e.x*e.w-e.z*e.y),a-r+n-o),this.y=Math.atan2(2*(e.y*e.w-e.x*e.z),a+r-n-o),this.z=Math.asin(i(2*(e.x*e.y+e.z*e.w)))):"XZY"===t&&(this.x=Math.atan2(2*(e.x*e.w+e.y*e.z),a-r+n-o),this.y=Math.atan2(2*(e.x*e.z+e.y*e.w),a+r-n-o),this.z=Math.asin(i(2*(e.z*e.w-e.x*e.y)))),this},getScaleFromMatrix:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),i=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),r=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=i,this.z=r,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},clone:function(){return new f.Vector3(this.x,this.y,this.z)}},f.Vector3.__q1=new f.Quaternion,f.Vector4=function(e,t,i,r){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==r?r:1},f.Vector4.prototype={constructor:f.Vector4,set:function(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,n=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*n,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*n,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*n,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*n,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e,this.z/=e,this.w/=e):(this.x=0,this.y=0,this.z=0,this.w=1),this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this.w>e.w&&(this.w=e.w),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this.w<e.w&&(this.w=e.w),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this.w<e.w?this.w=e.w:this.w>t.w&&(this.w=t.w),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},clone:function(){return new f.Vector4(this.x,this.y,this.z,this.w)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,i,r,n,o=e.elements,a=o[0],s=o[4],l=o[8],c=o[1],h=o[5],u=o[9],d=o[2],f=o[6],p=o[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(u-f)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(u+f)<.1&&Math.abs(a+h+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(h+1)/2,v=(p+1)/2,y=(s+c)/4,b=(l+d)/4,_=(u+f)/4;return m>g&&m>v?m<.01?(i=0,r=.707106781,n=.707106781):(r=y/(i=Math.sqrt(m)),n=b/i):g>v?g<.01?(i=.707106781,r=0,n=.707106781):(i=y/(r=Math.sqrt(g)),n=_/r):v<.01?(i=.707106781,r=.707106781,n=0):(i=b/(n=Math.sqrt(v)),r=_/n),this.set(i,r,n,t),this}var x=Math.sqrt((f-u)*(f-u)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(x)<.001&&(x=1),this.x=(f-u)/x,this.y=(l-d)/x,this.z=(c-s)/x,this.w=Math.acos((a+h+p-1)/2),this}},f.Box2=function(e,t){this.min=void 0!==e?e:new f.Vector2(1/0,1/0),this.max=void 0!==t?t:new f.Vector2(-1/0,-1/0)},f.Box2.prototype={constructor:f.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){if(e.length>0){var t=e[0];this.min.copy(t),this.max.copy(t);for(var i=1,r=e.length;i<r;i++)(t=e[i]).x<this.min.x?this.min.x=t.x:t.x>this.max.x&&(this.max.x=t.x),t.y<this.min.y?this.min.y=t.y:t.y>this.max.y&&(this.max.y=t.y)}else this.makeEmpty();return this},setFromCenterAndSize:function(e,t){var i=f.Box2.__v1.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){return(e||new f.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new f.Vector2).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e){return new f.Vector2((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new f.Vector2).copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return f.Box2.__v1.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new f.Box2).copy(this)}},f.Box2.__v1=new f.Vector2,f.Box3=function(e,t){this.min=void 0!==e?e:new f.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new f.Vector3(-1/0,-1/0,-1/0)},f.Box3.prototype={constructor:f.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){if(e.length>0){var t=e[0];this.min.copy(t),this.max.copy(t);for(var i=1,r=e.length;i<r;i++)(t=e[i]).x<this.min.x?this.min.x=t.x:t.x>this.max.x&&(this.max.x=t.x),t.y<this.min.y?this.min.y=t.y:t.y>this.max.y&&(this.max.y=t.y),t.z<this.min.z?this.min.z=t.z:t.z>this.max.z&&(this.max.z=t.z)}else this.makeEmpty();return this},setFromCenterAndSize:function(e,t){var i=f.Box3.__v1.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){return(e||new f.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new f.Vector3).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e){return new f.Vector3((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},clampPoint:function(e,t){t||new f.Vector3;return(new f.Vector3).copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return f.Box3.__v1.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){var t=e||new f.Sphere;return t.center=this.center(),t.radius=.5*this.size(f.Box3.__v0).length(),t},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},transform:function(e){var t=[f.Box3.__v0.set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),f.Box3.__v0.set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),f.Box3.__v1.set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),f.Box3.__v2.set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),f.Box3.__v3.set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),f.Box3.__v4.set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),f.Box3.__v5.set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),f.Box3.__v6.set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),f.Box3.__v7.set(this.max.x,this.max.y,this.max.z).applyMatrix4(e)];return this.makeEmpty(),this.setFromPoints(t),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new f.Box3).copy(this)}},f.Box3.__v0=new f.Vector3,f.Box3.__v1=new f.Vector3,f.Box3.__v2=new f.Vector3,f.Box3.__v3=new f.Vector3,f.Box3.__v4=new f.Vector3,f.Box3.__v5=new f.Vector3,f.Box3.__v6=new f.Vector3,f.Box3.__v7=new f.Vector3,f.Matrix3=function(e,t,i,r,n,o,a,s,l){this.elements=new Float32Array(9),this.set(void 0!==e?e:1,t||0,i||0,r||0,void 0!==n?n:1,o||0,a||0,s||0,void 0!==l?l:1)},f.Matrix3.prototype={constructor:f.Matrix3,set:function(e,t,i,r,n,o,a,s,l){var c=this.elements;return c[0]=e,c[3]=t,c[6]=i,c[1]=r,c[4]=n,c[7]=o,c[2]=a,c[5]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix3's .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){for(var t=f.Matrix3.__v1,i=0,r=e.length;i<r;i+=3)t.x=e[i],t.y=e[i+1],t.z=e[i+2],t.applyMatrix3(this),e[i]=t.x,e[i+1]=t.y,e[i+2]=t.z;return e},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[1],r=e[2],n=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-i*n*c+i*a*s+r*n*l-r*o*s},getInverse:function(e,t){var i=e.elements,r=this.elements;r[0]=i[10]*i[5]-i[6]*i[9],r[1]=-i[10]*i[1]+i[2]*i[9],r[2]=i[6]*i[1]-i[2]*i[5],r[3]=-i[10]*i[4]+i[6]*i[8],r[4]=i[10]*i[0]-i[2]*i[8],r[5]=-i[6]*i[0]+i[2]*i[4],r[6]=i[9]*i[4]-i[5]*i[8],r[7]=-i[9]*i[0]+i[1]*i[8],r[8]=i[5]*i[0]-i[1]*i[4];var n=i[0]*r[0]+i[1]*r[3]+i[2]*r[6];if(0===n){var o="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/n),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},clone:function(){var e=this.elements;return new f.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}},f.Matrix3.__v1=new f.Vector3,f.Matrix4=function(e,t,i,r,n,o,a,s,l,c,h,u,d,f,p,m){this.elements=new Float32Array(16),this.set(void 0!==e?e:1,t||0,i||0,r||0,n||0,void 0!==o?o:1,a||0,s||0,l||0,c||0,void 0!==h?h:1,u||0,d||0,f||0,p||0,void 0!==m?m:1)},f.Matrix4.prototype={constructor:f.Matrix4,set:function(e,t,i,r,n,o,a,s,l,c,h,u,d,f,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=n,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=h,g[14]=u,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]),this},setRotationFromEuler:function(e,t){var i=this.elements,r=e.x,n=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(n),c=Math.sin(n),h=Math.cos(o),u=Math.sin(o);if(void 0===t||"XYZ"===t){var d=a*h,f=a*u,p=s*h,m=s*u;i[0]=l*h,i[4]=-l*u,i[8]=c,i[1]=f+p*c,i[5]=d-m*c,i[9]=-s*l,i[2]=m-d*c,i[6]=p+f*c,i[10]=a*l}else if("YXZ"===t){var g=l*h,v=l*u,y=c*h,b=c*u;i[0]=g+b*s,i[4]=y*s-v,i[8]=a*c,i[1]=a*u,i[5]=a*h,i[9]=-s,i[2]=v*s-y,i[6]=b+g*s,i[10]=a*l}else if("ZXY"===t){g=l*h,v=l*u,y=c*h,b=c*u;i[0]=g-b*s,i[4]=-a*u,i[8]=y+v*s,i[1]=v+y*s,i[5]=a*h,i[9]=b-g*s,i[2]=-a*c,i[6]=s,i[10]=a*l}else if("ZYX"===t){d=a*h,f=a*u,p=s*h,m=s*u;i[0]=l*h,i[4]=p*c-f,i[8]=d*c+m,i[1]=l*u,i[5]=m*c+d,i[9]=f*c-p,i[2]=-c,i[6]=s*l,i[10]=a*l}else if("YZX"===t){var _=a*l,x=a*c,w=s*l,S=s*c;i[0]=l*h,i[4]=S-_*u,i[8]=w*u+x,i[1]=u,i[5]=a*h,i[9]=-s*h,i[2]=-c*h,i[6]=x*u+w,i[10]=_-S*u}else if("XZY"===t){_=a*l,x=a*c,w=s*l,S=s*c;i[0]=l*h,i[4]=-u,i[8]=c*h,i[1]=_*u+S,i[5]=a*h,i[9]=x*u-w,i[2]=w*u-x,i[6]=s*h,i[10]=S*u+_}return this},setRotationFromQuaternion:function(e){var t=this.elements,i=e.x,r=e.y,n=e.z,o=e.w,a=i+i,s=r+r,l=n+n,c=i*a,h=i*s,u=i*l,d=r*s,f=r*l,p=n*l,m=o*a,g=o*s,v=o*l;return t[0]=1-(d+p),t[4]=h-v,t[8]=u+g,t[1]=h+v,t[5]=1-(c+p),t[9]=f-m,t[2]=u-g,t[6]=f+m,t[10]=1-(c+d),this},lookAt:function(e,t,i){var r=this.elements,n=f.Matrix4.__v1,o=f.Matrix4.__v2,a=f.Matrix4.__v3;return a.subVectors(e,t).normalize(),0===a.length()&&(a.z=1),n.crossVectors(i,a).normalize(),0===n.length()&&(a.x+=1e-4,n.crossVectors(i,a).normalize()),o.crossVectors(a,n),r[0]=n.x,r[4]=o.x,r[8]=a.x,r[1]=n.y,r[5]=o.y,r[9]=a.y,r[2]=n.z,r[6]=o.z,r[10]=a.z,this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var i=e.elements,r=t.elements,n=this.elements,o=i[0],a=i[4],s=i[8],l=i[12],c=i[1],h=i[5],u=i[9],d=i[13],f=i[2],p=i[6],m=i[10],g=i[14],v=i[3],y=i[7],b=i[11],_=i[15],x=r[0],w=r[4],S=r[8],C=r[12],T=r[1],A=r[5],M=r[9],E=r[13],D=r[2],F=r[6],I=r[10],k=r[14],R=r[3],L=r[7],P=r[11],N=r[15];return n[0]=o*x+a*T+s*D+l*R,n[4]=o*w+a*A+s*F+l*L,n[8]=o*S+a*M+s*I+l*P,n[12]=o*C+a*E+s*k+l*N,n[1]=c*x+h*T+u*D+d*R,n[5]=c*w+h*A+u*F+d*L,n[9]=c*S+h*M+u*I+d*P,n[13]=c*C+h*E+u*k+d*N,n[2]=f*x+p*T+m*D+g*R,n[6]=f*w+p*A+m*F+g*L,n[10]=f*S+p*M+m*I+g*P,n[14]=f*C+p*E+m*k+g*N,n[3]=v*x+y*T+b*D+_*R,n[7]=v*w+y*A+b*F+_*L,n[11]=v*S+y*M+b*I+_*P,n[15]=v*C+y*E+b*k+_*N,this},multiplyToArray:function(e,t,i){var r=this.elements;return this.multiplyMatrices(e,t),i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){for(var t=f.Matrix4.__v1,i=0,r=e.length;i<r;i+=3)t.x=e[i],t.y=e[i+1],t.z=e[i+2],t.applyProjection(this),e[i]=t.x,e[i+1]=t.y,e[i+2]=t.z;return e},rotateAxis:function(e){var t=this.elements,i=e.x,r=e.y,n=e.z;return e.x=i*t[0]+r*t[4]+n*t[8],e.y=i*t[1]+r*t[5]+n*t[9],e.z=i*t[2]+r*t[6]+n*t[10],e.normalize(),e},crossVector:function(e){var t=this.elements,i=new f.Vector4;return i.x=t[0]*e.x+t[4]*e.y+t[8]*e.z+t[12]*e.w,i.y=t[1]*e.x+t[5]*e.y+t[9]*e.z+t[13]*e.w,i.z=t[2]*e.x+t[6]*e.y+t[10]*e.z+t[14]*e.w,i.w=e.w?t[3]*e.x+t[7]*e.y+t[11]*e.z+t[15]*e.w:1,i},determinant:function(){var e=this.elements,t=e[0],i=e[4],r=e[8],n=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],h=e[6],u=e[10],d=e[14];return e[3]*(+n*s*h-r*l*h-n*a*u+i*l*u+r*a*d-i*s*d)+e[7]*(+t*s*d-t*l*u+n*o*u-r*o*d+r*l*c-n*s*c)+e[11]*(+t*l*h-t*a*d-n*o*h+i*o*d+n*a*c-i*l*c)+e[15]*(-r*a*c-t*s*h+t*a*u+r*o*h-i*o*u+i*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},flattenToArrayOffset:function(e,t){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e},getPosition:function(){var e=this.elements;return f.Matrix4.__v1.set(e[12],e[13],e[14])},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getColumnX:function(){var e=this.elements;return f.Matrix4.__v1.set(e[0],e[1],e[2])},getColumnY:function(){var e=this.elements;return f.Matrix4.__v1.set(e[4],e[5],e[6])},getColumnZ:function(){var e=this.elements;return f.Matrix4.__v1.set(e[8],e[9],e[10])},getInverse:function(e,t){var i=this.elements,r=e.elements,n=r[0],o=r[4],a=r[8],s=r[12],l=r[1],c=r[5],h=r[9],u=r[13],d=r[2],f=r[6],p=r[10],m=r[14],g=r[3],v=r[7],y=r[11],b=r[15];i[0]=h*m*v-u*p*v+u*f*y-c*m*y-h*f*b+c*p*b,i[4]=s*p*v-a*m*v-s*f*y+o*m*y+a*f*b-o*p*b,i[8]=a*u*v-s*h*v+s*c*y-o*u*y-a*c*b+o*h*b,i[12]=s*h*f-a*u*f-s*c*p+o*u*p+a*c*m-o*h*m,i[1]=u*p*g-h*m*g-u*d*y+l*m*y+h*d*b-l*p*b,i[5]=a*m*g-s*p*g+s*d*y-n*m*y-a*d*b+n*p*b,i[9]=s*h*g-a*u*g-s*l*y+n*u*y+a*l*b-n*h*b,i[13]=a*u*d-s*h*d+s*l*p-n*u*p-a*l*m+n*h*m,i[2]=c*m*g-u*f*g+u*d*v-l*m*v-c*d*b+l*f*b,i[6]=s*f*g-o*m*g-s*d*v+n*m*v+o*d*b-n*f*b,i[10]=o*u*g-s*c*g+s*l*v-n*u*v-o*l*b+n*c*b,i[14]=s*c*d-o*u*d-s*l*f+n*u*f+o*l*m-n*c*m,i[3]=h*f*g-c*p*g-h*d*v+l*p*v+c*d*y-l*f*y,i[7]=o*p*g-a*f*g+a*d*v-n*p*v-o*d*y+n*f*y,i[11]=a*c*g-o*h*g-a*l*v+n*h*v+o*l*y-n*c*y,i[15]=o*h*d-a*c*d+a*l*f-n*h*f-o*l*p+n*c*p;var _=r[0]*i[0]+r[1]*i[4]+r[2]*i[8]+r[3]*i[12];if(0==_){var x="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(x);return console.warn(x),this.identity(),this}return this.multiplyScalar(1/_),this},compose:function(e,t,i){var r=this.elements,n=f.Matrix4.__m1,o=f.Matrix4.__m2;return n.identity(),n.setRotationFromQuaternion(t),o.makeScale(i.x,i.y,i.z),this.multiplyMatrices(n,o),r[12]=e.x,r[13]=e.y,r[14]=e.z,this},decompose:function(e,t,i){var r=this.elements,n=f.Matrix4.__v1,o=f.Matrix4.__v2,a=f.Matrix4.__v3;n.set(r[0],r[1],r[2]),o.set(r[4],r[5],r[6]),a.set(r[8],r[9],r[10]),e=e instanceof f.Vector3?e:new f.Vector3,t=t instanceof f.Quaternion?t:new f.Quaternion,(i=i instanceof f.Vector3?i:new f.Vector3).x=n.length(),i.y=o.length(),i.z=a.length(),e.x=r[12],e.y=r[13],e.z=r[14];var s=f.Matrix4.__m1;return s.copy(this),s.elements[0]/=i.x,s.elements[1]/=i.x,s.elements[2]/=i.x,s.elements[4]/=i.y,s.elements[5]/=i.y,s.elements[6]/=i.y,s.elements[8]/=i.z,s.elements[9]/=i.z,s.elements[10]/=i.z,t.setFromRotationMatrix(s),[e,t,i]},extractPosition:function(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractRotation:function(e){var t=this.elements,i=e.elements,r=f.Matrix4.__v1,n=1/r.set(i[0],i[1],i[2]).length(),o=1/r.set(i[4],i[5],i[6]).length(),a=1/r.set(i[8],i[9],i[10]).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[4]=i[4]*o,t[5]=i[5]*o,t[6]=i[6]*o,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,this},translate:function(e){var t=this.elements,i=e.x,r=e.y,n=e.z;return t[12]=t[0]*i+t[4]*r+t[8]*n+t[12],t[13]=t[1]*i+t[5]*r+t[9]*n+t[13],t[14]=t[2]*i+t[6]*r+t[10]*n+t[14],t[15]=t[3]*i+t[7]*r+t[11]*n+t[15],this},rotateX:function(e){var t=this.elements,i=t[4],r=t[5],n=t[6],o=t[7],a=t[8],s=t[9],l=t[10],c=t[11],h=Math.cos(e),u=Math.sin(e);return t[4]=h*i+u*a,t[5]=h*r+u*s,t[6]=h*n+u*l,t[7]=h*o+u*c,t[8]=h*a-u*i,t[9]=h*s-u*r,t[10]=h*l-u*n,t[11]=h*c-u*o,this},rotateY:function(e){var t=this.elements,i=t[0],r=t[1],n=t[2],o=t[3],a=t[8],s=t[9],l=t[10],c=t[11],h=Math.cos(e),u=Math.sin(e);return t[0]=h*i-u*a,t[1]=h*r-u*s,t[2]=h*n-u*l,t[3]=h*o-u*c,t[8]=h*a+u*i,t[9]=h*s+u*r,t[10]=h*l+u*n,t[11]=h*c+u*o,this},rotateZ:function(e){var t=this.elements,i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],h=Math.cos(e),u=Math.sin(e);return t[0]=h*i+u*a,t[1]=h*r+u*s,t[2]=h*n+u*l,t[3]=h*o+u*c,t[4]=h*a-u*i,t[5]=h*s-u*r,t[6]=h*l-u*n,t[7]=h*c-u*o,this},rotateByAxis:function(e,t){var i=this.elements;if(1===e.x&&0===e.y&&0===e.z)return this.rotateX(t);if(0===e.x&&1===e.y&&0===e.z)return this.rotateY(t);if(0===e.x&&0===e.y&&1===e.z)return this.rotateZ(t);var r=e.x,n=e.y,o=e.z,a=Math.sqrt(r*r+n*n+o*o),s=(r/=a)*r,l=(n/=a)*n,c=(o/=a)*o,h=Math.cos(t),u=Math.sin(t),d=1-h,f=r*n*d,p=r*o*d,m=n*o*d,g=r*u,v=n*u,y=o*u,b=s+(1-s)*h,_=f+y,x=p-v,w=f-y,S=l+(1-l)*h,C=m+g,T=p+v,A=m-g,M=c+(1-c)*h,E=i[0],D=i[1],F=i[2],I=i[3],k=i[4],R=i[5],L=i[6],P=i[7],N=i[8],B=i[9],O=i[10],z=i[11];i[12],i[13],i[14],i[15];return i[0]=b*E+_*k+x*N,i[1]=b*D+_*R+x*B,i[2]=b*F+_*L+x*O,i[3]=b*I+_*P+x*z,i[4]=w*E+S*k+C*N,i[5]=w*D+S*R+C*B,i[6]=w*F+S*L+C*O,i[7]=w*I+S*P+C*z,i[8]=T*E+A*k+M*N,i[9]=T*D+A*R+M*B,i[10]=T*F+A*L+M*O,i[11]=T*I+A*P+M*z,this},scale:function(e){var t=this.elements,i=e.x,r=e.y,n=e.z;return t[0]*=i,t[4]*=r,t[8]*=n,t[1]*=i,t[5]*=r,t[9]*=n,t[2]*=i,t[6]*=r,t[10]*=n,t[3]*=i,t[7]*=r,t[11]*=n,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,Math.max(i,r)))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var i=Math.cos(t),r=Math.sin(t),n=1-i,o=e.x,a=e.y,s=e.z,l=n*o,c=n*a;return this.set(l*o+i,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+i,c*s-r*o,0,l*s-r*a,c*s+r*o,n*s*s+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},makeFrustum:function(e,t,i,r,n,o){var a=this.elements,s=2*n/(t-e),l=2*n/(r-i),c=(t+e)/(t-e),h=(r+i)/(r-i),u=-(o+n)/(o-n),d=-2*o*n/(o-n);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,i,r){var n=i*Math.tan(f.Math.degToRad(.5*e)),o=-n,a=o*t,s=n*t;return this.makeFrustum(a,s,o,n,i,r)},makeOrthographic:function(e,t,i,r,n,o){var a=this.elements,s=t-e,l=i-r,c=o-n,h=(t+e)/s,u=(i+r)/l,d=(o+n)/c;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2/l,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2/c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},clone:function(){var e=this.elements;return new f.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])}},f.Matrix4.__v1=new f.Vector3,f.Matrix4.__v2=new f.Vector3,f.Matrix4.__v3=new f.Vector3,f.Matrix4.__m1=new f.Matrix4,f.Matrix4.__m2=new f.Matrix4,f.Ray=function(e,t){this.origin=void 0!==e?e:new f.Vector3,this.direction=void 0!==t?t:new f.Vector3},f.Ray.prototype={constructor:f.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new f.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(e){return this.origin.copy(this.at(e,f.Ray.__v1)),this},closestPointToPoint:function(e,t){var i=t||new f.Vector3;i.subVectors(e,this.origin);var r=i.dot(this.direction);return i.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){var t=f.Ray.__v1.subVectors(e,this.origin).dot(this.direction);return f.Ray.__v1.copy(this.direction).multiplyScalar(t).add(this.origin),f.Ray.__v1.distanceTo(e)},isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){return 0!=e.normal.dot(this.direction)||0==e.distanceToPoint(this.origin)},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0==t?0==e.distanceToPoint(this.origin)?0:void 0:-(this.origin.dot(e.normal)+e.constant)/t},intersectPlane:function(e,t){var i=this.distanceToPlane(e);if(void 0!==i)return this.at(i,t)},transform:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new f.Ray).copy(this)}},f.Ray.__v1=new f.Vector3,f.Ray.__v2=new f.Vector3,f.Sphere=function(e,t){this.center=void 0!==e?e:new f.Vector3,this.radius=void 0!==t?t:0},f.Sphere.prototype={constructor:f.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromCenterAndPoints:function(e,t){for(var i=0,r=0,n=t.length;r<n;r++){var o=e.distanceToSquared(t[r]);i=Math.max(i,o)}return this.center=e,this.radius=Math.sqrt(i),this},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var i=this.center.distanceToSquared(e),r=t||new f.Vector3;return r.copy(e),i>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new f.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},transform:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new f.Sphere).copy(this)}},f.Frustum=function(e,t,i,r,n,o){this.planes=[void 0!==e?e:new f.Plane,void 0!==t?t:new f.Plane,void 0!==i?i:new f.Plane,void 0!==r?r:new f.Plane,void 0!==n?n:new f.Plane,void 0!==o?o:new f.Plane]},f.Frustum.prototype={set:function(e,t,i,r,n,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(n),a[5].copy(o),this},copy:function(e){for(var t=this.planes,i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromMatrix:function(e){var t=this.planes,i=e.elements,r=i[0],n=i[1],o=i[2],a=i[3],s=i[4],l=i[5],c=i[6],h=i[7],u=i[8],d=i[9],f=i[10],p=i[11],m=i[12],g=i[13],v=i[14],y=i[15];return t[0].setComponents(a-r,h-s,p-u,y-m).normalize(),t[1].setComponents(a+r,h+s,p+u,y+m).normalize(),t[2].setComponents(a+n,h+l,p+d,y+g).normalize(),t[3].setComponents(a-n,h-l,p-d,y-g).normalize(),t[4].setComponents(a-o,h-c,p-f,y-v).normalize(),t[5].setComponents(a+o,h+c,p+f,y+v).normalize(),this},intersectsObject:function(e){for(var t=e.matrixWorld,i=this.planes,r=t.getPosition(),n=-e.geometry.boundingSphere.radius*t.getMaxScaleOnAxis(),o=0;o<6;o++){if(i[o].distanceToPoint(r)<n)return!1}return!0},intersectsSphere:function(e){for(var t=this.planes,i=e.center,r=-e.radius,n=0;n<6;n++){if(t[n].distanceToPoint(i)<r)return!1}return!0},containsPoint:function(e){for(var t=this.planes,i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0},clone:function(){return(new f.Frustum).copy(this)}},f.Plane=function(e,t){this.normal=void 0!==e?e:new f.Vector3(1,0,0),this.constant=void 0!==t?t:0},f.Plane.prototype={constructor:f.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,i){var r=f.Plane.__v1.subVectors(i,t).cross(f.Plane.__v2.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var i=this.distanceToPoint(e);return(t||new f.Vector3).copy(this.normal).multiplyScalar(i)},isIntersectionLine:function(e,t){var i=this.distanceToPoint(e),r=this.distanceToPoint(t);return i<0&&r>0||r<0&&i>0},intersectLine:function(e,t,i){var r=i||new f.Vector3,n=f.Plane.__v1.subVectors(t,e),o=this.normal.dot(n);if(0==o)return 0==this.distanceToPoint(e)?r.copy(e):void 0;var a=-(e.dot(this.normal)+this.constant)/o;return a<0||a>1?void 0:r.copy(n).multiplyScalar(a).add(e)},coplanarPoint:function(e){return(e||new f.Vector3).copy(this.normal).multiplyScalar(-this.constant)},transform:function(e,t){t=t||(new f.Matrix3).getInverse(e).transpose();var i=f.Plane.__v1.copy(this.normal).applyMatrix3(t),r=this.coplanarPoint(f.Plane.__v2);return r.applyMatrix4(e),this.setFromNormalAndCoplanarPoint(i,r),this},translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant==this.constant},clone:function(){return(new f.Plane).copy(this)}},f.Plane.__vZero=new f.Vector3(0,0,0),f.Plane.__v1=new f.Vector3,f.Plane.__v2=new f.Vector3,f.Math={clamp:function(e,t,i){return e<t?t:e>i?i:e},clampBottom:function(e,t){return e<t?t:e},mapLinear:function(e,t,i,r,n){return r+(e-t)*(n-r)/(i-t)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},sign:function(e){return e<0?-1:e>0?1:0},degToRad:function(e){return e*f.Math.__d2r},radToDeg:function(e){return e*f.Math.__r2d}},f.Math.__d2r=Math.PI/180,f.Math.__r2d=180/Math.PI,f.Spline=function(e){this.points=e;var t,i,r,n,o,a,s,l,c,h=[],u={x:0,y:0,z:0};function d(e,t,i,r,n,o,a){var s=.5*(i-e),l=.5*(r-t);return(2*(t-i)+s+l)*a+(-3*(t-i)-2*s-l)*o+s*n+t}this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return t=(this.points.length-1)*e,i=Math.floor(t),r=t-i,h[0]=0===i?i:i-1,h[1]=i,h[2]=i>this.points.length-2?this.points.length-1:i+1,h[3]=i>this.points.length-3?this.points.length-1:i+2,a=this.points[h[0]],s=this.points[h[1]],l=this.points[h[2]],c=this.points[h[3]],o=r*(n=r*r),u.x=d(a.x,s.x,l.x,c.x,r,n,o),u.y=d(a.y,s.y,l.y,c.y,r,n,o),u.z=d(a.z,s.z,l.z,c.z,r,n,o),u},this.getControlPointsArray=function(){var e,t,i=this.points.length,r=[];for(e=0;e<i;e++)t=this.points[e],r[e]=[t.x,t.y,t.z];return r},this.getLength=function(e){var t,i,r,n,o=0,a=0,s=0,l=new f.Vector3,c=new f.Vector3,h=[],u=0;for(h[0]=0,e||(e=100),r=this.points.length*e,l.copy(this.points[0]),t=1;t<r;t++)i=t/r,n=this.getPoint(i),c.copy(n),u+=c.distanceTo(l),l.copy(n),o=(this.points.length-1)*i,(a=Math.floor(o))!=s&&(h[a]=u,s=a);return h[h.length]=u,{chunks:h,total:u}},this.reparametrizeByArcLength=function(e){var t,i,r,n,o,a,s,l,c=[],h=new f.Vector3,u=this.getLength();for(c.push(h.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(a=u.chunks[t]-u.chunks[t-1],s=Math.ceil(e*a/u.total),n=(t-1)/(this.points.length-1),o=t/(this.points.length-1),i=1;i<s-1;i++)r=n+i*(1/s)*(o-n),l=this.getPoint(r),c.push(h.copy(l).clone());c.push(h.copy(this.points[t]).clone())}this.points=c}},f.Triangle=function(e,t,i){this.a=void 0!==e?e:new f.Vector3,this.b=void 0!==t?t:new f.Vector3,this.c=void 0!==i?i:new f.Vector3},f.Triangle.normal=function(e,t,i,r){var n=r||new f.Vector3;n.subVectors(i,t),f.Triangle.__v0.subVectors(e,t),n.cross(f.Triangle.__v0);var o=n.lengthSq();return o>0?n.multiplyScalar(1/Math.sqrt(o)):n.set(0,0,0)},f.Triangle.barycoordFromPoint=function(e,t,i,r,n){f.Triangle.__v0.subVectors(r,t),f.Triangle.__v1.subVectors(i,t),f.Triangle.__v2.subVectors(e,t);var o=f.Triangle.__v0.dot(f.Triangle.__v0),a=f.Triangle.__v0.dot(f.Triangle.__v1),s=f.Triangle.__v0.dot(f.Triangle.__v2),l=f.Triangle.__v1.dot(f.Triangle.__v1),c=f.Triangle.__v1.dot(f.Triangle.__v2),h=o*l-a*a,u=n||new f.Vector3;if(0==h)return u.set(-2,-1,-1);var d=1/h,p=(l*s-a*c)*d,m=(o*c-a*s)*d;return u.set(1-p-m,m,p)},f.Triangle.containsPoint=function(e,t,i,r){var n=f.Triangle.barycoordFromPoint(e,t,i,r,f.Triangle.__v3);return n.x>=0&&n.y>=0&&n.x+n.y<=1},f.Triangle.prototype={constructor:f.Triangle,set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){return f.Triangle.__v0.subVectors(this.c,this.b),f.Triangle.__v1.subVectors(this.a,this.b),.5*f.Triangle.__v0.cross(f.Triangle.__v1).length()},midpoint:function(e){return(e||new f.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return f.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new f.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return f.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return f.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},clone:function(){return(new f.Triangle).copy(this)}},f.Triangle.__v0=new f.Vector3,f.Triangle.__v1=new f.Vector3,f.Triangle.__v2=new f.Vector3,f.Triangle.__v3=new f.Vector3,f.Vertex=function(e){return console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead."),e},f.UV=function(e,t){return console.warn("THREE.UV has been DEPRECATED. Use THREE.Vector2 instead."),new f.Vector2(e,t)},f.Clock=function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},f.Clock.prototype.start=function(){this.startTime=Date.now(),this.oldTime=this.startTime,this.running=!0},f.Clock.prototype.stop=function(){this.getElapsedTime(),this.running=!1},f.Clock.prototype.getElapsedTime=function(){return this.getDelta(),this.elapsedTime},f.Clock.prototype.getDelta=function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=Date.now();e=.001*(t-this.oldTime),this.oldTime=t,this.elapsedTime+=e}return e},f.EventDispatcher=function(){var e={};this.addEventListener=function(t,i){void 0===e[t]&&(e[t]=[]),-1===e[t].indexOf(i)&&e[t].push(i)},this.removeEventListener=function(t,i){var r=e[t].indexOf(i);-1!==r&&e[t].splice(r,1)},this.dispatchEvent=function(t){var i=e[t.type];if(void 0!==i){t.target=this;for(var r=0,n=i.length;r<n;r++)i[r].call(this,t)}}},function(e){e.Raycaster=function(t,i,r,n){this.ray=new e.Ray(t,i),this.ray.direction.length()>0&&this.ray.direction.normalize(),this.near=r||0,this.far=n||1/0};var t=new e.Sphere,i=new e.Ray,r=new e.Plane,n=new e.Vector3,o=new e.Matrix4,a=function(e,t){return e.distance-t.distance},s=function(a,s,l){if(a instanceof e.Particle){var c=s.ray.distanceToPoint(a.matrixWorld.getPosition());if(c>a.scale.x)return l;l.push({distance:c,point:a.position,face:null,object:a})}else if(a instanceof e.Mesh){if(t.set(a.matrixWorld.getPosition(),a.geometry.boundingSphere.radius*a.matrixWorld.getMaxScaleOnAxis()),!s.ray.isIntersectionSphere(t))return l;var h,u,d,f,p=a.geometry,m=p.vertices,g=a.material instanceof e.MeshFaceMaterial,v=!0===g?a.material.materials:null,y=a.material.side,b=s.precision;a.matrixRotationWorld.extractRotation(a.matrixWorld),o.getInverse(a.matrixWorld),i.copy(s.ray).transform(o);for(var _=0,x=p.faces.length;_<x;_++){var w=p.faces[_],S=!0===g?v[w.materialIndex]:a.material;if(void 0!==S){r.setFromNormalAndCoplanarPoint(w.normal,m[w.a]);var C=i.distanceToPlane(r);if(!(Math.abs(C)<b||C<0)){if((y=S.side)!==e.DoubleSide){var T=i.direction.dot(r.normal);if(!(y===e.FrontSide?T<0:T>0))continue}if(!(C<s.near||C>s.far)){if(n=i.at(C,n),w instanceof e.Face3){if(h=m[w.a],u=m[w.b],d=m[w.c],!e.Triangle.containsPoint(n,h,u,d))continue}else{if(!(w instanceof e.Face4))throw Error("face type not supported");if(h=m[w.a],u=m[w.b],d=m[w.c],f=m[w.d],!e.Triangle.containsPoint(n,h,u,f)&&!e.Triangle.containsPoint(n,u,d,f))continue}l.push({distance:C,point:s.ray.at(C),face:w,faceIndex:_,object:a})}}}}}},l=function(e,t,i){for(var r=e.getDescendants(),n=0,o=r.length;n<o;n++)s(r[n],t,i)};e.Raycaster.prototype.precision=1e-4,e.Raycaster.prototype.set=function(e,t){this.ray.set(e,t),this.ray.direction.length()>0&&this.ray.direction.normalize()},e.Raycaster.prototype.intersectObject=function(e,t){var i=[];return!0===t&&l(e,this,i),s(e,this,i),i.sort(a),i},e.Raycaster.prototype.intersectObjects=function(e,t){for(var i=[],r=0,n=e.length;r<n;r++)s(e[r],this,i),!0===t&&l(e[r],this,i);return i.sort(a),i}}(f),f.Object3D=function(){this.id=f.Object3DIdCount++,this.name="",this.properties={},this.parent=void 0,this.children=[],this.up=new f.Vector3(0,1,0),this.position=new f.Vector3,this.rotation=new f.Vector3,this.eulerOrder=f.Object3D.defaultEulerOrder,this.scale=new f.Vector3(1,1,1),this.renderDepth=null,this.rotationAutoUpdate=!0,this.matrix=new f.Matrix4,this.matrixWorld=new f.Matrix4,this.matrixRotationWorld=new f.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.quaternion=new f.Quaternion,this.useQuaternion=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this._vector=new f.Vector3},f.Object3D.prototype={constructor:f.Object3D,applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.scale.getScaleFromMatrix(this.matrix);var t=(new f.Matrix4).extractRotation(this.matrix);this.rotation.setEulerFromRotationMatrix(t,this.eulerOrder),this.position.getPositionFromMatrix(this.matrix)},translate:function(e,t){this.matrix.rotateAxis(t),this.position.add(t.multiplyScalar(e))},translateX:function(e){this.translate(e,this._vector.set(1,0,0))},translateY:function(e){this.translate(e,this._vector.set(0,1,0))},translateZ:function(e){this.translate(e,this._vector.set(0,0,1))},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(f.Object3D.__m1.getInverse(this.matrixWorld))},lookAt:function(e){this.matrix.lookAt(e,this.position,this.up),this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))},add:function(e){if(e!==this){if(e instanceof f.Object3D){void 0!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e);for(var t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof f.Scene&&t.__addObject(e)}}else console.warn("THREE.Object3D.add: An object can't be added as a child of itself.")},remove:function(e){var t=this.children.indexOf(e);if(-1!==t){e.parent=void 0,this.children.splice(t,1);for(var i=this;void 0!==i.parent;)i=i.parent;void 0!==i&&i instanceof f.Scene&&i.__removeObject(e)}},traverse:function(e){e(this);for(var t=0,i=this.children.length;t<i;t++)this.children[t].traverse(e)},getChildByName:function(e,t){for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i];if(n.name===e)return n;if(!0===t&&void 0!==(n=n.getChildByName(e,t)))return n}},getDescendants:function(e){void 0===e&&(e=[]),Array.prototype.push.apply(e,this.children);for(var t=0,i=this.children.length;t<i;t++)this.children[t].getDescendants(e);return e},updateMatrix:function(){this.matrix.setPosition(this.position),!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(e)},clone:function(e){void 0===e&&(e=new f.Object3D),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.rotation instanceof f.Vector3&&e.rotation.copy(this.rotation),e.eulerOrder=this.eulerOrder,e.scale.copy(this.scale),e.renderDepth=this.renderDepth,e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.matrixRotationWorld.copy(this.matrixRotationWorld),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.quaternion.copy(this.quaternion),e.useQuaternion=this.useQuaternion,e.visible=this.visible,e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow,e.frustumCulled=this.frustumCulled;for(var t=0;t<this.children.length;t++){var i=this.children[t];e.add(i.clone())}return e}},f.Object3D.__m1=new f.Matrix4,f.Object3D.defaultEulerOrder="XYZ",f.Object3DIdCount=0,f.Projector=function(){var e,t,i,r,n,o,a,s,l,c,h,u,d=[],p=0,m=[],g=0,v=[],y=0,b=[],_=0,x=[],w=0,S=[],C=0,T={objects:[],sprites:[],lights:[],elements:[]},A=new f.Vector3,M=new f.Vector4,E=new f.Box3(new f.Vector3(-1,-1,-1),new f.Vector3(1,1,1)),D=new f.Box3,F=new Array(3),I=new Array(4),k=new f.Matrix4,R=new f.Matrix4,L=new f.Matrix4,P=new f.Matrix3,N=new f.Matrix3,B=new f.Vector3,O=new f.Frustum,z=new f.Vector4,U=new f.Vector4;this.projectVector=function(e,t){return t.matrixWorldInverse.getInverse(t.matrixWorld),R.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),e.applyProjection(R)},this.unprojectVector=function(e,t){return t.projectionMatrixInverse.getInverse(t.projectionMatrix),R.multiplyMatrices(t.matrixWorld,t.projectionMatrixInverse),e.applyProjection(R)},this.pickingRay=function(e,t){e.z=-1;var i=new f.Vector3(e.x,e.y,1);return this.unprojectVector(e,t),this.unprojectVector(i,t),i.sub(e).normalize(),new f.Raycaster(e,i)};function V(){if(t===p){var e=new f.RenderableObject;return d.push(e),p++,t++,e}return d[t++]}function H(){if(r===g){var e=new f.RenderableVertex;return m.push(e),g++,r++,e}return m[r++]}function W(){if(o===y){var e=new f.RenderableFace3;return v.push(e),y++,o++,e}return v[o++]}function j(){if(a===_){var e=new f.RenderableFace4;return b.push(e),_++,a++,e}return b[a++]}function G(){if(l===w){var e=new f.RenderableLine;return x.push(e),w++,l++,e}return x[l++]}function X(){if(h===C){var e=new f.RenderableParticle;return S.push(e),C++,h++,e}return S[h++]}function Y(e,t){return t.z-e.z}function q(e,t){var i=0,r=1,n=e.z+e.w,o=t.z+t.w,a=-e.z+e.w,s=-t.z+t.w;return n>=0&&o>=0&&a>=0&&s>=0||!(n<0&&o<0||a<0&&s<0)&&(n<0?i=Math.max(i,n/(n-o)):o<0&&(r=Math.min(r,n/(n-o))),a<0?i=Math.max(i,a/(a-s)):s<0&&(r=Math.min(r,a/(a-s))),!(r<i)&&(e.lerp(t,i),t.lerp(e,1-r),!0))}this.projectScene=function(d,p,g,v){var y,b,_,x,w,S,C,K,$,Q,Z,J,ee,te,ie,re,ne,oe,ae,se,le,ce,he,ue,de,fe,pe=!1;for(o=0,a=0,l=0,h=0,T.elements.length=0,d.updateMatrixWorld(),void 0===p.parent&&p.updateMatrixWorld(),k.copy(p.matrixWorldInverse.getInverse(p.matrixWorld)),R.multiplyMatrices(p.projectionMatrix,k),N.getInverse(k),N.transpose(),O.setFromMatrix(R),y=0,b=(T=function(i,r){t=0,T.objects.length=0,T.sprites.length=0,T.lights.length=0;var n=function(t){for(var i=0,r=t.children.length;i<r;i++){var o=t.children[i];!1!==o.visible&&(o instanceof f.Light?T.lights.push(o):o instanceof f.Mesh||o instanceof f.Line?!1!==o.frustumCulled&&!0!==O.intersectsObject(o)||((e=V()).object=o,null!==o.renderDepth?e.z=o.renderDepth:(A.copy(o.matrixWorld.getPosition()),A.applyProjection(R),e.z=A.z),T.objects.push(e)):o instanceof f.Sprite||o instanceof f.Particle?((e=V()).object=o,null!==o.renderDepth?e.z=o.renderDepth:(A.copy(o.matrixWorld.getPosition()),A.applyProjection(R),e.z=A.z),T.sprites.push(e)):((e=V()).object=o,null!==o.renderDepth?e.z=o.renderDepth:(A.copy(o.matrixWorld.getPosition()),A.applyProjection(R),e.z=A.z),T.objects.push(e)),n(o))}};return n(i),!0===r&&T.objects.sort(Y),T}(d,g)).objects.length;y<b;y++)if(ee=T.objects[y].object,u=ee.matrixWorld,r=0,ee instanceof f.Mesh){for(ie=(te=ee.geometry).vertices,re=te.faces,ae=te.faceVertexUvs,P.getInverse(u),P.transpose(),fe=!0===(de=ee.material instanceof f.MeshFaceMaterial)?ee.material:null,_=0,x=ie.length;_<x;_++)(i=H()).positionWorld.copy(ie[_]).applyMatrix4(u),i.positionScreen.copy(i.positionWorld).applyMatrix4(R),i.positionScreen.x/=i.positionScreen.w,i.positionScreen.y/=i.positionScreen.w,i.positionScreen.z/=i.positionScreen.w,i.visible=!(i.positionScreen.x<-1||i.positionScreen.x>1||i.positionScreen.y<-1||i.positionScreen.y>1||i.positionScreen.z<-1||i.positionScreen.z>1);for(w=0,S=re.length;w<S;w++){ne=re[w];var me=!0===de?fe.materials[ne.materialIndex]:ee.material;if(void 0!==me){var ge=me.side;if(ne instanceof f.Face3){if(le=m[ne.a],ce=m[ne.b],he=m[ne.c],F[0]=le.positionScreen,F[1]=ce.positionScreen,F[2]=he.positionScreen,!0!==le.visible&&!0!==ce.visible&&!0!==he.visible&&!E.isIntersectionBox(D.setFromPoints(F)))continue;if(pe=(he.positionScreen.x-le.positionScreen.x)*(ce.positionScreen.y-le.positionScreen.y)-(he.positionScreen.y-le.positionScreen.y)*(ce.positionScreen.x-le.positionScreen.x)<0,ge!==f.DoubleSide&&pe!==(ge===f.FrontSide))continue;(n=W()).v1.copy(le),n.v2.copy(ce),n.v3.copy(he)}else if(ne instanceof f.Face4){if(le=m[ne.a],ce=m[ne.b],he=m[ne.c],ue=m[ne.d],I[0]=le.positionScreen,I[1]=ce.positionScreen,I[2]=he.positionScreen,I[3]=ue.positionScreen,!0!==le.visible&&!0!==ce.visible&&!0!==he.visible&&!0!==ue.visible&&!E.isIntersectionBox(D.setFromPoints(I)))continue;if(pe=(ue.positionScreen.x-le.positionScreen.x)*(ce.positionScreen.y-le.positionScreen.y)-(ue.positionScreen.y-le.positionScreen.y)*(ce.positionScreen.x-le.positionScreen.x)<0||(ce.positionScreen.x-he.positionScreen.x)*(ue.positionScreen.y-he.positionScreen.y)-(ce.positionScreen.y-he.positionScreen.y)*(ue.positionScreen.x-he.positionScreen.x)<0,ge!==f.DoubleSide&&pe!==(ge===f.FrontSide))continue;(n=j()).v1.copy(le),n.v2.copy(ce),n.v3.copy(he),n.v4.copy(ue)}for(n.normalModel.copy(ne.normal),!1!==pe||ge!==f.BackSide&&ge!==f.DoubleSide||n.normalModel.negate(),n.normalModel.applyMatrix3(P).normalize(),n.normalModelView.copy(n.normalModel).applyMatrix3(N),n.centroidModel.copy(ne.centroid).applyMatrix4(u),C=0,K=(oe=ne.vertexNormals).length;C<K;C++){var ve=n.vertexNormalsModel[C];ve.copy(oe[C]),!1!==pe||ge!==f.BackSide&&ge!==f.DoubleSide||ve.negate(),ve.applyMatrix3(P).normalize(),n.vertexNormalsModelView[C].copy(ve).applyMatrix3(N)}for(n.vertexNormalsLength=oe.length,$=0,Q=ae.length;$<Q;$++)if(void 0!==(se=ae[$][w]))for(Z=0,J=se.length;Z<J;Z++)n.uvs[$][Z]=se[Z];n.color=ne.color,n.material=me,B.copy(n.centroidModel).applyProjection(R),n.z=B.z,T.elements.push(n)}}}else if(ee instanceof f.Line){L.multiplyMatrices(R,u),ie=ee.geometry.vertices,(le=H()).positionScreen.copy(ie[0]).applyMatrix4(L);var ye=ee.type===f.LinePieces?2:1;for(_=1,x=ie.length;_<x;_++)(le=H()).positionScreen.copy(ie[_]).applyMatrix4(L),(_+1)%ye>0||(ce=m[r-2],z.copy(le.positionScreen),U.copy(ce.positionScreen),!0===q(z,U)&&(z.multiplyScalar(1/z.w),U.multiplyScalar(1/U.w),(s=G()).v1.positionScreen.copy(z),s.v2.positionScreen.copy(U),s.z=Math.max(z.z,U.z),s.material=ee.material,T.elements.push(s)))}for(y=0,b=T.sprites.length;y<b;y++)ee=T.sprites[y].object,u=ee.matrixWorld,ee instanceof f.Particle&&(M.set(u.elements[12],u.elements[13],u.elements[14],1),M.applyMatrix4(R),M.z/=M.w,M.z>0&&M.z<1&&((c=X()).object=ee,c.x=M.x/M.w,c.y=M.y/M.w,c.z=M.z,c.rotation=ee.rotation.z,c.scale.x=ee.scale.x*Math.abs(c.x-(M.x+p.projectionMatrix.elements[0])/(M.w+p.projectionMatrix.elements[12])),c.scale.y=ee.scale.y*Math.abs(c.y-(M.y+p.projectionMatrix.elements[5])/(M.w+p.projectionMatrix.elements[13])),c.material=ee.material,T.elements.push(c)));return!0===v&&T.elements.sort(Y),T}},f.Face3=function(e,t,i,r,n,o){this.a=e,this.b=t,this.c=i,this.normal=r instanceof f.Vector3?r:new f.Vector3,this.vertexNormals=r instanceof Array?r:[],this.color=n instanceof f.Color?n:new f.Color,this.vertexColors=n instanceof Array?n:[],this.vertexTangents=[],this.materialIndex=void 0!==o?o:0,this.centroid=new f.Vector3},f.Face3.prototype={constructor:f.Face3,clone:function(){var e,t,i=new f.Face3(this.a,this.b,this.c);for(i.normal.copy(this.normal),i.color.copy(this.color),i.centroid.copy(this.centroid),i.materialIndex=this.materialIndex,e=0,t=this.vertexNormals.length;e<t;e++)i.vertexNormals[e]=this.vertexNormals[e].clone();for(e=0,t=this.vertexColors.length;e<t;e++)i.vertexColors[e]=this.vertexColors[e].clone();for(e=0,t=this.vertexTangents.length;e<t;e++)i.vertexTangents[e]=this.vertexTangents[e].clone();return i}},f.Face4=function(e,t,i,r,n,o,a){this.a=e,this.b=t,this.c=i,this.d=r,this.normal=n instanceof f.Vector3?n:new f.Vector3,this.vertexNormals=n instanceof Array?n:[],this.color=o instanceof f.Color?o:new f.Color,this.vertexColors=o instanceof Array?o:[],this.vertexTangents=[],this.materialIndex=void 0!==a?a:0,this.centroid=new f.Vector3},f.Face4.prototype={constructor:f.Face4,clone:function(){var e,t,i=new f.Face4(this.a,this.b,this.c,this.d);for(i.normal.copy(this.normal),i.color.copy(this.color),i.centroid.copy(this.centroid),i.materialIndex=this.materialIndex,e=0,t=this.vertexNormals.length;e<t;e++)i.vertexNormals[e]=this.vertexNormals[e].clone();for(e=0,t=this.vertexColors.length;e<t;e++)i.vertexColors[e]=this.vertexColors[e].clone();for(e=0,t=this.vertexTangents.length;e<t;e++)i.vertexTangents[e]=this.vertexTangents[e].clone();return i}},f.Geometry=function(){f.EventDispatcher.call(this),this.id=f.GeometryIdCount++,this.name="",this.vertices=[],this.colors=[],this.normals=[],this.faces=[],this.faceUvs=[[]],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.buffersNeedUpdate=!1},f.Geometry.prototype={constructor:f.Geometry,applyMatrix:function(e){for(var t=(new f.Matrix3).getInverse(e).transpose(),i=0,r=this.vertices.length;i<r;i++){this.vertices[i].applyMatrix4(e)}for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(t).normalize();for(var o=0,a=n.vertexNormals.length;o<a;o++)n.vertexNormals[o].applyMatrix3(t).normalize();n.centroid.applyMatrix4(e)}},computeCentroids:function(){var e,t,i;for(e=0,t=this.faces.length;e<t;e++)(i=this.faces[e]).centroid.set(0,0,0),i instanceof f.Face3?(i.centroid.add(this.vertices[i.a]),i.centroid.add(this.vertices[i.b]),i.centroid.add(this.vertices[i.c]),i.centroid.divideScalar(3)):i instanceof f.Face4&&(i.centroid.add(this.vertices[i.a]),i.centroid.add(this.vertices[i.b]),i.centroid.add(this.vertices[i.c]),i.centroid.add(this.vertices[i.d]),i.centroid.divideScalar(4))},computeFaceNormals:function(){var e,t,i,r,n,o,a=new f.Vector3,s=new f.Vector3;for(e=0,t=this.faces.length;e<t;e++)i=this.faces[e],r=this.vertices[i.a],n=this.vertices[i.b],o=this.vertices[i.c],a.subVectors(o,n),s.subVectors(r,n),a.cross(s),a.normalize(),i.normal.copy(a)},computeVertexNormals:function(e){var t,i,r,n,o,a;if(void 0===this.__tmpVertices){for(this.__tmpVertices=new Array(this.vertices.length),a=this.__tmpVertices,t=0,i=this.vertices.length;t<i;t++)a[t]=new f.Vector3;for(r=0,n=this.faces.length;r<n;r++)(o=this.faces[r])instanceof f.Face3?o.vertexNormals=[new f.Vector3,new f.Vector3,new f.Vector3]:o instanceof f.Face4&&(o.vertexNormals=[new f.Vector3,new f.Vector3,new f.Vector3,new f.Vector3])}else for(a=this.__tmpVertices,t=0,i=this.vertices.length;t<i;t++)a[t].set(0,0,0);if(e){var s,l,c,h,u=new f.Vector3,d=new f.Vector3,p=new f.Vector3,m=new f.Vector3,g=new f.Vector3;for(r=0,n=this.faces.length;r<n;r++)(o=this.faces[r])instanceof f.Face3?(s=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c],u.subVectors(c,l),d.subVectors(s,l),u.cross(d),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)):o instanceof f.Face4&&(s=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c],h=this.vertices[o.d],p.subVectors(h,l),d.subVectors(s,l),p.cross(d),a[o.a].add(p),a[o.b].add(p),a[o.d].add(p),m.subVectors(h,c),g.subVectors(l,c),m.cross(g),a[o.b].add(m),a[o.c].add(m),a[o.d].add(m))}else for(r=0,n=this.faces.length;r<n;r++)(o=this.faces[r])instanceof f.Face3?(a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal)):o instanceof f.Face4&&(a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal),a[o.d].add(o.normal));for(t=0,i=this.vertices.length;t<i;t++)a[t].normalize();for(r=0,n=this.faces.length;r<n;r++)(o=this.faces[r])instanceof f.Face3?(o.vertexNormals[0].copy(a[o.a]),o.vertexNormals[1].copy(a[o.b]),o.vertexNormals[2].copy(a[o.c])):o instanceof f.Face4&&(o.vertexNormals[0].copy(a[o.a]),o.vertexNormals[1].copy(a[o.b]),o.vertexNormals[2].copy(a[o.c]),o.vertexNormals[3].copy(a[o.d]))},computeMorphNormals:function(){var e,t,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for((n=this.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),e=0,t=n.vertexNormals.length;e<t;e++)n.__originalVertexNormals[e]?n.__originalVertexNormals[e].copy(n.vertexNormals[e]):n.__originalVertexNormals[e]=n.vertexNormals[e].clone();var o=new f.Geometry;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)n=this.faces[i],l=new f.Vector3,c=n instanceof f.Face3?{a:new f.Vector3,b:new f.Vector3,c:new f.Vector3}:{a:new f.Vector3,b:new f.Vector3,c:new f.Vector3,d:new f.Vector3},a.push(l),s.push(c)}var l,c,h=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],l=h.faceNormals[i],c=h.vertexNormals[i],l.copy(n.normal),n instanceof f.Face3?(c.a.copy(n.vertexNormals[0]),c.b.copy(n.vertexNormals[1]),c.c.copy(n.vertexNormals[2])):(c.a.copy(n.vertexNormals[0]),c.b.copy(n.vertexNormals[1]),c.c.copy(n.vertexNormals[2]),c.d.copy(n.vertexNormals[3]))}for(i=0,r=this.faces.length;i<r;i++)(n=this.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeTangents:function(){var e,t,i,r,n,o,a,s,l,c,h,u,d,p,m,g,v,y,b,_,x,w,S,C,T,A,M,E=[],D=[],F=new f.Vector3,I=new f.Vector3,k=new f.Vector3,R=new f.Vector3,L=new f.Vector3;for(i=0,r=this.vertices.length;i<r;i++)E[i]=new f.Vector3,D[i]=new f.Vector3;function P(e,t,i,r,n,o,a){l=e.vertices[t],c=e.vertices[i],h=e.vertices[r],u=s[n],d=s[o],p=s[a],m=c.x-l.x,g=h.x-l.x,v=c.y-l.y,y=h.y-l.y,b=c.z-l.z,_=h.z-l.z,x=d.x-u.x,w=p.x-u.x,S=d.y-u.y,C=p.y-u.y,T=1/(x*C-w*S),F.set((C*m-S*g)*T,(C*v-S*y)*T,(C*b-S*_)*T),I.set((x*g-w*m)*T,(x*y-w*v)*T,(x*_-w*b)*T),E[t].add(F),E[i].add(F),E[r].add(F),D[t].add(I),D[i].add(I),D[r].add(I)}for(e=0,t=this.faces.length;e<t;e++)a=this.faces[e],s=this.faceVertexUvs[0][e],a instanceof f.Face3?P(this,a.a,a.b,a.c,0,1,2):a instanceof f.Face4&&(P(this,a.a,a.b,a.d,0,1,3),P(this,a.b,a.c,a.d,1,2,3));var N=["a","b","c","d"];for(e=0,t=this.faces.length;e<t;e++)for(a=this.faces[e],n=0;n<a.vertexNormals.length;n++)L.copy(a.vertexNormals[n]),o=a[N[n]],A=E[o],k.copy(A),k.sub(L.multiplyScalar(L.dot(A))).normalize(),R.crossVectors(a.vertexNormals[n],A),M=R.dot(D[o])<0?-1:1,a.vertexTangents[n]=new f.Vector4(k.x,k.y,k.z,M);this.hasTangents=!0},computeLineDistances:function(){for(var e=0,t=this.vertices,i=0,r=t.length;i<r;i++)i>0&&(e+=t[i].distanceTo(t[i-1])),this.lineDistances[i]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new f.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new f.Sphere),this.boundingSphere.setFromCenterAndPoints(this.boundingSphere.center,this.vertices)},mergeVertices:function(){var e,t,i,r,n,o,a,s,l,c={},h=[],u=[],d=Math.pow(10,4);for(this.__tmpVertices=void 0,i=0,r=this.vertices.length;i<r;i++)e=this.vertices[i],void 0===c[t=[Math.round(e.x*d),Math.round(e.y*d),Math.round(e.z*d)].join("_")]?(c[t]=i,h.push(this.vertices[i]),u[i]=h.length-1):u[i]=u[c[t]];var p=[];for(i=0,r=this.faces.length;i<r;i++)if((n=this.faces[i])instanceof f.Face3){n.a=u[n.a],n.b=u[n.b],n.c=u[n.c],o=[n.a,n.b,n.c];for(var m=-1,g=0;g<3;g++)if(o[g]==o[(g+1)%3]){m=g,p.push(i);break}}else if(n instanceof f.Face4){n.a=u[n.a],n.b=u[n.b],n.c=u[n.c],n.d=u[n.d],o=[n.a,n.b,n.c,n.d];for(m=-1,g=0;g<4;g++)o[g]==o[(g+1)%4]&&(m>=0&&p.push(i),m=g);if(m>=0){o.splice(m,1);var v=new f.Face3(o[0],o[1],o[2],n.normal,n.color,n.materialIndex);for(a=0,s=this.faceVertexUvs.length;a<s;a++)(l=this.faceVertexUvs[a][i])&&l.splice(m,1);n.vertexNormals&&n.vertexNormals.length>0&&(v.vertexNormals=n.vertexNormals,v.vertexNormals.splice(m,1)),n.vertexColors&&n.vertexColors.length>0&&(v.vertexColors=n.vertexColors,v.vertexColors.splice(m,1)),this.faces[i]=v}}for(i=p.length-1;i>=0;i--)for(this.faces.splice(i,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(i,1);var y=this.vertices.length-h.length;return this.vertices=h,y},clone:function(){for(var e=new f.Geometry,t=this.vertices,i=0,r=t.length;i<r;i++)e.vertices.push(t[i].clone());var n=this.faces;for(i=0,r=n.length;i<r;i++)e.faces.push(n[i].clone());var o=this.faceVertexUvs[0];for(i=0,r=o.length;i<r;i++){for(var a=o[i],s=[],l=0,c=a.length;l<c;l++)s.push(new f.Vector2(a[l].x,a[l].y));e.faceVertexUvs[0].push(s)}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},f.GeometryIdCount=0,f.BufferGeometry=function(){f.EventDispatcher.call(this),this.id=f.GeometryIdCount++,this.attributes={},this.dynamic=!1,this.offsets=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.morphTargets=[]},f.BufferGeometry.prototype={constructor:f.BufferGeometry,applyMatrix:function(e){var t,i;if(this.attributes.position&&(t=this.attributes.position.array),this.attributes.normal&&(i=this.attributes.normal.array),void 0!==t&&(e.multiplyVector3Array(t),this.verticesNeedUpdate=!0),void 0!==i){var r=new f.Matrix3;r.getInverse(e).transpose(),r.multiplyVector3Array(i),this.normalizeNormals(),this.normalsNeedUpdate=!0}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new f.Box3);var e=this.attributes.position.array;if(e){var t,i,r,n=this.boundingBox;e.length>=3&&(n.min.x=n.max.x=e[0],n.min.y=n.max.y=e[1],n.min.z=n.max.z=e[2]);for(var o=3,a=e.length;o<a;o+=3)t=e[o],i=e[o+1],r=e[o+2],t<n.min.x?n.min.x=t:t>n.max.x&&(n.max.x=t),i<n.min.y?n.min.y=i:i>n.max.y&&(n.max.y=i),r<n.min.z?n.min.z=r:r>n.max.z&&(n.max.z=r)}void 0!==e&&0!==e.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0))},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new f.Sphere);var e=this.attributes.position.array;if(e){for(var t,i,r,n,o=0,a=0,s=e.length;a<s;a+=3)(t=(i=e[a])*i+(r=e[a+1])*r+(n=e[a+2])*n)>o&&(o=t);this.boundingSphere.radius=Math.sqrt(o)}},computeVertexNormals:function(){if(this.attributes.position){var e,t,i,r,n=this.attributes.position.array.length;if(void 0===this.attributes.normal)this.attributes.normal={itemSize:3,array:new Float32Array(n),numItems:n};else for(e=0,t=this.attributes.normal.array.length;e<t;e++)this.attributes.normal.array[e]=0;var o,a,s,l,c,h,u=this.attributes.position.array,d=this.attributes.normal.array,p=new f.Vector3,m=new f.Vector3,g=new f.Vector3,v=new f.Vector3,y=new f.Vector3;if(this.attributes.index){var b=this.attributes.index.array,_=this.offsets;for(i=0,r=_.length;i<r;++i){var x=_[i].start,w=_[i].count,S=_[i].index;for(e=x,t=x+w;e<t;e+=3)o=S+b[e],a=S+b[e+1],s=S+b[e+2],l=u[3*o],c=u[3*o+1],h=u[3*o+2],p.set(l,c,h),l=u[3*a],c=u[3*a+1],h=u[3*a+2],m.set(l,c,h),l=u[3*s],c=u[3*s+1],h=u[3*s+2],g.set(l,c,h),v.subVectors(g,m),y.subVectors(p,m),v.cross(y),d[3*o]+=v.x,d[3*o+1]+=v.y,d[3*o+2]+=v.z,d[3*a]+=v.x,d[3*a+1]+=v.y,d[3*a+2]+=v.z,d[3*s]+=v.x,d[3*s+1]+=v.y,d[3*s+2]+=v.z}}else for(e=0,t=u.length;e<t;e+=9)l=u[e],c=u[e+1],h=u[e+2],p.set(l,c,h),l=u[e+3],c=u[e+4],h=u[e+5],m.set(l,c,h),l=u[e+6],c=u[e+7],h=u[e+8],g.set(l,c,h),v.subVectors(g,m),y.subVectors(p,m),v.cross(y),d[e]=v.x,d[e+1]=v.y,d[e+2]=v.z,d[e+3]=v.x,d[e+4]=v.y,d[e+5]=v.z,d[e+6]=v.x,d[e+7]=v.y,d[e+8]=v.z;this.normalizeNormals(),this.normalsNeedUpdate=!0}},normalizeNormals:function(){for(var e,t,i,r,n=this.attributes.normal.array,o=0,a=n.length;o<a;o+=3)e=n[o],t=n[o+1],i=n[o+2],r=1/Math.sqrt(e*e+t*t+i*i),n[o]*=r,n[o+1]*=r,n[o+2]*=r},computeTangents:function(){if(void 0!==this.attributes.index&&void 0!==this.attributes.position&&void 0!==this.attributes.normal&&void 0!==this.attributes.uv){var e=this.attributes.index.array,t=this.attributes.position.array,i=this.attributes.normal.array,r=this.attributes.uv.array,n=t.length/3;if(void 0===this.attributes.tangent){var o=4*n;this.attributes.tangent={itemSize:4,array:new Float32Array(o),numItems:o}}for(var a,s,l,c,h,u,d,p,m,g,v,y,b,_,x,w,S,C,T,A,M,E,D,F,I,k,R=this.attributes.tangent.array,L=[],P=[],N=0;N<n;N++)L[N]=new f.Vector3,P[N]=new f.Vector3;var B,O,z,U,V,H,W,j,G,X,Y=new f.Vector3,q=new f.Vector3,K=this.offsets;for(z=0,U=K.length;z<U;++z){var $=K[z].start,Q=K[z].count,Z=K[z].index;for(B=$,O=$+Q;B<O;B+=3)V=Z+e[B],H=Z+e[B+1],W=Z+e[B+2],G=H,X=W,a=t[3*(j=V)],s=t[3*j+1],l=t[3*j+2],c=t[3*G],h=t[3*G+1],u=t[3*G+2],d=t[3*X],p=t[3*X+1],m=t[3*X+2],g=r[2*j],v=r[2*j+1],y=r[2*G],b=r[2*G+1],_=r[2*X],x=r[2*X+1],w=c-a,S=d-a,C=h-s,T=p-s,A=u-l,M=m-l,k=1/((E=y-g)*(I=x-v)-(D=_-g)*(F=b-v)),Y.set((I*w-F*S)*k,(I*C-F*T)*k,(I*A-F*M)*k),q.set((E*S-D*w)*k,(E*T-D*C)*k,(E*M-D*A)*k),L[j].add(Y),L[G].add(Y),L[X].add(Y),P[j].add(q),P[G].add(q),P[X].add(q)}var J,ee,te,ie=new f.Vector3,re=new f.Vector3,ne=new f.Vector3,oe=new f.Vector3;for(z=0,U=K.length;z<U;++z){$=K[z].start,Q=K[z].count,Z=K[z].index;for(B=$,O=$+Q;B<O;B+=3)V=Z+e[B],H=Z+e[B+1],W=Z+e[B+2],ae(V),ae(H),ae(W)}this.hasTangents=!0,this.tangentsNeedUpdate=!0}else console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");function ae(e){ne.x=i[3*e],ne.y=i[3*e+1],ne.z=i[3*e+2],oe.copy(ne),ee=L[e],ie.copy(ee),ie.sub(ne.multiplyScalar(ne.dot(ee))).normalize(),re.crossVectors(oe,ee),te=re.dot(P[e]),J=te<0?-1:1,R[4*e]=ie.x,R[4*e+1]=ie.y,R[4*e+2]=ie.z,R[4*e+3]=J}},dispose:function(){this.dispatchEvent({type:"dispose"})}},f.Camera=function(){f.Object3D.call(this),this.matrixWorldInverse=new f.Matrix4,this.projectionMatrix=new f.Matrix4,this.projectionMatrixInverse=new f.Matrix4},f.Camera.prototype=Object.create(f.Object3D.prototype),f.Camera.prototype.lookAt=function(e){this.matrix.lookAt(this.position,e,this.up),!0===this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))},f.OrthographicCamera=function(e,t,i,r,n,o){f.Camera.call(this),this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=void 0!==n?n:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()},f.OrthographicCamera.prototype=Object.create(f.Camera.prototype),f.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)},f.PerspectiveCamera=function(e,t,i,r){f.Camera.call(this),this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.updateProjectionMatrix()},f.PerspectiveCamera.prototype=Object.create(f.Camera.prototype),f.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*f.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},f.PerspectiveCamera.prototype.setViewOffset=function(e,t,i,r,n,o){this.fullWidth=e,this.fullHeight=t,this.x=i,this.y=r,this.width=n,this.height=o,this.updateProjectionMatrix()},f.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var e=this.fullWidth/this.fullHeight,t=Math.tan(f.Math.degToRad(.5*this.fov))*this.near,i=-t,r=e*i,n=e*t,o=Math.abs(n-r),a=Math.abs(t-i);this.projectionMatrix.makeFrustum(r+this.x*o/this.fullWidth,r+(this.x+this.width)*o/this.fullWidth,t-(this.y+this.height)*a/this.fullHeight,t-this.y*a/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)},f.Light=function(e){f.Object3D.call(this),this.color=new f.Color(e)},f.Light.prototype=Object.create(f.Object3D.prototype),f.AmbientLight=function(e){f.Light.call(this,e)},f.AmbientLight.prototype=Object.create(f.Light.prototype),f.AreaLight=function(e,t){f.Light.call(this,e),this.normal=new f.Vector3(0,-1,0),this.right=new f.Vector3(1,0,0),this.intensity=void 0!==t?t:1,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},f.AreaLight.prototype=Object.create(f.Light.prototype),f.DirectionalLight=function(e,t){f.Light.call(this,e),this.position=new f.Vector3(0,1,0),this.target=new f.Object3D,this.intensity=void 0!==t?t:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new f.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},f.DirectionalLight.prototype=Object.create(f.Light.prototype),f.HemisphereLight=function(e,t,i){f.Light.call(this,e),this.groundColor=new f.Color(t),this.position=new f.Vector3(0,100,0),this.intensity=void 0!==i?i:1},f.HemisphereLight.prototype=Object.create(f.Light.prototype),f.PointLight=function(e,t,i){f.Light.call(this,e),this.position=new f.Vector3(0,0,0),this.intensity=void 0!==t?t:1,this.distance=void 0!==i?i:0},f.PointLight.prototype=Object.create(f.Light.prototype),f.SpotLight=function(e,t,i,r,n){f.Light.call(this,e),this.position=new f.Vector3(0,1,0),this.target=new f.Object3D,this.intensity=void 0!==t?t:1,this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/2,this.exponent=void 0!==n?n:10,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},f.SpotLight.prototype=Object.create(f.Light.prototype),f.Loader=function(e){this.showStatus=e,this.statusDomElement=e?f.Loader.prototype.addStatusElement():null,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},f.Loader.prototype={constructor:f.Loader,crossOrigin:"anonymous",addStatusElement:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.right="0px",e.style.top="0px",e.style.fontSize="0.8em",e.style.textAlign="left",e.style.background="rgba(0,0,0,0.25)",e.style.color="#fff",e.style.width="120px",e.style.padding="0.5em 0.5em 0.5em 0.5em",e.style.zIndex=1e3,e.innerHTML="Loading ...",e},updateProgress:function(e){var t="Loaded ";e.total?t+=(100*e.loaded/e.total).toFixed(0)+"%":t+=(e.loaded/1e3).toFixed(2)+" KB",this.statusDomElement.innerHTML=t},extractUrlBase:function(e){var t=e.split("/");return t.pop(),(t.length<1?".":t.join("/"))+"/"},initMaterials:function(e,t){for(var i=[],r=0;r<e.length;++r)i[r]=f.Loader.prototype.createMaterial(e[r],t);return i},needsTangents:function(e){for(var t=0,i=e.length;t<i;t++){if(e[t]instanceof f.ShaderMaterial)return!0}return!1},createMaterial:function(e,t){var i=this;function r(e){var t=Math.log(e)/Math.LN2;return Math.floor(t)==t}function n(e){var t=Math.log(e)/Math.LN2;return Math.pow(2,Math.round(t))}function o(e,o,a,s,l,c,h){var u=a.toLowerCase().endsWith(".dds"),d=t+"/"+a;if(u){var p=f.ImageUtils.loadCompressedTexture(d);e[o]=p}else{p=document.createElement("canvas");e[o]=new f.Texture(p)}if(e[o].sourceFile=a,s&&(e[o].repeat.set(s[0],s[1]),1!==s[0]&&(e[o].wrapS=f.RepeatWrapping),1!==s[1]&&(e[o].wrapT=f.RepeatWrapping)),l&&e[o].offset.set(l[0],l[1]),c){var m={repeat:f.RepeatWrapping,mirror:f.MirroredRepeatWrapping};void 0!==m[c[0]]&&(e[o].wrapS=m[c[0]]),void 0!==m[c[1]]&&(e[o].wrapT=m[c[1]])}h&&(e[o].anisotropy=h),u||function(e,t){var o=new Image;o.onload=function(){if(r(this.width)&&r(this.height))e.image=this;else{var t=n(this.width),i=n(this.height);e.image.width=t,e.image.height=i,e.image.getContext("2d").drawImage(this,0,0,t,i)}e.needsUpdate=!0},o.crossOrigin=i.crossOrigin,o.src=t}(e[o],d)}function a(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]}var s="MeshLambertMaterial",l={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(e.shading){var c=e.shading.toLowerCase();"phong"===c?s="MeshPhongMaterial":"basic"===c&&(s="MeshBasicMaterial")}if(void 0!==e.blending&&void 0!==f[e.blending]&&(l.blending=f[e.blending]),(void 0!==e.transparent||e.opacity<1)&&(l.transparent=e.transparent),void 0!==e.depthTest&&(l.depthTest=e.depthTest),void 0!==e.depthWrite&&(l.depthWrite=e.depthWrite),void 0!==e.visible&&(l.visible=e.visible),void 0!==e.flipSided&&(l.side=f.BackSide),void 0!==e.doubleSided&&(l.side=f.DoubleSide),void 0!==e.wireframe&&(l.wireframe=e.wireframe),void 0!==e.vertexColors&&("face"===e.vertexColors?l.vertexColors=f.FaceColors:e.vertexColors&&(l.vertexColors=f.VertexColors)),e.colorDiffuse?l.color=a(e.colorDiffuse):e.DbgColor&&(l.color=e.DbgColor),e.colorSpecular&&(l.specular=a(e.colorSpecular)),e.colorAmbient&&(l.ambient=a(e.colorAmbient)),e.transparency&&(l.opacity=e.transparency),e.specularCoef&&(l.shininess=e.specularCoef),e.mapDiffuse&&t&&o(l,"map",e.mapDiffuse,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy),e.mapLight&&t&&o(l,"lightMap",e.mapLight,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy),e.mapBump&&t&&o(l,"bumpMap",e.mapBump,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy),e.mapNormal&&t&&o(l,"normalMap",e.mapNormal,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy),e.mapSpecular&&t&&o(l,"specularMap",e.mapSpecular,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy),e.mapBumpScale&&(l.bumpScale=e.mapBumpScale),e.mapNormal){var h=f.ShaderLib.normalmap,u=f.UniformsUtils.clone(h.uniforms);u.tNormal.value=l.normalMap,e.mapNormalFactor&&u.uNormalScale.value.set(e.mapNormalFactor,e.mapNormalFactor),l.map&&(u.tDiffuse.value=l.map,u.enableDiffuse.value=!0),l.specularMap&&(u.tSpecular.value=l.specularMap,u.enableSpecular.value=!0),l.lightMap&&(u.tAO.value=l.lightMap,u.enableAO.value=!0),u.uDiffuseColor.value.setHex(l.color),u.uSpecularColor.value.setHex(l.specular),u.uAmbientColor.value.setHex(l.ambient),u.uShininess.value=l.shininess,void 0!==l.opacity&&(u.uOpacity.value=l.opacity);var d={fragmentShader:h.fragmentShader,vertexShader:h.vertexShader,uniforms:u,lights:!0,fog:!0},p=new f.ShaderMaterial(d);l.transparent&&(p.transparent=!0)}else p=new f[s](l);return void 0!==e.DbgName&&(p.name=e.DbgName),p}},f.ImageLoader=function(){f.EventDispatcher.call(this),this.crossOrigin=null},f.ImageLoader.prototype={constructor:f.ImageLoader,load:function(e,t){var i=this;void 0===t&&(t=new Image),t.addEventListener("load",function(){i.dispatchEvent({type:"load",content:t})},!1),t.addEventListener("error",function(){i.dispatchEvent({type:"error",message:"Couldn't load URL ["+e+"]"})},!1),i.crossOrigin&&(t.crossOrigin=i.crossOrigin),t.src=e}},f.JSONLoader=function(e){f.Loader.call(this,e),this.withCredentials=!1},f.JSONLoader.prototype=Object.create(f.Loader.prototype),f.JSONLoader.prototype.load=function(e,t,i){i=i&&"string"==typeof i?i:this.extractUrlBase(e),this.onLoadStart(),this.loadAjaxJSON(this,e,t,i)},f.JSONLoader.prototype.loadAjaxJSON=function(e,t,i,r,n){var o=new XMLHttpRequest,a=0;o.onreadystatechange=function(){if(o.readyState===o.DONE)if(200===o.status||0===o.status){if(o.responseText){var s=JSON.parse(o.responseText);e.createModel(s,i,r)}else console.warn("THREE.JSONLoader: ["+t+"] seems to be unreachable or file there is empty");e.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load ["+t+"] ["+o.status+"]");else o.readyState===o.LOADING?n&&(0===a&&(a=o.getResponseHeader("Content-Length")),n({total:a,loaded:o.responseText.length})):o.readyState===o.HEADERS_RECEIVED&&(a=o.getResponseHeader("Content-Length"))},o.open("GET",t,!0),o.withCredentials=this.withCredentials,o.send(null)},f.JSONLoader.prototype.createModel=function(e,t,i){var r=new f.Geometry,n=void 0!==e.scale?1/e.scale:1;!function(t){function i(e,t){return e&1<<t}var n,o,a,s,l,c,h,u,d,p,m,g,v,y,b,_,x,w,S,C,T,A,M,E,D,F,I,k=e.faces,R=e.vertices,L=e.normals,P=e.colors,N=0;for(n=0;n<e.uvs.length;n++)e.uvs[n].length&&N++;for(n=0;n<N;n++)r.faceUvs[n]=[],r.faceVertexUvs[n]=[];s=0,l=R.length;for(;s<l;)(C=new f.Vector3).x=R[s++]*t,C.y=R[s++]*t,C.z=R[s++]*t,r.vertices.push(C);s=0,l=k.length;for(;s<l;){if(m=k[s++],g=i(m,0),v=i(m,1),y=i(m,2),b=i(m,3),_=i(m,4),x=i(m,5),w=i(m,6),S=i(m,7),g?((T=new f.Face4).a=k[s++],T.b=k[s++],T.c=k[s++],T.d=k[s++],c=4):((T=new f.Face3).a=k[s++],T.b=k[s++],T.c=k[s++],c=3),v&&(p=k[s++],T.materialIndex=p),a=r.faces.length,y)for(n=0;n<N;n++)E=e.uvs[n],d=k[s++],F=E[2*d],I=E[2*d+1],r.faceUvs[n][a]=new f.Vector2(F,I);if(b)for(n=0;n<N;n++){for(E=e.uvs[n],D=[],o=0;o<c;o++)d=k[s++],F=E[2*d],I=E[2*d+1],D[o]=new f.Vector2(F,I);r.faceVertexUvs[n][a]=D}if(_&&(u=3*k[s++],(M=new f.Vector3).x=L[u++],M.y=L[u++],M.z=L[u],T.normal=M),x)for(n=0;n<c;n++)u=3*k[s++],(M=new f.Vector3).x=L[u++],M.y=L[u++],M.z=L[u],T.vertexNormals.push(M);if(w&&(h=k[s++],A=new f.Color(P[h]),T.color=A),S)for(n=0;n<c;n++)h=k[s++],A=new f.Color(P[h]),T.vertexColors.push(A);r.faces.push(T)}}(n),function(){var t,i,n,o,a,s,l,c,h,u;if(e.skinWeights)for(t=0,i=e.skinWeights.length;t<i;t+=2)n=e.skinWeights[t],o=e.skinWeights[t+1],a=0,s=0,r.skinWeights.push(new f.Vector4(n,o,a,s));if(e.skinIndices)for(t=0,i=e.skinIndices.length;t<i;t+=2)l=e.skinIndices[t],c=e.skinIndices[t+1],h=0,u=0,r.skinIndices.push(new f.Vector4(l,c,h,u));r.bones=e.bones,r.animation=e.animation}(),function(t){var i,n,o,a,s,l,c,h,u,d,p;if(void 0!==e.morphTargets)for(s=0,l=e.morphTargets.length;s<l;s++)for(r.morphTargets[s]={},r.morphTargets[s].name=e.morphTargets[s].name,r.morphTargets[s].vertices=[],o=r.morphTargets[s].vertices,a=e.morphTargets[s].vertices,i=0,n=a.length;i<n;i+=3){var m=new f.Vector3;m.x=a[i]*t,m.y=a[i+1]*t,m.z=a[i+2]*t,o.push(m)}if(void 0!==e.morphColors)for(s=0,l=e.morphColors.length;s<l;s++)for(r.morphColors[s]={},r.morphColors[s].name=e.morphColors[s].name,r.morphColors[s].colors=[],u=r.morphColors[s].colors,d=e.morphColors[s].colors,c=0,h=d.length;c<h;c+=3)(p=new f.Color(16755200)).setRGB(d[c],d[c+1],d[c+2]),u.push(p)}(n),r.computeCentroids(),r.computeFaceNormals();var o=this.initMaterials(e.materials,i);this.needsTangents(o)&&r.computeTangents(),t(r,o)},f.LoadingMonitor=function(){f.EventDispatcher.call(this);var e=this,t=0,i=0,r=function(r){t++,e.dispatchEvent({type:"progress",loaded:t,total:i}),t===i&&e.dispatchEvent({type:"load"})};this.add=function(e){i++,e.addEventListener("load",r,!1)}},f.SceneLoader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){},this.callbackSync=function(){},this.callbackProgress=function(){},this.geometryHandlerMap={},this.hierarchyHandlerMap={},this.addGeometryHandler("ascii",f.JSONLoader)},f.SceneLoader.prototype.constructor=f.SceneLoader,f.SceneLoader.prototype.load=function(e,t){var i=this,r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status||0===r.status){var n=JSON.parse(r.responseText);i.parse(n,t,e)}else console.error("THREE.SceneLoader: Couldn't load ["+e+"] ["+r.status+"]")},r.open("GET",e,!0),r.send(null)},f.SceneLoader.prototype.addGeometryHandler=function(e,t){this.geometryHandlerMap[e]={loaderClass:t}},f.SceneLoader.prototype.addHierarchyHandler=function(e,t){this.hierarchyHandlerMap[e]={loaderClass:t}},f.SceneLoader.prototype.parse=function(e,t,i){var r,n,o,a,s,l,c,h,u,d,p,m,g,v,y=this,b=f.Loader.prototype.extractUrlBase(i),_=[],x=e;for(var w in this.geometryHandlerMap){var S=this.geometryHandlerMap[w].loaderClass;this.geometryHandlerMap[w].loaderObject=new S}for(var w in this.hierarchyHandlerMap){S=this.hierarchyHandlerMap[w].loaderClass;this.hierarchyHandlerMap[w].loaderObject=new S}if(d=0,p=0,v={scene:new f.Scene,geometries:{},face_materials:{},materials:{},textures:{},objects:{},cameras:{},lights:{},fogs:{},empties:{},groups:{}},x.transform){var C=x.transform.position,T=x.transform.rotation,A=x.transform.scale;C&&v.scene.position.set(C[0],C[1],C[2]),T&&v.scene.rotation.set(T[0],T[1],T[2]),A&&v.scene.scale.set(A[0],A[1],A[2]),(C||T||A)&&(v.scene.updateMatrix(),v.scene.updateMatrixWorld())}function M(e,t){return"relativeToHTML"==t?e:b+"/"+e}function E(){!function e(t,i){var a,s,l,d,p,m;for(var g in i)if(void 0===v.objects[g]){var b=i[g],w=null;if(b.type&&b.type in y.hierarchyHandlerMap){if(void 0===b.loading){var S={type:1,url:1,material:1,position:1,rotation:1,scale:1,visible:1,children:1,properties:1,skin:1,morph:1,mirroredLoop:1,duration:1},C={};for(var T in b)T in S||(C[T]=b[T]);n=v.materials[b.material],b.loading=!0;var A=y.hierarchyHandlerMap[b.type].loaderObject;A.options?A.load(M(b.url,x.urlBaseType),I(g,t,n,b)):A.load(M(b.url,x.urlBaseType),I(g,t,n,b),C)}}else if(void 0!==b.geometry){if(r=v.geometries[b.geometry]){var E=!1;if(n=v.materials[b.material],E=n instanceof f.ShaderMaterial,l=b.position,d=b.rotation,p=b.scale,a=b.matrix,m=b.quaternion,b.material||(n=new f.MeshFaceMaterial(v.face_materials[b.geometry])),n instanceof f.MeshFaceMaterial&&0===n.materials.length&&(n=new f.MeshFaceMaterial(v.face_materials[b.geometry])),n instanceof f.MeshFaceMaterial)for(var D=0;D<n.materials.length;D++)E=E||n.materials[D]instanceof f.ShaderMaterial;E&&r.computeTangents(),b.skin?w=new f.SkinnedMesh(r,n):b.morph?(w=new f.MorphAnimMesh(r,n),void 0!==b.duration&&(w.duration=b.duration),void 0!==b.time&&(w.time=b.time),void 0!==b.mirroredLoop&&(w.mirroredLoop=b.mirroredLoop),n.morphNormals&&r.computeMorphNormals()):w=new f.Mesh(r,n),w.name=g,a?(w.matrixAutoUpdate=!1,w.matrix.set(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])):(w.position.set(l[0],l[1],l[2]),m?(w.quaternion.set(m[0],m[1],m[2],m[3]),w.useQuaternion=!0):w.rotation.set(d[0],d[1],d[2]),w.scale.set(p[0],p[1],p[2])),w.visible=b.visible,w.castShadow=b.castShadow,w.receiveShadow=b.receiveShadow,t.add(w),v.objects[g]=w}}else"DirectionalLight"===b.type||"PointLight"===b.type||"AmbientLight"===b.type?(h=void 0!==b.color?b.color:16777215,u=void 0!==b.intensity?b.intensity:1,"DirectionalLight"===b.type?(l=b.direction,(c=new f.DirectionalLight(h,u)).position.set(l[0],l[1],l[2]),b.target&&(_.push({object:c,targetName:b.target}),c.target=null)):"PointLight"===b.type?(l=b.position,s=b.distance,(c=new f.PointLight(h,u,s)).position.set(l[0],l[1],l[2])):"AmbientLight"===b.type&&(c=new f.AmbientLight(h)),t.add(c),c.name=g,v.lights[g]=c,v.objects[g]=c):"PerspectiveCamera"===b.type||"OrthographicCamera"===b.type?("PerspectiveCamera"===b.type?o=new f.PerspectiveCamera(b.fov,b.aspect,b.near,b.far):"OrthographicCamera"===b.type&&(o=new f.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far)),l=b.position,o.position.set(l[0],l[1],l[2]),t.add(o),o.name=g,v.cameras[g]=o,v.objects[g]=o):(l=b.position,d=b.rotation,p=b.scale,m=b.quaternion,(w=new f.Object3D).name=g,w.position.set(l[0],l[1],l[2]),m?(w.quaternion.set(m[0],m[1],m[2],m[3]),w.useQuaternion=!0):w.rotation.set(d[0],d[1],d[2]),w.scale.set(p[0],p[1],p[2]),w.visible=void 0!==b.visible&&b.visible,t.add(w),v.objects[g]=w,v.empties[g]=w);if(w){if(void 0!==b.properties)for(var F in b.properties){var k=b.properties[F];w.properties[F]=k}if(void 0!==b.groups)for(var D=0;D<b.groups.length;D++){var R=b.groups[D];void 0===v.groups[R]&&(v.groups[R]=[]),v.groups[R].push(g)}void 0!==b.children&&e(w,b.children)}}}(v.scene,x.objects)}function D(e,t,i,r,n){var o=n.position,a=n.rotation,s=n.quaternion,l=n.scale;e.position.set(o[0],o[1],o[2]),s?(e.quaternion.set(s[0],s[1],s[2],s[3]),e.useQuaternion=!0):e.rotation.set(a[0],a[1],a[2]),e.scale.set(l[0],l[1],l[2]),r&&e.traverse(function(e){e.material=r});var c=void 0===n.visible||n.visible;e.traverse(function(e){e.visible=c}),i.add(e),e.name=t,v.objects[t]=e,E()}function F(e){return function(t,i){!function(e,t,i){v.geometries[i]=e,v.face_materials[i]=t,E()}(t,i,e),d-=1,y.onLoadComplete(),R()}}function I(e,t,i,r){return function(n){D(n.content?n.content:n.dae?n.scene:n,e,t,i,r),d-=1,y.onLoadComplete(),R()}}function k(e){return function(t,i){v.geometries[e]=t,v.face_materials[e]=i}}function R(){var e={totalModels:m,totalTextures:g,loadedModels:m-d,loadedTextures:g-p};y.callbackProgress(e,v),y.onLoadProgress(),0===d&&0===p&&(!function(){for(var e=0;e<_.length;e++){var t=_[e],i=v.objects[t.targetName];i?t.object.target=i:(t.object.target=new f.Object3D,v.scene.add(t.object.target)),t.object.target.properties.targetInverse=t.object}}(),t(v))}var L,P,N,B,O,z,U,V,H,W,j,G=function(e){return function(){!function(e){p-=e,R(),y.onLoadComplete()}(e)}};for(L in x.fogs)"linear"===(P=x.fogs[L]).type?a=new f.Fog(0,P.near,P.far):"exp2"===P.type&&(a=new f.FogExp2(0,P.density)),l=P.color,a.color.setRGB(l[0],l[1],l[2]),v.fogs[L]=a;for(N in x.geometries)(B=x.geometries[N]).type in this.geometryHandlerMap&&(d+=1,y.onLoadStart());for(O in x.objects)(z=x.objects[O]).type&&z.type in this.hierarchyHandlerMap&&(d+=1,y.onLoadStart());for(N in m=d,x.geometries)if("cube"===(B=x.geometries[N]).type)r=new f.CubeGeometry(B.width,B.height,B.depth,B.widthSegments,B.heightSegments,B.depthSegments),v.geometries[N]=r;else if("plane"===B.type)r=new f.PlaneGeometry(B.width,B.height,B.widthSegments,B.heightSegments),v.geometries[N]=r;else if("sphere"===B.type)r=new f.SphereGeometry(B.radius,B.widthSegments,B.heightSegments),v.geometries[N]=r;else if("cylinder"===B.type)r=new f.CylinderGeometry(B.topRad,B.botRad,B.height,B.radSegs,B.heightSegs),v.geometries[N]=r;else if("torus"===B.type)r=new f.TorusGeometry(B.radius,B.tube,B.segmentsR,B.segmentsT),v.geometries[N]=r;else if("icosahedron"===B.type)r=new f.IcosahedronGeometry(B.radius,B.subdivisions),v.geometries[N]=r;else if(B.type in this.geometryHandlerMap){var X={};for(var Y in B)"type"!==Y&&"url"!==Y&&(X[Y]=B[Y]);this.geometryHandlerMap[B.type].loaderObject.load(M(B.url,x.urlBaseType),F(N),X)}else if("embedded"===B.type){var q=x.embeds[B.id];if(q.metadata=x.metadata,q)this.geometryHandlerMap.ascii.loaderObject.createModel(q,k(N),"")}for(U in x.textures)if((V=x.textures[U]).url instanceof Array){p+=V.url.length;for(var K=0;K<V.url.length;K++)y.onLoadStart()}else p+=1,y.onLoadStart();for(U in g=p,x.textures){if(void 0!==(V=x.textures[U]).mapping&&void 0!==f[V.mapping]&&(V.mapping=new f[V.mapping]),V.url instanceof Array){for(var $=V.url.length,Q=[],Z=0;Z<$;Z++)Q[Z]=M(V.url[Z],x.urlBaseType);s=(J=Q[0].endsWith(".dds"))?f.ImageUtils.loadCompressedTextureCube(Q,V.mapping,G($)):f.ImageUtils.loadTextureCube(Q,V.mapping,G($))}else{var J=V.url.toLowerCase().endsWith(".dds"),ee=M(V.url,x.urlBaseType),te=G(1);if(s=J?f.ImageUtils.loadCompressedTexture(ee,V.mapping,te):f.ImageUtils.loadTexture(ee,V.mapping,te),void 0!==f[V.minFilter]&&(s.minFilter=f[V.minFilter]),void 0!==f[V.magFilter]&&(s.magFilter=f[V.magFilter]),V.anisotropy&&(s.anisotropy=V.anisotropy),V.repeat&&(s.repeat.set(V.repeat[0],V.repeat[1]),1!==V.repeat[0]&&(s.wrapS=f.RepeatWrapping),1!==V.repeat[1]&&(s.wrapT=f.RepeatWrapping)),V.offset&&s.offset.set(V.offset[0],V.offset[1]),V.wrap){var ie={repeat:f.RepeatWrapping,mirror:f.MirroredRepeatWrapping};void 0!==ie[V.wrap[0]]&&(s.wrapS=ie[V.wrap[0]]),void 0!==ie[V.wrap[1]]&&(s.wrapT=ie[V.wrap[1]])}}v.textures[U]=s}for(H in x.materials){for(j in(W=x.materials[H]).parameters)if("envMap"===j||"map"===j||"lightMap"===j||"bumpMap"===j)W.parameters[j]=v.textures[W.parameters[j]];else if("shading"===j)W.parameters[j]="flat"===W.parameters[j]?f.FlatShading:f.SmoothShading;else if("side"===j)"double"==W.parameters[j]?W.parameters[j]=f.DoubleSide:"back"==W.parameters[j]?W.parameters[j]=f.BackSide:W.parameters[j]=f.FrontSide;else if("blending"===j)W.parameters[j]=W.parameters[j]in f?f[W.parameters[j]]:f.NormalBlending;else if("combine"===j)W.parameters[j]=W.parameters[j]in f?f[W.parameters[j]]:f.MultiplyOperation;else if("vertexColors"===j)"face"==W.parameters[j]?W.parameters[j]=f.FaceColors:W.parameters[j]&&(W.parameters[j]=f.VertexColors);else if("wrapRGB"===j){var re=W.parameters[j];W.parameters[j]=new f.Vector3(re[0],re[1],re[2])}if(void 0!==W.parameters.opacity&&W.parameters.opacity<1&&(W.parameters.transparent=!0),W.parameters.normalMap){var ne=f.ShaderLib.normalmap,oe=f.UniformsUtils.clone(ne.uniforms),ae=W.parameters.color,se=W.parameters.specular,le=W.parameters.ambient,ce=W.parameters.shininess;oe.tNormal.value=v.textures[W.parameters.normalMap],W.parameters.normalScale&&oe.uNormalScale.value.set(W.parameters.normalScale[0],W.parameters.normalScale[1]),W.parameters.map&&(oe.tDiffuse.value=W.parameters.map,oe.enableDiffuse.value=!0),W.parameters.envMap&&(oe.tCube.value=W.parameters.envMap,oe.enableReflection.value=!0,oe.uReflectivity.value=W.parameters.reflectivity),W.parameters.lightMap&&(oe.tAO.value=W.parameters.lightMap,oe.enableAO.value=!0),W.parameters.specularMap&&(oe.tSpecular.value=v.textures[W.parameters.specularMap],oe.enableSpecular.value=!0),W.parameters.displacementMap&&(oe.tDisplacement.value=v.textures[W.parameters.displacementMap],oe.enableDisplacement.value=!0,oe.uDisplacementBias.value=W.parameters.displacementBias,oe.uDisplacementScale.value=W.parameters.displacementScale),oe.uDiffuseColor.value.setHex(ae),oe.uSpecularColor.value.setHex(se),oe.uAmbientColor.value.setHex(le),oe.uShininess.value=ce,W.parameters.opacity&&(oe.uOpacity.value=W.parameters.opacity);var he={fragmentShader:ne.fragmentShader,vertexShader:ne.vertexShader,uniforms:oe,lights:!0,fog:!0};n=new f.ShaderMaterial(he)}else n=new f[W.type](W.parameters);v.materials[H]=n}for(H in x.materials)if((W=x.materials[H]).parameters.materials){var ue=[];for(Z=0;Z<W.parameters.materials.length;Z++){var de=W.parameters.materials[Z];ue.push(v.materials[de])}v.materials[H].materials=ue}E(),v.cameras&&x.defaults.camera&&(v.currentCamera=v.cameras[x.defaults.camera]),v.fogs&&x.defaults.fog&&(v.scene.fog=v.fogs[x.defaults.fog]),y.callbackSync(v),R()},f.TextureLoader=function(){f.EventDispatcher.call(this),this.crossOrigin=null},f.TextureLoader.prototype={constructor:f.TextureLoader,load:function(e){var t=this,i=new Image;i.addEventListener("load",function(){var e=new f.Texture(i);e.needsUpdate=!0,t.dispatchEvent({type:"load",content:e})},!1),i.addEventListener("error",function(){t.dispatchEvent({type:"error",message:"Couldn't load URL ["+e+"]"})},!1),t.crossOrigin&&(i.crossOrigin=t.crossOrigin),i.src=e}},f.Material=function(){f.EventDispatcher.call(this),this.id=f.MaterialIdCount++,this.name="",this.side=f.FrontSide,this.opacity=1,this.transparent=!1,this.blending=f.NormalBlending,this.blendSrc=f.SrcAlphaFactor,this.blendDst=f.OneMinusSrcAlphaFactor,this.blendEquation=f.AddEquation,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=!1,this.visible=!0,this.needsUpdate=!0},f.Material.prototype.setValues=function(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i){if(t in this){var r=this[t];r instanceof f.Color&&i instanceof f.Color?r.copy(i):r instanceof f.Color?r.set(i):r instanceof f.Vector3&&i instanceof f.Vector3?r.copy(i):this[t]=i}}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},f.Material.prototype.clone=function(e){return void 0===e&&(e=new f.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.blending=this.blending,e.blendSrc=this.blendSrc,e.blendDst=this.blendDst,e.blendEquation=this.blendEquation,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},f.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},f.MaterialIdCount=0,f.LineBasicMaterial=function(e){f.Material.call(this),this.color=new f.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.setValues(e)},f.LineBasicMaterial.prototype=Object.create(f.Material.prototype),f.LineBasicMaterial.prototype.clone=function(){var e=new f.LineBasicMaterial;return f.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.linecap=this.linecap,e.linejoin=this.linejoin,e.vertexColors=this.vertexColors,e.fog=this.fog,e},f.LineDashedMaterial=function(e){f.Material.call(this),this.color=new f.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},f.LineDashedMaterial.prototype=Object.create(f.Material.prototype),f.LineDashedMaterial.prototype.clone=function(){var e=new f.LineDashedMaterial;return f.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.scale=this.scale,e.dashSize=this.dashSize,e.gapSize=this.gapSize,e.vertexColors=this.vertexColors,e.fog=this.fog,e},f.MeshBasicMaterial=function(e){f.Material.call(this),this.color=new f.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.combine=f.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=f.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=f.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},f.MeshBasicMaterial.prototype=Object.create(f.Material.prototype),f.MeshBasicMaterial.prototype.clone=function(){var e=new f.MeshBasicMaterial;return f.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e},f.MeshLambertMaterial=function(e){f.Material.call(this),this.color=new f.Color(16777215),this.ambient=new f.Color(16777215),this.emissive=new f.Color(0),this.wrapAround=!1,this.wrapRGB=new f.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.combine=f.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=f.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=f.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},f.MeshLambertMaterial.prototype=Object.create(f.Material.prototype),f.MeshLambertMaterial.prototype.clone=function(){var e=new f.MeshLambertMaterial;return f.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},f.MeshPhongMaterial=function(e){f.Material.call(this),this.color=new f.Color(16777215),this.ambient=new f.Color(16777215),this.emissive=new f.Color(0),this.specular=new f.Color(1118481),this.shininess=30,this.metal=!1,this.perPixel=!0,this.wrapAround=!1,this.wrapRGB=new f.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new f.Vector2(1,1),this.specularMap=null,this.envMap=null,this.combine=f.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=f.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=f.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},f.MeshPhongMaterial.prototype=Object.create(f.Material.prototype),f.MeshPhongMaterial.prototype.clone=function(){var e=new f.MeshPhongMaterial;return f.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.specular.copy(this.specular),e.shininess=this.shininess,e.metal=this.metal,e.perPixel=this.perPixel,e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.bumpMap=this.bumpMap,e.bumpScale=this.bumpScale,e.normalMap=this.normalMap,e.normalScale.copy(this.normalScale),e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},f.MeshDepthMaterial=function(e){f.Material.call(this),this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},f.MeshDepthMaterial.prototype=Object.create(f.Material.prototype),f.MeshDepthMaterial.prototype.clone=function(){var e=new f.LineBasicMaterial;return f.Material.prototype.clone.call(this,e),e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},f.MeshNormalMaterial=function(e){f.Material.call(this,e),this.shading=f.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},f.MeshNormalMaterial.prototype=Object.create(f.Material.prototype),f.MeshNormalMaterial.prototype.clone=function(){var e=new f.MeshNormalMaterial;return f.Material.prototype.clone.call(this,e),e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},f.MeshFaceMaterial=function(e){this.materials=e instanceof Array?e:[]},f.MeshFaceMaterial.prototype.clone=function(){return new f.MeshFaceMaterial(this.materials.slice(0))},f.ParticleBasicMaterial=function(e){f.Material.call(this),this.color=new f.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=!1,this.fog=!0,this.setValues(e)},f.ParticleBasicMaterial.prototype=Object.create(f.Material.prototype),f.ParticleBasicMaterial.prototype.clone=function(){var e=new f.ParticleBasicMaterial;return f.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.size=this.size,e.sizeAttenuation=this.sizeAttenuation,e.vertexColors=this.vertexColors,e.fog=this.fog,e},f.ParticleCanvasMaterial=function(e){f.Material.call(this),this.color=new f.Color(16777215),this.program=function(e,t){},this.setValues(e)},f.ParticleCanvasMaterial.prototype=Object.create(f.Material.prototype),f.ParticleCanvasMaterial.prototype.clone=function(){var e=new f.ParticleCanvasMaterial;return f.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.program=this.program,e},f.ShaderMaterial=function(e){f.Material.call(this),this.fragmentShader="void main() {}",this.vertexShader="void main() {}",this.uniforms={},this.defines={},this.attributes=null,this.shading=f.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=f.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},f.ShaderMaterial.prototype=Object.create(f.Material.prototype),f.ShaderMaterial.prototype.clone=function(){var e=new f.ShaderMaterial;return f.Material.prototype.clone.call(this,e),e.fragmentShader=this.fragmentShader,e.vertexShader=this.vertexShader,e.uniforms=f.UniformsUtils.clone(this.uniforms),e.attributes=this.attributes,e.defines=this.defines,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.fog=this.fog,e.lights=this.lights,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},f.SpriteMaterial=function(e){f.Material.call(this),this.color=new f.Color(16777215),this.map=new f.Texture,this.useScreenCoordinates=!0,this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.scaleByViewport=!this.sizeAttenuation,this.alignment=f.SpriteAlignment.center.clone(),this.fog=!1,this.uvOffset=new f.Vector2(0,0),this.uvScale=new f.Vector2(1,1),this.setValues(e),void 0===(e=e||{}).depthTest&&(this.depthTest=!this.useScreenCoordinates),void 0===e.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates),void 0===e.scaleByViewport&&(this.scaleByViewport=!this.sizeAttenuation)},f.SpriteMaterial.prototype=Object.create(f.Material.prototype),f.SpriteMaterial.prototype.clone=function(){var e=new f.SpriteMaterial;return f.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.useScreenCoordinates=this.useScreenCoordinates,e.sizeAttenuation=this.sizeAttenuation,e.scaleByViewport=this.scaleByViewport,e.alignment.copy(this.alignment),e.uvOffset.copy(this.uvOffset),e.uvScale.copy(this.uvScale),e.fog=this.fog,e},f.SpriteAlignment={},f.SpriteAlignment.topLeft=new f.Vector2(1,-1),f.SpriteAlignment.topCenter=new f.Vector2(0,-1),f.SpriteAlignment.topRight=new f.Vector2(-1,-1),f.SpriteAlignment.centerLeft=new f.Vector2(1,0),f.SpriteAlignment.center=new f.Vector2(0,0),f.SpriteAlignment.centerRight=new f.Vector2(-1,0),f.SpriteAlignment.bottomLeft=new f.Vector2(1,1),f.SpriteAlignment.bottomCenter=new f.Vector2(0,1),f.SpriteAlignment.bottomRight=new f.Vector2(-1,1),f.Texture=function(e,t,i,r,n,o,a,s,l){f.EventDispatcher.call(this),this.id=f.TextureIdCount++,this.name="",this.image=e,this.mipmaps=[],this.mapping=void 0!==t?t:new f.UVMapping,this.wrapS=void 0!==i?i:f.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:f.ClampToEdgeWrapping,this.magFilter=void 0!==n?n:f.LinearFilter,this.minFilter=void 0!==o?o:f.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:f.RGBAFormat,this.type=void 0!==s?s:f.UnsignedByteType,this.offset=new f.Vector2(0,0),this.repeat=new f.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.needsUpdate=!1,this.onUpdate=null},f.Texture.prototype={constructor:f.Texture,clone:function(e){return void 0===e&&(e=new f.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},f.TextureIdCount=0,f.CompressedTexture=function(e,t,i,r,n,o,a,s,l,c,h){f.Texture.call(this,null,o,a,s,l,c,r,n,h),this.image={width:t,height:i},this.mipmaps=e,this.generateMipmaps=!1},f.CompressedTexture.prototype=Object.create(f.Texture.prototype),f.CompressedTexture.prototype.clone=function(){var e=new f.CompressedTexture;return f.Texture.prototype.clone.call(this,e),e},f.DataTexture=function(e,t,i,r,n,o,a,s,l,c,h){f.Texture.call(this,null,o,a,s,l,c,r,n,h),this.image={data:e,width:t,height:i}},f.DataTexture.prototype=Object.create(f.Texture.prototype),f.DataTexture.prototype.clone=function(){var e=new f.DataTexture;return f.Texture.prototype.clone.call(this,e),e},f.Particle=function(e){f.Object3D.call(this),this.material=e},f.Particle.prototype=Object.create(f.Object3D.prototype),f.Particle.prototype.clone=function(e){return void 0===e&&(e=new f.Particle(this.material)),f.Object3D.prototype.clone.call(this,e),e},f.ParticleSystem=function(e,t){f.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new f.ParticleBasicMaterial({color:16777215*Math.random()}),this.sortParticles=!1,this.geometry&&null===this.geometry.boundingSphere&&this.geometry.computeBoundingSphere(),this.frustumCulled=!1},f.ParticleSystem.prototype=Object.create(f.Object3D.prototype),f.ParticleSystem.prototype.clone=function(e){return void 0===e&&(e=new f.ParticleSystem(this.geometry,this.material)),e.sortParticles=this.sortParticles,f.Object3D.prototype.clone.call(this,e),e},f.Line=function(e,t,i){f.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new f.LineBasicMaterial({color:16777215*Math.random()}),this.type=void 0!==i?i:f.LineStrip,this.geometry&&(this.geometry.boundingSphere||this.geometry.computeBoundingSphere())},f.LineStrip=0,f.LinePieces=1,f.Line.prototype=Object.create(f.Object3D.prototype),f.Line.prototype.clone=function(e){return void 0===e&&(e=new f.Line(this.geometry,this.material,this.type)),f.Object3D.prototype.clone.call(this,e),e},f.Mesh=function(e,t){f.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new f.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0}),void 0!==this.geometry&&(null===this.geometry.boundingSphere&&this.geometry.computeBoundingSphere(),this.updateMorphTargets())},f.Mesh.prototype=Object.create(f.Object3D.prototype),f.Mesh.prototype.updateMorphTargets=function(){if(this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;e<t;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},f.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},f.Mesh.prototype.clone=function(e){return void 0===e&&(e=new f.Mesh(this.geometry,this.material)),f.Object3D.prototype.clone.call(this,e),e},f.Bone=function(e){f.Object3D.call(this),this.skin=e,this.skinMatrix=new f.Matrix4},f.Bone.prototype=Object.create(f.Object3D.prototype),f.Bone.prototype.update=function(e,t){this.matrixAutoUpdate&&(t|=this.updateMatrix()),(t||this.matrixWorldNeedsUpdate)&&(e?this.skinMatrix.multiplyMatrices(e,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);var i,r=this.children.length;for(i=0;i<r;i++)this.children[i].update(this.skinMatrix,t)},f.SkinnedMesh=function(e,t,i){var r,n,o,a,s,l;if(f.Mesh.call(this,e,t),this.useVertexTexture=void 0===i||i,this.identityMatrix=new f.Matrix4,this.bones=[],this.boneMatrices=[],this.geometry&&void 0!==this.geometry.bones){for(r=0;r<this.geometry.bones.length;r++)a=(o=this.geometry.bones[r]).pos,s=o.rotq,l=o.scl,(n=this.addBone()).name=o.name,n.position.set(a[0],a[1],a[2]),n.quaternion.set(s[0],s[1],s[2],s[3]),n.useQuaternion=!0,void 0!==l?n.scale.set(l[0],l[1],l[2]):n.scale.set(1,1,1);for(r=0;r<this.bones.length;r++)o=this.geometry.bones[r],n=this.bones[r],-1===o.parent?this.add(n):this.bones[o.parent].add(n);var c,h=this.bones.length;if(this.useVertexTexture)c=h>256?64:h>64?32:h>16?16:8,this.boneTextureWidth=c,this.boneTextureHeight=c,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new f.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,f.RGBAFormat,f.FloatType),this.boneTexture.minFilter=f.NearestFilter,this.boneTexture.magFilter=f.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1;else this.boneMatrices=new Float32Array(16*h);this.pose()}},f.SkinnedMesh.prototype=Object.create(f.Mesh.prototype),f.SkinnedMesh.prototype.addBone=function(e){return void 0===e&&(e=new f.Bone(this)),this.bones.push(e),e},f.SkinnedMesh.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,i=this.children.length;t<i;t++){var r=this.children[t];r instanceof f.Bone?r.update(this.identityMatrix,!1):r.updateMatrixWorld(!0)}if(void 0==this.boneInverses){this.boneInverses=[];for(var n=0,o=this.bones.length;n<o;n++){var a=new f.Matrix4;a.getInverse(this.bones[n].skinMatrix),this.boneInverses.push(a)}}for(n=0,o=this.bones.length;n<o;n++)f.SkinnedMesh.offsetMatrix.multiplyMatrices(this.bones[n].skinMatrix,this.boneInverses[n]),f.SkinnedMesh.offsetMatrix.flattenToArrayOffset(this.boneMatrices,16*n);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)},f.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(!0);for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e],i=1/t.lengthManhattan();i!==1/0?t.multiplyScalar(i):t.set(1)}},f.SkinnedMesh.prototype.clone=function(e){return void 0===e&&(e=new f.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),f.Mesh.prototype.clone.call(this,e),e},f.SkinnedMesh.offsetMatrix=new f.Matrix4,f.MorphAnimMesh=function(e,t){f.Mesh.call(this,e,t),this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},f.MorphAnimMesh.prototype=Object.create(f.Mesh.prototype),f.MorphAnimMesh.prototype.setFrameRange=function(e,t){this.startKeyframe=e,this.endKeyframe=t,this.length=this.endKeyframe-this.startKeyframe+1},f.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},f.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},f.MorphAnimMesh.prototype.parseAnimations=function(){var e=this.geometry;e.animations||(e.animations={});for(var t,i=e.animations,r=/([a-z]+)(\d+)/,n=0,o=e.morphTargets.length;n<o;n++){var a=e.morphTargets[n].name.match(r);if(a&&a.length>1){var s=a[1];a[2];i[s]||(i[s]={start:1/0,end:-1/0});var l=i[s];n<l.start&&(l.start=n),n>l.end&&(l.end=n),t||(t=s)}}e.firstAnimation=t},f.MorphAnimMesh.prototype.setAnimationLabel=function(e,t,i){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[e]={start:t,end:i}},f.MorphAnimMesh.prototype.playAnimation=function(e,t){var i=this.geometry.animations[e];i?(this.setFrameRange(i.start,i.end),this.duration=(i.end-i.start)/t*1e3,this.time=0):console.warn("animation["+e+"] undefined")},f.MorphAnimMesh.prototype.updateAnimation=function(e){var t=this.duration/this.length;this.time+=this.direction*e,this.mirroredLoop?(this.time>this.duration||this.time<0)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),this.time<0&&(this.time=0,this.directionBackwards=!1)):(this.time=this.time%this.duration,this.time<0&&(this.time+=this.duration));var i=this.startKeyframe+f.Math.clamp(Math.floor(this.time/t),0,this.length-1);i!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[i]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=i);var r=this.time%t/t;this.directionBackwards&&(r=1-r),this.morphTargetInfluences[this.currentKeyframe]=r,this.morphTargetInfluences[this.lastKeyframe]=1-r},f.MorphAnimMesh.prototype.clone=function(e){return void 0===e&&(e=new f.MorphAnimMesh(this.geometry,this.material)),e.duration=this.duration,e.mirroredLoop=this.mirroredLoop,e.time=this.time,e.lastKeyframe=this.lastKeyframe,e.currentKeyframe=this.currentKeyframe,e.direction=this.direction,e.directionBackwards=this.directionBackwards,f.Mesh.prototype.clone.call(this,e),e},f.Ribbon=function(e,t){f.Object3D.call(this),this.geometry=e,this.material=t},f.Ribbon.prototype=Object.create(f.Object3D.prototype),f.Ribbon.prototype.clone=function(e){return void 0===e&&(e=new f.Ribbon(this.geometry,this.material)),f.Object3D.prototype.clone.call(this,e),e},f.LOD=function(){f.Object3D.call(this),this.LODs=[]},f.LOD.prototype=Object.create(f.Object3D.prototype),f.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var i=0;i<this.LODs.length&&!(t<this.LODs[i].visibleAtDistance);i++);this.LODs.splice(i,0,{visibleAtDistance:t,object3D:e}),this.add(e)},f.LOD.prototype.update=function(e){if(this.LODs.length>1){e.matrixWorldInverse.getInverse(e.matrixWorld);var t=e.matrixWorldInverse,i=-(t.elements[2]*this.matrixWorld.elements[12]+t.elements[6]*this.matrixWorld.elements[13]+t.elements[10]*this.matrixWorld.elements[14]+t.elements[14]);this.LODs[0].object3D.visible=!0;for(var r=1;r<this.LODs.length&&i>=this.LODs[r].visibleAtDistance;r++)this.LODs[r-1].object3D.visible=!1,this.LODs[r].object3D.visible=!0;for(;r<this.LODs.length;r++)this.LODs[r].object3D.visible=!1}},f.LOD.prototype.clone=function(){},f.Sprite=function(e){f.Object3D.call(this),this.material=void 0!==e?e:new f.SpriteMaterial,this.rotation3d=this.rotation,this.rotation=0},f.Sprite.prototype=Object.create(f.Object3D.prototype),f.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},f.Sprite.prototype.clone=function(e){return void 0===e&&(e=new f.Sprite(this.material)),f.Object3D.prototype.clone.call(this,e),e},f.Scene=function(){f.Object3D.call(this),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},f.Scene.prototype=Object.create(f.Object3D.prototype),f.Scene.prototype.__addObject=function(e){if(e instanceof f.Light)-1===this.__lights.indexOf(e)&&this.__lights.push(e),e.target&&void 0===e.target.parent&&this.add(e.target);else if(!(e instanceof f.Camera||e instanceof f.Bone)&&-1===this.__objects.indexOf(e)){this.__objects.push(e),this.__objectsAdded.push(e);var t=this.__objectsRemoved.indexOf(e);-1!==t&&this.__objectsRemoved.splice(t,1)}for(var i=0;i<e.children.length;i++)this.__addObject(e.children[i])},f.Scene.prototype.__removeObject=function(e){if(e instanceof f.Light)-1!==(t=this.__lights.indexOf(e))&&this.__lights.splice(t,1);else if(!(e instanceof f.Camera)){var t;if(-1!==(t=this.__objects.indexOf(e))){this.__objects.splice(t,1),this.__objectsRemoved.push(e);var i=this.__objectsAdded.indexOf(e);-1!==i&&this.__objectsAdded.splice(i,1)}}for(var r=0;r<e.children.length;r++)this.__removeObject(e.children[r])},f.Fog=function(e,t,i){this.name="",this.color=new f.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==i?i:1e3},f.Fog.prototype.clone=function(){return new f.Fog(this.color.getHex(),this.near,this.far)},f.FogExp2=function(e,t){this.name="",this.color=new f.Color(e),this.density=void 0!==t?t:25e-5},f.FogExp2.prototype.clone=function(){return new f.FogExp2(this.color.getHex(),this.density)},f.CanvasRenderer=function(e){console.log("THREE.CanvasRenderer",f.REVISION),e=e||{};var t,i,r,n,o,a,s,l,c,h,d,p,m,g,v,y,b,_,x,w,S,C,T,A,M,E,D,F,I,k,R,L,P,N,B,O,z,U,V,H=this,W=new f.Projector,j=void 0!==e.canvas?e.canvas:document.createElement("canvas"),G=j.getContext("2d"),X=new f.Color(0),Y=0,q=1,K=0,$=null,Q=null,Z=null,J=null,ee=null,te=new f.RenderableVertex,ie=new f.RenderableVertex,re=new f.Color,ne=new f.Color,oe=new f.Color,ae=new f.Color,se=new f.Color,le=new f.Color,ce=new f.Color,he=new f.Color,ue={},de={},fe=new f.Box2,pe=new f.Box2,me=new f.Box2,ge=!1,ve=new f.Color,ye=new f.Color,be=new f.Color,_e=(Math.PI,new f.Vector3),xe=16;function we(e){q!==e&&(G.globalAlpha=e,q=e)}function Se(e){K!==e&&(e===f.NormalBlending?G.globalCompositeOperation="source-over":e===f.AdditiveBlending?G.globalCompositeOperation="lighter":e===f.SubtractiveBlending&&(G.globalCompositeOperation="darker"),K=e)}function Ce(e){Z!==e&&(G.lineWidth=e,Z=e)}function Te(e){J!==e&&(G.lineCap=e,J=e)}function Ae(e){ee!==e&&(G.lineJoin=e,ee=e)}function Me(e){$!==e&&(G.strokeStyle=e,$=e)}function Ee(e){Q!==e&&(G.fillStyle=e,Q=e)}(N=document.createElement("canvas")).width=N.height=2,(B=N.getContext("2d")).fillStyle="rgba(0,0,0,1)",B.fillRect(0,0,2,2),O=B.getImageData(0,0,2,2),z=O.data,(U=document.createElement("canvas")).width=U.height=xe,(V=U.getContext("2d")).translate(-xe/2,-xe/2),V.scale(xe,xe),xe--,this.domElement=j,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==u.devicePixelRatio?u.devicePixelRatio:1,this.autoClear=!0,this.sortObjects=!0,this.sortElements=!0,this.info={render:{vertices:0,faces:0}},this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.setSize=function(e,t){n=e*this.devicePixelRatio,o=t*this.devicePixelRatio,a=Math.floor(n/2),s=Math.floor(o/2),j.width=n,j.height=o,j.style.width=e+"px",j.style.height=t+"px",fe.set(new f.Vector2(-a,-s),new f.Vector2(a,s)),pe.set(new f.Vector2(-a,-s),new f.Vector2(a,s)),q=1,K=0,$=null,Q=null,Z=null,J=null,ee=null},this.setClearColor=function(e,t){X.copy(e),Y=void 0!==t?t:1,pe.set(new f.Vector2(-a,-s),new f.Vector2(a,s))},this.setClearColorHex=function(e,t){X.setHex(e),Y=void 0!==t?t:1,pe.set(new f.Vector2(-a,-s),new f.Vector2(a,s))},this.getMaxAnisotropy=function(){return 0},this.clear=function(){G.setTransform(1,0,0,-1,a,s),!1===pe.empty()&&(pe.intersect(fe),pe.expandByScalar(2),Y<1&&G.clearRect(0|pe.min.x,0|pe.min.y,pe.max.x-pe.min.x|0,pe.max.y-pe.min.y|0),Y>0&&(Se(f.NormalBlending),we(1),Ee("rgba("+Math.floor(255*X.r)+","+Math.floor(255*X.g)+","+Math.floor(255*X.b)+","+Y+")"),G.fillRect(0|pe.min.x,0|pe.min.y,pe.max.x-pe.min.x|0,pe.max.y-pe.min.y|0)),pe.makeEmpty())},this.render=function(e,n){if(n instanceof f.Camera!=!1){!0===this.autoClear&&this.clear(),G.setTransform(1,0,0,-1,a,s),H.info.render.vertices=0,H.info.render.faces=0,t=W.projectScene(e,n,this.sortObjects,this.sortElements),i=t.elements,r=t.lights,!0===(ge=r.length>0)&&function(){ve.setRGB(0,0,0),ye.setRGB(0,0,0),be.setRGB(0,0,0);for(var e=0,t=r.length;e<t;e++){var i=r[e],n=i.color;i instanceof f.AmbientLight?ve.add(n):i instanceof f.DirectionalLight?ye.add(n):i instanceof f.PointLight&&be.add(n)}}();for(var o=0,u=i.length;o<u;o++){var j=i[o],X=j.material;if(void 0!==X&&!1!==X.visible){if(me.makeEmpty(),j instanceof f.RenderableParticle)(l=j).x*=a,l.y*=s,q(l,j,X,e);else if(j instanceof f.RenderableLine)l=j.v1,c=j.v2,l.positionScreen.x*=a,l.positionScreen.y*=s,c.positionScreen.x*=a,c.positionScreen.y*=s,me.setFromPoints([l.positionScreen,c.positionScreen]),!0===fe.isIntersectionBox(me)&&K(l,c,j,X,e);else if(j instanceof f.RenderableFace3){if(l=j.v1,c=j.v2,h=j.v3,l.positionScreen.z<-1||l.positionScreen.z>1)continue;if(c.positionScreen.z<-1||c.positionScreen.z>1)continue;if(h.positionScreen.z<-1||h.positionScreen.z>1)continue;l.positionScreen.x*=a,l.positionScreen.y*=s,c.positionScreen.x*=a,c.positionScreen.y*=s,h.positionScreen.x*=a,h.positionScreen.y*=s,!0===X.overdraw&&(Re(l.positionScreen,c.positionScreen),Re(c.positionScreen,h.positionScreen),Re(h.positionScreen,l.positionScreen)),me.setFromPoints([l.positionScreen,c.positionScreen,h.positionScreen]),$(l,c,h,0,1,2,j,X,e)}else if(j instanceof f.RenderableFace4){if(l=j.v1,c=j.v2,h=j.v3,d=j.v4,l.positionScreen.z<-1||l.positionScreen.z>1)continue;if(c.positionScreen.z<-1||c.positionScreen.z>1)continue;if(h.positionScreen.z<-1||h.positionScreen.z>1)continue;if(d.positionScreen.z<-1||d.positionScreen.z>1)continue;l.positionScreen.x*=a,l.positionScreen.y*=s,c.positionScreen.x*=a,c.positionScreen.y*=s,h.positionScreen.x*=a,h.positionScreen.y*=s,d.positionScreen.x*=a,d.positionScreen.y*=s,te.positionScreen.copy(c.positionScreen),ie.positionScreen.copy(d.positionScreen),!0===X.overdraw&&(Re(l.positionScreen,c.positionScreen),Re(c.positionScreen,d.positionScreen),Re(d.positionScreen,l.positionScreen),Re(h.positionScreen,te.positionScreen),Re(h.positionScreen,ie.positionScreen)),me.setFromPoints([l.positionScreen,c.positionScreen,h.positionScreen,d.positionScreen]),Q(l,c,h,d,te,ie,j,X,e)}pe.union(me)}}G.setTransform(1,0,0,1,0,0)}else console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");function Y(e,t,i){for(var n=0,o=r.length;n<o;n++){var a=r[n];if(he.copy(a.color),a instanceof f.DirectionalLight){var s=a.matrixWorld.getPosition().normalize();if((l=t.dot(s))<=0)continue;l*=a.intensity,i.add(he.multiplyScalar(l))}else if(a instanceof f.PointLight){var l;s=a.matrixWorld.getPosition();if((l=t.dot(_e.subVectors(s,e).normalize()))<=0)continue;if(0==(l*=0==a.distance?1:1-Math.min(e.distanceTo(s)/a.distance,1)))continue;l*=a.intensity,i.add(he.multiplyScalar(l))}}}function q(e,t,i,r){var n,o,l,c,h,u,d;if(we(i.opacity),Se(i.blending),i instanceof f.ParticleBasicMaterial)if(null===i.map){if(l=t.object.scale.x,c=t.object.scale.y,l*=t.scale.x*a,c*=t.scale.y*s,me.min.set(e.x-l,e.y-c),me.max.set(e.x+l,e.y+c),!1===fe.isIntersectionBox(me))return;Ee(i.color.getStyle()),G.save(),G.translate(e.x,e.y),G.rotate(-t.rotation),G.scale(l,c),G.fillRect(-1,-1,2,2),G.restore()}else{if(u=(h=i.map.image).width>>1,d=h.height>>1,n=(l=t.scale.x*a)*u,o=(c=t.scale.y*s)*d,me.min.set(e.x-n,e.y-o),me.max.set(e.x+n,e.y+o),!1===fe.isIntersectionBox(me))return;G.save(),G.translate(e.x,e.y),G.rotate(-t.rotation),G.scale(l,-c),G.translate(-u,-d),G.drawImage(h,0,0),G.restore()}else if(i instanceof f.ParticleCanvasMaterial){if(n=t.scale.x*a,o=t.scale.y*s,me.min.set(e.x-n,e.y-o),me.max.set(e.x+n,e.y+o),!1===fe.isIntersectionBox(me))return;Me(i.color.getStyle()),Ee(i.color.getStyle()),G.save(),G.translate(e.x,e.y),G.rotate(-t.rotation),G.scale(n,o),i.program(G),G.restore()}}function K(e,t,i,r,n){we(r.opacity),Se(r.blending),G.beginPath(),G.moveTo(e.positionScreen.x,e.positionScreen.y),G.lineTo(t.positionScreen.x,t.positionScreen.y),r instanceof f.LineBasicMaterial&&(Ce(r.linewidth),Te(r.linecap),Ae(r.linejoin),Me(r.color.getStyle()),G.stroke(),me.expandByScalar(2*r.linewidth))}function $(e,t,i,r,o,a,s,l,c){if(H.info.render.vertices+=3,H.info.render.faces++,we(l.opacity),Se(l.blending),p=e.positionScreen.x,m=e.positionScreen.y,g=t.positionScreen.x,v=t.positionScreen.y,y=i.positionScreen.x,b=i.positionScreen.y,Z(p,m,g,v,y,b),(l instanceof f.MeshLambertMaterial||l instanceof f.MeshPhongMaterial)&&null===l.map&&null===l.map)le.copy(l.color),ce.copy(l.emissive),l.vertexColors===f.FaceColors&&le.multiply(s.color),!0===ge?!1===l.wireframe&&l.shading==f.SmoothShading&&3==s.vertexNormalsLength?(ne.copy(ve),oe.copy(ve),ae.copy(ve),Y(s.v1.positionWorld,s.vertexNormalsModel[0],ne),Y(s.v2.positionWorld,s.vertexNormalsModel[1],oe),Y(s.v3.positionWorld,s.vertexNormalsModel[2],ae),ne.multiply(le).add(ce),oe.multiply(le).add(ce),ae.multiply(le).add(ce),se.addColors(oe,ae).multiplyScalar(.5),E=Ie(ne,oe,ae,se),Fe(p,m,g,v,y,b,0,0,1,0,0,1,E)):(re.copy(ve),Y(s.centroidModel,s.normalModel,re),re.multiply(le).add(ce),!0===l.wireframe?ee(re,l.wireframeLinewidth,l.wireframeLinecap,l.wireframeLinejoin):xe(re)):!0===l.wireframe?ee(l.color,l.wireframeLinewidth,l.wireframeLinecap,l.wireframeLinejoin):xe(l.color);else if(l instanceof f.MeshBasicMaterial||l instanceof f.MeshLambertMaterial||l instanceof f.MeshPhongMaterial)null!==l.map?l.map.mapping instanceof f.UVMapping&&(D=s.uvs[0],De(p,m,g,v,y,b,D[r].x,D[r].y,D[o].x,D[o].y,D[a].x,D[a].y,l.map)):null!==l.envMap?l.envMap.mapping instanceof f.SphericalReflectionMapping&&(_e.copy(s.vertexNormalsModelView[r]),F=.5*_e.x+.5,I=.5*_e.y+.5,_e.copy(s.vertexNormalsModelView[o]),k=.5*_e.x+.5,R=.5*_e.y+.5,_e.copy(s.vertexNormalsModelView[a]),L=.5*_e.x+.5,P=.5*_e.y+.5,De(p,m,g,v,y,b,F,I,k,R,L,P,l.envMap)):(re.copy(l.color),l.vertexColors===f.FaceColors&&re.multiply(s.color),!0===l.wireframe?ee(re,l.wireframeLinewidth,l.wireframeLinecap,l.wireframeLinejoin):xe(re));else if(l instanceof f.MeshDepthMaterial){var h;A=n.near,M=n.far,h=1-ke(e.positionScreen.z*e.positionScreen.w,A,M),ne.setRGB(h,h,h),h=1-ke(t.positionScreen.z*t.positionScreen.w,A,M),oe.setRGB(h,h,h),h=1-ke(i.positionScreen.z*i.positionScreen.w,A,M),ae.setRGB(h,h,h),se.addColors(oe,ae).multiplyScalar(.5),E=Ie(ne,oe,ae,se),Fe(p,m,g,v,y,b,0,0,1,0,0,1,E)}else if(l instanceof f.MeshNormalMaterial){var u;l.shading==f.FlatShading?(u=s.normalModelView,re.setRGB(u.x,u.y,u.z).multiplyScalar(.5).addScalar(.5),!0===l.wireframe?ee(re,l.wireframeLinewidth,l.wireframeLinecap,l.wireframeLinejoin):xe(re)):l.shading==f.SmoothShading&&(u=s.vertexNormalsModelView[r],ne.setRGB(u.x,u.y,u.z).multiplyScalar(.5).addScalar(.5),u=s.vertexNormalsModelView[o],oe.setRGB(u.x,u.y,u.z).multiplyScalar(.5).addScalar(.5),u=s.vertexNormalsModelView[a],ae.setRGB(u.x,u.y,u.z).multiplyScalar(.5).addScalar(.5),se.addColors(oe,ae).multiplyScalar(.5),E=Ie(ne,oe,ae,se),Fe(p,m,g,v,y,b,0,0,1,0,0,1,E))}}function Q(e,t,i,r,o,a,s,l,c){if(H.info.render.vertices+=4,H.info.render.faces++,we(l.opacity),Se(l.blending),void 0!==l.map&&null!==l.map||void 0!==l.envMap&&null!==l.envMap)return $(e,t,r,0,1,3,s,l),void $(o,i,a,1,2,3,s,l);if(p=e.positionScreen.x,m=e.positionScreen.y,g=t.positionScreen.x,v=t.positionScreen.y,y=i.positionScreen.x,b=i.positionScreen.y,_=r.positionScreen.x,x=r.positionScreen.y,w=o.positionScreen.x,S=o.positionScreen.y,C=a.positionScreen.x,T=a.positionScreen.y,l instanceof f.MeshLambertMaterial||l instanceof f.MeshPhongMaterial)le.copy(l.color),ce.copy(l.emissive),l.vertexColors===f.FaceColors&&le.multiply(s.color),!0===ge?!1===l.wireframe&&l.shading==f.SmoothShading&&4==s.vertexNormalsLength?(ne.copy(ve),oe.copy(ve),ae.copy(ve),se.copy(ve),Y(s.v1.positionWorld,s.vertexNormalsModel[0],ne),Y(s.v2.positionWorld,s.vertexNormalsModel[1],oe),Y(s.v4.positionWorld,s.vertexNormalsModel[3],ae),Y(s.v3.positionWorld,s.vertexNormalsModel[2],se),ne.multiply(le).add(ce),oe.multiply(le).add(ce),ae.multiply(le).add(ce),se.multiply(le).add(ce),E=Ie(ne,oe,ae,se),Z(p,m,g,v,_,x),Fe(p,m,g,v,_,x,0,0,1,0,0,1,E),Z(w,S,y,b,C,T),Fe(w,S,y,b,C,T,1,0,1,1,0,1,E)):(re.copy(ve),Y(s.centroidModel,s.normalModel,re),re.multiply(le).add(ce),J(p,m,g,v,y,b,_,x),!0===l.wireframe?ee(re,l.wireframeLinewidth,l.wireframeLinecap,l.wireframeLinejoin):xe(re)):(re.addColors(le,ce),J(p,m,g,v,y,b,_,x),!0===l.wireframe?ee(re,l.wireframeLinewidth,l.wireframeLinecap,l.wireframeLinejoin):xe(re));else if(l instanceof f.MeshBasicMaterial)re.copy(l.color),l.vertexColors===f.FaceColors&&re.multiply(s.color),J(p,m,g,v,y,b,_,x),!0===l.wireframe?ee(re,l.wireframeLinewidth,l.wireframeLinecap,l.wireframeLinejoin):xe(re);else if(l instanceof f.MeshNormalMaterial){var h;l.shading==f.FlatShading?(h=s.normalModelView,re.setRGB(h.x,h.y,h.z).multiplyScalar(.5).addScalar(.5),J(p,m,g,v,y,b,_,x),!0===l.wireframe?ee(re,l.wireframeLinewidth,l.wireframeLinecap,l.wireframeLinejoin):xe(re)):l.shading==f.SmoothShading&&(h=s.vertexNormalsModelView[0],ne.setRGB(h.x,h.y,h.z).multiplyScalar(.5).addScalar(.5),h=s.vertexNormalsModelView[1],oe.setRGB(h.x,h.y,h.z).multiplyScalar(.5).addScalar(.5),h=s.vertexNormalsModelView[3],ae.setRGB(h.x,h.y,h.z).multiplyScalar(.5).addScalar(.5),h=s.vertexNormalsModelView[2],se.setRGB(h.x,h.y,h.z).multiplyScalar(.5).addScalar(.5),E=Ie(ne,oe,ae,se),Z(p,m,g,v,_,x),Fe(p,m,g,v,_,x,0,0,1,0,0,1,E),Z(w,S,y,b,C,T),Fe(w,S,y,b,C,T,1,0,1,1,0,1,E))}else l instanceof f.MeshDepthMaterial&&(A=n.near,M=n.far,ne.r=ne.g=ne.b=1-ke(e.positionScreen.z*e.positionScreen.w,A,M),oe.r=oe.g=oe.b=1-ke(t.positionScreen.z*t.positionScreen.w,A,M),ae.r=ae.g=ae.b=1-ke(r.positionScreen.z*r.positionScreen.w,A,M),se.r=se.g=se.b=1-ke(i.positionScreen.z*i.positionScreen.w,A,M),E=Ie(ne,oe,ae,se),Z(p,m,g,v,_,x),Fe(p,m,g,v,_,x,0,0,1,0,0,1,E),Z(w,S,y,b,C,T),Fe(w,S,y,b,C,T,1,0,1,1,0,1,E))}function Z(e,t,i,r,n,o){G.beginPath(),G.moveTo(e,t),G.lineTo(i,r),G.lineTo(n,o),G.closePath()}function J(e,t,i,r,n,o,a,s){G.beginPath(),G.moveTo(e,t),G.lineTo(i,r),G.lineTo(n,o),G.lineTo(a,s),G.closePath()}function ee(e,t,i,r){Ce(t),Te(i),Ae(r),Me(e.getStyle()),G.stroke(),me.expandByScalar(2*t)}function xe(e){Ee(e.getStyle()),G.fill()}function De(e,t,i,r,n,o,a,s,l,c,h,u,d){if(!(d instanceof f.DataTexture||void 0===d.image||0==d.image.width)){if(!0===d.needsUpdate){var p=d.wrapS==f.RepeatWrapping,m=d.wrapT==f.RepeatWrapping;ue[d.id]=G.createPattern(d.image,!0===p&&!0===m?"repeat":!0===p&&!1===m?"repeat-x":!1===p&&!0===m?"repeat-y":"no-repeat"),d.needsUpdate=!1}void 0===ue[d.id]?Ee("rgba(0,0,0,1)"):Ee(ue[d.id]);var g,v,y,b,_,x,w,S,C=d.offset.x/d.repeat.x,T=d.offset.y/d.repeat.y,A=d.image.width*d.repeat.x,M=d.image.height*d.repeat.y;if(l=(l+C)*A,c=(1-c+T)*M,h=(h+C)*A,u=(1-u+T)*M,i-=e,r-=t,n-=e,o-=t,0===(w=(l-=a=(a+C)*A)*(u-=s=(1-s+T)*M)-(h-=a)*(c-=s))){if(void 0===de[d.id]){var E=document.createElement("canvas");E.width=d.image.width,E.height=d.image.height;var D=E.getContext("2d");D.drawImage(d.image,0,0),de[d.id]=D.getImageData(0,0,d.image.width,d.image.height).data}var F=de[d.id],I=4*(Math.floor(a)+Math.floor(s)*d.image.width);return re.setRGB(F[I]/255,F[I+1]/255,F[I+2]/255),void xe(re)}_=e-(g=(u*i-c*n)*(S=1/w))*a-(y=(l*n-h*i)*S)*s,x=t-(v=(u*r-c*o)*S)*a-(b=(l*o-h*r)*S)*s,G.save(),G.transform(g,v,y,b,_,x),G.fill(),G.restore()}}function Fe(e,t,i,r,n,o,a,s,l,c,h,u,d){var f,p,m,g,v,y,b,_=d.width-1,x=d.height-1;l*=_,c*=x,h*=_,u*=x,v=e-(f=((u-=s*=x)*(i-=e)-(c-=s)*(n-=e))*(b=1/((l-=a*=_)*u-(h-=a)*c)))*a-(m=(l*n-h*i)*b)*s,y=t-(p=(u*(r-=t)-c*(o-=t))*b)*a-(g=(l*o-h*r)*b)*s,G.save(),G.transform(f,p,m,g,v,y),G.clip(),G.drawImage(d,0,0),G.restore()}function Ie(e,t,i,r){return z[0]=255*e.r|0,z[1]=255*e.g|0,z[2]=255*e.b|0,z[4]=255*t.r|0,z[5]=255*t.g|0,z[6]=255*t.b|0,z[8]=255*i.r|0,z[9]=255*i.g|0,z[10]=255*i.b|0,z[12]=255*r.r|0,z[13]=255*r.g|0,z[14]=255*r.b|0,B.putImageData(O,0,0),V.drawImage(N,0,0),U}function ke(e,t,i){var r=(e-t)/(i-t);return r*r*(3-2*r)}function Re(e,t){var i,r=t.x-e.x,n=t.y-e.y,o=r*r+n*n;0!==o&&(r*=i=1/Math.sqrt(o),n*=i,t.x+=r,t.y+=n,e.x-=r,e.y-=n)}}},f.ShaderChunk={fog_pars_fragment:["#ifdef USE_FOG","uniform vec3 fogColor;","#ifdef FOG_EXP2","uniform float fogDensity;","#else","uniform float fogNear;","uniform float fogFar;","#endif","#endif"].join("\n"),fog_fragment:["#ifdef USE_FOG","float depth = gl_FragCoord.z / gl_FragCoord.w;","#ifdef FOG_EXP2","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","#else","float fogFactor = smoothstep( fogNear, fogFar, depth );","#endif","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","#endif"].join("\n"),envmap_pars_fragment:["#ifdef USE_ENVMAP","uniform float reflectivity;","uniform samplerCube envMap;","uniform float flipEnvMap;","uniform int combine;","#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )","uniform bool useRefract;","uniform float refractionRatio;","#else","varying vec3 vReflect;","#endif","#endif"].join("\n"),envmap_fragment:["#ifdef USE_ENVMAP","vec3 reflectVec;","#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )","vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","if ( useRefract ) {","reflectVec = refract( cameraToVertex, normal, refractionRatio );","} else { ","reflectVec = reflect( cameraToVertex, normal );","}","#else","reflectVec = vReflect;","#endif","#ifdef DOUBLE_SIDED","float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );","vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );","#else","vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );","#endif","#ifdef GAMMA_INPUT","cubeColor.xyz *= cubeColor.xyz;","#endif","if ( combine == 1 ) {","gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );","} else if ( combine == 2 ) {","gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;","} else {","gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );","}","#endif"].join("\n"),envmap_pars_vertex:["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )","varying vec3 vReflect;","uniform float refractionRatio;","uniform bool useRefract;","#endif"].join("\n"),worldpos_vertex:["#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )","#ifdef USE_SKINNING","vec4 worldPosition = modelMatrix * skinned;","#endif","#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )","vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );","#endif","#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","#endif","#endif"].join("\n"),envmap_vertex:["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )","vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;","worldNormal = normalize( worldNormal );","vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );","if ( useRefract ) {","vReflect = refract( cameraToVertex, worldNormal, refractionRatio );","} else {","vReflect = reflect( cameraToVertex, worldNormal );","}","#endif"].join("\n"),map_particle_pars_fragment:["#ifdef USE_MAP","uniform sampler2D map;","#endif"].join("\n"),map_particle_fragment:["#ifdef USE_MAP","gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );","#endif"].join("\n"),map_pars_vertex:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","varying vec2 vUv;","uniform vec4 offsetRepeat;","#endif"].join("\n"),map_pars_fragment:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","varying vec2 vUv;","#endif","#ifdef USE_MAP","uniform sampler2D map;","#endif"].join("\n"),map_vertex:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","vUv = uv * offsetRepeat.zw + offsetRepeat.xy;","#endif"].join("\n"),map_fragment:["#ifdef USE_MAP","vec4 texelColor = texture2D( map, vUv );","#ifdef GAMMA_INPUT","texelColor.xyz *= texelColor.xyz;","#endif","gl_FragColor = gl_FragColor * texelColor;","#endif"].join("\n"),lightmap_pars_fragment:["#ifdef USE_LIGHTMAP","varying vec2 vUv2;","uniform sampler2D lightMap;","#endif"].join("\n"),lightmap_pars_vertex:["#ifdef USE_LIGHTMAP","varying vec2 vUv2;","#endif"].join("\n"),lightmap_fragment:["#ifdef USE_LIGHTMAP","gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );","#endif"].join("\n"),lightmap_vertex:["#ifdef USE_LIGHTMAP","vUv2 = uv2;","#endif"].join("\n"),bumpmap_pars_fragment:["#ifdef USE_BUMPMAP","uniform sampler2D bumpMap;","uniform float bumpScale;","vec2 dHdxy_fwd() {","vec2 dSTdx = dFdx( vUv );","vec2 dSTdy = dFdy( vUv );","float Hll = bumpScale * texture2D( bumpMap, vUv ).x;","float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;","float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;","return vec2( dBx, dBy );","}","vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {","vec3 vSigmaX = dFdx( surf_pos );","vec3 vSigmaY = dFdy( surf_pos );","vec3 vN = surf_norm;","vec3 R1 = cross( vSigmaY, vN );","vec3 R2 = cross( vN, vSigmaX );","float fDet = dot( vSigmaX, R1 );","vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );","return normalize( abs( fDet ) * surf_norm - vGrad );","}","#endif"].join("\n"),normalmap_pars_fragment:["#ifdef USE_NORMALMAP","uniform sampler2D normalMap;","uniform vec2 normalScale;","vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {","vec3 q0 = dFdx( eye_pos.xyz );","vec3 q1 = dFdy( eye_pos.xyz );","vec2 st0 = dFdx( vUv.st );","vec2 st1 = dFdy( vUv.st );","vec3 S = normalize(  q0 * st1.t - q1 * st0.t );","vec3 T = normalize( -q0 * st1.s + q1 * st0.s );","vec3 N = normalize( surf_norm );","vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;","mapN.xy = normalScale * mapN.xy;","mat3 tsn = mat3( S, T, N );","return normalize( tsn * mapN );","}","#endif"].join("\n"),specularmap_pars_fragment:["#ifdef USE_SPECULARMAP","uniform sampler2D specularMap;","#endif"].join("\n"),specularmap_fragment:["float specularStrength;","#ifdef USE_SPECULARMAP","vec4 texelSpecular = texture2D( specularMap, vUv );","specularStrength = texelSpecular.r;","#else","specularStrength = 1.0;","#endif"].join("\n"),lights_lambert_pars_vertex:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif"].join("\n"),lights_lambert_vertex:["vLightFront = vec3( 0.0 );","#ifdef DOUBLE_SIDED","vLightBack = vec3( 0.0 );","#endif","transformedNormal = normalize( transformedNormal );","#if MAX_DIR_LIGHTS > 0","for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","float dotProduct = dot( transformedNormal, dirVector );","vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += directionalLightColor[ i ] * directionalLightWeighting;","#ifdef DOUBLE_SIDED","vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;","#endif","}","#endif","#if MAX_POINT_LIGHTS > 0","for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","float dotProduct = dot( transformedNormal, lVector );","vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;","#ifdef DOUBLE_SIDED","vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;","#endif","}","#endif","#if MAX_SPOT_LIGHTS > 0","for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );","if ( spotEffect > spotLightAngleCos[ i ] ) {","spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","float dotProduct = dot( transformedNormal, lVector );","vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;","#ifdef DOUBLE_SIDED","vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;","#endif","}","}","#endif","#if MAX_HEMI_LIGHTS > 0","for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","vec3 lVector = normalize( lDirection.xyz );","float dotProduct = dot( transformedNormal, lVector );","float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;","vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","#ifdef DOUBLE_SIDED","vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );","#endif","}","#endif","vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;","#ifdef DOUBLE_SIDED","vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;","#endif"].join("\n"),lights_phong_pars_vertex:["#ifndef PHONG_PER_PIXEL","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","varying vec4 vPointLight[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];","#endif","#endif","#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )","varying vec3 vWorldPosition;","#endif"].join("\n"),lights_phong_vertex:["#ifndef PHONG_PER_PIXEL","#if MAX_POINT_LIGHTS > 0","for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","vPointLight[ i ] = vec4( lVector, lDistance );","}","#endif","#if MAX_SPOT_LIGHTS > 0","for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","vSpotLight[ i ] = vec4( lVector, lDistance );","}","#endif","#endif","#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )","vWorldPosition = worldPosition.xyz;","#endif"].join("\n"),lights_phong_pars_fragment:["uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","#ifdef PHONG_PER_PIXEL","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#else","varying vec4 vPointLight[ MAX_POINT_LIGHTS ];","#endif","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","#ifdef PHONG_PER_PIXEL","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#else","varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];","#endif","#endif","#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )","varying vec3 vWorldPosition;","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif","varying vec3 vViewPosition;","varying vec3 vNormal;"].join("\n"),lights_phong_fragment:["vec3 normal = normalize( vNormal );","vec3 viewPosition = normalize( vViewPosition );","#ifdef DOUBLE_SIDED","normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );","#endif","#ifdef USE_NORMALMAP","normal = perturbNormal2Arb( -viewPosition, normal );","#elif defined( USE_BUMPMAP )","normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );","#endif","#if MAX_POINT_LIGHTS > 0","vec3 pointDiffuse  = vec3( 0.0 );","vec3 pointSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","#ifdef PHONG_PER_PIXEL","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz + vViewPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","#else","vec3 lVector = normalize( vPointLight[ i ].xyz );","float lDistance = vPointLight[ i ].w;","#endif","float dotProduct = dot( normal, lVector );","#ifdef WRAP_AROUND","float pointDiffuseWeightFull = max( dotProduct, 0.0 );","float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","#else","float pointDiffuseWeight = max( dotProduct, 0.0 );","#endif","pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;","vec3 pointHalfVector = normalize( lVector + viewPosition );","float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );","pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;","#else","pointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;","#endif","}","#endif","#if MAX_SPOT_LIGHTS > 0","vec3 spotDiffuse  = vec3( 0.0 );","vec3 spotSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","#ifdef PHONG_PER_PIXEL","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz + vViewPosition.xyz;","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","#else","vec3 lVector = normalize( vSpotLight[ i ].xyz );","float lDistance = vSpotLight[ i ].w;","#endif","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","if ( spotEffect > spotLightAngleCos[ i ] ) {","spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","float dotProduct = dot( normal, lVector );","#ifdef WRAP_AROUND","float spotDiffuseWeightFull = max( dotProduct, 0.0 );","float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","#else","float spotDiffuseWeight = max( dotProduct, 0.0 );","#endif","spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;","vec3 spotHalfVector = normalize( lVector + viewPosition );","float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );","spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;","#else","spotSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;","#endif","}","}","#endif","#if MAX_DIR_LIGHTS > 0","vec3 dirDiffuse  = vec3( 0.0 );","vec3 dirSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, dirVector );","#ifdef WRAP_AROUND","float dirDiffuseWeightFull = max( dotProduct, 0.0 );","float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );","#else","float dirDiffuseWeight = max( dotProduct, 0.0 );","#endif","dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;","vec3 dirHalfVector = normalize( dirVector + viewPosition );","float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );","dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","#else","dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;","#endif","}","#endif","#if MAX_HEMI_LIGHTS > 0","vec3 hemiDiffuse  = vec3( 0.0 );","vec3 hemiSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","vec3 lVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, lVector );","float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","hemiDiffuse += diffuse * hemiColor;","vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );","vec3 lVectorGround = -lVector;","vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float dotProductGround = dot( normal, lVectorGround );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );","vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );","hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","#else","hemiSpecular += specular * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;","#endif","}","#endif","vec3 totalDiffuse = vec3( 0.0 );","vec3 totalSpecular = vec3( 0.0 );","#if MAX_DIR_LIGHTS > 0","totalDiffuse += dirDiffuse;","totalSpecular += dirSpecular;","#endif","#if MAX_HEMI_LIGHTS > 0","totalDiffuse += hemiDiffuse;","totalSpecular += hemiSpecular;","#endif","#if MAX_POINT_LIGHTS > 0","totalDiffuse += pointDiffuse;","totalSpecular += pointSpecular;","#endif","#if MAX_SPOT_LIGHTS > 0","totalDiffuse += spotDiffuse;","totalSpecular += spotSpecular;","#endif","#ifdef METAL","gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );","#else","gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","#endif"].join("\n"),color_pars_fragment:["#ifdef USE_COLOR","varying vec3 vColor;","#endif"].join("\n"),color_fragment:["#ifdef USE_COLOR","gl_FragColor = gl_FragColor * vec4( vColor, opacity );","#endif"].join("\n"),color_pars_vertex:["#ifdef USE_COLOR","varying vec3 vColor;","#endif"].join("\n"),color_vertex:["#ifdef USE_COLOR","#ifdef GAMMA_INPUT","vColor = color * color;","#else","vColor = color;","#endif","#endif"].join("\n"),skinning_pars_vertex:["#ifdef USE_SKINNING","#ifdef BONE_TEXTURE","uniform sampler2D boneTexture;","mat4 getBoneMatrix( const in float i ) {","float j = i * 4.0;","float x = mod( j, N_BONE_PIXEL_X );","float y = floor( j / N_BONE_PIXEL_X );","const float dx = 1.0 / N_BONE_PIXEL_X;","const float dy = 1.0 / N_BONE_PIXEL_Y;","y = dy * ( y + 0.5 );","vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );","vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );","vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );","vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );","mat4 bone = mat4( v1, v2, v3, v4 );","return bone;","}","#else","uniform mat4 boneGlobalMatrices[ MAX_BONES ];","mat4 getBoneMatrix( const in float i ) {","mat4 bone = boneGlobalMatrices[ int(i) ];","return bone;","}","#endif","#endif"].join("\n"),skinbase_vertex:["#ifdef USE_SKINNING","mat4 boneMatX = getBoneMatrix( skinIndex.x );","mat4 boneMatY = getBoneMatrix( skinIndex.y );","#endif"].join("\n"),skinning_vertex:["#ifdef USE_SKINNING","#ifdef USE_MORPHTARGETS","vec4 skinVertex = vec4( morphed, 1.0 );","#else","vec4 skinVertex = vec4( position, 1.0 );","#endif","vec4 skinned  = boneMatX * skinVertex * skinWeight.x;","skinned \t  += boneMatY * skinVertex * skinWeight.y;","#endif"].join("\n"),morphtarget_pars_vertex:["#ifdef USE_MORPHTARGETS","#ifndef USE_MORPHNORMALS","uniform float morphTargetInfluences[ 8 ];","#else","uniform float morphTargetInfluences[ 4 ];","#endif","#endif"].join("\n"),morphtarget_vertex:["#ifdef USE_MORPHTARGETS","vec3 morphed = vec3( 0.0 );","morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];","morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];","morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];","morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];","#ifndef USE_MORPHNORMALS","morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];","morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];","morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];","morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];","#endif","morphed += position;","#endif"].join("\n"),default_vertex:["vec4 mvPosition;","#ifdef USE_SKINNING","mvPosition = modelViewMatrix * skinned;","#endif","#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )","mvPosition = modelViewMatrix * vec4( morphed, 1.0 );","#endif","#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )","mvPosition = modelViewMatrix * vec4( position, 1.0 );","#endif","gl_Position = projectionMatrix * mvPosition;"].join("\n"),morphnormal_vertex:["#ifdef USE_MORPHNORMALS","vec3 morphedNormal = vec3( 0.0 );","morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];","morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];","morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];","morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];","morphedNormal += normal;","#endif"].join("\n"),skinnormal_vertex:["#ifdef USE_SKINNING","mat4 skinMatrix = skinWeight.x * boneMatX;","skinMatrix \t+= skinWeight.y * boneMatY;","#ifdef USE_MORPHNORMALS","vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );","#else","vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );","#endif","#endif"].join("\n"),defaultnormal_vertex:["vec3 objectNormal;","#ifdef USE_SKINNING","objectNormal = skinnedNormal.xyz;","#endif","#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )","objectNormal = morphedNormal;","#endif","#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )","objectNormal = normal;","#endif","#ifdef FLIP_SIDED","objectNormal = -objectNormal;","#endif","vec3 transformedNormal = normalMatrix * objectNormal;"].join("\n"),shadowmap_pars_fragment:["#ifdef USE_SHADOWMAP","uniform sampler2D shadowMap[ MAX_SHADOWS ];","uniform vec2 shadowMapSize[ MAX_SHADOWS ];","uniform float shadowDarkness[ MAX_SHADOWS ];","uniform float shadowBias[ MAX_SHADOWS ];","varying vec4 vShadowCoord[ MAX_SHADOWS ];","float unpackDepth( const in vec4 rgba_depth ) {","const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","float depth = dot( rgba_depth, bit_shift );","return depth;","}","#endif"].join("\n"),shadowmap_fragment:["#ifdef USE_SHADOWMAP","#ifdef SHADOWMAP_DEBUG","vec3 frustumColors[3];","frustumColors[0] = vec3( 1.0, 0.5, 0.0 );","frustumColors[1] = vec3( 0.0, 1.0, 0.8 );","frustumColors[2] = vec3( 0.0, 0.5, 1.0 );","#endif","#ifdef SHADOWMAP_CASCADE","int inFrustumCount = 0;","#endif","float fDepth;","vec3 shadowColor = vec3( 1.0 );","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;","bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );","bool inFrustum = all( inFrustumVec );","#ifdef SHADOWMAP_CASCADE","inFrustumCount += int( inFrustum );","bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );","#else","bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );","#endif","bool frustumTest = all( frustumTestVec );","if ( frustumTest ) {","shadowCoord.z += shadowBias[ i ];","#if defined( SHADOWMAP_TYPE_PCF )","float shadow = 0.0;","const float shadowDelta = 1.0 / 9.0;","float xPixelOffset = 1.0 / shadowMapSize[ i ].x;","float yPixelOffset = 1.0 / shadowMapSize[ i ].y;","float dx0 = -1.25 * xPixelOffset;","float dy0 = -1.25 * yPixelOffset;","float dx1 = 1.25 * xPixelOffset;","float dy1 = 1.25 * yPixelOffset;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );","#elif defined( SHADOWMAP_TYPE_PCF_SOFT )","float shadow = 0.0;","float xPixelOffset = 1.0 / shadowMapSize[ i ].x;","float yPixelOffset = 1.0 / shadowMapSize[ i ].y;","float dx0 = -1.0 * xPixelOffset;","float dy0 = -1.0 * yPixelOffset;","float dx1 = 1.0 * xPixelOffset;","float dy1 = 1.0 * yPixelOffset;","mat3 shadowKernel;","mat3 depthKernel;","depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );","if ( depthKernel[0][0] < shadowCoord.z ) shadowKernel[0][0] = 0.25;","else shadowKernel[0][0] = 0.0;","depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );","if ( depthKernel[0][1] < shadowCoord.z ) shadowKernel[0][1] = 0.25;","else shadowKernel[0][1] = 0.0;","depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i], shadowCoord.xy + vec2( dx0, dy1 ) ) );","if ( depthKernel[0][2] < shadowCoord.z ) shadowKernel[0][2] = 0.25;","else shadowKernel[0][2] = 0.0;","depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );","if ( depthKernel[1][0] < shadowCoord.z ) shadowKernel[1][0] = 0.25;","else shadowKernel[1][0] = 0.0;","depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );","if ( depthKernel[1][1] < shadowCoord.z ) shadowKernel[1][1] = 0.25;","else shadowKernel[1][1] = 0.0;","depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );","if ( depthKernel[1][2] < shadowCoord.z ) shadowKernel[1][2] = 0.25;","else shadowKernel[1][2] = 0.0;","depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );","if ( depthKernel[2][0] < shadowCoord.z ) shadowKernel[2][0] = 0.25;","else shadowKernel[2][0] = 0.0;","depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );","if ( depthKernel[2][1] < shadowCoord.z ) shadowKernel[2][1] = 0.25;","else shadowKernel[2][1] = 0.0;","depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );","if ( depthKernel[2][2] < shadowCoord.z ) shadowKernel[2][2] = 0.25;","else shadowKernel[2][2] = 0.0;","vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );","shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );","shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );","vec4 shadowValues;","shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );","shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );","shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );","shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );","shadow = dot( shadowValues, vec4( 1.0 ) );","shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );","#else","vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );","float fDepth = unpackDepth( rgbaDepth );","if ( fDepth < shadowCoord.z )","shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );","#endif","}","#ifdef SHADOWMAP_DEBUG","#ifdef SHADOWMAP_CASCADE","if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];","#else","if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];","#endif","#endif","}","#ifdef GAMMA_OUTPUT","shadowColor *= shadowColor;","#endif","gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;","#endif"].join("\n"),shadowmap_pars_vertex:["#ifdef USE_SHADOWMAP","varying vec4 vShadowCoord[ MAX_SHADOWS ];","uniform mat4 shadowMatrix[ MAX_SHADOWS ];","#endif"].join("\n"),shadowmap_vertex:["#ifdef USE_SHADOWMAP","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","}","#endif"].join("\n"),alphatest_fragment:["#ifdef ALPHATEST","if ( gl_FragColor.a < ALPHATEST ) discard;","#endif"].join("\n"),linear_to_gamma_fragment:["#ifdef GAMMA_OUTPUT","gl_FragColor.xyz = sqrt( gl_FragColor.xyz );","#endif"].join("\n")},f.UniformsUtils={merge:function(e){var t,i,r,n={};for(t=0;t<e.length;t++)for(i in r=this.clone(e[t]))n[i]=r[i];return n},clone:function(e){var t,i,r,n={};for(t in e)for(i in n[t]={},e[t])(r=e[t][i])instanceof f.Color||r instanceof f.Vector2||r instanceof f.Vector3||r instanceof f.Vector4||r instanceof f.Matrix4||r instanceof f.Texture?n[t][i]=r.clone():r instanceof Array?n[t][i]=r.slice():n[t][i]=r;return n}},f.UniformsLib={common:{diffuse:{type:"c",value:new f.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new f.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new f.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new f.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new f.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new f.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},f.ShaderLib={basic:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,f.UniformsLib.fog,f.UniformsLib.shadowmap]),vertexShader:[f.ShaderChunk.map_pars_vertex,f.ShaderChunk.lightmap_pars_vertex,f.ShaderChunk.envmap_pars_vertex,f.ShaderChunk.color_pars_vertex,f.ShaderChunk.morphtarget_pars_vertex,f.ShaderChunk.skinning_pars_vertex,f.ShaderChunk.shadowmap_pars_vertex,"void main() {",f.ShaderChunk.map_vertex,f.ShaderChunk.lightmap_vertex,f.ShaderChunk.color_vertex,f.ShaderChunk.skinbase_vertex,"#ifdef USE_ENVMAP",f.ShaderChunk.morphnormal_vertex,f.ShaderChunk.skinnormal_vertex,f.ShaderChunk.defaultnormal_vertex,"#endif",f.ShaderChunk.morphtarget_vertex,f.ShaderChunk.skinning_vertex,f.ShaderChunk.default_vertex,f.ShaderChunk.worldpos_vertex,f.ShaderChunk.envmap_vertex,f.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",f.ShaderChunk.color_pars_fragment,f.ShaderChunk.map_pars_fragment,f.ShaderChunk.lightmap_pars_fragment,f.ShaderChunk.envmap_pars_fragment,f.ShaderChunk.fog_pars_fragment,f.ShaderChunk.shadowmap_pars_fragment,f.ShaderChunk.specularmap_pars_fragment,"void main() {","gl_FragColor = vec4( diffuse, opacity );",f.ShaderChunk.map_fragment,f.ShaderChunk.alphatest_fragment,f.ShaderChunk.specularmap_fragment,f.ShaderChunk.lightmap_fragment,f.ShaderChunk.color_fragment,f.ShaderChunk.envmap_fragment,f.ShaderChunk.shadowmap_fragment,f.ShaderChunk.linear_to_gamma_fragment,f.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,f.UniformsLib.fog,f.UniformsLib.lights,f.UniformsLib.shadowmap,{ambient:{type:"c",value:new f.Color(16777215)},emissive:{type:"c",value:new f.Color(0)},wrapRGB:{type:"v3",value:new f.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","varying vec3 vLightBack;","#endif",f.ShaderChunk.map_pars_vertex,f.ShaderChunk.lightmap_pars_vertex,f.ShaderChunk.envmap_pars_vertex,f.ShaderChunk.lights_lambert_pars_vertex,f.ShaderChunk.color_pars_vertex,f.ShaderChunk.morphtarget_pars_vertex,f.ShaderChunk.skinning_pars_vertex,f.ShaderChunk.shadowmap_pars_vertex,"void main() {",f.ShaderChunk.map_vertex,f.ShaderChunk.lightmap_vertex,f.ShaderChunk.color_vertex,f.ShaderChunk.morphnormal_vertex,f.ShaderChunk.skinbase_vertex,f.ShaderChunk.skinnormal_vertex,f.ShaderChunk.defaultnormal_vertex,f.ShaderChunk.morphtarget_vertex,f.ShaderChunk.skinning_vertex,f.ShaderChunk.default_vertex,f.ShaderChunk.worldpos_vertex,f.ShaderChunk.envmap_vertex,f.ShaderChunk.lights_lambert_vertex,f.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","varying vec3 vLightBack;","#endif",f.ShaderChunk.color_pars_fragment,f.ShaderChunk.map_pars_fragment,f.ShaderChunk.lightmap_pars_fragment,f.ShaderChunk.envmap_pars_fragment,f.ShaderChunk.fog_pars_fragment,f.ShaderChunk.shadowmap_pars_fragment,f.ShaderChunk.specularmap_pars_fragment,"void main() {","gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",f.ShaderChunk.map_fragment,f.ShaderChunk.alphatest_fragment,f.ShaderChunk.specularmap_fragment,"#ifdef DOUBLE_SIDED","if ( gl_FrontFacing )","gl_FragColor.xyz *= vLightFront;","else","gl_FragColor.xyz *= vLightBack;","#else","gl_FragColor.xyz *= vLightFront;","#endif",f.ShaderChunk.lightmap_fragment,f.ShaderChunk.color_fragment,f.ShaderChunk.envmap_fragment,f.ShaderChunk.shadowmap_fragment,f.ShaderChunk.linear_to_gamma_fragment,f.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,f.UniformsLib.bump,f.UniformsLib.normalmap,f.UniformsLib.fog,f.UniformsLib.lights,f.UniformsLib.shadowmap,{ambient:{type:"c",value:new f.Color(16777215)},emissive:{type:"c",value:new f.Color(0)},specular:{type:"c",value:new f.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new f.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","varying vec3 vNormal;",f.ShaderChunk.map_pars_vertex,f.ShaderChunk.lightmap_pars_vertex,f.ShaderChunk.envmap_pars_vertex,f.ShaderChunk.lights_phong_pars_vertex,f.ShaderChunk.color_pars_vertex,f.ShaderChunk.morphtarget_pars_vertex,f.ShaderChunk.skinning_pars_vertex,f.ShaderChunk.shadowmap_pars_vertex,"void main() {",f.ShaderChunk.map_vertex,f.ShaderChunk.lightmap_vertex,f.ShaderChunk.color_vertex,f.ShaderChunk.morphnormal_vertex,f.ShaderChunk.skinbase_vertex,f.ShaderChunk.skinnormal_vertex,f.ShaderChunk.defaultnormal_vertex,"vNormal = normalize( transformedNormal );",f.ShaderChunk.morphtarget_vertex,f.ShaderChunk.skinning_vertex,f.ShaderChunk.default_vertex,"vViewPosition = -mvPosition.xyz;",f.ShaderChunk.worldpos_vertex,f.ShaderChunk.envmap_vertex,f.ShaderChunk.lights_phong_vertex,f.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;",f.ShaderChunk.color_pars_fragment,f.ShaderChunk.map_pars_fragment,f.ShaderChunk.lightmap_pars_fragment,f.ShaderChunk.envmap_pars_fragment,f.ShaderChunk.fog_pars_fragment,f.ShaderChunk.lights_phong_pars_fragment,f.ShaderChunk.shadowmap_pars_fragment,f.ShaderChunk.bumpmap_pars_fragment,f.ShaderChunk.normalmap_pars_fragment,f.ShaderChunk.specularmap_pars_fragment,"void main() {","gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",f.ShaderChunk.map_fragment,f.ShaderChunk.alphatest_fragment,f.ShaderChunk.specularmap_fragment,f.ShaderChunk.lights_phong_fragment,f.ShaderChunk.lightmap_fragment,f.ShaderChunk.color_fragment,f.ShaderChunk.envmap_fragment,f.ShaderChunk.shadowmap_fragment,f.ShaderChunk.linear_to_gamma_fragment,f.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:f.UniformsUtils.merge([f.UniformsLib.particle,f.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",f.ShaderChunk.color_pars_vertex,f.ShaderChunk.shadowmap_pars_vertex,"void main() {",f.ShaderChunk.color_vertex,"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","#ifdef USE_SIZEATTENUATION","gl_PointSize = size * ( scale / length( mvPosition.xyz ) );","#else","gl_PointSize = size;","#endif","gl_Position = projectionMatrix * mvPosition;",f.ShaderChunk.worldpos_vertex,f.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",f.ShaderChunk.color_pars_fragment,f.ShaderChunk.map_particle_pars_fragment,f.ShaderChunk.fog_pars_fragment,f.ShaderChunk.shadowmap_pars_fragment,"void main() {","gl_FragColor = vec4( psColor, opacity );",f.ShaderChunk.map_particle_fragment,f.ShaderChunk.alphatest_fragment,f.ShaderChunk.color_fragment,f.ShaderChunk.shadowmap_fragment,f.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,f.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",f.ShaderChunk.color_pars_vertex,"void main() {",f.ShaderChunk.color_vertex,"vLineDistance = scale * lineDistance;","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",f.ShaderChunk.color_pars_fragment,f.ShaderChunk.fog_pars_fragment,"void main() {","if ( mod( vLineDistance, totalSize ) > dashSize ) {","discard;","}","gl_FragColor = vec4( diffuse, opacity );",f.ShaderChunk.color_fragment,f.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:["void main() {","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;","void main() {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float color = 1.0 - smoothstep( mNear, mFar, depth );","gl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;","void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","vNormal = normalize( normalMatrix * normal );","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;","void main() {","gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );","}"].join("\n")},normalmap:{uniforms:f.UniformsUtils.merge([f.UniformsLib.fog,f.UniformsLib.lights,f.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new f.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},uDiffuseColor:{type:"c",value:new f.Color(16777215)},uSpecularColor:{type:"c",value:new f.Color(1118481)},uAmbientColor:{type:"c",value:new f.Color(16777215)},uShininess:{type:"f",value:30},uOpacity:{type:"f",value:1},useRefract:{type:"i",value:0},uRefractionRatio:{type:"f",value:.98},uReflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new f.Vector2(0,0)},uRepeat:{type:"v2",value:new f.Vector2(1,1)},wrapRGB:{type:"v3",value:new f.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 uAmbientColor;","uniform vec3 uDiffuseColor;","uniform vec3 uSpecularColor;","uniform float uShininess;","uniform float uOpacity;","uniform bool enableDiffuse;","uniform bool enableSpecular;","uniform bool enableAO;","uniform bool enableReflection;","uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tSpecular;","uniform sampler2D tAO;","uniform samplerCube tCube;","uniform vec2 uNormalScale;","uniform bool useRefract;","uniform float uRefractionRatio;","uniform float uReflectivity;","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",f.ShaderChunk.shadowmap_pars_fragment,f.ShaderChunk.fog_pars_fragment,"void main() {","gl_FragColor = vec4( vec3( 1.0 ), uOpacity );","vec3 specularTex = vec3( 1.0 );","vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;","normalTex.xy *= uNormalScale;","normalTex = normalize( normalTex );","if( enableDiffuse ) {","#ifdef GAMMA_INPUT","vec4 texelColor = texture2D( tDiffuse, vUv );","texelColor.xyz *= texelColor.xyz;","gl_FragColor = gl_FragColor * texelColor;","#else","gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );","#endif","}","if( enableAO ) {","#ifdef GAMMA_INPUT","vec4 aoColor = texture2D( tAO, vUv );","aoColor.xyz *= aoColor.xyz;","gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;","#else","gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;","#endif","}","if( enableSpecular )","specularTex = texture2D( tSpecular, vUv ).xyz;","mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );","vec3 finalNormal = tsb * normalTex;","#ifdef FLIP_SIDED","finalNormal = -finalNormal;","#endif","vec3 normal = normalize( finalNormal );","vec3 viewPosition = normalize( vViewPosition );","#if MAX_POINT_LIGHTS > 0","vec3 pointDiffuse = vec3( 0.0 );","vec3 pointSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 pointVector = lPosition.xyz + vViewPosition.xyz;","float pointDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );","pointVector = normalize( pointVector );","#ifdef WRAP_AROUND","float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );","float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );","vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","#else","float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );","#endif","pointDiffuse += pointDistance * pointLightColor[ i ] * uDiffuseColor * pointDiffuseWeight;","vec3 pointHalfVector = normalize( pointVector + viewPosition );","float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );","pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;","#else","pointSpecular += pointDistance * pointLightColor[ i ] * uSpecularColor * pointSpecularWeight * pointDiffuseWeight;","#endif","}","#endif","#if MAX_SPOT_LIGHTS > 0","vec3 spotDiffuse = vec3( 0.0 );","vec3 spotSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 spotVector = lPosition.xyz + vViewPosition.xyz;","float spotDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );","spotVector = normalize( spotVector );","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","if ( spotEffect > spotLightAngleCos[ i ] ) {","spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","#ifdef WRAP_AROUND","float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );","float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );","vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","#else","float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );","#endif","spotDiffuse += spotDistance * spotLightColor[ i ] * uDiffuseColor * spotDiffuseWeight * spotEffect;","vec3 spotHalfVector = normalize( spotVector + viewPosition );","float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );","spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;","#else","spotSpecular += spotDistance * spotLightColor[ i ] * uSpecularColor * spotSpecularWeight * spotDiffuseWeight * spotEffect;","#endif","}","}","#endif","#if MAX_DIR_LIGHTS > 0","vec3 dirDiffuse = vec3( 0.0 );","vec3 dirSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","#ifdef WRAP_AROUND","float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );","float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );","vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );","#else","float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );","#endif","dirDiffuse += directionalLightColor[ i ] * uDiffuseColor * dirDiffuseWeight;","vec3 dirHalfVector = normalize( dirVector + viewPosition );","float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );","dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","#else","dirSpecular += directionalLightColor[ i ] * uSpecularColor * dirSpecularWeight * dirDiffuseWeight;","#endif","}","#endif","#if MAX_HEMI_LIGHTS > 0","vec3 hemiDiffuse  = vec3( 0.0 );","vec3 hemiSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","vec3 lVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, lVector );","float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","hemiDiffuse += uDiffuseColor * hemiColor;","vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","float hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, uShininess ), 0.0 );","vec3 lVectorGround = -lVector;","vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","float hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float dotProductGround = dot( normal, lVectorGround );","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlickSky = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );","vec3 schlickGround = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );","hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","#else","hemiSpecular += uSpecularColor * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;","#endif","}","#endif","vec3 totalDiffuse = vec3( 0.0 );","vec3 totalSpecular = vec3( 0.0 );","#if MAX_DIR_LIGHTS > 0","totalDiffuse += dirDiffuse;","totalSpecular += dirSpecular;","#endif","#if MAX_HEMI_LIGHTS > 0","totalDiffuse += hemiDiffuse;","totalSpecular += hemiSpecular;","#endif","#if MAX_POINT_LIGHTS > 0","totalDiffuse += pointDiffuse;","totalSpecular += pointSpecular;","#endif","#if MAX_SPOT_LIGHTS > 0","totalDiffuse += spotDiffuse;","totalSpecular += spotSpecular;","#endif","#ifdef METAL","gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor + totalSpecular );","#else","gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor ) + totalSpecular;","#endif","if ( enableReflection ) {","vec3 vReflect;","vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","if ( useRefract ) {","vReflect = refract( cameraToVertex, normal, uRefractionRatio );","} else {","vReflect = reflect( cameraToVertex, normal );","}","vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","#ifdef GAMMA_INPUT","cubeColor.xyz *= cubeColor.xyz;","#endif","gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * uReflectivity );","}",f.ShaderChunk.shadowmap_fragment,f.ShaderChunk.linear_to_gamma_fragment,f.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;","uniform vec2 uOffset;","uniform vec2 uRepeat;","uniform bool enableDisplacement;","#ifdef VERTEX_TEXTURES","uniform sampler2D tDisplacement;","uniform float uDisplacementScale;","uniform float uDisplacementBias;","#endif","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",f.ShaderChunk.skinning_pars_vertex,f.ShaderChunk.shadowmap_pars_vertex,"void main() {",f.ShaderChunk.skinbase_vertex,f.ShaderChunk.skinnormal_vertex,"#ifdef USE_SKINNING","vNormal = normalize( normalMatrix * skinnedNormal.xyz );","vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );","vTangent = normalize( normalMatrix * skinnedTangent.xyz );","#else","vNormal = normalize( normalMatrix * normal );","vTangent = normalize( normalMatrix * tangent.xyz );","#endif","vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );","vUv = uv * uRepeat + uOffset;","vec3 displacedPosition;","#ifdef VERTEX_TEXTURES","if ( enableDisplacement ) {","vec3 dv = texture2D( tDisplacement, uv ).xyz;","float df = uDisplacementScale * dv.x + uDisplacementBias;","displacedPosition = position + normalize( normal ) * df;","} else {","#ifdef USE_SKINNING","vec4 skinVertex = vec4( position, 1.0 );","vec4 skinned  = boneMatX * skinVertex * skinWeight.x;","skinned \t  += boneMatY * skinVertex * skinWeight.y;","displacedPosition  = skinned.xyz;","#else","displacedPosition = position;","#endif","}","#else","#ifdef USE_SKINNING","vec4 skinVertex = vec4( position, 1.0 );","vec4 skinned  = boneMatX * skinVertex * skinWeight.x;","skinned \t  += boneMatY * skinVertex * skinWeight.y;","displacedPosition  = skinned.xyz;","#else","displacedPosition = position;","#endif","#endif","vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );","vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );","gl_Position = projectionMatrix * mvPosition;","vWorldPosition = worldPosition.xyz;","vViewPosition = -mvPosition.xyz;","#ifdef USE_SHADOWMAP","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","}","#endif","}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;","void main() {","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","vWorldPosition = worldPosition.xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;","void main() {","gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );","}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[f.ShaderChunk.morphtarget_pars_vertex,f.ShaderChunk.skinning_pars_vertex,"void main() {",f.ShaderChunk.skinbase_vertex,f.ShaderChunk.morphtarget_vertex,f.ShaderChunk.skinning_vertex,f.ShaderChunk.default_vertex,"}"].join("\n"),fragmentShader:["vec4 pack_depth( const in float depth ) {","const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","vec4 res = fract( depth * bit_shift );","res -= res.xxyz * bit_mask;","return res;","}","void main() {","gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","}"].join("\n")}},f.WebGLRenderer=function(e){console.log("THREE.WebGLRenderer",f.REVISION);var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElement("canvas"),i=void 0!==e.precision?e.precision:"highp",r=void 0===e.alpha||e.alpha,n=void 0===e.premultipliedAlpha||e.premultipliedAlpha,o=void 0!==e.antialias&&e.antialias,a=void 0===e.stencil||e.stencil,s=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.clearColor?new f.Color(e.clearColor):new f.Color(0),c=void 0!==e.clearAlpha?e.clearAlpha:0;this.domElement=t,this.context=null,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==u.devicePixelRatio?u.devicePixelRatio:1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyBasedShading=!1,this.shadowMapEnabled=!1,this.shadowMapAutoUpdate=!0,this.shadowMapType=f.PCFShadowMap,this.shadowMapCullFace=f.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.renderPluginsPre=[],this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var h,d,p,m,g,v=this,y=[],b=0,_=null,x=null,w=-1,S=null,C=null,T=0,A=0,M=-1,E=-1,D=-1,F=-1,I=-1,k=-1,R=-1,L=-1,P=null,N=null,B=null,O=null,z=0,U=0,V=0,H=0,W=0,j=0,G={},X=new f.Frustum,Y=new f.Matrix4,q=new f.Matrix4,K=new f.Vector3,$=new f.Vector3,Q=!0,Z={ambient:[0,0,0],directional:{length:0,colors:new Array,positions:new Array},point:{length:0,colors:new Array,positions:new Array,distances:new Array},spot:{length:0,colors:new Array,positions:new Array,distances:new Array,directions:new Array,anglesCos:new Array,exponents:new Array},hemi:{length:0,skyColors:new Array,groundColors:new Array,positions:new Array}};!function(){try{if(!(h=t.getContext("experimental-webgl",{alpha:r,premultipliedAlpha:n,antialias:o,stencil:a,preserveDrawingBuffer:s})))throw"Error creating WebGL context."}catch(e){console.error(e)}d=h.getExtension("OES_texture_float"),p=h.getExtension("OES_standard_derivatives"),m=h.getExtension("EXT_texture_filter_anisotropic")||h.getExtension("MOZ_EXT_texture_filter_anisotropic")||h.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),g=h.getExtension("WEBGL_compressed_texture_s3tc")||h.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||h.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),d||console.log("THREE.WebGLRenderer: Float textures not supported.");p||console.log("THREE.WebGLRenderer: Standard derivatives not supported.");m||console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported.");g||console.log("THREE.WebGLRenderer: S3TC compressed textures not supported.")}(),h.clearColor(0,0,0,1),h.clearDepth(1),h.clearStencil(0),h.enable(h.DEPTH_TEST),h.depthFunc(h.LEQUAL),h.frontFace(h.CCW),h.cullFace(h.BACK),h.enable(h.CULL_FACE),h.enable(h.BLEND),h.blendEquation(h.FUNC_ADD),h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA),h.clearColor(l.r,l.g,l.b,c),this.context=h;var J=h.getParameter(h.MAX_TEXTURE_IMAGE_UNITS),ee=h.getParameter(h.MAX_VERTEX_TEXTURE_IMAGE_UNITS),te=(h.getParameter(h.MAX_TEXTURE_SIZE),h.getParameter(h.MAX_CUBE_MAP_TEXTURE_SIZE)),ie=m?h.getParameter(m.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,re=ee>0,ne=re&&d,oe=(g&&h.getParameter(h.COMPRESSED_TEXTURE_FORMATS),h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.HIGH_FLOAT)),ae=h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.MEDIUM_FLOAT),se=(h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.LOW_FLOAT),h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.HIGH_FLOAT)),le=h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.MEDIUM_FLOAT),ce=(h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.LOW_FLOAT),h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.HIGH_INT),h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.MEDIUM_INT),h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.LOW_INT),h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.HIGH_INT),h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.MEDIUM_INT),h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.LOW_INT),oe.precision>0&&se.precision>0),he=ae.precision>0&&le.precision>0;function ue(e){var t,i;if(e.__webglVertexBuffer=h.createBuffer(),e.__webglNormalBuffer=h.createBuffer(),e.__webglTangentBuffer=h.createBuffer(),e.__webglColorBuffer=h.createBuffer(),e.__webglUVBuffer=h.createBuffer(),e.__webglUV2Buffer=h.createBuffer(),e.__webglSkinIndicesBuffer=h.createBuffer(),e.__webglSkinWeightsBuffer=h.createBuffer(),e.__webglFaceBuffer=h.createBuffer(),e.__webglLineBuffer=h.createBuffer(),e.numMorphTargets)for(e.__webglMorphTargetsBuffers=[],t=0,i=e.numMorphTargets;t<i;t++)e.__webglMorphTargetsBuffers.push(h.createBuffer());if(e.numMorphNormals)for(e.__webglMorphNormalsBuffers=[],t=0,i=e.numMorphNormals;t<i;t++)e.__webglMorphNormalsBuffers.push(h.createBuffer());v.info.memory.geometries++}"highp"!==i||ce||(he?(i="mediump",console.warn("WebGLRenderer: highp not supported, using mediump")):(i="lowp",console.warn("WebGLRenderer: highp and mediump not supported, using lowp"))),"mediump"!==i||he||(i="lowp",console.warn("WebGLRenderer: mediump not supported, using lowp")),this.getContext=function(){return h},this.supportsVertexTextures=function(){return re},this.supportsFloatTextures=function(){return d},this.supportsStandardDerivatives=function(){return p},this.supportsCompressedTextureS3TC=function(){return g},this.getMaxAnisotropy=function(){return ie},this.getPrecision=function(){return i},this.setSize=function(e,i){t.width=e*this.devicePixelRatio,t.height=i*this.devicePixelRatio,t.style.width=e+"px",t.style.height=i+"px",this.setViewport(0,0,t.width,t.height)},this.setViewport=function(e,i,r,n){z=void 0!==e?e:0,U=void 0!==i?i:0,V=void 0!==r?r:t.width,H=void 0!==n?n:t.height,h.viewport(z,U,V,H)},this.setScissor=function(e,t,i,r){h.scissor(e,t,i,r)},this.enableScissorTest=function(e){e?h.enable(h.SCISSOR_TEST):h.disable(h.SCISSOR_TEST)},this.setClearColorHex=function(e,t){l.setHex(e),c=t,h.clearColor(l.r,l.g,l.b,c)},this.setClearColor=function(e,t){l.copy(e),c=t,h.clearColor(l.r,l.g,l.b,c)},this.getClearColor=function(){return l},this.getClearAlpha=function(){return c},this.clear=function(e,t,i){var r=0;(void 0===e||e)&&(r|=h.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=h.DEPTH_BUFFER_BIT),(void 0===i||i)&&(r|=h.STENCIL_BUFFER_BIT),h.clear(r)},this.clearTarget=function(e,t,i,r){this.setRenderTarget(e),this.clear(t,i,r)},this.addPostPlugin=function(e){e.init(this),this.renderPluginsPost.push(e)},this.addPrePlugin=function(e){e.init(this),this.renderPluginsPre.push(e)},this.updateShadowMap=function(e,t){_=null,D=-1,R=-1,L=-1,S=-1,w=-1,Q=!0,M=-1,E=-1,this.shadowMapPlugin.update(e,t)};var de=function(e){var t=e.target;t.removeEventListener("dispose",de),ge(t),v.info.memory.geometries--},fe=function(e){var t=e.target;t.removeEventListener("dispose",fe),ve(t),v.info.memory.textures--},pe=function(e){var t=e.target;t.removeEventListener("dispose",pe),ye(t),v.info.memory.textures--},me=function(e){var t=e.target;t.removeEventListener("dispose",me),be(t)},ge=function(e){if(e.__webglInit=void 0,void 0!==e.__webglVertexBuffer&&h.deleteBuffer(e.__webglVertexBuffer),void 0!==e.__webglNormalBuffer&&h.deleteBuffer(e.__webglNormalBuffer),void 0!==e.__webglTangentBuffer&&h.deleteBuffer(e.__webglTangentBuffer),void 0!==e.__webglColorBuffer&&h.deleteBuffer(e.__webglColorBuffer),void 0!==e.__webglUVBuffer&&h.deleteBuffer(e.__webglUVBuffer),void 0!==e.__webglUV2Buffer&&h.deleteBuffer(e.__webglUV2Buffer),void 0!==e.__webglSkinIndicesBuffer&&h.deleteBuffer(e.__webglSkinIndicesBuffer),void 0!==e.__webglSkinWeightsBuffer&&h.deleteBuffer(e.__webglSkinWeightsBuffer),void 0!==e.__webglFaceBuffer&&h.deleteBuffer(e.__webglFaceBuffer),void 0!==e.__webglLineBuffer&&h.deleteBuffer(e.__webglLineBuffer),void 0!==e.__webglLineDistanceBuffer&&h.deleteBuffer(e.__webglLineDistanceBuffer),void 0!==e.geometryGroups)for(var t in e.geometryGroups){var i=e.geometryGroups[t];if(void 0!==i.numMorphTargets)for(var r=0,n=i.numMorphTargets;r<n;r++)h.deleteBuffer(i.__webglMorphTargetsBuffers[r]);if(void 0!==i.numMorphNormals)for(r=0,n=i.numMorphNormals;r<n;r++)h.deleteBuffer(i.__webglMorphNormalsBuffers[r]);_e(i)}_e(e)},ve=function(e){if(e.image&&e.image.__webglTextureCube)h.deleteTexture(e.image.__webglTextureCube);else{if(!e.__webglInit)return;e.__webglInit=!1,h.deleteTexture(e.__webglTexture)}},ye=function(e){if(e&&e.__webglTexture)if(h.deleteTexture(e.__webglTexture),e instanceof f.WebGLRenderTargetCube)for(var t=0;t<6;t++)h.deleteFramebuffer(e.__webglFramebuffer[t]),h.deleteRenderbuffer(e.__webglRenderbuffer[t]);else h.deleteFramebuffer(e.__webglFramebuffer),h.deleteRenderbuffer(e.__webglRenderbuffer)},be=function(e){var t=e.program;if(void 0!==t){var i,r,n;e.program=void 0;var o=!1;for(i=0,r=y.length;i<r;i++)if((n=y[i]).program===t){n.usedTimes--,0===n.usedTimes&&(o=!0);break}if(!0===o){var a=[];for(i=0,r=y.length;i<r;i++)(n=y[i]).program!==t&&a.push(n);y=a,h.deleteProgram(t),v.info.memory.programs--}}};function _e(e){if(e.__webglCustomAttributesList)for(var t in e.__webglCustomAttributesList)h.deleteBuffer(e.__webglCustomAttributesList[t].buffer)}function xe(e,t){var i=e.vertices.length,r=t.material;if(r.attributes)for(var n in void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]),r.attributes){var o=r.attributes[n];if(!o.__webglInitialized||o.createUniqueBuffers){o.__webglInitialized=!0;var a=1;"v2"===o.type?a=2:"v3"===o.type?a=3:"v4"===o.type?a=4:"c"===o.type&&(a=3),o.size=a,o.array=new Float32Array(i*a),o.buffer=h.createBuffer(),o.buffer.belongsToAttribute=n,o.needsUpdate=!0}e.__webglCustomAttributesList.push(o)}}function we(e,t){var i,r,n=t.geometry,o=e.faces3,a=e.faces4,s=3*o.length+4*a.length,l=1*o.length+2*a.length,c=3*o.length+4*a.length,u=Se(t,e),d=Ae(u),f=Ce(u),p=Te(u);if(e.__vertexArray=new Float32Array(3*s),f&&(e.__normalArray=new Float32Array(3*s)),n.hasTangents&&(e.__tangentArray=new Float32Array(4*s)),p&&(e.__colorArray=new Float32Array(3*s)),d&&((n.faceUvs.length>0||n.faceVertexUvs.length>0)&&(e.__uvArray=new Float32Array(2*s)),(n.faceUvs.length>1||n.faceVertexUvs.length>1)&&(e.__uv2Array=new Float32Array(2*s))),t.geometry.skinWeights.length&&t.geometry.skinIndices.length&&(e.__skinIndexArray=new Float32Array(4*s),e.__skinWeightArray=new Float32Array(4*s)),e.__faceArray=new Uint16Array(3*l),e.__lineArray=new Uint16Array(2*c),e.numMorphTargets)for(e.__morphTargetsArrays=[],i=0,r=e.numMorphTargets;i<r;i++)e.__morphTargetsArrays.push(new Float32Array(3*s));if(e.numMorphNormals)for(e.__morphNormalsArrays=[],i=0,r=e.numMorphNormals;i<r;i++)e.__morphNormalsArrays.push(new Float32Array(3*s));if(e.__webglFaceCount=3*l,e.__webglLineCount=2*c,u.attributes)for(var m in void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]),u.attributes){var g=u.attributes[m],v={};for(var y in g)v[y]=g[y];if(!v.__webglInitialized||v.createUniqueBuffers){v.__webglInitialized=!0;var b=1;"v2"===v.type?b=2:"v3"===v.type?b=3:"v4"===v.type?b=4:"c"===v.type&&(b=3),v.size=b,v.array=new Float32Array(s*b),v.buffer=h.createBuffer(),v.buffer.belongsToAttribute=m,g.needsUpdate=!0,v.__original=g}e.__webglCustomAttributesList.push(v)}e.__inittedArrays=!0}function Se(e,t){return e.material instanceof f.MeshFaceMaterial?e.material.materials[t.materialIndex]:e.material}function Ce(e){return!(e instanceof f.MeshBasicMaterial&&!e.envMap||e instanceof f.MeshDepthMaterial)&&(function(e){return e&&void 0!==e.shading&&e.shading===f.SmoothShading}(e)?f.SmoothShading:f.FlatShading)}function Te(e){return!!e.vertexColors&&e.vertexColors}function Ae(e){return!!(e.map||e.lightMap||e.bumpMap||e.normalMap||e.specularMap||e instanceof f.ShaderMaterial)}function Me(e){var t,i,r;for(t in e.attributes)r="index"===t?h.ELEMENT_ARRAY_BUFFER:h.ARRAY_BUFFER,(i=e.attributes[t]).buffer=h.createBuffer(),h.bindBuffer(r,i.buffer),h.bufferData(r,i.array,h.STATIC_DRAW)}function Ee(e,t,i,r,n){if(e.__inittedArrays){var o,a,s,l,c,u,d,p,m,g,v,y,b,_,x,w,S,C,T,A,M,E,D,F,I,k,R,L,P,N,B,O,z,U,V,H,W,j,G,X,Y,q,K,$,Q,Z,J,ee=Ce(n),te=Te(n),ie=Ae(n),re=ee===f.SmoothShading,ne=0,oe=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,de=0,fe=0,pe=0,me=0,ge=e.__vertexArray,ve=e.__uvArray,ye=e.__uv2Array,be=e.__normalArray,_e=e.__tangentArray,xe=e.__colorArray,we=e.__skinIndexArray,Se=e.__skinWeightArray,Me=e.__morphTargetsArrays,Ee=e.__morphNormalsArrays,De=e.__webglCustomAttributesList,Fe=e.__faceArray,Ie=e.__lineArray,ke=t.geometry,Re=ke.verticesNeedUpdate,Le=ke.elementsNeedUpdate,Pe=ke.uvsNeedUpdate,Ne=ke.normalsNeedUpdate,Be=ke.tangentsNeedUpdate,Oe=ke.colorsNeedUpdate,ze=ke.morphTargetsNeedUpdate,Ue=ke.vertices,Ve=e.faces3,He=e.faces4,We=ke.faces,je=ke.faceVertexUvs[0],Ge=ke.faceVertexUvs[1],Xe=(ke.colors,ke.skinIndices),Ye=ke.skinWeights,qe=ke.morphTargets,Ke=ke.morphNormals;if(Re){for(o=0,a=Ve.length;o<a;o++)v=Ue[(s=We[Ve[o]]).a],y=Ue[s.b],b=Ue[s.c],ge[oe]=v.x,ge[oe+1]=v.y,ge[oe+2]=v.z,ge[oe+3]=y.x,ge[oe+4]=y.y,ge[oe+5]=y.z,ge[oe+6]=b.x,ge[oe+7]=b.y,ge[oe+8]=b.z,oe+=9;for(o=0,a=He.length;o<a;o++)v=Ue[(s=We[He[o]]).a],y=Ue[s.b],b=Ue[s.c],_=Ue[s.d],ge[oe]=v.x,ge[oe+1]=v.y,ge[oe+2]=v.z,ge[oe+3]=y.x,ge[oe+4]=y.y,ge[oe+5]=y.z,ge[oe+6]=b.x,ge[oe+7]=b.y,ge[oe+8]=b.z,ge[oe+9]=_.x,ge[oe+10]=_.y,ge[oe+11]=_.z,oe+=12;h.bindBuffer(h.ARRAY_BUFFER,e.__webglVertexBuffer),h.bufferData(h.ARRAY_BUFFER,ge,i)}if(ze)for(X=0,Y=qe.length;X<Y;X++){for(pe=0,o=0,a=Ve.length;o<a;o++)s=We[$=Ve[o]],v=qe[X].vertices[s.a],y=qe[X].vertices[s.b],b=qe[X].vertices[s.c],(q=Me[X])[pe]=v.x,q[pe+1]=v.y,q[pe+2]=v.z,q[pe+3]=y.x,q[pe+4]=y.y,q[pe+5]=y.z,q[pe+6]=b.x,q[pe+7]=b.y,q[pe+8]=b.z,n.morphNormals&&(re?(T=(Q=Ke[X].vertexNormals[$]).a,A=Q.b,M=Q.c):(A=T=Ke[X].faceNormals[$],M=T),(K=Ee[X])[pe]=T.x,K[pe+1]=T.y,K[pe+2]=T.z,K[pe+3]=A.x,K[pe+4]=A.y,K[pe+5]=A.z,K[pe+6]=M.x,K[pe+7]=M.y,K[pe+8]=M.z),pe+=9;for(o=0,a=He.length;o<a;o++)s=We[$=He[o]],v=qe[X].vertices[s.a],y=qe[X].vertices[s.b],b=qe[X].vertices[s.c],_=qe[X].vertices[s.d],(q=Me[X])[pe]=v.x,q[pe+1]=v.y,q[pe+2]=v.z,q[pe+3]=y.x,q[pe+4]=y.y,q[pe+5]=y.z,q[pe+6]=b.x,q[pe+7]=b.y,q[pe+8]=b.z,q[pe+9]=_.x,q[pe+10]=_.y,q[pe+11]=_.z,n.morphNormals&&(re?(T=(Q=Ke[X].vertexNormals[$]).a,A=Q.b,M=Q.c,E=Q.d):(A=T=Ke[X].faceNormals[$],M=T,E=T),(K=Ee[X])[pe]=T.x,K[pe+1]=T.y,K[pe+2]=T.z,K[pe+3]=A.x,K[pe+4]=A.y,K[pe+5]=A.z,K[pe+6]=M.x,K[pe+7]=M.y,K[pe+8]=M.z,K[pe+9]=E.x,K[pe+10]=E.y,K[pe+11]=E.z),pe+=12;h.bindBuffer(h.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[X]),h.bufferData(h.ARRAY_BUFFER,Me[X],i),n.morphNormals&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[X]),h.bufferData(h.ARRAY_BUFFER,Ee[X],i))}if(Ye.length){for(o=0,a=Ve.length;o<a;o++)R=Ye[(s=We[Ve[o]]).a],L=Ye[s.b],P=Ye[s.c],Se[fe]=R.x,Se[fe+1]=R.y,Se[fe+2]=R.z,Se[fe+3]=R.w,Se[fe+4]=L.x,Se[fe+5]=L.y,Se[fe+6]=L.z,Se[fe+7]=L.w,Se[fe+8]=P.x,Se[fe+9]=P.y,Se[fe+10]=P.z,Se[fe+11]=P.w,B=Xe[s.a],O=Xe[s.b],z=Xe[s.c],we[fe]=B.x,we[fe+1]=B.y,we[fe+2]=B.z,we[fe+3]=B.w,we[fe+4]=O.x,we[fe+5]=O.y,we[fe+6]=O.z,we[fe+7]=O.w,we[fe+8]=z.x,we[fe+9]=z.y,we[fe+10]=z.z,we[fe+11]=z.w,fe+=12;for(o=0,a=He.length;o<a;o++)R=Ye[(s=We[He[o]]).a],L=Ye[s.b],P=Ye[s.c],N=Ye[s.d],Se[fe]=R.x,Se[fe+1]=R.y,Se[fe+2]=R.z,Se[fe+3]=R.w,Se[fe+4]=L.x,Se[fe+5]=L.y,Se[fe+6]=L.z,Se[fe+7]=L.w,Se[fe+8]=P.x,Se[fe+9]=P.y,Se[fe+10]=P.z,Se[fe+11]=P.w,Se[fe+12]=N.x,Se[fe+13]=N.y,Se[fe+14]=N.z,Se[fe+15]=N.w,B=Xe[s.a],O=Xe[s.b],z=Xe[s.c],U=Xe[s.d],we[fe]=B.x,we[fe+1]=B.y,we[fe+2]=B.z,we[fe+3]=B.w,we[fe+4]=O.x,we[fe+5]=O.y,we[fe+6]=O.z,we[fe+7]=O.w,we[fe+8]=z.x,we[fe+9]=z.y,we[fe+10]=z.z,we[fe+11]=z.w,we[fe+12]=U.x,we[fe+13]=U.y,we[fe+14]=U.z,we[fe+15]=U.w,fe+=16;fe>0&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglSkinIndicesBuffer),h.bufferData(h.ARRAY_BUFFER,we,i),h.bindBuffer(h.ARRAY_BUFFER,e.__webglSkinWeightsBuffer),h.bufferData(h.ARRAY_BUFFER,Se,i))}if(Oe&&te){for(o=0,a=Ve.length;o<a;o++)u=(s=We[Ve[o]]).vertexColors,d=s.color,3===u.length&&te===f.VertexColors?(D=u[0],F=u[1],I=u[2]):(D=d,F=d,I=d),xe[de]=D.r,xe[de+1]=D.g,xe[de+2]=D.b,xe[de+3]=F.r,xe[de+4]=F.g,xe[de+5]=F.b,xe[de+6]=I.r,xe[de+7]=I.g,xe[de+8]=I.b,de+=9;for(o=0,a=He.length;o<a;o++)u=(s=We[He[o]]).vertexColors,d=s.color,4===u.length&&te===f.VertexColors?(D=u[0],F=u[1],I=u[2],k=u[3]):(D=d,F=d,I=d,k=d),xe[de]=D.r,xe[de+1]=D.g,xe[de+2]=D.b,xe[de+3]=F.r,xe[de+4]=F.g,xe[de+5]=F.b,xe[de+6]=I.r,xe[de+7]=I.g,xe[de+8]=I.b,xe[de+9]=k.r,xe[de+10]=k.g,xe[de+11]=k.b,de+=12;de>0&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglColorBuffer),h.bufferData(h.ARRAY_BUFFER,xe,i))}if(Be&&ke.hasTangents){for(o=0,a=Ve.length;o<a;o++)x=(p=(s=We[Ve[o]]).vertexTangents)[0],w=p[1],S=p[2],_e[he]=x.x,_e[he+1]=x.y,_e[he+2]=x.z,_e[he+3]=x.w,_e[he+4]=w.x,_e[he+5]=w.y,_e[he+6]=w.z,_e[he+7]=w.w,_e[he+8]=S.x,_e[he+9]=S.y,_e[he+10]=S.z,_e[he+11]=S.w,he+=12;for(o=0,a=He.length;o<a;o++)x=(p=(s=We[He[o]]).vertexTangents)[0],w=p[1],S=p[2],C=p[3],_e[he]=x.x,_e[he+1]=x.y,_e[he+2]=x.z,_e[he+3]=x.w,_e[he+4]=w.x,_e[he+5]=w.y,_e[he+6]=w.z,_e[he+7]=w.w,_e[he+8]=S.x,_e[he+9]=S.y,_e[he+10]=S.z,_e[he+11]=S.w,_e[he+12]=C.x,_e[he+13]=C.y,_e[he+14]=C.z,_e[he+15]=C.w,he+=16;h.bindBuffer(h.ARRAY_BUFFER,e.__webglTangentBuffer),h.bufferData(h.ARRAY_BUFFER,_e,i)}if(Ne&&ee){for(o=0,a=Ve.length;o<a;o++)if(l=(s=We[Ve[o]]).vertexNormals,c=s.normal,3===l.length&&re)for(V=0;V<3;V++)W=l[V],be[ce]=W.x,be[ce+1]=W.y,be[ce+2]=W.z,ce+=3;else for(V=0;V<3;V++)be[ce]=c.x,be[ce+1]=c.y,be[ce+2]=c.z,ce+=3;for(o=0,a=He.length;o<a;o++)if(l=(s=We[He[o]]).vertexNormals,c=s.normal,4===l.length&&re)for(V=0;V<4;V++)W=l[V],be[ce]=W.x,be[ce+1]=W.y,be[ce+2]=W.z,ce+=3;else for(V=0;V<4;V++)be[ce]=c.x,be[ce+1]=c.y,be[ce+2]=c.z,ce+=3;h.bindBuffer(h.ARRAY_BUFFER,e.__webglNormalBuffer),h.bufferData(h.ARRAY_BUFFER,be,i)}if(Pe&&je&&ie){for(o=0,a=Ve.length;o<a;o++)if(void 0!==(m=je[Ve[o]]))for(V=0;V<3;V++)j=m[V],ve[ae]=j.x,ve[ae+1]=j.y,ae+=2;for(o=0,a=He.length;o<a;o++)if(void 0!==(m=je[He[o]]))for(V=0;V<4;V++)j=m[V],ve[ae]=j.x,ve[ae+1]=j.y,ae+=2;ae>0&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglUVBuffer),h.bufferData(h.ARRAY_BUFFER,ve,i))}if(Pe&&Ge&&ie){for(o=0,a=Ve.length;o<a;o++)if(void 0!==(g=Ge[Ve[o]]))for(V=0;V<3;V++)G=g[V],ye[se]=G.x,ye[se+1]=G.y,se+=2;for(o=0,a=He.length;o<a;o++)if(void 0!==(g=Ge[He[o]]))for(V=0;V<4;V++)G=g[V],ye[se]=G.x,ye[se+1]=G.y,se+=2;se>0&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglUV2Buffer),h.bufferData(h.ARRAY_BUFFER,ye,i))}if(Le){for(o=0,a=Ve.length;o<a;o++)Fe[le]=ne,Fe[le+1]=ne+1,Fe[le+2]=ne+2,le+=3,Ie[ue]=ne,Ie[ue+1]=ne+1,Ie[ue+2]=ne,Ie[ue+3]=ne+2,Ie[ue+4]=ne+1,Ie[ue+5]=ne+2,ue+=6,ne+=3;for(o=0,a=He.length;o<a;o++)Fe[le]=ne,Fe[le+1]=ne+1,Fe[le+2]=ne+3,Fe[le+3]=ne+1,Fe[le+4]=ne+2,Fe[le+5]=ne+3,le+=6,Ie[ue]=ne,Ie[ue+1]=ne+1,Ie[ue+2]=ne,Ie[ue+3]=ne+3,Ie[ue+4]=ne+1,Ie[ue+5]=ne+2,Ie[ue+6]=ne+2,Ie[ue+7]=ne+3,ue+=8,ne+=4;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,Fe,i),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,e.__webglLineBuffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,Ie,i)}if(De)for(V=0,H=De.length;V<H;V++)if((J=De[V]).__original.needsUpdate){if(me=0,0,1===J.size){if(void 0===J.boundTo||"vertices"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)s=We[Ve[o]],J.array[me]=J.value[s.a],J.array[me+1]=J.value[s.b],J.array[me+2]=J.value[s.c],me+=3;for(o=0,a=He.length;o<a;o++)s=We[He[o]],J.array[me]=J.value[s.a],J.array[me+1]=J.value[s.b],J.array[me+2]=J.value[s.c],J.array[me+3]=J.value[s.d],me+=4}else if("faces"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)Z=J.value[Ve[o]],J.array[me]=Z,J.array[me+1]=Z,J.array[me+2]=Z,me+=3;for(o=0,a=He.length;o<a;o++)Z=J.value[He[o]],J.array[me]=Z,J.array[me+1]=Z,J.array[me+2]=Z,J.array[me+3]=Z,me+=4}}else if(2===J.size){if(void 0===J.boundTo||"vertices"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)s=We[Ve[o]],v=J.value[s.a],y=J.value[s.b],b=J.value[s.c],J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=y.x,J.array[me+3]=y.y,J.array[me+4]=b.x,J.array[me+5]=b.y,me+=6;for(o=0,a=He.length;o<a;o++)s=We[He[o]],v=J.value[s.a],y=J.value[s.b],b=J.value[s.c],_=J.value[s.d],J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=y.x,J.array[me+3]=y.y,J.array[me+4]=b.x,J.array[me+5]=b.y,J.array[me+6]=_.x,J.array[me+7]=_.y,me+=8}else if("faces"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)v=Z=J.value[Ve[o]],y=Z,b=Z,J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=y.x,J.array[me+3]=y.y,J.array[me+4]=b.x,J.array[me+5]=b.y,me+=6;for(o=0,a=He.length;o<a;o++)v=Z=J.value[He[o]],y=Z,b=Z,_=Z,J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=y.x,J.array[me+3]=y.y,J.array[me+4]=b.x,J.array[me+5]=b.y,J.array[me+6]=_.x,J.array[me+7]=_.y,me+=8}}else if(3===J.size){var $e;if($e="c"===J.type?["r","g","b"]:["x","y","z"],void 0===J.boundTo||"vertices"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)s=We[Ve[o]],v=J.value[s.a],y=J.value[s.b],b=J.value[s.c],J.array[me]=v[$e[0]],J.array[me+1]=v[$e[1]],J.array[me+2]=v[$e[2]],J.array[me+3]=y[$e[0]],J.array[me+4]=y[$e[1]],J.array[me+5]=y[$e[2]],J.array[me+6]=b[$e[0]],J.array[me+7]=b[$e[1]],J.array[me+8]=b[$e[2]],me+=9;for(o=0,a=He.length;o<a;o++)s=We[He[o]],v=J.value[s.a],y=J.value[s.b],b=J.value[s.c],_=J.value[s.d],J.array[me]=v[$e[0]],J.array[me+1]=v[$e[1]],J.array[me+2]=v[$e[2]],J.array[me+3]=y[$e[0]],J.array[me+4]=y[$e[1]],J.array[me+5]=y[$e[2]],J.array[me+6]=b[$e[0]],J.array[me+7]=b[$e[1]],J.array[me+8]=b[$e[2]],J.array[me+9]=_[$e[0]],J.array[me+10]=_[$e[1]],J.array[me+11]=_[$e[2]],me+=12}else if("faces"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)v=Z=J.value[Ve[o]],y=Z,b=Z,J.array[me]=v[$e[0]],J.array[me+1]=v[$e[1]],J.array[me+2]=v[$e[2]],J.array[me+3]=y[$e[0]],J.array[me+4]=y[$e[1]],J.array[me+5]=y[$e[2]],J.array[me+6]=b[$e[0]],J.array[me+7]=b[$e[1]],J.array[me+8]=b[$e[2]],me+=9;for(o=0,a=He.length;o<a;o++)v=Z=J.value[He[o]],y=Z,b=Z,_=Z,J.array[me]=v[$e[0]],J.array[me+1]=v[$e[1]],J.array[me+2]=v[$e[2]],J.array[me+3]=y[$e[0]],J.array[me+4]=y[$e[1]],J.array[me+5]=y[$e[2]],J.array[me+6]=b[$e[0]],J.array[me+7]=b[$e[1]],J.array[me+8]=b[$e[2]],J.array[me+9]=_[$e[0]],J.array[me+10]=_[$e[1]],J.array[me+11]=_[$e[2]],me+=12}else if("faceVertices"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)v=(Z=J.value[Ve[o]])[0],y=Z[1],b=Z[2],J.array[me]=v[$e[0]],J.array[me+1]=v[$e[1]],J.array[me+2]=v[$e[2]],J.array[me+3]=y[$e[0]],J.array[me+4]=y[$e[1]],J.array[me+5]=y[$e[2]],J.array[me+6]=b[$e[0]],J.array[me+7]=b[$e[1]],J.array[me+8]=b[$e[2]],me+=9;for(o=0,a=He.length;o<a;o++)v=(Z=J.value[He[o]])[0],y=Z[1],b=Z[2],_=Z[3],J.array[me]=v[$e[0]],J.array[me+1]=v[$e[1]],J.array[me+2]=v[$e[2]],J.array[me+3]=y[$e[0]],J.array[me+4]=y[$e[1]],J.array[me+5]=y[$e[2]],J.array[me+6]=b[$e[0]],J.array[me+7]=b[$e[1]],J.array[me+8]=b[$e[2]],J.array[me+9]=_[$e[0]],J.array[me+10]=_[$e[1]],J.array[me+11]=_[$e[2]],me+=12}}else if(4===J.size)if(void 0===J.boundTo||"vertices"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)s=We[Ve[o]],v=J.value[s.a],y=J.value[s.b],b=J.value[s.c],J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=v.z,J.array[me+3]=v.w,J.array[me+4]=y.x,J.array[me+5]=y.y,J.array[me+6]=y.z,J.array[me+7]=y.w,J.array[me+8]=b.x,J.array[me+9]=b.y,J.array[me+10]=b.z,J.array[me+11]=b.w,me+=12;for(o=0,a=He.length;o<a;o++)s=We[He[o]],v=J.value[s.a],y=J.value[s.b],b=J.value[s.c],_=J.value[s.d],J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=v.z,J.array[me+3]=v.w,J.array[me+4]=y.x,J.array[me+5]=y.y,J.array[me+6]=y.z,J.array[me+7]=y.w,J.array[me+8]=b.x,J.array[me+9]=b.y,J.array[me+10]=b.z,J.array[me+11]=b.w,J.array[me+12]=_.x,J.array[me+13]=_.y,J.array[me+14]=_.z,J.array[me+15]=_.w,me+=16}else if("faces"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)v=Z=J.value[Ve[o]],y=Z,b=Z,J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=v.z,J.array[me+3]=v.w,J.array[me+4]=y.x,J.array[me+5]=y.y,J.array[me+6]=y.z,J.array[me+7]=y.w,J.array[me+8]=b.x,J.array[me+9]=b.y,J.array[me+10]=b.z,J.array[me+11]=b.w,me+=12;for(o=0,a=He.length;o<a;o++)v=Z=J.value[He[o]],y=Z,b=Z,_=Z,J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=v.z,J.array[me+3]=v.w,J.array[me+4]=y.x,J.array[me+5]=y.y,J.array[me+6]=y.z,J.array[me+7]=y.w,J.array[me+8]=b.x,J.array[me+9]=b.y,J.array[me+10]=b.z,J.array[me+11]=b.w,J.array[me+12]=_.x,J.array[me+13]=_.y,J.array[me+14]=_.z,J.array[me+15]=_.w,me+=16}else if("faceVertices"===J.boundTo){for(o=0,a=Ve.length;o<a;o++)v=(Z=J.value[Ve[o]])[0],y=Z[1],b=Z[2],J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=v.z,J.array[me+3]=v.w,J.array[me+4]=y.x,J.array[me+5]=y.y,J.array[me+6]=y.z,J.array[me+7]=y.w,J.array[me+8]=b.x,J.array[me+9]=b.y,J.array[me+10]=b.z,J.array[me+11]=b.w,me+=12;for(o=0,a=He.length;o<a;o++)v=(Z=J.value[He[o]])[0],y=Z[1],b=Z[2],_=Z[3],J.array[me]=v.x,J.array[me+1]=v.y,J.array[me+2]=v.z,J.array[me+3]=v.w,J.array[me+4]=y.x,J.array[me+5]=y.y,J.array[me+6]=y.z,J.array[me+7]=y.w,J.array[me+8]=b.x,J.array[me+9]=b.y,J.array[me+10]=b.z,J.array[me+11]=b.w,J.array[me+12]=_.x,J.array[me+13]=_.y,J.array[me+14]=_.z,J.array[me+15]=_.w,me+=16}h.bindBuffer(h.ARRAY_BUFFER,J.buffer),h.bufferData(h.ARRAY_BUFFER,J.array,i)}r&&(delete e.__inittedArrays,delete e.__colorArray,delete e.__normalArray,delete e.__tangentArray,delete e.__uvArray,delete e.__uv2Array,delete e.__faceArray,delete e.__vertexArray,delete e.__lineArray,delete e.__skinIndexArray,delete e.__skinWeightArray)}}function De(e,t,i){var r=e.attributes,n=r.index,o=r.position,a=r.normal,s=r.uv,l=r.color,c=r.tangent;if(e.elementsNeedUpdate&&void 0!==n&&(h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n.buffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,n.array,t)),e.verticesNeedUpdate&&void 0!==o&&(h.bindBuffer(h.ARRAY_BUFFER,o.buffer),h.bufferData(h.ARRAY_BUFFER,o.array,t)),e.normalsNeedUpdate&&void 0!==a&&(h.bindBuffer(h.ARRAY_BUFFER,a.buffer),h.bufferData(h.ARRAY_BUFFER,a.array,t)),e.uvsNeedUpdate&&void 0!==s&&(h.bindBuffer(h.ARRAY_BUFFER,s.buffer),h.bufferData(h.ARRAY_BUFFER,s.array,t)),e.colorsNeedUpdate&&void 0!==l&&(h.bindBuffer(h.ARRAY_BUFFER,l.buffer),h.bufferData(h.ARRAY_BUFFER,l.array,t)),e.tangentsNeedUpdate&&void 0!==c&&(h.bindBuffer(h.ARRAY_BUFFER,c.buffer),h.bufferData(h.ARRAY_BUFFER,c.array,t)),i)for(var u in e.attributes)delete e.attributes[u].array}function Fe(e){G[e]||(h.enableVertexAttribArray(e),G[e]=!0)}function Ie(){for(var e in G)G[e]&&(h.disableVertexAttribArray(e),G[e]=!1)}function ke(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}function Re(e,t){return t[0]-e[0]}function Le(e,t,i){if(e.length)for(var r=0,n=e.length;r<n;r++)_=null,C=null,D=-1,R=-1,L=-1,M=-1,E=-1,S=-1,w=-1,Q=!0,e[r].render(t,i,W,j),_=null,C=null,D=-1,R=-1,L=-1,M=-1,E=-1,S=-1,w=-1,Q=!0}function Pe(e,t,i,r,n,o,a,s){var l,c,h,u,d,p,m;t?(d=e.length-1,p=-1,m=-1):(d=0,p=e.length,m=1);for(var g=d;g!==p;g+=m)if((l=e[g]).render){if(c=l.object,h=l.buffer,s)u=s;else{if(!(u=l[i]))continue;a&&v.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst),v.setDepthTest(u.depthTest),v.setDepthWrite(u.depthWrite),et(u.polygonOffset,u.polygonOffsetFactor,u.polygonOffsetUnits)}v.setMaterialFaces(u),h instanceof f.BufferGeometry?v.renderBufferDirect(r,n,o,u,h,c):v.renderBuffer(r,n,o,u,h,c)}}function Ne(e,t,i,r,n,o,a){for(var s,l,c,h=0,u=e.length;h<u;h++)if((l=(s=e[h]).object).visible){if(a)c=a;else{if(!(c=s[t]))continue;o&&v.setBlending(c.blending,c.blendEquation,c.blendSrc,c.blendDst),v.setDepthTest(c.depthTest),v.setDepthWrite(c.depthWrite),et(c.polygonOffset,c.polygonOffsetFactor,c.polygonOffsetUnits)}v.renderImmediateObject(i,r,n,c,l)}}function Be(e){var t=e.object.material;t.transparent?(e.transparent=t,e.opaque=null):(e.opaque=t,e.transparent=null)}function Oe(e){var t,i,r,n=e.object,o=e.buffer;(r=n.material)instanceof f.MeshFaceMaterial?(i=o.materialIndex,(t=r.materials[i]).transparent?(e.transparent=t,e.opaque=null):(e.opaque=t,e.transparent=null)):(t=r)&&(t.transparent?(e.transparent=t,e.opaque=null):(e.opaque=t,e.transparent=null))}function ze(e,t){var i,r,n,o;if(!e.__webglInit)if(e.__webglInit=!0,e._modelViewMatrix=new f.Matrix4,e._normalMatrix=new f.Matrix3,void 0!==e.geometry&&void 0===e.geometry.__webglInit&&(e.geometry.__webglInit=!0,e.geometry.addEventListener("dispose",de)),e instanceof f.Mesh)if(r=e.geometry,n=e.material,r instanceof f.Geometry)for(i in void 0===r.geometryGroups&&function(e,t){var i,r,n,o,a,s,l={},c=e.morphTargets.length,h=e.morphNormals.length,u=t instanceof f.MeshFaceMaterial;for(e.geometryGroups={},i=0,r=e.faces.length;i<r;i++)n=e.faces[i],void 0===l[o=u?n.materialIndex:0]&&(l[o]={hash:o,counter:0}),s=l[o].hash+"_"+l[o].counter,void 0===e.geometryGroups[s]&&(e.geometryGroups[s]={faces3:[],faces4:[],materialIndex:o,vertices:0,numMorphTargets:c,numMorphNormals:h}),a=n instanceof f.Face3?3:4,e.geometryGroups[s].vertices+a>65535&&(l[o].counter+=1,s=l[o].hash+"_"+l[o].counter,void 0===e.geometryGroups[s]&&(e.geometryGroups[s]={faces3:[],faces4:[],materialIndex:o,vertices:0,numMorphTargets:c,numMorphNormals:h})),n instanceof f.Face3?e.geometryGroups[s].faces3.push(i):e.geometryGroups[s].faces4.push(i),e.geometryGroups[s].vertices+=a;for(var d in e.geometryGroupsList=[],e.geometryGroups)e.geometryGroups[d].id=T++,e.geometryGroupsList.push(e.geometryGroups[d])}(r,n),r.geometryGroups)(o=r.geometryGroups[i]).__webglVertexBuffer||(ue(o),we(o,e),r.verticesNeedUpdate=!0,r.morphTargetsNeedUpdate=!0,r.elementsNeedUpdate=!0,r.uvsNeedUpdate=!0,r.normalsNeedUpdate=!0,r.tangentsNeedUpdate=!0,r.colorsNeedUpdate=!0);else r instanceof f.BufferGeometry&&Me(r);else e instanceof f.Ribbon?(r=e.geometry).__webglVertexBuffer||(!function(e){e.__webglVertexBuffer=h.createBuffer(),e.__webglColorBuffer=h.createBuffer(),e.__webglNormalBuffer=h.createBuffer(),v.info.memory.geometries++}(r),function(e,t){var i=e.vertices.length;e.__vertexArray=new Float32Array(3*i),e.__colorArray=new Float32Array(3*i),e.__normalArray=new Float32Array(3*i),e.__webglVertexCount=i,xe(e,t)}(r,e),r.verticesNeedUpdate=!0,r.colorsNeedUpdate=!0,r.normalsNeedUpdate=!0):e instanceof f.Line?(r=e.geometry).__webglVertexBuffer||(r instanceof f.Geometry?(!function(e){e.__webglVertexBuffer=h.createBuffer(),e.__webglColorBuffer=h.createBuffer(),e.__webglLineDistanceBuffer=h.createBuffer(),v.info.memory.geometries++}(r),function(e,t){var i=e.vertices.length;e.__vertexArray=new Float32Array(3*i),e.__colorArray=new Float32Array(3*i),e.__lineDistanceArray=new Float32Array(1*i),e.__webglLineCount=i,xe(e,t)}(r,e),r.verticesNeedUpdate=!0,r.colorsNeedUpdate=!0,r.lineDistancesNeedUpdate=!0):r instanceof f.BufferGeometry&&Me(r)):e instanceof f.ParticleSystem&&((r=e.geometry).__webglVertexBuffer||(r instanceof f.Geometry?(!function(e){e.__webglVertexBuffer=h.createBuffer(),e.__webglColorBuffer=h.createBuffer(),v.info.memory.geometries++}(r),function(e,t){var i=e.vertices.length;e.__vertexArray=new Float32Array(3*i),e.__colorArray=new Float32Array(3*i),e.__sortArray=[],e.__webglParticleCount=i,xe(e,t)}(r,e),r.verticesNeedUpdate=!0,r.colorsNeedUpdate=!0):r instanceof f.BufferGeometry&&Me(r)));if(!e.__webglActive){if(e instanceof f.Mesh){if((r=e.geometry)instanceof f.BufferGeometry)Ue(t.__webglObjects,r,e);else if(r instanceof f.Geometry)for(i in r.geometryGroups)o=r.geometryGroups[i],Ue(t.__webglObjects,o,e)}else e instanceof f.Ribbon||e instanceof f.Line||e instanceof f.ParticleSystem?(r=e.geometry,Ue(t.__webglObjects,r,e)):e instanceof f.ImmediateRenderObject||e.immediateRenderCallback?function(e,t){e.push({object:t,opaque:null,transparent:null})}(t.__webglObjectsImmediate,e):e instanceof f.Sprite?t.__webglSprites.push(e):e instanceof f.LensFlare&&t.__webglFlares.push(e);e.__webglActive=!0}}function Ue(e,t,i){e.push({buffer:t,object:i,opaque:null,transparent:null})}function Ve(e){var t,i,r,n=e.geometry;if(e instanceof f.Mesh)if(n instanceof f.BufferGeometry)(n.verticesNeedUpdate||n.elementsNeedUpdate||n.uvsNeedUpdate||n.normalsNeedUpdate||n.colorsNeedUpdate||n.tangentsNeedUpdate)&&De(n,h.DYNAMIC_DRAW,!n.dynamic),n.verticesNeedUpdate=!1,n.elementsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.tangentsNeedUpdate=!1;else{for(var o=0,a=n.geometryGroupsList.length;o<a;o++)r=Se(e,t=n.geometryGroupsList[o]),n.buffersNeedUpdate&&we(t,e),i=r.attributes&&He(r),(n.verticesNeedUpdate||n.morphTargetsNeedUpdate||n.elementsNeedUpdate||n.uvsNeedUpdate||n.normalsNeedUpdate||n.colorsNeedUpdate||n.tangentsNeedUpdate||i)&&Ee(t,e,h.DYNAMIC_DRAW,!n.dynamic,r);n.verticesNeedUpdate=!1,n.morphTargetsNeedUpdate=!1,n.elementsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.tangentsNeedUpdate=!1,n.buffersNeedUpdate=!1,r.attributes&&We(r)}else e instanceof f.Ribbon?(i=(r=Se(e,n)).attributes&&He(r),(n.verticesNeedUpdate||n.colorsNeedUpdate||n.normalsNeedUpdate||i)&&function(e,t){var i,r,n,o,a,s,l,c,u,d,f,p,m,g=e.vertices,v=e.colors,y=e.normals,b=g.length,_=v.length,x=y.length,w=e.__vertexArray,S=e.__colorArray,C=e.__normalArray,T=e.verticesNeedUpdate,A=e.colorsNeedUpdate,M=e.normalsNeedUpdate,E=e.__webglCustomAttributesList;if(T){for(i=0;i<b;i++)o=g[i],w[a=3*i]=o.x,w[a+1]=o.y,w[a+2]=o.z;h.bindBuffer(h.ARRAY_BUFFER,e.__webglVertexBuffer),h.bufferData(h.ARRAY_BUFFER,w,t)}if(A){for(r=0;r<_;r++)s=v[r],S[a=3*r]=s.r,S[a+1]=s.g,S[a+2]=s.b;h.bindBuffer(h.ARRAY_BUFFER,e.__webglColorBuffer),h.bufferData(h.ARRAY_BUFFER,S,t)}if(M){for(n=0;n<x;n++)l=y[n],C[a=3*n]=l.x,C[a+1]=l.y,C[a+2]=l.z;h.bindBuffer(h.ARRAY_BUFFER,e.__webglNormalBuffer),h.bufferData(h.ARRAY_BUFFER,C,t)}if(E)for(c=0,u=E.length;c<u;c++)if((p=E[c]).needsUpdate&&(void 0===p.boundTo||"vertices"===p.boundTo)){if(a=0,f=p.value.length,1===p.size)for(d=0;d<f;d++)p.array[d]=p.value[d];else if(2===p.size)for(d=0;d<f;d++)m=p.value[d],p.array[a]=m.x,p.array[a+1]=m.y,a+=2;else if(3===p.size)if("c"===p.type)for(d=0;d<f;d++)m=p.value[d],p.array[a]=m.r,p.array[a+1]=m.g,p.array[a+2]=m.b,a+=3;else for(d=0;d<f;d++)m=p.value[d],p.array[a]=m.x,p.array[a+1]=m.y,p.array[a+2]=m.z,a+=3;else if(4===p.size)for(d=0;d<f;d++)m=p.value[d],p.array[a]=m.x,p.array[a+1]=m.y,p.array[a+2]=m.z,p.array[a+3]=m.w,a+=4;h.bindBuffer(h.ARRAY_BUFFER,p.buffer),h.bufferData(h.ARRAY_BUFFER,p.array,t)}}(n,h.DYNAMIC_DRAW),n.verticesNeedUpdate=!1,n.colorsNeedUpdate=!1,n.normalsNeedUpdate=!1,r.attributes&&We(r)):e instanceof f.Line?n instanceof f.BufferGeometry?((n.verticesNeedUpdate||n.colorsNeedUpdate)&&De(n,h.DYNAMIC_DRAW,!n.dynamic),n.verticesNeedUpdate=!1,n.colorsNeedUpdate=!1):(i=(r=Se(e,n)).attributes&&He(r),(n.verticesNeedUpdate||n.colorsNeedUpdate||n.lineDistancesNeedUpdate||i)&&function(e,t){var i,r,n,o,a,s,l,c,u,d,f,p,m=e.vertices,g=e.colors,v=e.lineDistances,y=m.length,b=g.length,_=v.length,x=e.__vertexArray,w=e.__colorArray,S=e.__lineDistanceArray,C=e.verticesNeedUpdate,T=e.colorsNeedUpdate,A=e.lineDistancesNeedUpdate,M=e.__webglCustomAttributesList;if(C){for(i=0;i<y;i++)o=m[i],x[a=3*i]=o.x,x[a+1]=o.y,x[a+2]=o.z;h.bindBuffer(h.ARRAY_BUFFER,e.__webglVertexBuffer),h.bufferData(h.ARRAY_BUFFER,x,t)}if(T){for(r=0;r<b;r++)s=g[r],w[a=3*r]=s.r,w[a+1]=s.g,w[a+2]=s.b;h.bindBuffer(h.ARRAY_BUFFER,e.__webglColorBuffer),h.bufferData(h.ARRAY_BUFFER,w,t)}if(A){for(n=0;n<_;n++)S[n]=v[n];h.bindBuffer(h.ARRAY_BUFFER,e.__webglLineDistanceBuffer),h.bufferData(h.ARRAY_BUFFER,S,t)}if(M)for(l=0,c=M.length;l<c;l++)if((p=M[l]).needsUpdate&&(void 0===p.boundTo||"vertices"===p.boundTo)){if(a=0,d=p.value.length,1===p.size)for(u=0;u<d;u++)p.array[u]=p.value[u];else if(2===p.size)for(u=0;u<d;u++)f=p.value[u],p.array[a]=f.x,p.array[a+1]=f.y,a+=2;else if(3===p.size)if("c"===p.type)for(u=0;u<d;u++)f=p.value[u],p.array[a]=f.r,p.array[a+1]=f.g,p.array[a+2]=f.b,a+=3;else for(u=0;u<d;u++)f=p.value[u],p.array[a]=f.x,p.array[a+1]=f.y,p.array[a+2]=f.z,a+=3;else if(4===p.size)for(u=0;u<d;u++)f=p.value[u],p.array[a]=f.x,p.array[a+1]=f.y,p.array[a+2]=f.z,p.array[a+3]=f.w,a+=4;h.bindBuffer(h.ARRAY_BUFFER,p.buffer),h.bufferData(h.ARRAY_BUFFER,p.array,t)}}(n,h.DYNAMIC_DRAW),n.verticesNeedUpdate=!1,n.colorsNeedUpdate=!1,n.lineDistancesNeedUpdate=!1,r.attributes&&We(r)):e instanceof f.ParticleSystem&&(n instanceof f.BufferGeometry?((n.verticesNeedUpdate||n.colorsNeedUpdate)&&De(n,h.DYNAMIC_DRAW,!n.dynamic),n.verticesNeedUpdate=!1,n.colorsNeedUpdate=!1):(i=(r=Se(e,n)).attributes&&He(r),(n.verticesNeedUpdate||n.colorsNeedUpdate||e.sortParticles||i)&&function(e,t,i){var r,n,o,a,s,l,c,u,d,f,p,m,g=e.vertices,v=g.length,y=e.colors,b=y.length,_=e.__vertexArray,x=e.__colorArray,w=e.__sortArray,S=e.verticesNeedUpdate,C=(e.elementsNeedUpdate,e.colorsNeedUpdate),T=e.__webglCustomAttributesList;if(i.sortParticles){for(q.copy(Y),q.multiply(i.matrixWorld),r=0;r<v;r++)o=g[r],K.copy(o),K.applyProjection(q),w[r]=[K.z,r];for(w.sort(Re),r=0;r<v;r++)o=g[w[r][1]],_[a=3*r]=o.x,_[a+1]=o.y,_[a+2]=o.z;for(n=0;n<b;n++)a=3*n,l=y[w[n][1]],x[a]=l.r,x[a+1]=l.g,x[a+2]=l.b;if(T)for(c=0,u=T.length;c<u;c++)if(void 0===(m=T[c]).boundTo||"vertices"===m.boundTo)if(a=0,f=m.value.length,1===m.size)for(d=0;d<f;d++)s=w[d][1],m.array[d]=m.value[s];else if(2===m.size)for(d=0;d<f;d++)s=w[d][1],p=m.value[s],m.array[a]=p.x,m.array[a+1]=p.y,a+=2;else if(3===m.size)if("c"===m.type)for(d=0;d<f;d++)s=w[d][1],p=m.value[s],m.array[a]=p.r,m.array[a+1]=p.g,m.array[a+2]=p.b,a+=3;else for(d=0;d<f;d++)s=w[d][1],p=m.value[s],m.array[a]=p.x,m.array[a+1]=p.y,m.array[a+2]=p.z,a+=3;else if(4===m.size)for(d=0;d<f;d++)s=w[d][1],p=m.value[s],m.array[a]=p.x,m.array[a+1]=p.y,m.array[a+2]=p.z,m.array[a+3]=p.w,a+=4}else{if(S)for(r=0;r<v;r++)o=g[r],_[a=3*r]=o.x,_[a+1]=o.y,_[a+2]=o.z;if(C)for(n=0;n<b;n++)l=y[n],x[a=3*n]=l.r,x[a+1]=l.g,x[a+2]=l.b;if(T)for(c=0,u=T.length;c<u;c++)if((m=T[c]).needsUpdate&&(void 0===m.boundTo||"vertices"===m.boundTo))if(f=m.value.length,a=0,1===m.size)for(d=0;d<f;d++)m.array[d]=m.value[d];else if(2===m.size)for(d=0;d<f;d++)p=m.value[d],m.array[a]=p.x,m.array[a+1]=p.y,a+=2;else if(3===m.size)if("c"===m.type)for(d=0;d<f;d++)p=m.value[d],m.array[a]=p.r,m.array[a+1]=p.g,m.array[a+2]=p.b,a+=3;else for(d=0;d<f;d++)p=m.value[d],m.array[a]=p.x,m.array[a+1]=p.y,m.array[a+2]=p.z,a+=3;else if(4===m.size)for(d=0;d<f;d++)p=m.value[d],m.array[a]=p.x,m.array[a+1]=p.y,m.array[a+2]=p.z,m.array[a+3]=p.w,a+=4}if((S||i.sortParticles)&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglVertexBuffer),h.bufferData(h.ARRAY_BUFFER,_,t)),(C||i.sortParticles)&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglColorBuffer),h.bufferData(h.ARRAY_BUFFER,x,t)),T)for(c=0,u=T.length;c<u;c++)((m=T[c]).needsUpdate||i.sortParticles)&&(h.bindBuffer(h.ARRAY_BUFFER,m.buffer),h.bufferData(h.ARRAY_BUFFER,m.array,t))}(n,h.DYNAMIC_DRAW,e),n.verticesNeedUpdate=!1,n.colorsNeedUpdate=!1,r.attributes&&We(r)))}function He(e){for(var t in e.attributes)if(e.attributes[t].needsUpdate)return!0;return!1}function We(e){for(var t in e.attributes)e.attributes[t].needsUpdate=!1}function je(e,t){e instanceof f.Mesh||e instanceof f.ParticleSystem||e instanceof f.Ribbon||e instanceof f.Line?Ge(t.__webglObjects,e):e instanceof f.Sprite?Xe(t.__webglSprites,e):e instanceof f.LensFlare?Xe(t.__webglFlares,e):(e instanceof f.ImmediateRenderObject||e.immediateRenderCallback)&&Ge(t.__webglObjectsImmediate,e),e.__webglActive=!1}function Ge(e,t){for(var i=e.length-1;i>=0;i--)e[i].object===t&&e.splice(i,1)}function Xe(e,t){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)}function Ye(e,i,r,n,o){A=0,n.needsUpdate&&(n.program&&be(n),v.initMaterial(n,i,r,o),n.needsUpdate=!1),n.morphTargets&&(o.__webglMorphTargetInfluences||(o.__webglMorphTargetInfluences=new Float32Array(v.maxMorphTargets)));var a=!1,s=n.program,l=s.uniforms,c=n.uniforms;if(s!==_&&(h.useProgram(s),_=s,a=!0),n.id!==w&&(w=n.id,a=!0),(a||e!==C)&&(h.uniformMatrix4fv(l.projectionMatrix,!1,e.projectionMatrix.elements),e!==C&&(C=e)),n.skinning)if(ne&&o.useVertexTexture){if(null!==l.boneTexture){var u=Ke();h.uniform1i(l.boneTexture,u),v.setTexture(o.boneTexture,u)}}else null!==l.boneGlobalMatrices&&h.uniformMatrix4fv(l.boneGlobalMatrices,!1,o.boneMatrices);if(a){if(r&&n.fog&&function(e,t){e.fogColor.value=t.color,t instanceof f.Fog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t instanceof f.FogExp2&&(e.fogDensity.value=t.density)}(c,r),(n instanceof f.MeshPhongMaterial||n instanceof f.MeshLambertMaterial||n.lights)&&(Q&&(!function(e,t){var i,r,n,o,a,s,l,c,h,u,d=0,p=0,m=0,g=Z,y=g.directional.colors,b=g.directional.positions,_=g.point.colors,x=g.point.positions,w=g.point.distances,S=g.spot.colors,C=g.spot.positions,T=g.spot.distances,A=g.spot.directions,M=g.spot.anglesCos,E=g.spot.exponents,D=g.hemi.skyColors,F=g.hemi.groundColors,I=g.hemi.positions,k=0,R=0,L=0,P=0,N=0,B=0,O=0,z=0,U=0,V=0,H=0,W=0;for(i=0,r=t.length;i<r;i++)if(!(n=t[i]).onlyShadow)if(o=n.color,l=n.intensity,u=n.distance,n instanceof f.AmbientLight){if(!n.visible)continue;v.gammaInput?(d+=o.r*o.r,p+=o.g*o.g,m+=o.b*o.b):(d+=o.r,p+=o.g,m+=o.b)}else if(n instanceof f.DirectionalLight){if(N+=1,!n.visible)continue;if($.copy(n.matrixWorld.getPosition()),$.sub(n.target.matrixWorld.getPosition()),$.normalize(),0===$.x&&0===$.y&&0===$.z)continue;b[U=3*k]=$.x,b[U+1]=$.y,b[U+2]=$.z,v.gammaInput?Qe(y,U,o,l*l):Ze(y,U,o,l),k+=1}else if(n instanceof f.PointLight){if(B+=1,!n.visible)continue;V=3*R,v.gammaInput?Qe(_,V,o,l*l):Ze(_,V,o,l),h=n.matrixWorld.getPosition(),x[V]=h.x,x[V+1]=h.y,x[V+2]=h.z,w[R]=u,R+=1}else if(n instanceof f.SpotLight){if(O+=1,!n.visible)continue;H=3*L,v.gammaInput?Qe(S,H,o,l*l):Ze(S,H,o,l),h=n.matrixWorld.getPosition(),C[H]=h.x,C[H+1]=h.y,C[H+2]=h.z,T[L]=u,$.copy(h),$.sub(n.target.matrixWorld.getPosition()),$.normalize(),A[H]=$.x,A[H+1]=$.y,A[H+2]=$.z,M[L]=Math.cos(n.angle),E[L]=n.exponent,L+=1}else if(n instanceof f.HemisphereLight){if(z+=1,!n.visible)continue;if($.copy(n.matrixWorld.getPosition()),$.normalize(),0===$.x&&0===$.y&&0===$.z)continue;I[W=3*P]=$.x,I[W+1]=$.y,I[W+2]=$.z,a=n.color,s=n.groundColor,v.gammaInput?(Qe(D,W,a,c=l*l),Qe(F,W,s,c)):(Ze(D,W,a,l),Ze(F,W,s,l)),P+=1}for(i=3*k,r=Math.max(y.length,3*N);i<r;i++)y[i]=0;for(i=3*R,r=Math.max(_.length,3*B);i<r;i++)_[i]=0;for(i=3*L,r=Math.max(S.length,3*O);i<r;i++)S[i]=0;for(i=3*P,r=Math.max(D.length,3*z);i<r;i++)D[i]=0;for(i=3*P,r=Math.max(F.length,3*z);i<r;i++)F[i]=0;g.directional.length=k,g.point.length=R,g.spot.length=L,g.hemi.length=P,g.ambient[0]=d,g.ambient[1]=p,g.ambient[2]=m}(0,i),Q=!1),function(e,t){e.ambientLightColor.value=t.ambient,e.directionalLightColor.value=t.directional.colors,e.directionalLightDirection.value=t.directional.positions,e.pointLightColor.value=t.point.colors,e.pointLightPosition.value=t.point.positions,e.pointLightDistance.value=t.point.distances,e.spotLightColor.value=t.spot.colors,e.spotLightPosition.value=t.spot.positions,e.spotLightDistance.value=t.spot.distances,e.spotLightDirection.value=t.spot.directions,e.spotLightAngleCos.value=t.spot.anglesCos,e.spotLightExponent.value=t.spot.exponents,e.hemisphereLightSkyColor.value=t.hemi.skyColors,e.hemisphereLightGroundColor.value=t.hemi.groundColors,e.hemisphereLightDirection.value=t.hemi.positions}(c,Z)),(n instanceof f.MeshBasicMaterial||n instanceof f.MeshLambertMaterial||n instanceof f.MeshPhongMaterial)&&function(e,t){e.opacity.value=t.opacity,v.gammaInput?e.diffuse.value.copyGammaToLinear(t.color):e.diffuse.value=t.color;e.map.value=t.map,e.lightMap.value=t.lightMap,e.specularMap.value=t.specularMap,t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale);t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));var i;t.map?i=t.map:t.specularMap?i=t.specularMap:t.normalMap?i=t.normalMap:t.bumpMap&&(i=t.bumpMap);if(void 0!==i){var r=i.offset,n=i.repeat;e.offsetRepeat.value.set(r.x,r.y,n.x,n.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof f.WebGLRenderTargetCube?1:-1,v.gammaInput,e.reflectivity.value=t.reflectivity;e.refractionRatio.value=t.refractionRatio,e.combine.value=t.combine,e.useRefract.value=t.envMap&&t.envMap.mapping instanceof f.CubeRefractionMapping}(c,n),n instanceof f.LineBasicMaterial?qe(c,n):n instanceof f.LineDashedMaterial?(qe(c,n),function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(c,n)):n instanceof f.ParticleBasicMaterial?function(e,i){e.psColor.value=i.color,e.opacity.value=i.opacity,e.size.value=i.size,e.scale.value=t.height/2,e.map.value=i.map}(c,n):n instanceof f.MeshPhongMaterial?function(e,t){e.shininess.value=t.shininess,v.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive),e.specular.value.copyGammaToLinear(t.specular)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive,e.specular.value=t.specular);t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}(c,n):n instanceof f.MeshLambertMaterial?function(e,t){v.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive);t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}(c,n):n instanceof f.MeshDepthMaterial?(c.mNear.value=e.near,c.mFar.value=e.far,c.opacity.value=n.opacity):n instanceof f.MeshNormalMaterial&&(c.opacity.value=n.opacity),o.receiveShadow&&!n._shadowPass&&function(e,t){if(e.shadowMatrix)for(var i=0,r=0,n=t.length;r<n;r++){var o=t[r];o.castShadow&&((o instanceof f.SpotLight||o instanceof f.DirectionalLight&&!o.shadowCascade)&&(e.shadowMap.value[i]=o.shadowMap,e.shadowMapSize.value[i]=o.shadowMapSize,e.shadowMatrix.value[i]=o.shadowMatrix,e.shadowDarkness.value[i]=o.shadowDarkness,e.shadowBias.value[i]=o.shadowBias,i++))}}(c,i),function(e,t){var i,r,n,o,a,s,l,c,u,d,p;for(u=0,d=t.length;u<d;u++)if(o=e.uniforms[t[u][1]])if(i=t[u][0],n=i.type,r=i.value,"i"===n)h.uniform1i(o,r);else if("f"===n)h.uniform1f(o,r);else if("v2"===n)h.uniform2f(o,r.x,r.y);else if("v3"===n)h.uniform3f(o,r.x,r.y,r.z);else if("v4"===n)h.uniform4f(o,r.x,r.y,r.z,r.w);else if("c"===n)h.uniform3f(o,r.r,r.g,r.b);else if("iv1"===n)h.uniform1iv(o,r);else if("iv"===n)h.uniform3iv(o,r);else if("fv1"===n)h.uniform1fv(o,r);else if("fv"===n)h.uniform3fv(o,r);else if("v2v"===n){for(void 0===i._array&&(i._array=new Float32Array(2*r.length)),l=0,c=r.length;l<c;l++)p=2*l,i._array[p]=r[l].x,i._array[p+1]=r[l].y;h.uniform2fv(o,i._array)}else if("v3v"===n){for(void 0===i._array&&(i._array=new Float32Array(3*r.length)),l=0,c=r.length;l<c;l++)p=3*l,i._array[p]=r[l].x,i._array[p+1]=r[l].y,i._array[p+2]=r[l].z;h.uniform3fv(o,i._array)}else if("v4v"===n){for(void 0===i._array&&(i._array=new Float32Array(4*r.length)),l=0,c=r.length;l<c;l++)p=4*l,i._array[p]=r[l].x,i._array[p+1]=r[l].y,i._array[p+2]=r[l].z,i._array[p+3]=r[l].w;h.uniform4fv(o,i._array)}else if("m4"===n)void 0===i._array&&(i._array=new Float32Array(16)),r.flattenToArray(i._array),h.uniformMatrix4fv(o,!1,i._array);else if("m4v"===n){for(void 0===i._array&&(i._array=new Float32Array(16*r.length)),l=0,c=r.length;l<c;l++)r[l].flattenToArrayOffset(i._array,16*l);h.uniformMatrix4fv(o,!1,i._array)}else if("t"===n){if(a=r,s=Ke(),h.uniform1i(o,s),!a)continue;a.image instanceof Array&&6===a.image.length?ot(a,s):a instanceof f.WebGLRenderTargetCube?at(a,s):v.setTexture(a,s)}else if("tv"===n){for(void 0===i._array&&(i._array=[]),l=0,c=i.value.length;l<c;l++)i._array[l]=Ke();for(h.uniform1iv(o,i._array),l=0,c=i.value.length;l<c;l++)a=i.value[l],s=i._array[l],a&&v.setTexture(a,s)}}(s,n.uniformsList),(n instanceof f.ShaderMaterial||n instanceof f.MeshPhongMaterial||n.envMap)&&null!==l.cameraPosition){var d=e.matrixWorld.getPosition();h.uniform3f(l.cameraPosition,d.x,d.y,d.z)}(n instanceof f.MeshPhongMaterial||n instanceof f.MeshLambertMaterial||n instanceof f.ShaderMaterial||n.skinning)&&null!==l.viewMatrix&&h.uniformMatrix4fv(l.viewMatrix,!1,e.matrixWorldInverse.elements)}return function(e,t){h.uniformMatrix4fv(e.modelViewMatrix,!1,t._modelViewMatrix.elements),e.normalMatrix&&h.uniformMatrix3fv(e.normalMatrix,!1,t._normalMatrix.elements)}(l,o),null!==l.modelMatrix&&h.uniformMatrix4fv(l.modelMatrix,!1,o.matrixWorld.elements),s}function qe(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function Ke(){var e=A;return e>=J&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+J),A+=1,e}function $e(e,t){e._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),e._normalMatrix.getInverse(e._modelViewMatrix),e._normalMatrix.transpose()}function Qe(e,t,i,r){e[t]=i.r*i.r*r,e[t+1]=i.g*i.g*r,e[t+2]=i.b*i.b*r}function Ze(e,t,i,r){e[t]=i.r*r,e[t+1]=i.g*r,e[t+2]=i.b*r}function Je(e){e!==O&&(h.lineWidth(e),O=e)}function et(e,t,i){P!==e&&(e?h.enable(h.POLYGON_OFFSET_FILL):h.disable(h.POLYGON_OFFSET_FILL),P=e),!e||N===t&&B===i||(h.polygonOffset(t,i),N=t,B=i)}function tt(e,t){var i;return"fragment"===e?i=h.createShader(h.FRAGMENT_SHADER):"vertex"===e&&(i=h.createShader(h.VERTEX_SHADER)),h.shaderSource(i,t),h.compileShader(i),h.getShaderParameter(i,h.COMPILE_STATUS)?i:(console.error(h.getShaderInfoLog(i)),console.error(function(e){for(var t=e.split("\n"),i=0,r=t.length;i<r;i++)t[i]=i+1+": "+t[i];return t.join("\n")}(t)),null)}function it(e){return 0==(e&e-1)}function rt(e,t,i){i?(h.texParameteri(e,h.TEXTURE_WRAP_S,ht(t.wrapS)),h.texParameteri(e,h.TEXTURE_WRAP_T,ht(t.wrapT)),h.texParameteri(e,h.TEXTURE_MAG_FILTER,ht(t.magFilter)),h.texParameteri(e,h.TEXTURE_MIN_FILTER,ht(t.minFilter))):(h.texParameteri(e,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(e,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(e,h.TEXTURE_MAG_FILTER,ct(t.magFilter)),h.texParameteri(e,h.TEXTURE_MIN_FILTER,ct(t.minFilter))),m&&t.type!==f.FloatType&&(t.anisotropy>1||t.__oldAnisotropy)&&(h.texParameterf(e,m.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,ie)),t.__oldAnisotropy=t.anisotropy)}function nt(e,t){if(e.width<=t&&e.height<=t)return e;var i=Math.max(e.width,e.height),r=Math.floor(e.width*t/i),n=Math.floor(e.height*t/i),o=document.createElement("canvas");return o.width=r,o.height=n,o.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r,n),o}function ot(e,t){if(6===e.image.length)if(e.needsUpdate){e.image.__webglTextureCube||(e.image.__webglTextureCube=h.createTexture(),v.info.memory.textures++),h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_CUBE_MAP,e.image.__webglTextureCube),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var i=e instanceof f.CompressedTexture,r=[],n=0;n<6;n++)v.autoScaleCubemaps&&!i?r[n]=nt(e.image[n],te):r[n]=e.image[n];var o=r[0],a=it(o.width)&&it(o.height),s=ht(e.format),l=ht(e.type);rt(h.TEXTURE_CUBE_MAP,e,a);for(n=0;n<6;n++)if(i)for(var c,u=r[n].mipmaps,d=0,p=u.length;d<p;d++)c=u[d],h.compressedTexImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X+n,d,s,c.width,c.height,0,c.data);else h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,s,s,l,r[n]);e.generateMipmaps&&a&&h.generateMipmap(h.TEXTURE_CUBE_MAP),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_CUBE_MAP,e.image.__webglTextureCube)}function at(e,t){h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_CUBE_MAP,e.__webglTexture)}function st(e,t,i){h.bindFramebuffer(h.FRAMEBUFFER,e),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,i,t.__webglTexture,0)}function lt(e,t){h.bindRenderbuffer(h.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_COMPONENT16,t.width,t.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,t.width,t.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,e)):h.renderbufferStorage(h.RENDERBUFFER,h.RGBA4,t.width,t.height)}function ct(e){return e===f.NearestFilter||e===f.NearestMipMapNearestFilter||e===f.NearestMipMapLinearFilter?h.NEAREST:h.LINEAR}function ht(e){if(e===f.RepeatWrapping)return h.REPEAT;if(e===f.ClampToEdgeWrapping)return h.CLAMP_TO_EDGE;if(e===f.MirroredRepeatWrapping)return h.MIRRORED_REPEAT;if(e===f.NearestFilter)return h.NEAREST;if(e===f.NearestMipMapNearestFilter)return h.NEAREST_MIPMAP_NEAREST;if(e===f.NearestMipMapLinearFilter)return h.NEAREST_MIPMAP_LINEAR;if(e===f.LinearFilter)return h.LINEAR;if(e===f.LinearMipMapNearestFilter)return h.LINEAR_MIPMAP_NEAREST;if(e===f.LinearMipMapLinearFilter)return h.LINEAR_MIPMAP_LINEAR;if(e===f.UnsignedByteType)return h.UNSIGNED_BYTE;if(e===f.UnsignedShort4444Type)return h.UNSIGNED_SHORT_4_4_4_4;if(e===f.UnsignedShort5551Type)return h.UNSIGNED_SHORT_5_5_5_1;if(e===f.UnsignedShort565Type)return h.UNSIGNED_SHORT_5_6_5;if(e===f.ByteType)return h.BYTE;if(e===f.ShortType)return h.SHORT;if(e===f.UnsignedShortType)return h.UNSIGNED_SHORT;if(e===f.IntType)return h.INT;if(e===f.UnsignedIntType)return h.UNSIGNED_INT;if(e===f.FloatType)return h.FLOAT;if(e===f.AlphaFormat)return h.ALPHA;if(e===f.RGBFormat)return h.RGB;if(e===f.RGBAFormat)return h.RGBA;if(e===f.LuminanceFormat)return h.LUMINANCE;if(e===f.LuminanceAlphaFormat)return h.LUMINANCE_ALPHA;if(e===f.AddEquation)return h.FUNC_ADD;if(e===f.SubtractEquation)return h.FUNC_SUBTRACT;if(e===f.ReverseSubtractEquation)return h.FUNC_REVERSE_SUBTRACT;if(e===f.ZeroFactor)return h.ZERO;if(e===f.OneFactor)return h.ONE;if(e===f.SrcColorFactor)return h.SRC_COLOR;if(e===f.OneMinusSrcColorFactor)return h.ONE_MINUS_SRC_COLOR;if(e===f.SrcAlphaFactor)return h.SRC_ALPHA;if(e===f.OneMinusSrcAlphaFactor)return h.ONE_MINUS_SRC_ALPHA;if(e===f.DstAlphaFactor)return h.DST_ALPHA;if(e===f.OneMinusDstAlphaFactor)return h.ONE_MINUS_DST_ALPHA;if(e===f.DstColorFactor)return h.DST_COLOR;if(e===f.OneMinusDstColorFactor)return h.ONE_MINUS_DST_COLOR;if(e===f.SrcAlphaSaturateFactor)return h.SRC_ALPHA_SATURATE;if(void 0!==g){if(e===f.RGB_S3TC_DXT1_Format)return g.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===f.RGBA_S3TC_DXT1_Format)return g.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===f.RGBA_S3TC_DXT3_Format)return g.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===f.RGBA_S3TC_DXT5_Format)return g.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}this.renderBufferImmediate=function(e,t,i){if(e.hasPositions&&!e.__webglVertexBuffer&&(e.__webglVertexBuffer=h.createBuffer()),e.hasNormals&&!e.__webglNormalBuffer&&(e.__webglNormalBuffer=h.createBuffer()),e.hasUvs&&!e.__webglUvBuffer&&(e.__webglUvBuffer=h.createBuffer()),e.hasColors&&!e.__webglColorBuffer&&(e.__webglColorBuffer=h.createBuffer()),e.hasPositions&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglVertexBuffer),h.bufferData(h.ARRAY_BUFFER,e.positionArray,h.DYNAMIC_DRAW),h.enableVertexAttribArray(t.attributes.position),h.vertexAttribPointer(t.attributes.position,3,h.FLOAT,!1,0,0)),e.hasNormals){if(h.bindBuffer(h.ARRAY_BUFFER,e.__webglNormalBuffer),i.shading===f.FlatShading){var r,n,o,a,s,l,c,u,d,p,m,g=3*e.count;for(m=0;m<g;m+=9)a=(p=e.normalArray)[m],l=p[m+1],u=p[m+2],s=p[m+3],c=p[m+4],d=p[m+5],r=(a+s+p[m+6])/3,n=(l+c+p[m+7])/3,o=(u+d+p[m+8])/3,p[m]=r,p[m+1]=n,p[m+2]=o,p[m+3]=r,p[m+4]=n,p[m+5]=o,p[m+6]=r,p[m+7]=n,p[m+8]=o}h.bufferData(h.ARRAY_BUFFER,e.normalArray,h.DYNAMIC_DRAW),h.enableVertexAttribArray(t.attributes.normal),h.vertexAttribPointer(t.attributes.normal,3,h.FLOAT,!1,0,0)}e.hasUvs&&i.map&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglUvBuffer),h.bufferData(h.ARRAY_BUFFER,e.uvArray,h.DYNAMIC_DRAW),h.enableVertexAttribArray(t.attributes.uv),h.vertexAttribPointer(t.attributes.uv,2,h.FLOAT,!1,0,0)),e.hasColors&&i.vertexColors!==f.NoColors&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglColorBuffer),h.bufferData(h.ARRAY_BUFFER,e.colorArray,h.DYNAMIC_DRAW),h.enableVertexAttribArray(t.attributes.color),h.vertexAttribPointer(t.attributes.color,3,h.FLOAT,!1,0,0)),h.drawArrays(h.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,i,r,n,o){if(!1!==r.visible){var a,s;s=(a=Ye(e,t,i,r,o)).attributes;var l=!1,c=r.wireframe?1:0,u=16777215*n.id+2*a.id+c;if(u!==S&&(S=u,l=!0),l&&Ie(),o instanceof f.Mesh){var d=n.attributes.index;if(d){var p=n.offsets;p.length>1&&(l=!0);for(var m=0,g=p.length;m<g;m++){var y=p[m].index;if(l){var b=(D=n.attributes.position).itemSize;h.bindBuffer(h.ARRAY_BUFFER,D.buffer),Fe(s.position),h.vertexAttribPointer(s.position,b,h.FLOAT,!1,0,y*b*4);var _=n.attributes.normal;if(s.normal>=0&&_){var x=_.itemSize;h.bindBuffer(h.ARRAY_BUFFER,_.buffer),Fe(s.normal),h.vertexAttribPointer(s.normal,x,h.FLOAT,!1,0,y*x*4)}var w=n.attributes.uv;if(s.uv>=0&&w){var C=w.itemSize;h.bindBuffer(h.ARRAY_BUFFER,w.buffer),Fe(s.uv),h.vertexAttribPointer(s.uv,C,h.FLOAT,!1,0,y*C*4)}var T=n.attributes.color;if(s.color>=0&&T){var A=T.itemSize;h.bindBuffer(h.ARRAY_BUFFER,T.buffer),Fe(s.color),h.vertexAttribPointer(s.color,A,h.FLOAT,!1,0,y*A*4)}var M=n.attributes.tangent;if(s.tangent>=0&&M){var E=M.itemSize;h.bindBuffer(h.ARRAY_BUFFER,M.buffer),Fe(s.tangent),h.vertexAttribPointer(s.tangent,E,h.FLOAT,!1,0,y*E*4)}h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,d.buffer)}h.drawElements(h.TRIANGLES,p[m].count,h.UNSIGNED_SHORT,2*p[m].start),v.info.render.calls++,v.info.render.vertices+=p[m].count,v.info.render.faces+=p[m].count/3}}else{if(l){b=(D=n.attributes.position).itemSize;h.bindBuffer(h.ARRAY_BUFFER,D.buffer),Fe(s.position),h.vertexAttribPointer(s.position,b,h.FLOAT,!1,0,0);_=n.attributes.normal;if(s.normal>=0&&_){x=_.itemSize;h.bindBuffer(h.ARRAY_BUFFER,_.buffer),Fe(s.normal),h.vertexAttribPointer(s.normal,x,h.FLOAT,!1,0,0)}w=n.attributes.uv;if(s.uv>=0&&w){C=w.itemSize;h.bindBuffer(h.ARRAY_BUFFER,w.buffer),Fe(s.uv),h.vertexAttribPointer(s.uv,C,h.FLOAT,!1,0,0)}T=n.attributes.color;if(s.color>=0&&T){A=T.itemSize;h.bindBuffer(h.ARRAY_BUFFER,T.buffer),Fe(s.color),h.vertexAttribPointer(s.color,A,h.FLOAT,!1,0,0)}M=n.attributes.tangent;if(s.tangent>=0&&M){E=M.itemSize;h.bindBuffer(h.ARRAY_BUFFER,M.buffer),Fe(s.tangent),h.vertexAttribPointer(s.tangent,E,h.FLOAT,!1,0,0)}}h.drawArrays(h.TRIANGLES,0,D.numItems/3),v.info.render.calls++,v.info.render.vertices+=D.numItems/3,v.info.render.faces+=D.numItems/3/3}}else if(o instanceof f.ParticleSystem){if(l){b=(D=n.attributes.position).itemSize;h.bindBuffer(h.ARRAY_BUFFER,D.buffer),Fe(s.position),h.vertexAttribPointer(s.position,b,h.FLOAT,!1,0,0);T=n.attributes.color;if(s.color>=0&&T){A=T.itemSize;h.bindBuffer(h.ARRAY_BUFFER,T.buffer),Fe(s.color),h.vertexAttribPointer(s.color,A,h.FLOAT,!1,0,0)}h.drawArrays(h.POINTS,0,D.numItems/3),v.info.render.calls++,v.info.render.points+=D.numItems/3}}else if(o instanceof f.Line&&l){var D;b=(D=n.attributes.position).itemSize;h.bindBuffer(h.ARRAY_BUFFER,D.buffer),Fe(s.position),h.vertexAttribPointer(s.position,b,h.FLOAT,!1,0,0);T=n.attributes.color;if(s.color>=0&&T){A=T.itemSize;h.bindBuffer(h.ARRAY_BUFFER,T.buffer),Fe(s.color),h.vertexAttribPointer(s.color,A,h.FLOAT,!1,0,0)}h.drawArrays(h.LINE_STRIP,0,D.numItems/3),v.info.render.calls++,v.info.render.points+=D.numItems}}},this.renderBuffer=function(e,t,i,r,n,o){if(!1!==r.visible){var a,s,l,c,u,d;s=(a=Ye(e,t,i,r,o)).attributes;var p=!1,m=r.wireframe?1:0,g=16777215*n.id+2*a.id+m;if(g!==S&&(S=g,p=!0),p&&Ie(),!r.morphTargets&&s.position>=0?p&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglVertexBuffer),Fe(s.position),h.vertexAttribPointer(s.position,3,h.FLOAT,!1,0,0)):o.morphTargetBase&&function(e,t,i){var r=e.program.attributes;-1!==i.morphTargetBase&&r.position>=0?(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[i.morphTargetBase]),Fe(r.position),h.vertexAttribPointer(r.position,3,h.FLOAT,!1,0,0)):r.position>=0&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglVertexBuffer),Fe(r.position),h.vertexAttribPointer(r.position,3,h.FLOAT,!1,0,0));if(i.morphTargetForcedOrder.length)for(var n=0,o=i.morphTargetForcedOrder,a=i.morphTargetInfluences;n<e.numSupportedMorphTargets&&n<o.length;)r["morphTarget"+n]>=0&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[o[n]]),Fe(r["morphTarget"+n]),h.vertexAttribPointer(r["morphTarget"+n],3,h.FLOAT,!1,0,0)),r["morphNormal"+n]>=0&&e.morphNormals&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[o[n]]),Fe(r["morphNormal"+n]),h.vertexAttribPointer(r["morphNormal"+n],3,h.FLOAT,!1,0,0)),i.__webglMorphTargetInfluences[n]=a[o[n]],n++;else{var s,l,c=[],a=i.morphTargetInfluences,u=a.length;for(l=0;l<u;l++)(s=a[l])>0&&c.push([s,l]);c.length>e.numSupportedMorphTargets?(c.sort(Re),c.length=e.numSupportedMorphTargets):c.length>e.numSupportedMorphNormals?c.sort(Re):0===c.length&&c.push([0,0]);for(var d,n=0;n<e.numSupportedMorphTargets;)c[n]?(d=c[n][1],r["morphTarget"+n]>=0&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[d]),Fe(r["morphTarget"+n]),h.vertexAttribPointer(r["morphTarget"+n],3,h.FLOAT,!1,0,0)),r["morphNormal"+n]>=0&&e.morphNormals&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[d]),Fe(r["morphNormal"+n]),h.vertexAttribPointer(r["morphNormal"+n],3,h.FLOAT,!1,0,0)),i.__webglMorphTargetInfluences[n]=a[d]):i.__webglMorphTargetInfluences[n]=0,n++}null!==e.program.uniforms.morphTargetInfluences&&h.uniform1fv(e.program.uniforms.morphTargetInfluences,i.__webglMorphTargetInfluences)}(r,n,o),p){if(n.__webglCustomAttributesList)for(u=0,d=n.__webglCustomAttributesList.length;u<d;u++)s[(c=n.__webglCustomAttributesList[u]).buffer.belongsToAttribute]>=0&&(h.bindBuffer(h.ARRAY_BUFFER,c.buffer),Fe(s[c.buffer.belongsToAttribute]),h.vertexAttribPointer(s[c.buffer.belongsToAttribute],c.size,h.FLOAT,!1,0,0));s.color>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglColorBuffer),Fe(s.color),h.vertexAttribPointer(s.color,3,h.FLOAT,!1,0,0)),s.normal>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglNormalBuffer),Fe(s.normal),h.vertexAttribPointer(s.normal,3,h.FLOAT,!1,0,0)),s.tangent>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglTangentBuffer),Fe(s.tangent),h.vertexAttribPointer(s.tangent,4,h.FLOAT,!1,0,0)),s.uv>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglUVBuffer),Fe(s.uv),h.vertexAttribPointer(s.uv,2,h.FLOAT,!1,0,0)),s.uv2>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglUV2Buffer),Fe(s.uv2),h.vertexAttribPointer(s.uv2,2,h.FLOAT,!1,0,0)),r.skinning&&s.skinIndex>=0&&s.skinWeight>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglSkinIndicesBuffer),Fe(s.skinIndex),h.vertexAttribPointer(s.skinIndex,4,h.FLOAT,!1,0,0),h.bindBuffer(h.ARRAY_BUFFER,n.__webglSkinWeightsBuffer),Fe(s.skinWeight),h.vertexAttribPointer(s.skinWeight,4,h.FLOAT,!1,0,0)),s.lineDistance>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglLineDistanceBuffer),Fe(s.lineDistance),h.vertexAttribPointer(s.lineDistance,1,h.FLOAT,!1,0,0))}o instanceof f.Mesh?(r.wireframe?(Je(r.wireframeLinewidth),p&&h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n.__webglLineBuffer),h.drawElements(h.LINES,n.__webglLineCount,h.UNSIGNED_SHORT,0)):(p&&h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n.__webglFaceBuffer),h.drawElements(h.TRIANGLES,n.__webglFaceCount,h.UNSIGNED_SHORT,0)),v.info.render.calls++,v.info.render.vertices+=n.__webglFaceCount,v.info.render.faces+=n.__webglFaceCount/3):o instanceof f.Line?(l=o.type===f.LineStrip?h.LINE_STRIP:h.LINES,Je(r.linewidth),h.drawArrays(l,0,n.__webglLineCount),v.info.render.calls++):o instanceof f.ParticleSystem?(h.drawArrays(h.POINTS,0,n.__webglParticleCount),v.info.render.calls++,v.info.render.points+=n.__webglParticleCount):o instanceof f.Ribbon&&(h.drawArrays(h.TRIANGLE_STRIP,0,n.__webglVertexCount),v.info.render.calls++)}},this.render=function(e,t,i,r){if(t instanceof f.Camera!=!1){var n,o,a,s,l,c=e.__lights,u=e.fog;for(w=-1,Q=!0,this.autoUpdateScene&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),Y.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),X.setFromMatrix(Y),this.autoUpdateObjects&&this.initWebGLObjects(e),Le(this.renderPluginsPre,e,t),v.info.render.calls=0,v.info.render.vertices=0,v.info.render.faces=0,v.info.render.points=0,this.setRenderTarget(i),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),n=0,o=(l=e.__webglObjects).length;n<o;n++)s=(a=l[n]).object,a.render=!1,s.visible&&((s instanceof f.Mesh||s instanceof f.ParticleSystem)&&s.frustumCulled&&!X.intersectsObject(s)||($e(s,t),Oe(a),a.render=!0,!0===this.sortObjects&&(null!==s.renderDepth?a.z=s.renderDepth:(K.copy(s.matrixWorld.getPosition()),K.applyProjection(Y),a.z=K.z),a.id=s.id)));for(this.sortObjects&&l.sort(ke),n=0,o=(l=e.__webglObjectsImmediate).length;n<o;n++)(s=(a=l[n]).object).visible&&($e(s,t),Be(a));if(e.overrideMaterial){var d=e.overrideMaterial;this.setBlending(d.blending,d.blendEquation,d.blendSrc,d.blendDst),this.setDepthTest(d.depthTest),this.setDepthWrite(d.depthWrite),et(d.polygonOffset,d.polygonOffsetFactor,d.polygonOffsetUnits),Pe(e.__webglObjects,!1,"",t,c,u,!0,d),Ne(e.__webglObjectsImmediate,"",t,c,u,!1,d)}else{d=null;this.setBlending(f.NoBlending),Pe(e.__webglObjects,!0,"opaque",t,c,u,!1,d),Ne(e.__webglObjectsImmediate,"opaque",t,c,u,!1,d),Pe(e.__webglObjects,!1,"transparent",t,c,u,!0,d),Ne(e.__webglObjectsImmediate,"transparent",t,c,u,!0,d)}Le(this.renderPluginsPost,e,t),i&&i.generateMipmaps&&i.minFilter!==f.NearestFilter&&i.minFilter!==f.LinearFilter&&function(e){e instanceof f.WebGLRenderTargetCube?(h.bindTexture(h.TEXTURE_CUBE_MAP,e.__webglTexture),h.generateMipmap(h.TEXTURE_CUBE_MAP),h.bindTexture(h.TEXTURE_CUBE_MAP,null)):(h.bindTexture(h.TEXTURE_2D,e.__webglTexture),h.generateMipmap(h.TEXTURE_2D),h.bindTexture(h.TEXTURE_2D,null))}(i),this.setDepthTest(!0),this.setDepthWrite(!0)}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.renderImmediateObject=function(e,t,i,r,n){var o=Ye(e,t,i,r,n);S=-1,v.setMaterialFaces(r),n.immediateRenderCallback?n.immediateRenderCallback(o,h,X):n.render(function(e){v.renderBufferImmediate(e,o,r)})},this.initWebGLObjects=function(e){for(e.__webglObjects||(e.__webglObjects=[],e.__webglObjectsImmediate=[],e.__webglSprites=[],e.__webglFlares=[]);e.__objectsAdded.length;)ze(e.__objectsAdded[0],e),e.__objectsAdded.splice(0,1);for(;e.__objectsRemoved.length;)je(e.__objectsRemoved[0],e),e.__objectsRemoved.splice(0,1);for(var t=0,i=e.__webglObjects.length;t<i;t++)Ve(e.__webglObjects[t].object)},this.initMaterial=function(e,t,r,n){var o,a,s,l,c,u,d;e.addEventListener("dispose",me),e instanceof f.MeshDepthMaterial?d="depth":e instanceof f.MeshNormalMaterial?d="normal":e instanceof f.MeshBasicMaterial?d="basic":e instanceof f.MeshLambertMaterial?d="lambert":e instanceof f.MeshPhongMaterial?d="phong":e instanceof f.LineBasicMaterial?d="basic":e instanceof f.LineDashedMaterial?d="dashed":e instanceof f.ParticleBasicMaterial&&(d="particle_basic"),d&&function(e,t){e.uniforms=f.UniformsUtils.clone(t.uniforms),e.vertexShader=t.vertexShader,e.fragmentShader=t.fragmentShader}(e,f.ShaderLib[d]),l=function(e){var t,i,r,n,o,a,s;for(n=o=a=s=0,t=0,i=e.length;t<i;t++)(r=e[t]).onlyShadow||(r instanceof f.DirectionalLight&&n++,r instanceof f.PointLight&&o++,r instanceof f.SpotLight&&a++,r instanceof f.HemisphereLight&&s++);return{directional:n,point:o,spot:a,hemi:s}}(t),u=function(e){var t,i,r,n=0;for(t=0,i=e.length;t<i;t++)(r=e[t]).castShadow&&(r instanceof f.SpotLight&&n++,r instanceof f.DirectionalLight&&!r.shadowCascade&&n++);return n}(t),c=function(e){if(ne&&e&&e.useVertexTexture)return 1024;var t=h.getParameter(h.MAX_VERTEX_UNIFORM_VECTORS),i=Math.floor((t-20)/4),r=i;return void 0!==e&&e instanceof f.SkinnedMesh&&(r=Math.min(e.bones.length,r))<e.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)"),r}(n),s={map:!!e.map,envMap:!!e.envMap,lightMap:!!e.lightMap,bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,specularMap:!!e.specularMap,vertexColors:e.vertexColors,fog:r,useFog:e.fog,fogExp:r instanceof f.FogExp2,sizeAttenuation:e.sizeAttenuation,skinning:e.skinning,maxBones:c,useVertexTexture:ne&&n&&n.useVertexTexture,boneTextureWidth:n&&n.boneTextureWidth,boneTextureHeight:n&&n.boneTextureHeight,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,maxDirLights:l.directional,maxPointLights:l.point,maxSpotLights:l.spot,maxHemiLights:l.hemi,maxShadows:u,shadowMapEnabled:this.shadowMapEnabled&&n.receiveShadow,shadowMapType:this.shadowMapType,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,alphaTest:e.alphaTest,metal:e.metal,perPixel:e.perPixel,wrapAround:e.wrapAround,doubleSided:e.side===f.DoubleSide,flipSided:e.side===f.BackSide},e.program=function(e,t,r,n,o,a,s){var l,c,u,d,p,m=[];e?m.push(e):(m.push(t),m.push(r));for(u in a)m.push(u),m.push(a[u]);for(l in s)m.push(l),m.push(s[l]);for(p=m.join(),l=0,c=y.length;l<c;l++){var g=y[l];if(g.code===p)return g.usedTimes++,g.program}var _="SHADOWMAP_TYPE_BASIC";s.shadowMapType===f.PCFShadowMap?_="SHADOWMAP_TYPE_PCF":s.shadowMapType===f.PCFSoftShadowMap&&(_="SHADOWMAP_TYPE_PCF_SOFT");var x=function(e){var t,i,r=[];for(var n in e)!1!==(t=e[n])&&(i="#define "+n+" "+t,r.push(i));return r.join("\n")}(a);d=h.createProgram();var w,S,C,T,A=["precision "+i+" float;",x,re?"#define VERTEX_TEXTURES":"",v.gammaInput?"#define GAMMA_INPUT":"",v.gammaOutput?"#define GAMMA_OUTPUT":"",v.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"","#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,"#define MAX_BONES "+s.maxBones,s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.vertexColors?"#define USE_COLOR":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.boneTextureWidth?"#define N_BONE_PIXEL_X "+s.boneTextureWidth.toFixed(1):"",s.boneTextureHeight?"#define N_BONE_PIXEL_Y "+s.boneTextureHeight.toFixed(1):"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals?"#define USE_MORPHNORMALS":"",s.perPixel?"#define PHONG_PER_PIXEL":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+_:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","attribute vec3 morphTarget0;","attribute vec3 morphTarget1;","attribute vec3 morphTarget2;","attribute vec3 morphTarget3;","#ifdef USE_MORPHNORMALS","attribute vec3 morphNormal0;","attribute vec3 morphNormal1;","attribute vec3 morphNormal2;","attribute vec3 morphNormal3;","#else","attribute vec3 morphTarget4;","attribute vec3 morphTarget5;","attribute vec3 morphTarget6;","attribute vec3 morphTarget7;","#endif","#endif","#ifdef USE_SKINNING","attribute vec4 skinIndex;","attribute vec4 skinWeight;","#endif",""].join("\n"),M=tt("fragment",["precision "+i+" float;",s.bumpMap||s.normalMap?"#extension GL_OES_standard_derivatives : enable":"",x,"#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,s.alphaTest?"#define ALPHATEST "+s.alphaTest:"",v.gammaInput?"#define GAMMA_INPUT":"",v.gammaOutput?"#define GAMMA_OUTPUT":"",v.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"",s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.vertexColors?"#define USE_COLOR":"",s.metal?"#define METAL":"",s.perPixel?"#define PHONG_PER_PIXEL":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+_:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n")+t),E=tt("vertex",A+r);h.attachShader(d,E),h.attachShader(d,M),h.linkProgram(d),h.getProgramParameter(d,h.LINK_STATUS)||console.error("Could not initialise shader\nVALIDATE_STATUS: "+h.getProgramParameter(d,h.VALIDATE_STATUS)+", gl error ["+h.getError()+"]");h.deleteShader(M),h.deleteShader(E),d.uniforms={},d.attributes={},w=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences"],s.useVertexTexture?w.push("boneTexture"):w.push("boneGlobalMatrices");for(S in n)w.push(S);for(function(e,t){var i,r,n;for(i=0,r=t.length;i<r;i++)n=t[i],e.uniforms[n]=h.getUniformLocation(e,n)}(d,w),w=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"],T=0;T<s.maxMorphTargets;T++)w.push("morphTarget"+T);for(T=0;T<s.maxMorphNormals;T++)w.push("morphNormal"+T);for(C in o)w.push(C);return function(e,t){var i,r,n;for(i=0,r=t.length;i<r;i++)n=t[i],e.attributes[n]=h.getAttribLocation(e,n)}(d,w),d.id=b++,y.push({program:d,code:p,usedTimes:1}),v.info.memory.programs=y.length,d}(d,e.fragmentShader,e.vertexShader,e.uniforms,e.attributes,e.defines,s);var p=e.program.attributes;if(e.morphTargets){e.numSupportedMorphTargets=0;var m="morphTarget";for(a=0;a<this.maxMorphTargets;a++)p[m+a]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;m="morphNormal";for(a=0;a<this.maxMorphNormals;a++)p[m+a]>=0&&e.numSupportedMorphNormals++}for(o in e.uniformsList=[],e.uniforms)e.uniformsList.push([e.uniforms[o],o])},this.setFaceCulling=function(e,t){e===f.CullFaceNone?h.disable(h.CULL_FACE):(t===f.FrontFaceDirectionCW?h.frontFace(h.CW):h.frontFace(h.CCW),e===f.CullFaceBack?h.cullFace(h.BACK):e===f.CullFaceFront?h.cullFace(h.FRONT):h.cullFace(h.FRONT_AND_BACK),h.enable(h.CULL_FACE))},this.setMaterialFaces=function(e){var t=e.side===f.DoubleSide,i=e.side===f.BackSide;M!==t&&(t?h.disable(h.CULL_FACE):h.enable(h.CULL_FACE),M=t),E!==i&&(i?h.frontFace(h.CW):h.frontFace(h.CCW),E=i)},this.setDepthTest=function(e){R!==e&&(e?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),R=e)},this.setDepthWrite=function(e){L!==e&&(h.depthMask(e),L=e)},this.setBlending=function(e,t,i,r){e!==D&&(e===f.NoBlending?h.disable(h.BLEND):e===f.AdditiveBlending?(h.enable(h.BLEND),h.blendEquation(h.FUNC_ADD),h.blendFunc(h.SRC_ALPHA,h.ONE)):e===f.SubtractiveBlending?(h.enable(h.BLEND),h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ZERO,h.ONE_MINUS_SRC_COLOR)):e===f.MultiplyBlending?(h.enable(h.BLEND),h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ZERO,h.SRC_COLOR)):e===f.CustomBlending?h.enable(h.BLEND):(h.enable(h.BLEND),h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA)),D=e),e===f.CustomBlending?(t!==F&&(h.blendEquation(ht(t)),F=t),i===I&&r===k||(h.blendFunc(ht(i),ht(r)),I=i,k=r)):(F=null,I=null,k=null)},this.setTexture=function(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.addEventListener("dispose",fe),e.__webglTexture=h.createTexture(),v.info.memory.textures++),h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_2D,e.__webglTexture),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,e.flipY),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),h.pixelStorei(h.UNPACK_ALIGNMENT,e.unpackAlignment);var i=e.image,r=it(i.width)&&it(i.height),n=ht(e.format),o=ht(e.type);rt(h.TEXTURE_2D,e,r);var a,s=e.mipmaps;if(e instanceof f.DataTexture)if(s.length>0&&r){for(var l=0,c=s.length;l<c;l++)a=s[l],h.texImage2D(h.TEXTURE_2D,l,n,a.width,a.height,0,n,o,a.data);e.generateMipmaps=!1}else h.texImage2D(h.TEXTURE_2D,0,n,i.width,i.height,0,n,o,i.data);else if(e instanceof f.CompressedTexture)for(l=0,c=s.length;l<c;l++)a=s[l],h.compressedTexImage2D(h.TEXTURE_2D,l,n,a.width,a.height,0,a.data);else if(s.length>0&&r){for(l=0,c=s.length;l<c;l++)a=s[l],h.texImage2D(h.TEXTURE_2D,l,n,n,o,a);e.generateMipmaps=!1}else h.texImage2D(h.TEXTURE_2D,0,n,n,o,e.image);e.generateMipmaps&&r&&h.generateMipmap(h.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_2D,e.__webglTexture)},this.setRenderTarget=function(e){var t,i,r,n,o,a=e instanceof f.WebGLRenderTargetCube;if(e&&!e.__webglFramebuffer){void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",pe),e.__webglTexture=h.createTexture(),v.info.memory.textures++;var s=it(e.width)&&it(e.height),l=ht(e.format),c=ht(e.type);if(a){e.__webglFramebuffer=[],e.__webglRenderbuffer=[],h.bindTexture(h.TEXTURE_CUBE_MAP,e.__webglTexture),rt(h.TEXTURE_CUBE_MAP,e,s);for(var u=0;u<6;u++)e.__webglFramebuffer[u]=h.createFramebuffer(),e.__webglRenderbuffer[u]=h.createRenderbuffer(),h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,l,e.width,e.height,0,l,c,null),st(e.__webglFramebuffer[u],e,h.TEXTURE_CUBE_MAP_POSITIVE_X+u),lt(e.__webglRenderbuffer[u],e);s&&h.generateMipmap(h.TEXTURE_CUBE_MAP)}else e.__webglFramebuffer=h.createFramebuffer(),e.shareDepthFrom?e.__webglRenderbuffer=e.shareDepthFrom.__webglRenderbuffer:e.__webglRenderbuffer=h.createRenderbuffer(),h.bindTexture(h.TEXTURE_2D,e.__webglTexture),rt(h.TEXTURE_2D,e,s),h.texImage2D(h.TEXTURE_2D,0,l,e.width,e.height,0,l,c,null),st(e.__webglFramebuffer,e,h.TEXTURE_2D),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,e.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,e.__webglRenderbuffer):lt(e.__webglRenderbuffer,e),s&&h.generateMipmap(h.TEXTURE_2D);a?h.bindTexture(h.TEXTURE_CUBE_MAP,null):h.bindTexture(h.TEXTURE_2D,null),h.bindRenderbuffer(h.RENDERBUFFER,null),h.bindFramebuffer(h.FRAMEBUFFER,null)}e?(t=a?e.__webglFramebuffer[e.activeCubeFace]:e.__webglFramebuffer,i=e.width,r=e.height,n=0,o=0):(t=null,i=V,r=H,n=z,o=U),t!==x&&(h.bindFramebuffer(h.FRAMEBUFFER,t),h.viewport(n,o,i,r),x=t),W=i,j=r},this.shadowMapPlugin=new f.ShadowMapPlugin,this.addPrePlugin(this.shadowMapPlugin),this.addPostPlugin(new f.SpritePlugin),this.addPostPlugin(new f.LensFlarePlugin)},f.WebGLRenderTarget=function(e,t,i){f.EventDispatcher.call(this),this.width=e,this.height=t,i=i||{},this.wrapS=void 0!==i.wrapS?i.wrapS:f.ClampToEdgeWrapping,this.wrapT=void 0!==i.wrapT?i.wrapT:f.ClampToEdgeWrapping,this.magFilter=void 0!==i.magFilter?i.magFilter:f.LinearFilter,this.minFilter=void 0!==i.minFilter?i.minFilter:f.LinearMipMapLinearFilter,this.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,this.offset=new f.Vector2(0,0),this.repeat=new f.Vector2(1,1),this.format=void 0!==i.format?i.format:f.RGBAFormat,this.type=void 0!==i.type?i.type:f.UnsignedByteType,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.generateMipmaps=!0,this.shareDepthFrom=null},f.WebGLRenderTarget.prototype.clone=function(){var e=new f.WebGLRenderTarget(this.width,this.height);return e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.format=this.format,e.type=this.type,e.depthBuffer=this.depthBuffer,e.stencilBuffer=this.stencilBuffer,e.generateMipmaps=this.generateMipmaps,e.shareDepthFrom=this.shareDepthFrom,e},f.WebGLRenderTarget.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},f.WebGLRenderTargetCube=function(e,t,i){f.WebGLRenderTarget.call(this,e,t,i),this.activeCubeFace=0},f.WebGLRenderTargetCube.prototype=Object.create(f.WebGLRenderTarget.prototype),f.RenderableVertex=function(){this.positionWorld=new f.Vector3,this.positionScreen=new f.Vector4,this.visible=!0},f.RenderableVertex.prototype.copy=function(e){this.positionWorld.copy(e.positionWorld),this.positionScreen.copy(e.positionScreen)},f.RenderableFace3=function(){this.v1=new f.RenderableVertex,this.v2=new f.RenderableVertex,this.v3=new f.RenderableVertex,this.centroidModel=new f.Vector3,this.normalModel=new f.Vector3,this.normalModelView=new f.Vector3,this.vertexNormalsLength=0,this.vertexNormalsModel=[new f.Vector3,new f.Vector3,new f.Vector3],this.vertexNormalsModelView=[new f.Vector3,new f.Vector3,new f.Vector3],this.color=null,this.material=null,this.uvs=[[]],this.z=null},f.RenderableFace4=function(){this.v1=new f.RenderableVertex,this.v2=new f.RenderableVertex,this.v3=new f.RenderableVertex,this.v4=new f.RenderableVertex,this.centroidModel=new f.Vector3,this.normalModel=new f.Vector3,this.normalModelView=new f.Vector3,this.vertexNormalsLength=0,this.vertexNormalsModel=[new f.Vector3,new f.Vector3,new f.Vector3,new f.Vector3],this.vertexNormalsModelView=[new f.Vector3,new f.Vector3,new f.Vector3,new f.Vector3],this.color=null,this.material=null,this.uvs=[[]],this.z=null},f.RenderableObject=function(){this.object=null,this.z=null},f.RenderableParticle=function(){this.object=null,this.x=null,this.y=null,this.z=null,this.rotation=null,this.scale=new f.Vector2,this.material=null},f.RenderableLine=function(){this.z=null,this.v1=new f.RenderableVertex,this.v2=new f.RenderableVertex,this.material=null},f.ColorUtils={adjustHSV:function(e,t,i,r){var n=f.ColorUtils.__hsv;e.getHSV(n),n.h=f.Math.clamp(n.h+t,0,1),n.s=f.Math.clamp(n.s+i,0,1),n.v=f.Math.clamp(n.v+r,0,1),e.setHSV(n.h,n.s,n.v)}},f.ColorUtils.__hsv={h:0,s:0,v:0},f.GeometryUtils={merge:function(e,t){var i,r,n=e.vertices.length,o=(e.faceVertexUvs[0].length,t instanceof f.Mesh?t.geometry:t),a=e.vertices,s=o.vertices,l=e.faces,c=o.faces,h=e.faceVertexUvs[0],u=o.faceVertexUvs[0];t instanceof f.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,(r=new f.Matrix3).getInverse(i),r.transpose());for(var d=0,p=s.length;d<p;d++){var m=s[d].clone();i&&m.applyMatrix4(i),a.push(m)}for(d=0,p=c.length;d<p;d++){var g,v,y,b=c[d],_=b.vertexNormals,x=b.vertexColors;b instanceof f.Face3?g=new f.Face3(b.a+n,b.b+n,b.c+n):b instanceof f.Face4&&(g=new f.Face4(b.a+n,b.b+n,b.c+n,b.d+n)),g.normal.copy(b.normal),r&&g.normal.applyMatrix3(r).normalize();for(var w=0,S=_.length;w<S;w++)v=_[w].clone(),r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);g.color.copy(b.color);for(w=0,S=x.length;w<S;w++)y=x[w],g.vertexColors.push(y.clone());g.materialIndex=b.materialIndex,g.centroid.copy(b.centroid),i&&g.centroid.applyMatrix4(i),l.push(g)}for(d=0,p=u.length;d<p;d++){var C=u[d],T=[];for(w=0,S=C.length;w<S;w++)T.push(new f.Vector2(C[w].x,C[w].y));h.push(T)}},removeMaterials:function(e,t){for(var i={},r=0,n=t.length;r<n;r++)i[t[r]]=!0;var o,a=[];for(r=0,n=e.faces.length;r<n;r++)(o=e.faces[r]).materialIndex in i||a.push(o);e.faces=a},randomPointInTriangle:function(e,t,i){var r,n,o,a=new f.Vector3,s=f.GeometryUtils.__v1;return(r=f.GeometryUtils.random())+(n=f.GeometryUtils.random())>1&&(r=1-r,n=1-n),o=1-r-n,a.copy(e),a.multiplyScalar(r),s.copy(t),s.multiplyScalar(n),a.add(s),s.copy(i),s.multiplyScalar(o),a.add(s),a},randomPointInFace:function(e,t,i){var r,n,o,a,s,l;return e instanceof f.Face3?(r=t.vertices[e.a],n=t.vertices[e.b],o=t.vertices[e.c],f.GeometryUtils.randomPointInTriangle(r,n,o)):e instanceof f.Face4?(r=t.vertices[e.a],n=t.vertices[e.b],o=t.vertices[e.c],a=t.vertices[e.d],i?e._area1&&e._area2?(s=e._area1,l=e._area2):(s=f.GeometryUtils.triangleArea(r,n,a),l=f.GeometryUtils.triangleArea(n,o,a),e._area1=s,e._area2=l):(s=f.GeometryUtils.triangleArea(r,n,a),l=f.GeometryUtils.triangleArea(n,o,a)),f.GeometryUtils.random()*(s+l)<s?f.GeometryUtils.randomPointInTriangle(r,n,a):f.GeometryUtils.randomPointInTriangle(n,o,a)):void 0},randomPointsInGeometry:function(e,t){var i,r,n,o,a,s,l=e.faces,c=e.vertices,h=l.length,u=0,d=[];for(r=0;r<h;r++)(i=l[r])instanceof f.Face3?(n=c[i.a],o=c[i.b],a=c[i.c],i._area=f.GeometryUtils.triangleArea(n,o,a)):i instanceof f.Face4&&(n=c[i.a],o=c[i.b],a=c[i.c],s=c[i.d],i._area1=f.GeometryUtils.triangleArea(n,o,s),i._area2=f.GeometryUtils.triangleArea(o,a,s),i._area=i._area1+i._area2),u+=i._area,d[r]=u;function p(e){return function t(i,r){if(r<i)return i;var n=i+Math.floor((r-i)/2);return d[n]>e?t(i,n-1):d[n]<e?t(n+1,r):n}(0,d.length-1)}var m,g=[],v={};for(r=0;r<t;r++)m=p(f.GeometryUtils.random()*u),g[r]=f.GeometryUtils.randomPointInFace(l[m],e,!0),v[m]?v[m]+=1:v[m]=1;return g},triangleArea:function(e,t,i){var r=f.GeometryUtils.__v1,n=f.GeometryUtils.__v2;return r.subVectors(t,e),n.subVectors(i,e),r.cross(n),.5*r.length()},center:function(e){e.computeBoundingBox();var t=e.boundingBox,i=new f.Vector3;return i.addVectors(t.min,t.max),i.multiplyScalar(-.5),e.applyMatrix((new f.Matrix4).makeTranslation(i.x,i.y,i.z)),e.computeBoundingBox(),i},normalizeUVs:function(e){for(var t=e.faceVertexUvs[0],i=0,r=t.length;i<r;i++)for(var n=t[i],o=0,a=n.length;o<a;o++)1!==n[o].x&&(n[o].x=n[o].x-Math.floor(n[o].x)),1!==n[o].y&&(n[o].y=n[o].y-Math.floor(n[o].y))},triangulateQuads:function(e){var t,i,r,n,o=[],a=[],s=[];for(t=0,i=e.faceUvs.length;t<i;t++)a[t]=[];for(t=0,i=e.faceVertexUvs.length;t<i;t++)s[t]=[];for(t=0,i=e.faces.length;t<i;t++){var l=e.faces[t];if(l instanceof f.Face4){var c=l.a,h=l.b,u=l.c,d=l.d,p=new f.Face3,m=new f.Face3;for(p.color.copy(l.color),m.color.copy(l.color),p.materialIndex=l.materialIndex,m.materialIndex=l.materialIndex,p.a=c,p.b=h,p.c=d,m.a=h,m.b=u,m.c=d,4===l.vertexColors.length&&(p.vertexColors[0]=l.vertexColors[0].clone(),p.vertexColors[1]=l.vertexColors[1].clone(),p.vertexColors[2]=l.vertexColors[3].clone(),m.vertexColors[0]=l.vertexColors[1].clone(),m.vertexColors[1]=l.vertexColors[2].clone(),m.vertexColors[2]=l.vertexColors[3].clone()),o.push(p,m),r=0,n=e.faceVertexUvs.length;r<n;r++)if(e.faceVertexUvs[r].length){var g=e.faceVertexUvs[r][t],v=g[0],y=g[1],b=g[2],_=g[3],x=[v.clone(),y.clone(),_.clone()],w=[y.clone(),b.clone(),_.clone()];s[r].push(x,w)}for(r=0,n=e.faceUvs.length;r<n;r++)if(e.faceUvs[r].length){var S=e.faceUvs[r][t];a[r].push(S,S)}}else{for(o.push(l),r=0,n=e.faceUvs.length;r<n;r++)a[r].push(e.faceUvs[r][t]);for(r=0,n=e.faceVertexUvs.length;r<n;r++)s[r].push(e.faceVertexUvs[r][t])}}e.faces=o,e.faceUvs=a,e.faceVertexUvs=s,e.computeCentroids(),e.computeFaceNormals(),e.computeVertexNormals(),e.hasTangents&&e.computeTangents()},setMaterialIndex:function(e,t,i,r){for(var n=e.faces,o=i||0,a=r||n.length-1,s=o;s<=a;s++)n[s].materialIndex=t}},f.GeometryUtils.random=f.Math.random16,f.GeometryUtils.__v1=new f.Vector3,f.GeometryUtils.__v2=new f.Vector3,f.ImageUtils={crossOrigin:"anonymous",loadTexture:function(e,t,i,r){var n=new Image,o=new f.Texture(n,t),a=new f.ImageLoader;return a.addEventListener("load",function(e){o.image=e.content,o.needsUpdate=!0,i&&i(o)}),a.addEventListener("error",function(e){r&&r(e.message)}),a.crossOrigin=this.crossOrigin,a.load(e,n),o.sourceFile=e,o},loadCompressedTexture:function(e,t,i,r){var n=new f.CompressedTexture;n.mapping=t;var o=new XMLHttpRequest;return o.onload=function(){var e=o.response,t=f.ImageUtils.parseDDS(e,!0);n.format=t.format,n.mipmaps=t.mipmaps,n.image.width=t.width,n.image.height=t.height,n.generateMipmaps=!1,n.needsUpdate=!0,i&&i(n)},o.onerror=r,o.open("GET",e,!0),o.responseType="arraybuffer",o.send(null),n},loadTextureCube:function(e,t,i,r){var n=[];n.loadCount=0;var o=new f.Texture;o.image=n,void 0!==t&&(o.mapping=t),o.flipY=!1;for(var a=0,s=e.length;a<s;++a){var l=new Image;n[a]=l,l.onload=function(){n.loadCount+=1,6===n.loadCount&&(o.needsUpdate=!0,i&&i(o))},l.onerror=r,l.crossOrigin=this.crossOrigin,l.src=e[a]}return o},loadCompressedTextureCube:function(e,t,i,r){var n=[];n.loadCount=0;var o=new f.CompressedTexture;o.image=n,void 0!==t&&(o.mapping=t),o.flipY=!1,o.generateMipmaps=!1;var a=function(e,t){return function(){var r=e.response,a=f.ImageUtils.parseDDS(r,!0);t.format=a.format,t.mipmaps=a.mipmaps,t.width=a.width,t.height=a.height,n.loadCount+=1,6===n.loadCount&&(o.format=a.format,o.needsUpdate=!0,i&&i(o))}};if(e instanceof Array)for(var s=0,l=e.length;s<l;++s){var c={};n[s]=c,(u=new XMLHttpRequest).onload=a(u,c),u.onerror=r;var h=e[s];u.open("GET",h,!0),u.responseType="arraybuffer",u.send(null)}else{var u;h=e;(u=new XMLHttpRequest).onload=function(){var e=u.response,t=f.ImageUtils.parseDDS(e,!0);if(t.isCubemap){for(var r=t.mipmaps.length/t.mipmapCount,a=0;a<r;a++){n[a]={mipmaps:[]};for(var s=0;s<t.mipmapCount;s++)n[a].mipmaps.push(t.mipmaps[a*t.mipmapCount+s]),n[a].format=t.format,n[a].width=t.width,n[a].height=t.height}o.format=t.format,o.needsUpdate=!0,i&&i(o)}},u.onerror=r,u.open("GET",h,!0),u.responseType="arraybuffer",u.send(null)}return o},parseDDS:function(e,t){var i={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function r(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var n,o=r("DXT1"),a=r("DXT3"),s=r("DXT5"),l=new Int32Array(e,0,31);if(542327876!==l[0])return console.error("ImageUtils.parseDDS(): Invalid magic number in DDS header"),i;if(4&!l[20])return console.error("ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code"),i;var c,h=l[21];switch(h){case o:n=8,i.format=f.RGB_S3TC_DXT1_Format;break;case a:n=16,i.format=f.RGBA_S3TC_DXT3_Format;break;case s:n=16,i.format=f.RGBA_S3TC_DXT5_Format;break;default:return console.error("ImageUtils.parseDDS(): Unsupported FourCC code: ",(c=h,String.fromCharCode(255&c,c>>8&255,c>>16&255,c>>24&255))),i}i.mipmapCount=1,131072&l[2]&&!1!==t&&(i.mipmapCount=Math.max(1,l[7])),i.isCubemap=!!(512&l[28]),i.width=l[4],i.height=l[3];for(var u=l[1]+4,d=i.width,p=i.height,m=i.isCubemap?6:1,g=0;g<m;g++){for(var v=0;v<i.mipmapCount;v++){var y=Math.max(4,d)/4*Math.max(4,p)/4*n,b={data:new Uint8Array(e,u,y),width:d,height:p};i.mipmaps.push(b),u+=y,d=Math.max(.5*d,1),p=Math.max(.5*p,1)}d=i.width,p=i.height}return i},getNormalMap:function(e,t){var i=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},r=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]};t|=1;var n=e.width,o=e.height,a=document.createElement("canvas");a.width=n,a.height=o;var s=a.getContext("2d");s.drawImage(e,0,0);for(var l,c,h=s.getImageData(0,0,n,o).data,u=s.createImageData(n,o),d=u.data,f=0;f<n;f++)for(var p=0;p<o;p++){var m=p-1<0?0:p-1,g=p+1>o-1?o-1:p+1,v=f-1<0?0:f-1,y=f+1>n-1?n-1:f+1,b=[],_=[0,0,h[4*(p*n+f)]/255*t];b.push([-1,0,h[4*(p*n+v)]/255*t]),b.push([-1,-1,h[4*(m*n+v)]/255*t]),b.push([0,-1,h[4*(m*n+f)]/255*t]),b.push([1,-1,h[4*(m*n+y)]/255*t]),b.push([1,0,h[4*(p*n+y)]/255*t]),b.push([1,1,h[4*(g*n+y)]/255*t]),b.push([0,1,h[4*(g*n+f)]/255*t]),b.push([-1,1,h[4*(g*n+v)]/255*t]);for(var x=[],w=b.length,S=0;S<w;S++){var C=b[S],T=b[(S+1)%w];C=i(C,_),T=i(T,_),x.push(r((c=T,[(l=C)[1]*c[2]-l[2]*c[1],l[2]*c[0]-l[0]*c[2],l[0]*c[1]-l[1]*c[0]])))}var A=[0,0,0];for(S=0;S<x.length;S++)A[0]+=x[S][0],A[1]+=x[S][1],A[2]+=x[S][2];A[0]/=x.length,A[1]/=x.length,A[2]/=x.length;var M=4*(p*n+f);d[M]=(A[0]+1)/2*255|0,d[M+1]=(A[1]+1)/2*255|0,d[M+2]=255*A[2]|0,d[M+3]=255}return s.putImageData(u,0,0),a},generateDataTexture:function(e,t,i){for(var r=e*t,n=new Uint8Array(3*r),o=Math.floor(255*i.r),a=Math.floor(255*i.g),s=Math.floor(255*i.b),l=0;l<r;l++)n[3*l]=o,n[3*l+1]=a,n[3*l+2]=s;var c=new f.DataTexture(n,e,t,f.RGBFormat);return c.needsUpdate=!0,c}},f.SceneUtils={createMultiMaterialObject:function(e,t){for(var i=new f.Object3D,r=0,n=t.length;r<n;r++)i.add(new f.Mesh(e,t[r]));return i},detach:function(e,t,i){e.applyMatrix(t.matrixWorld),t.remove(e),i.add(e)},attach:function(e,t,i){var r=new f.Matrix4;r.getInverse(i.matrixWorld),e.applyMatrix(r),t.remove(e),i.add(e)}},f.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(e){var t=e.familyName.toLowerCase();this.faces[t]=this.faces[t]||{},this.faces[t][e.cssFontWeight]=this.faces[t][e.cssFontWeight]||{},this.faces[t][e.cssFontWeight][e.cssFontStyle]=e;this.faces[t][e.cssFontWeight][e.cssFontStyle]=e;return e},drawText:function(e){var t,i=this.getFace(),r=this.size/i.resolution,n=0,o=String(e).split(""),a=o.length,s=[];for(t=0;t<a;t++){var l=new f.Path,c=this.extractGlyphPoints(o[t],i,r,n,l);n+=c.offset,s.push(c.path)}return{paths:s,offset:n/2}},extractGlyphPoints:function(e,t,i,r,n){var o,a,s,l,c,h,u,d,p,m,g,v,y,b,_,x,w,S,C=[],T=t.glyphs[e]||t.glyphs["?"];if(T){if(T.o)for(c=(l=T._cachedOutline||(T._cachedOutline=T.o.split(" "))).length,h=i,u=i,o=0;o<c;)switch(l[o++]){case"m":d=l[o++]*h+r,p=l[o++]*u,n.moveTo(d,p);break;case"l":d=l[o++]*h+r,p=l[o++]*u,n.lineTo(d,p);break;case"q":if(m=l[o++]*h+r,g=l[o++]*u,b=l[o++]*h+r,_=l[o++]*u,n.quadraticCurveTo(b,_,m,g),S=C[C.length-1])for(v=S.x,y=S.y,a=1,s=this.divisions;a<=s;a++){var A=a/s;f.Shape.Utils.b2(A,v,b,m),f.Shape.Utils.b2(A,y,_,g)}break;case"b":if(m=l[o++]*h+r,g=l[o++]*u,b=l[o++]*h+r,_=l[o++]*-u,x=l[o++]*h+r,w=l[o++]*-u,n.bezierCurveTo(m,g,b,_,x,w),S=C[C.length-1])for(v=S.x,y=S.y,a=1,s=this.divisions;a<=s;a++)A=a/s,f.Shape.Utils.b3(A,v,b,x,m),f.Shape.Utils.b3(A,y,_,w,g)}return{offset:T.ha*i,path:n}}}},f.FontUtils.generateShapes=function(e,t){var i=void 0!==(t=t||{}).size?t.size:100,r=void 0!==t.curveSegments?t.curveSegments:4,n=void 0!==t.font?t.font:"helvetiker",o=void 0!==t.weight?t.weight:"normal",a=void 0!==t.style?t.style:"normal";f.FontUtils.size=i,f.FontUtils.divisions=r,f.FontUtils.face=n,f.FontUtils.weight=o,f.FontUtils.style=a;for(var s=f.FontUtils.drawText(e).paths,l=[],c=0,h=s.length;c<h;c++)Array.prototype.push.apply(l,s[c].toShapes());return l},r=f.FontUtils,n=function(e){for(var t=e.length,i=0,r=t-1,n=0;n<t;r=n++)i+=e[r].x*e[n].y-e[n].x*e[r].y;return.5*i},o=function(e,t,i,r,n,o){var a,s,l,c,h,u,d,f,p,m,g,v,y,b,_;if(s=e[o[t]].x,l=e[o[t]].y,c=e[o[i]].x,h=e[o[i]].y,u=e[o[r]].x,1e-10>(c-s)*((d=e[o[r]].y)-l)-(h-l)*(u-s))return!1;for(m=u-c,g=d-h,v=s-u,y=l-d,b=c-s,_=h-l,a=0;a<n;a++)if(a!==t&&a!==i&&a!==r&&(f=e[o[a]].x,m*((p=e[o[a]].y)-h)-g*(f-c)>=0&&v*(p-d)-y*(f-u)>=0&&b*(p-l)-_*(f-s)>=0))return!1;return!0},r.Triangulate=function(e,t){var i=e.length;if(i<3)return null;var r,a,s,l=[],c=[],h=[];if(n(e)>0)for(a=0;a<i;a++)c[a]=a;else for(a=0;a<i;a++)c[a]=i-1-a;var u=i,d=2*u;for(a=u-1;u>2;){if(d--<=0)return console.log("Warning, unable to triangulate polygon!"),t?h:l;if(u<=(r=a)&&(r=0),u<=(a=r+1)&&(a=0),u<=(s=a+1)&&(s=0),o(e,r,a,s,u,c)){var f,p,m,g,v;for(f=c[r],p=c[a],m=c[s],l.push([e[f],e[p],e[m]]),h.push([c[r],c[a],c[s]]),g=a,v=a+1;v<u;g++,v++)c[g]=c[v];d=2*--u}}return t?h:l},r.Triangulate.area=n,d._typeface_js={faces:f.FontUtils.faces,loadFace:f.FontUtils.loadFace},f.Curve=function(){},f.Curve.prototype.getPoint=function(e){return console.log("Warning, getPoint() not implemented!"),null},f.Curve.prototype.getPointAt=function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},f.Curve.prototype.getPoints=function(e){e||(e=5);var t,i=[];for(t=0;t<=e;t++)i.push(this.getPoint(t/e));return i},f.Curve.prototype.getSpacedPoints=function(e){e||(e=5);var t,i=[];for(t=0;t<=e;t++)i.push(this.getPointAt(t/e));return i},f.Curve.prototype.getLength=function(){var e=this.getLengths();return e[e.length-1]},f.Curve.prototype.getLengths=function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i,r=[],n=this.getPoint(0),o=0;for(r.push(0),i=1;i<=e;i++)o+=(t=this.getPoint(i/e)).distanceTo(n),r.push(o),n=t;return this.cacheArcLengths=r,r},f.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},f.Curve.prototype.getUtoTmapping=function(e,t){var i,r=this.getLengths(),n=0,o=r.length;i=t||e*r[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=r[n=Math.floor(s+(l-s)/2)]-i)<0)s=n+1;else{if(!(a>0)){l=n;break}l=n-1}if(r[n=l]==i)return n/(o-1);var c=r[n];return(n+(i-c)/(r[n+1]-c))/(o-1)},f.Curve.prototype.getTangent=function(e){var t=e-1e-4,i=e+1e-4;t<0&&(t=0),i>1&&(i=1);var r=this.getPoint(t);return this.getPoint(i).clone().sub(r).normalize()},f.Curve.prototype.getTangentAt=function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},f.LineCurve=function(e,t){this.v1=e,this.v2=t},f.LineCurve.prototype=Object.create(f.Curve.prototype),f.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},f.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},f.LineCurve.prototype.getTangent=function(e){return this.v2.clone().sub(this.v1).normalize()},f.QuadraticBezierCurve=function(e,t,i){this.v0=e,this.v1=t,this.v2=i},f.QuadraticBezierCurve.prototype=Object.create(f.Curve.prototype),f.QuadraticBezierCurve.prototype.getPoint=function(e){var t,i;return t=f.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),i=f.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),new f.Vector2(t,i)},f.QuadraticBezierCurve.prototype.getTangent=function(e){var t,i;t=f.Curve.Utils.tangentQuadraticBezier(e,this.v0.x,this.v1.x,this.v2.x),i=f.Curve.Utils.tangentQuadraticBezier(e,this.v0.y,this.v1.y,this.v2.y);var r=new f.Vector2(t,i);return r.normalize(),r},f.CubicBezierCurve=function(e,t,i,r){this.v0=e,this.v1=t,this.v2=i,this.v3=r},f.CubicBezierCurve.prototype=Object.create(f.Curve.prototype),f.CubicBezierCurve.prototype.getPoint=function(e){var t,i;return t=f.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=f.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new f.Vector2(t,i)},f.CubicBezierCurve.prototype.getTangent=function(e){var t,i;t=f.Curve.Utils.tangentCubicBezier(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=f.Curve.Utils.tangentCubicBezier(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var r=new f.Vector2(t,i);return r.normalize(),r},f.SplineCurve=function(e){this.points=void 0==e?[]:e},f.SplineCurve.prototype=Object.create(f.Curve.prototype),f.SplineCurve.prototype.getPoint=function(e){var t,i,r,n=new f.Vector2,o=[],a=this.points;return r=(t=(a.length-1)*e)-(i=Math.floor(t)),o[0]=0==i?i:i-1,o[1]=i,o[2]=i>a.length-2?a.length-1:i+1,o[3]=i>a.length-3?a.length-1:i+2,n.x=f.Curve.Utils.interpolate(a[o[0]].x,a[o[1]].x,a[o[2]].x,a[o[3]].x,r),n.y=f.Curve.Utils.interpolate(a[o[0]].y,a[o[1]].y,a[o[2]].y,a[o[3]].y,r),n},f.EllipseCurve=function(e,t,i,r,n,o,a){this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=n,this.aEndAngle=o,this.aClockwise=a},f.EllipseCurve.prototype=Object.create(f.Curve.prototype),f.EllipseCurve.prototype.getPoint=function(e){var t=this.aEndAngle-this.aStartAngle;this.aClockwise||(e=1-e);var i=this.aStartAngle+e*t,r=this.aX+this.xRadius*Math.cos(i),n=this.aY+this.yRadius*Math.sin(i);return new f.Vector2(r,n)},f.ArcCurve=function(e,t,i,r,n,o){f.EllipseCurve.call(this,e,t,i,i,r,n,o)},f.ArcCurve.prototype=Object.create(f.EllipseCurve.prototype),f.Curve.Utils={tangentQuadraticBezier:function(e,t,i,r){return 2*(1-e)*(i-t)+2*e*(r-i)},tangentCubicBezier:function(e,t,i,r,n){return-3*t*(1-e)*(1-e)+3*i*(1-e)*(1-e)-6*e*i*(1-e)+6*e*r*(1-e)-3*e*e*r+3*e*e*n},tangentSpline:function(e,t,i,r,n){return 6*e*e-6*e+(3*e*e-4*e+1)+(-6*e*e+6*e)+(3*e*e-2*e)},interpolate:function(e,t,i,r,n){var o=.5*(i-e),a=.5*(r-t),s=n*n;return(2*t-2*i+o+a)*(n*s)+(-3*t+3*i-2*o-a)*s+o*n+t}},f.Curve.create=function(e,t){return e.prototype=Object.create(f.Curve.prototype),e.prototype.getPoint=t,e},f.LineCurve3=f.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new f.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),f.QuadraticBezierCurve3=f.Curve.create(function(e,t,i){this.v0=e,this.v1=t,this.v2=i},function(e){var t,i,r;return t=f.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),i=f.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),r=f.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z),new f.Vector3(t,i,r)}),f.CubicBezierCurve3=f.Curve.create(function(e,t,i,r){this.v0=e,this.v1=t,this.v2=i,this.v3=r},function(e){var t,i,r;return t=f.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=f.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),r=f.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z),new f.Vector3(t,i,r)}),f.SplineCurve3=f.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t,i,r,n=new f.Vector3,o=[],a=this.points;r=(t=(a.length-1)*e)-(i=Math.floor(t)),o[0]=0==i?i:i-1,o[1]=i,o[2]=i>a.length-2?a.length-1:i+1,o[3]=i>a.length-3?a.length-1:i+2;var s=a[o[0]],l=a[o[1]],c=a[o[2]],h=a[o[3]];return n.x=f.Curve.Utils.interpolate(s.x,l.x,c.x,h.x,r),n.y=f.Curve.Utils.interpolate(s.y,l.y,c.y,h.y,r),n.z=f.Curve.Utils.interpolate(s.z,l.z,c.z,h.z,r),n}),f.ClosedSplineCurve3=f.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t,i,r,n=new f.Vector3,o=[],a=this.points;return r=(t=(a.length-0)*e)-(i=Math.floor(t)),i+=i>0?0:(Math.floor(Math.abs(i)/a.length)+1)*a.length,o[0]=(i-1)%a.length,o[1]=i%a.length,o[2]=(i+1)%a.length,o[3]=(i+2)%a.length,n.x=f.Curve.Utils.interpolate(a[o[0]].x,a[o[1]].x,a[o[2]].x,a[o[3]].x,r),n.y=f.Curve.Utils.interpolate(a[o[0]].y,a[o[1]].y,a[o[2]].y,a[o[3]].y,r),n.z=f.Curve.Utils.interpolate(a[o[0]].z,a[o[1]].z,a[o[2]].z,a[o[3]].z,r),n}),f.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},f.CurvePath.prototype=Object.create(f.Curve.prototype),f.CurvePath.prototype.add=function(e){this.curves.push(e)},f.CurvePath.prototype.checkConnection=function(){},f.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new f.LineCurve(t,e))},f.CurvePath.prototype.getPoint=function(e){for(var t,i=e*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=i){var o=1-(r[n]-i)/(t=this.curves[n]).getLength();return t.getPointAt(o)}n++}return null},f.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},f.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var e,t=[],i=0,r=this.curves.length;for(e=0;e<r;e++)i+=this.curves[e].getLength(),t.push(i);return this.cacheLengths=t,t},f.CurvePath.prototype.getBoundingBox=function(){var e,t,i,r,n,o,a,s,l,c,h=this.getPoints();e=t=Number.NEGATIVE_INFINITY,r=n=Number.POSITIVE_INFINITY;var u=h[0]instanceof f.Vector3;for(c=u?new f.Vector3:new f.Vector2,s=0,l=h.length;s<l;s++)(a=h[s]).x>e?e=a.x:a.x<r&&(r=a.x),a.y>t?t=a.y:a.y<n&&(n=a.y),u&&(a.z>i?i=a.z:a.z<o&&(o=a.z)),c.add(a);var d={minX:r,minY:n,maxX:e,maxY:t,centroid:c.divideScalar(l)};return u&&(d.maxZ=i,d.minZ=o),d},f.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e,!0);return this.createGeometry(t)},f.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e,!0);return this.createGeometry(t)},f.CurvePath.prototype.createGeometry=function(e){for(var t=new f.Geometry,i=0;i<e.length;i++)t.vertices.push(new f.Vector3(e[i].x,e[i].y,e[i].z||0));return t},f.CurvePath.prototype.addWrapPath=function(e){this.bends.push(e)},f.CurvePath.prototype.getTransformedPoints=function(e,t){var i,r,n=this.getPoints(e);for(t||(t=this.bends),i=0,r=t.length;i<r;i++)n=this.getWrapPoints(n,t[i]);return n},f.CurvePath.prototype.getTransformedSpacedPoints=function(e,t){var i,r,n=this.getSpacedPoints(e);for(t||(t=this.bends),i=0,r=t.length;i<r;i++)n=this.getWrapPoints(n,t[i]);return n},f.CurvePath.prototype.getWrapPoints=function(e,t){var i,r,n,o,a,s,l=this.getBoundingBox();for(i=0,r=e.length;i<r;i++){o=(n=e[i]).x,a=n.y,s=o/l.maxX,s=t.getUtoTmapping(s,o);var c=t.getPoint(s),h=t.getNormalVector(s).multiplyScalar(a);n.x=c.x+h.x,n.y=c.y+h.y}return e},f.Gyroscope=function(){f.Object3D.call(this)},f.Gyroscope.prototype=Object.create(f.Object3D.prototype),f.Gyroscope.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(this.translationWorld,this.rotationWorld,this.scaleWorld),this.matrix.decompose(this.translationObject,this.rotationObject,this.scaleObject),this.matrixWorld.compose(this.translationWorld,this.rotationObject,this.scaleWorld)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(e)},f.Gyroscope.prototype.translationWorld=new f.Vector3,f.Gyroscope.prototype.translationObject=new f.Vector3,f.Gyroscope.prototype.rotationWorld=new f.Quaternion,f.Gyroscope.prototype.rotationObject=new f.Quaternion,f.Gyroscope.prototype.scaleWorld=new f.Vector3,f.Gyroscope.prototype.scaleObject=new f.Vector3,f.Path=function(e){f.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},f.Path.prototype=Object.create(f.CurvePath.prototype),f.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},f.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y)},f.Path.prototype.moveTo=function(e,t){var i=Array.prototype.slice.call(arguments);this.actions.push({action:f.PathActions.MOVE_TO,args:i})},f.Path.prototype.lineTo=function(e,t){var i=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,n=r[r.length-2],o=r[r.length-1],a=new f.LineCurve(new f.Vector2(n,o),new f.Vector2(e,t));this.curves.push(a),this.actions.push({action:f.PathActions.LINE_TO,args:i})},f.Path.prototype.quadraticCurveTo=function(e,t,i,r){var n=Array.prototype.slice.call(arguments),o=this.actions[this.actions.length-1].args,a=o[o.length-2],s=o[o.length-1],l=new f.QuadraticBezierCurve(new f.Vector2(a,s),new f.Vector2(e,t),new f.Vector2(i,r));this.curves.push(l),this.actions.push({action:f.PathActions.QUADRATIC_CURVE_TO,args:n})},f.Path.prototype.bezierCurveTo=function(e,t,i,r,n,o){var a=Array.prototype.slice.call(arguments),s=this.actions[this.actions.length-1].args,l=s[s.length-2],c=s[s.length-1],h=new f.CubicBezierCurve(new f.Vector2(l,c),new f.Vector2(e,t),new f.Vector2(i,r),new f.Vector2(n,o));this.curves.push(h),this.actions.push({action:f.PathActions.BEZIER_CURVE_TO,args:a})},f.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,r=i[i.length-2],n=i[i.length-1],o=[new f.Vector2(r,n)];Array.prototype.push.apply(o,e);var a=new f.SplineCurve(o);this.curves.push(a),this.actions.push({action:f.PathActions.CSPLINE_THRU,args:t})},f.Path.prototype.arc=function(e,t,i,r,n,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],l=a[a.length-1];this.absarc(e+s,t+l,i,r,n,o)},f.Path.prototype.absarc=function(e,t,i,r,n,o){this.absellipse(e,t,i,i,r,n,o)},f.Path.prototype.ellipse=function(e,t,i,r,n,o,a){var s=this.actions[this.actions.length-1].args,l=s[s.length-2],c=s[s.length-1];this.absellipse(e+l,t+c,i,r,n,o,a)},f.Path.prototype.absellipse=function(e,t,i,r,n,o,a){var s=Array.prototype.slice.call(arguments),l=new f.EllipseCurve(e,t,i,r,n,o,a);this.curves.push(l);var c=l.getPoint(a?1:0);s.push(c.x),s.push(c.y),this.actions.push({action:f.PathActions.ELLIPSE,args:s})},f.Path.prototype.getSpacedPoints=function(e,t){e||(e=40);for(var i=[],r=0;r<e;r++)i.push(this.getPoint(r/e));return i},f.Path.prototype.getPoints=function(e,t){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(e,t);e=e||12;var i,r,n,o,a,s,l,c,h,u,d,p,m,g,v,y,b,_,x=[];for(i=0,r=this.actions.length;i<r;i++)switch(o=(n=this.actions[i]).action,a=n.args,o){case f.PathActions.MOVE_TO:case f.PathActions.LINE_TO:x.push(new f.Vector2(a[0],a[1]));break;case f.PathActions.QUADRATIC_CURVE_TO:for(s=a[2],l=a[3],u=a[0],d=a[1],x.length>0?(p=(g=x[x.length-1]).x,m=g.y):(p=(g=this.actions[i-1].args)[g.length-2],m=g[g.length-1]),v=1;v<=e;v++)y=v/e,b=f.Shape.Utils.b2(y,p,u,s),_=f.Shape.Utils.b2(y,m,d,l),x.push(new f.Vector2(b,_));break;case f.PathActions.BEZIER_CURVE_TO:for(s=a[4],l=a[5],u=a[0],d=a[1],c=a[2],h=a[3],x.length>0?(p=(g=x[x.length-1]).x,m=g.y):(p=(g=this.actions[i-1].args)[g.length-2],m=g[g.length-1]),v=1;v<=e;v++)y=v/e,b=f.Shape.Utils.b3(y,p,u,c,s),_=f.Shape.Utils.b3(y,m,d,h,l),x.push(new f.Vector2(b,_));break;case f.PathActions.CSPLINE_THRU:g=this.actions[i-1].args;var w=[new f.Vector2(g[g.length-2],g[g.length-1])],S=e*a[0].length;w=w.concat(a[0]);var C=new f.SplineCurve(w);for(v=1;v<=S;v++)x.push(C.getPointAt(v/S));break;case f.PathActions.ARC:var T=a[0],A=a[1],M=a[2],E=a[3],D=a[4],F=!!a[5],I=D-E,k=2*e;for(v=1;v<=k;v++)y=v/k,F||(y=1-y),R=E+y*I,b=T+M*Math.cos(R),_=A+M*Math.sin(R),x.push(new f.Vector2(b,_));break;case f.PathActions.ELLIPSE:T=a[0],A=a[1];var R,L=a[2],P=a[3];E=a[4],D=a[5],F=!!a[6],I=D-E,k=2*e;for(v=1;v<=k;v++)y=v/k,F||(y=1-y),R=E+y*I,b=T+L*Math.cos(R),_=A+P*Math.sin(R),x.push(new f.Vector2(b,_))}var N=x[x.length-1];return Math.abs(N.x-x[0].x)<1e-10&&Math.abs(N.y-x[0].y)<1e-10&&x.splice(x.length-1,1),t&&x.push(x[0]),x},f.Path.prototype.toShapes=function(){var e,t,i,r,n,o=[],a=new f.Path;for(e=0,t=this.actions.length;e<t;e++)n=(i=this.actions[e]).args,(r=i.action)==f.PathActions.MOVE_TO&&0!=a.actions.length&&(o.push(a),a=new f.Path),a[r].apply(a,n);if(0!=a.actions.length&&o.push(a),0==o.length)return[];var s,l,c=[],h=!f.Shape.Utils.isClockWise(o[0].getPoints());if(1==o.length)return s=o[0],(l=new f.Shape).actions=s.actions,l.curves=s.curves,c.push(l),c;if(h)for(l=new f.Shape,e=0,t=o.length;e<t;e++)s=o[e],f.Shape.Utils.isClockWise(s.getPoints())?(l.actions=s.actions,l.curves=s.curves,c.push(l),l=new f.Shape):l.holes.push(s);else{for(e=0,t=o.length;e<t;e++)s=o[e],f.Shape.Utils.isClockWise(s.getPoints())?(l&&c.push(l),(l=new f.Shape).actions=s.actions,l.curves=s.curves):l.holes.push(s);c.push(l)}return c},f.Shape=function(){f.Path.apply(this,arguments),this.holes=[]},f.Shape.prototype=Object.create(f.Path.prototype),f.Shape.prototype.extrude=function(e){return new f.ExtrudeGeometry(this,e)},f.Shape.prototype.makeGeometry=function(e){return new f.ShapeGeometry(this,e)},f.Shape.prototype.getPointsHoles=function(e){var t,i=this.holes.length,r=[];for(t=0;t<i;t++)r[t]=this.holes[t].getTransformedPoints(e,this.bends);return r},f.Shape.prototype.getSpacedPointsHoles=function(e){var t,i=this.holes.length,r=[];for(t=0;t<i;t++)r[t]=this.holes[t].getTransformedSpacedPoints(e,this.bends);return r},f.Shape.prototype.extractAllPoints=function(e){return{shape:this.getTransformedPoints(e),holes:this.getPointsHoles(e)}},f.Shape.prototype.extractPoints=function(e){return this.useSpacedPoints?this.extractAllSpacedPoints(e):this.extractAllPoints(e)},f.Shape.prototype.extractAllSpacedPoints=function(e){return{shape:this.getTransformedSpacedPoints(e),holes:this.getSpacedPointsHoles(e)}},f.Shape.Utils={removeHoles:function(e,t){var i,r,n,o,a,s,l,c,h,u,d,p,m,g,v,y,b=e.concat(),_=b.concat(),x=[];for(a=0;a<t.length;a++){for(l=t[a],Array.prototype.push.apply(_,l),c=Number.POSITIVE_INFINITY,s=0;s<l.length;s++){d=l[s];var w=[];for(u=0;u<b.length;u++)p=b[u],h=d.distanceToSquared(p),w.push(h),h<c&&(c=h,n=s,o=u)}i=o-1>=0?o-1:b.length-1,r=n-1>=0?n-1:l.length-1;var S=[l[n],b[o],b[i]],C=f.FontUtils.Triangulate.area(S),T=[l[n],l[r],b[o]],A=f.FontUtils.Triangulate.area(T),M=o,E=n;n+=-1,(o+=1)<0&&(o+=b.length),o%=b.length,n<0&&(n+=l.length),n%=l.length,i=o-1>=0?o-1:b.length-1,r=n-1>=0?n-1:l.length-1,S=[l[n],b[o],b[i]];var D=f.FontUtils.Triangulate.area(S);T=[l[n],l[r],b[o]],C+A>D+f.FontUtils.Triangulate.area(T)&&(n=E,(o=M)<0&&(o+=b.length),o%=b.length,n<0&&(n+=l.length),n%=l.length,i=o-1>=0?o-1:b.length-1,r=n-1>=0?n-1:l.length-1),m=b.slice(0,o),g=b.slice(o),v=l.slice(n),y=l.slice(0,n);var F=[l[n],b[o],b[i]],I=[l[n],l[r],b[o]];x.push(F),x.push(I),b=m.concat(v).concat(y).concat(g)}return{shape:b,isolatedPts:x,allpoints:_}},triangulateShape:function(e,t){var i,r,n,o,a,s,l=f.Shape.Utils.removeHoles(e,t),c=l.shape,h=l.allpoints,u=l.isolatedPts,d=f.FontUtils.Triangulate(c,!1),p={};for(i=0,r=h.length;i<r;i++)void 0!==p[a=h[i].x+":"+h[i].y]&&console.log("Duplicate point",a),p[a]=i;for(i=0,r=d.length;i<r;i++)for(o=d[i],n=0;n<3;n++)void 0!==(s=p[a=o[n].x+":"+o[n].y])&&(o[n]=s);for(i=0,r=u.length;i<r;i++)for(o=u[i],n=0;n<3;n++)void 0!==(s=p[a=o[n].x+":"+o[n].y])&&(o[n]=s);return d.concat(u)},isClockWise:function(e){return f.FontUtils.Triangulate.area(e)<0},b2p0:function(e,t){var i=1-e;return i*i*t},b2p1:function(e,t){return 2*(1-e)*e*t},b2p2:function(e,t){return e*e*t},b2:function(e,t,i,r){return this.b2p0(e,t)+this.b2p1(e,i)+this.b2p2(e,r)},b3p0:function(e,t){var i=1-e;return i*i*i*t},b3p1:function(e,t){var i=1-e;return 3*i*i*e*t},b3p2:function(e,t){return 3*(1-e)*e*e*t},b3p3:function(e,t){return e*e*e*t},b3:function(e,t,i,r,n){return this.b3p0(e,t)+this.b3p1(e,i)+this.b3p2(e,r)+this.b3p3(e,n)}},f.AnimationHandler=(a=[],s={},l={update:function(e){for(var t=0;t<a.length;t++)a[t].update(e)},addToUpdate:function(e){-1===a.indexOf(e)&&a.push(e)},removeFromUpdate:function(e){var t=a.indexOf(e);-1!==t&&a.splice(t,1)},add:function(e){void 0!==s[e.name]&&console.log("THREE.AnimationHandler.add: Warning! "+e.name+" already exists in library. Overwriting."),s[e.name]=e,h(e)},get:function(e){if("string"==typeof e)return s[e]?s[e]:(console.log("THREE.AnimationHandler.get: Couldn't find animation "+e),null)},parse:function(e){var t=[];if(e instanceof f.SkinnedMesh)for(var i=0;i<e.bones.length;i++)t.push(e.bones[i]);else c(e,t);return t}},c=function(e,t){t.push(e);for(var i=0;i<e.children.length;i++)c(e.children[i],t)},h=function(e){if(!0!==e.initialized){for(var t=0;t<e.hierarchy.length;t++){for(var i=0;i<e.hierarchy[t].keys.length;i++)if(e.hierarchy[t].keys[i].time<0&&(e.hierarchy[t].keys[i].time=0),void 0!==e.hierarchy[t].keys[i].rot&&!(e.hierarchy[t].keys[i].rot instanceof f.Quaternion)){var r=e.hierarchy[t].keys[i].rot;e.hierarchy[t].keys[i].rot=new f.Quaternion(r[0],r[1],r[2],r[3])}if(e.hierarchy[t].keys.length&&void 0!==e.hierarchy[t].keys[0].morphTargets){var n={};for(i=0;i<e.hierarchy[t].keys.length;i++)for(var o=0;o<e.hierarchy[t].keys[i].morphTargets.length;o++){n[s=e.hierarchy[t].keys[i].morphTargets[o]]=-1}e.hierarchy[t].usedMorphTargets=n;for(i=0;i<e.hierarchy[t].keys.length;i++){var a={};for(var s in n){for(o=0;o<e.hierarchy[t].keys[i].morphTargets.length;o++)if(e.hierarchy[t].keys[i].morphTargets[o]===s){a[s]=e.hierarchy[t].keys[i].morphTargetsInfluences[o];break}o===e.hierarchy[t].keys[i].morphTargets.length&&(a[s]=0)}e.hierarchy[t].keys[i].morphTargetsInfluences=a}}for(i=1;i<e.hierarchy[t].keys.length;i++)e.hierarchy[t].keys[i].time===e.hierarchy[t].keys[i-1].time&&(e.hierarchy[t].keys.splice(i,1),i--);for(i=0;i<e.hierarchy[t].keys.length;i++)e.hierarchy[t].keys[i].index=i}var l=parseInt(e.length*e.fps,10);e.JIT={},e.JIT.hierarchy=[];for(t=0;t<e.hierarchy.length;t++)e.JIT.hierarchy.push(new Array(l));e.initialized=!0}},l.LINEAR=0,l.CATMULLROM=1,l.CATMULLROM_FORWARD=2,l),f.Animation=function(e,t,i){this.root=e,this.data=f.AnimationHandler.get(t),this.hierarchy=f.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.isPaused=!0,this.loop=!0,this.interpolationType=void 0!==i?i:f.AnimationHandler.LINEAR,this.points=[],this.target=new f.Vector3},f.Animation.prototype.play=function(e,t){if(!1===this.isPlaying){this.isPlaying=!0,this.loop=void 0===e||e,this.currentTime=void 0!==t?t:0;var i,r,n=this.hierarchy.length;for(i=0;i<n;i++){r=this.hierarchy[i],this.interpolationType!==f.AnimationHandler.CATMULLROM_FORWARD&&(r.useQuaternion=!0),r.matrixAutoUpdate=!0,void 0===r.animationCache&&(r.animationCache={},r.animationCache.prevKey={pos:0,rot:0,scl:0},r.animationCache.nextKey={pos:0,rot:0,scl:0},r.animationCache.originalMatrix=r instanceof f.Bone?r.skinMatrix:r.matrix);var o=r.animationCache.prevKey,a=r.animationCache.nextKey;o.pos=this.data.hierarchy[i].keys[0],o.rot=this.data.hierarchy[i].keys[0],o.scl=this.data.hierarchy[i].keys[0],a.pos=this.getNextKeyWith("pos",i,1),a.rot=this.getNextKeyWith("rot",i,1),a.scl=this.getNextKeyWith("scl",i,1)}this.update(0)}this.isPaused=!1,f.AnimationHandler.addToUpdate(this)},f.Animation.prototype.pause=function(){!0===this.isPaused?f.AnimationHandler.addToUpdate(this):f.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},f.Animation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,f.AnimationHandler.removeFromUpdate(this)},f.Animation.prototype.update=function(e){if(!1!==this.isPlaying){var t,i,r,n,o,a,s,l,c,h,u,d,p,m,g=["pos","rot","scl"];this.data.JIT.hierarchy;this.currentTime+=e*this.timeScale,u=this.currentTime,h=this.currentTime=this.currentTime%this.data.length,parseInt(Math.min(h*this.data.fps,this.data.length*this.data.fps),10);for(var v=0,y=this.hierarchy.length;v<y;v++){c=(l=this.hierarchy[v]).animationCache;for(var b=0;b<3;b++){if(t=g[b],a=c.prevKey[t],(s=c.nextKey[t]).time<=u){if(h<u){if(!this.loop)return void this.stop();for(a=this.data.hierarchy[v].keys[0],s=this.getNextKeyWith(t,v,1);s.time<h;)a=s,s=this.getNextKeyWith(t,v,s.index+1)}else do{a=s,s=this.getNextKeyWith(t,v,s.index+1)}while(s.time<h);c.prevKey[t]=a,c.nextKey[t]=s}l.matrixAutoUpdate=!0,l.matrixWorldNeedsUpdate=!0,i=(h-a.time)/(s.time-a.time),n=a[t],o=s[t],(i<0||i>1)&&(console.log("THREE.Animation.update: Warning! Scale out of bounds:"+i+" on bone "+v),i=i<0?0:1),"pos"===t?(r=l.position,this.interpolationType===f.AnimationHandler.LINEAR?(r.x=n[0]+(o[0]-n[0])*i,r.y=n[1]+(o[1]-n[1])*i,r.z=n[2]+(o[2]-n[2])*i):this.interpolationType!==f.AnimationHandler.CATMULLROM&&this.interpolationType!==f.AnimationHandler.CATMULLROM_FORWARD||(this.points[0]=this.getPrevKeyWith("pos",v,a.index-1).pos,this.points[1]=n,this.points[2]=o,this.points[3]=this.getNextKeyWith("pos",v,s.index+1).pos,i=.33*i+.33,d=this.interpolateCatmullRom(this.points,i),r.x=d[0],r.y=d[1],r.z=d[2],this.interpolationType===f.AnimationHandler.CATMULLROM_FORWARD&&(p=this.interpolateCatmullRom(this.points,1.01*i),this.target.set(p[0],p[1],p[2]),this.target.sub(r),this.target.y=0,this.target.normalize(),m=Math.atan2(this.target.x,this.target.z),l.rotation.set(0,m,0)))):"rot"===t?f.Quaternion.slerp(n,o,l.quaternion,i):"scl"===t&&((r=l.scale).x=n[0]+(o[0]-n[0])*i,r.y=n[1]+(o[1]-n[1])*i,r.z=n[2]+(o[2]-n[2])*i)}}}},f.Animation.prototype.interpolateCatmullRom=function(e,t){var i,r,n,o,a,s,l,c,h,u=[],d=[];return n=(i=(e.length-1)*t)-(r=Math.floor(i)),u[0]=0===r?r:r-1,u[1]=r,u[2]=r>e.length-2?r:r+1,u[3]=r>e.length-3?r:r+2,s=e[u[0]],l=e[u[1]],c=e[u[2]],h=e[u[3]],a=n*(o=n*n),d[0]=this.interpolate(s[0],l[0],c[0],h[0],n,o,a),d[1]=this.interpolate(s[1],l[1],c[1],h[1],n,o,a),d[2]=this.interpolate(s[2],l[2],c[2],h[2],n,o,a),d},f.Animation.prototype.interpolate=function(e,t,i,r,n,o,a){var s=.5*(i-e),l=.5*(r-t);return(2*(t-i)+s+l)*a+(-3*(t-i)-2*s-l)*o+s*n+t},f.Animation.prototype.getNextKeyWith=function(e,t,i){var r=this.data.hierarchy[t].keys;for(this.interpolationType===f.AnimationHandler.CATMULLROM||this.interpolationType===f.AnimationHandler.CATMULLROM_FORWARD?i=i<r.length-1?i:r.length-1:i%=r.length;i<r.length;i++)if(void 0!==r[i][e])return r[i];return this.data.hierarchy[t].keys[0]},f.Animation.prototype.getPrevKeyWith=function(e,t,i){var r=this.data.hierarchy[t].keys;for(i=this.interpolationType===f.AnimationHandler.CATMULLROM||this.interpolationType===f.AnimationHandler.CATMULLROM_FORWARD?i>0?i:0:i>=0?i:i+r.length;i>=0;i--)if(void 0!==r[i][e])return r[i];return this.data.hierarchy[t].keys[r.length-1]},f.KeyFrameAnimation=function(e,t,i){this.root=e,this.data=f.AnimationHandler.get(t),this.hierarchy=f.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0,this.JITCompile=void 0===i||i;for(var r=0,n=this.hierarchy.length;r<n;r++){var o=this.data.hierarchy[r].keys,a=this.data.hierarchy[r].sids,s=this.hierarchy[r];if(o.length&&a){for(var l=0;l<a.length;l++){var c=a[l],h=this.getNextKeyWith(c,r,0);h&&h.apply(c)}s.matrixAutoUpdate=!1,this.data.hierarchy[r].node.updateMatrix(),s.matrixWorldNeedsUpdate=!0}}},f.KeyFrameAnimation.prototype.play=function(e,t){if(!this.isPlaying){this.isPlaying=!0,this.loop=void 0===e||e,this.currentTime=void 0!==t?t:0,this.startTimeMs=t,this.startTime=1e7,this.endTime=-this.startTime;var i,r,n,o=this.hierarchy.length;for(i=0;i<o;i++){r=this.hierarchy[i],n=this.data.hierarchy[i],r.useQuaternion=!0,void 0===n.animationCache&&(n.animationCache={},n.animationCache.prevKey=null,n.animationCache.nextKey=null,n.animationCache.originalMatrix=r instanceof f.Bone?r.skinMatrix:r.matrix);var a=this.data.hierarchy[i].keys;a.length&&(n.animationCache.prevKey=a[0],n.animationCache.nextKey=a[1],this.startTime=Math.min(a[0].time,this.startTime),this.endTime=Math.max(a[a.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,f.AnimationHandler.addToUpdate(this)},f.KeyFrameAnimation.prototype.pause=function(){this.isPaused?f.AnimationHandler.addToUpdate(this):f.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},f.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,f.AnimationHandler.removeFromUpdate(this);for(var e=0;e<this.data.hierarchy.length;e++){var t=this.hierarchy[e],i=this.data.hierarchy[e];if(void 0!==i.animationCache){var r=i.animationCache.originalMatrix;t instanceof f.Bone?(r.copy(t.skinMatrix),t.skinMatrix=r):(r.copy(t.matrix),t.matrix=r),delete i.animationCache}}},f.KeyFrameAnimation.prototype.update=function(e){if(this.isPlaying){var t,i,r,n,o,a,s,l,c=this.data.JIT.hierarchy;if(this.currentTime+=e*this.timeScale,s=this.currentTime,(a=this.currentTime=this.currentTime%this.data.length)<this.startTimeMs&&(a=this.currentTime=this.startTimeMs+a),o=parseInt(Math.min(a*this.data.fps,this.data.length*this.data.fps),10),!(l=a<s)||this.loop){if(!(a<this.startTime)){for(d=0,p=this.hierarchy.length;d<p;d++){r=this.hierarchy[d];m=(n=this.data.hierarchy[d]).keys;var h=n.animationCache;if(this.JITCompile&&void 0!==c[d][o])r instanceof f.Bone?(r.skinMatrix=c[d][o],r.matrixWorldNeedsUpdate=!1):(r.matrix=c[d][o],r.matrixWorldNeedsUpdate=!0);else if(m.length){if(this.JITCompile&&h&&(r instanceof f.Bone?r.skinMatrix=h.originalMatrix:r.matrix=h.originalMatrix),t=h.prevKey,i=h.nextKey,t&&i){if(i.time<=s){if(l&&this.loop)for(t=m[0],i=m[1];i.time<a;)i=m[(t=i).index+1];else if(!l)for(var u=m.length-1;i.time<a&&i.index!==u;)i=m[(t=i).index+1];h.prevKey=t,h.nextKey=i}i.time>=a?t.interpolate(i,a):t.interpolate(i,i.time)}this.data.hierarchy[d].node.updateMatrix(),r.matrixWorldNeedsUpdate=!0}}if(this.JITCompile&&void 0===c[0][o]){this.hierarchy[0].updateMatrixWorld(!0);for(d=0;d<this.hierarchy.length;d++)this.hierarchy[d]instanceof f.Bone?c[d][o]=this.hierarchy[d].skinMatrix.clone():c[d][o]=this.hierarchy[d].matrix.clone()}}}else{for(var d=0,p=this.hierarchy.length;d<p;d++){var m=this.data.hierarchy[d].keys,g=this.data.hierarchy[d].sids,v=m.length-1,y=this.hierarchy[d];if(m.length){for(var b=0;b<g.length;b++){var _=g[b],x=this.getPrevKeyWith(_,d,v);x&&x.apply(_)}this.data.hierarchy[d].node.updateMatrix(),y.matrixWorldNeedsUpdate=!0}}this.stop()}}},f.KeyFrameAnimation.prototype.getNextKeyWith=function(e,t,i){var r=this.data.hierarchy[t].keys;for(i%=r.length;i<r.length;i++)if(r[i].hasTarget(e))return r[i];return r[0]},f.KeyFrameAnimation.prototype.getPrevKeyWith=function(e,t,i){var r=this.data.hierarchy[t].keys;for(i=i>=0?i:i+r.length;i>=0;i--)if(r[i].hasTarget(e))return r[i];return r[r.length-1]},f.CubeCamera=function(e,t,i){f.Object3D.call(this);var r=new f.PerspectiveCamera(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new f.Vector3(1,0,0)),this.add(r);var n=new f.PerspectiveCamera(90,1,e,t);n.up.set(0,-1,0),n.lookAt(new f.Vector3(-1,0,0)),this.add(n);var o=new f.PerspectiveCamera(90,1,e,t);o.up.set(0,0,1),o.lookAt(new f.Vector3(0,1,0)),this.add(o);var a=new f.PerspectiveCamera(90,1,e,t);a.up.set(0,0,-1),a.lookAt(new f.Vector3(0,-1,0)),this.add(a);var s=new f.PerspectiveCamera(90,1,e,t);s.up.set(0,-1,0),s.lookAt(new f.Vector3(0,0,1)),this.add(s);var l=new f.PerspectiveCamera(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new f.Vector3(0,0,-1)),this.add(l),this.renderTarget=new f.WebGLRenderTargetCube(i,i,{format:f.RGBFormat,magFilter:f.LinearFilter,minFilter:f.LinearFilter}),this.updateCubeMap=function(e,t){var i=this.renderTarget,c=i.generateMipmaps;i.generateMipmaps=!1,i.activeCubeFace=0,e.render(t,r,i),i.activeCubeFace=1,e.render(t,n,i),i.activeCubeFace=2,e.render(t,o,i),i.activeCubeFace=3,e.render(t,a,i),i.activeCubeFace=4,e.render(t,s,i),i.generateMipmaps=c,i.activeCubeFace=5,e.render(t,l,i)}},f.CubeCamera.prototype=Object.create(f.Object3D.prototype),f.CombinedCamera=function(e,t,i,r,n,o,a){f.Camera.call(this),this.fov=i,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2,this.cameraO=new f.OrthographicCamera(e/-2,e/2,t/2,t/-2,o,a),this.cameraP=new f.PerspectiveCamera(i,e/t,r,n),this.zoom=1,this.toPerspective()},f.CombinedCamera.prototype=Object.create(f.Camera.prototype),f.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near,this.far=this.cameraP.far,this.cameraP.fov=this.fov/this.zoom,this.cameraP.updateProjectionMatrix(),this.projectionMatrix=this.cameraP.projectionMatrix,this.inPerspectiveMode=!0,this.inOrthographicMode=!1},f.CombinedCamera.prototype.toOrthographic=function(){var e=this.fov,t=this.cameraP.aspect,i=(this.cameraP.near+this.cameraP.far)/2,r=Math.tan(e/2)*i,n=2*r*t/2;r/=this.zoom,n/=this.zoom,this.cameraO.left=-n,this.cameraO.right=n,this.cameraO.top=r,this.cameraO.bottom=-r,this.cameraO.updateProjectionMatrix(),this.near=this.cameraO.near,this.far=this.cameraO.far,this.projectionMatrix=this.cameraO.projectionMatrix,this.inPerspectiveMode=!1,this.inOrthographicMode=!0},f.CombinedCamera.prototype.setSize=function(e,t){this.cameraP.aspect=e/t,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2},f.CombinedCamera.prototype.setFov=function(e){this.fov=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},f.CombinedCamera.prototype.updateProjectionMatrix=function(){this.inPerspectiveMode?this.toPerspective():(this.toPerspective(),this.toOrthographic())},f.CombinedCamera.prototype.setLens=function(e,t){void 0===t&&(t=24);var i=2*f.Math.radToDeg(Math.atan(t/(2*e)));return this.setFov(i),i},f.CombinedCamera.prototype.setZoom=function(e){this.zoom=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},f.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},f.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0,this.rotation.y=Math.PI,this.rotation.z=0,this.rotationAutoUpdate=!1},f.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0,this.rotation.y=-Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},f.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0,this.rotation.y=Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},f.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},f.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},f.AsteriskGeometry=function(e,t){f.Geometry.call(this);for(var i=.707*e,r=.707*t,n=[[e,0,0],[t,0,0],[-e,0,0],[-t,0,0],[0,e,0],[0,t,0],[0,-e,0],[0,-t,0],[0,0,e],[0,0,t],[0,0,-e],[0,0,-t],[i,i,0],[r,r,0],[-i,-i,0],[-r,-r,0],[i,-i,0],[r,-r,0],[-i,i,0],[-r,r,0],[i,0,i],[r,0,r],[-i,0,-i],[-r,0,-r],[i,0,-i],[r,0,-r],[-i,0,i],[-r,0,r],[0,i,i],[0,r,r],[0,-i,-i],[0,-r,-r],[0,i,-i],[0,r,-r],[0,-i,i],[0,-r,r]],o=0,a=n.length;o<a;o++){var s=n[o][0],l=n[o][1],c=n[o][2];this.vertices.push(new f.Vector3(s,l,c))}},f.AsteriskGeometry.prototype=Object.create(f.Geometry.prototype),f.CircleGeometry=function(e,t,i,r){f.Geometry.call(this),e=e||50,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,t=void 0!==t?Math.max(3,t):8;var n,o=[],a=new f.Vector3,s=new f.Vector2(.5,.5);for(this.vertices.push(a),o.push(s),n=0;n<=t;n++){var l=new f.Vector3;l.x=e*Math.cos(i+n/t*r),l.y=e*Math.sin(i+n/t*r),this.vertices.push(l),o.push(new f.Vector2((l.x/e+1)/2,-(l.y/e+1)/2+1))}var c=new f.Vector3(0,0,-1);for(n=1;n<=t;n++){var h=n,u=n+1;this.faces.push(new f.Face3(h,u,0,[c,c,c])),this.faceVertexUvs[0].push([o[n],o[n+1],s])}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new f.Sphere(new f.Vector3,e)},f.CircleGeometry.prototype=Object.create(f.Geometry.prototype),f.CubeGeometry=function(e,t,i,r,n,o){f.Geometry.call(this);var a=this;this.width=e,this.height=t,this.depth=i,this.widthSegments=r||1,this.heightSegments=n||1,this.depthSegments=o||1;var s=this.width/2,l=this.height/2,c=this.depth/2;function h(e,t,i,r,n,o,s,l){var c,h,u,d=a.widthSegments,p=a.heightSegments,m=n/2,g=o/2,v=a.vertices.length;"x"===e&&"y"===t||"y"===e&&"x"===t?c="z":"x"===e&&"z"===t||"z"===e&&"x"===t?(c="y",p=a.depthSegments):("z"===e&&"y"===t||"y"===e&&"z"===t)&&(c="x",d=a.depthSegments);var y=d+1,b=p+1,_=n/d,x=o/p,w=new f.Vector3;for(w[c]=s>0?1:-1,u=0;u<b;u++)for(h=0;h<y;h++){var S=new f.Vector3;S[e]=(h*_-m)*i,S[t]=(u*x-g)*r,S[c]=s,a.vertices.push(S)}for(u=0;u<p;u++)for(h=0;h<d;h++){var C=h+y*u,T=h+y*(u+1),A=h+1+y*(u+1),M=h+1+y*u,E=new f.Face4(C+v,T+v,A+v,M+v);E.normal.copy(w),E.vertexNormals.push(w.clone(),w.clone(),w.clone(),w.clone()),E.materialIndex=l,a.faces.push(E),a.faceVertexUvs[0].push([new f.Vector2(h/d,1-u/p),new f.Vector2(h/d,1-(u+1)/p),new f.Vector2((h+1)/d,1-(u+1)/p),new f.Vector2((h+1)/d,1-u/p)])}}h("z","y",-1,-1,this.depth,this.height,s,0),h("z","y",1,-1,this.depth,this.height,-s,1),h("x","z",1,1,this.width,this.depth,l,2),h("x","z",1,-1,this.width,this.depth,-l,3),h("x","y",1,-1,this.width,this.height,c,4),h("x","y",-1,-1,this.width,this.height,-c,5),this.computeCentroids(),this.mergeVertices()},f.CubeGeometry.prototype=Object.create(f.Geometry.prototype),f.CylinderGeometry=function(e,t,i,r,n,o){f.Geometry.call(this),e=void 0!==e?e:20,t=void 0!==t?t:20;var a,s,l=(i=void 0!==i?i:100)/2,c=r||8,h=n||1,u=[],d=[];for(s=0;s<=h;s++){var p=[],m=[],g=s/h,v=g*(t-e)+e;for(a=0;a<=c;a++){var y=a/c,b=new f.Vector3;b.x=v*Math.sin(y*Math.PI*2),b.y=-g*i+l,b.z=v*Math.cos(y*Math.PI*2),this.vertices.push(b),p.push(this.vertices.length-1),m.push(new f.Vector2(y,1-g))}u.push(p),d.push(m)}var _,x,w=(t-e)/i;for(a=0;a<c;a++)for(0!==e?(_=this.vertices[u[0][a]].clone(),x=this.vertices[u[0][a+1]].clone()):(_=this.vertices[u[1][a]].clone(),x=this.vertices[u[1][a+1]].clone()),_.setY(Math.sqrt(_.x*_.x+_.z*_.z)*w).normalize(),x.setY(Math.sqrt(x.x*x.x+x.z*x.z)*w).normalize(),s=0;s<h;s++){var S=u[s][a],C=u[s+1][a],T=u[s+1][a+1],A=u[s][a+1],M=_.clone(),E=_.clone(),D=x.clone(),F=x.clone(),I=d[s][a].clone(),k=d[s+1][a].clone(),R=d[s+1][a+1].clone(),L=d[s][a+1].clone();this.faces.push(new f.Face4(S,C,T,A,[M,E,D,F])),this.faceVertexUvs[0].push([I,k,R,L])}if(!o&&e>0)for(this.vertices.push(new f.Vector3(0,l,0)),a=0;a<c;a++){S=u[0][a],C=u[0][a+1],T=this.vertices.length-1,M=new f.Vector3(0,1,0),E=new f.Vector3(0,1,0),D=new f.Vector3(0,1,0),I=d[0][a].clone(),k=d[0][a+1].clone(),R=new f.Vector2(k.u,0);this.faces.push(new f.Face3(S,C,T,[M,E,D])),this.faceVertexUvs[0].push([I,k,R])}if(!o&&t>0)for(this.vertices.push(new f.Vector3(0,-l,0)),a=0;a<c;a++){S=u[s][a+1],C=u[s][a],T=this.vertices.length-1,M=new f.Vector3(0,-1,0),E=new f.Vector3(0,-1,0),D=new f.Vector3(0,-1,0),I=d[s][a+1].clone(),k=d[s][a].clone(),R=new f.Vector2(k.u,1);this.faces.push(new f.Face3(S,C,T,[M,E,D])),this.faceVertexUvs[0].push([I,k,R])}this.computeCentroids(),this.computeFaceNormals()},f.CylinderGeometry.prototype=Object.create(f.Geometry.prototype),f.ExtrudeGeometry=function(e,t){void 0!==e?(f.Geometry.call(this),e=e instanceof Array?e:[e],this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeCentroids(),this.computeFaceNormals()):e=[]},f.ExtrudeGeometry.prototype=Object.create(f.Geometry.prototype),f.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var i=e.length,r=0;r<i;r++){var n=e[r];this.addShape(n,t)}},f.ExtrudeGeometry.prototype.addShape=function(e,t){var i,r,n,o,a,s,l,c,h=void 0!==t.amount?t.amount:100,u=void 0!==t.bevelThickness?t.bevelThickness:6,d=void 0!==t.bevelSize?t.bevelSize:u-2,p=void 0!==t.bevelSegments?t.bevelSegments:3,m=void 0===t.bevelEnabled||t.bevelEnabled,g=void 0!==t.curveSegments?t.curveSegments:12,v=void 0!==t.steps?t.steps:1,y=t.extrudePath,b=!1,_=t.material,x=t.extrudeMaterial,w=void 0!==t.UVGenerator?t.UVGenerator:f.ExtrudeGeometry.WorldUVGenerator;this.shapebb;y&&(i=y.getSpacedPoints(v),b=!0,m=!1,r=void 0!==t.frames?t.frames:new f.TubeGeometry.FrenetFrames(y,v,!1),n=new f.Vector3,o=new f.Vector3,a=new f.Vector3),m||(p=0,u=0,d=0);var S=this,C=this.vertices.length,T=e.extractPoints(g),A=T.shape,M=T.holes,E=!f.Shape.Utils.isClockWise(A);if(E){for(A=A.reverse(),l=0,c=M.length;l<c;l++)s=M[l],f.Shape.Utils.isClockWise(s)&&(M[l]=s.reverse());E=!1}var D=f.Shape.Utils.triangulateShape(A,M),F=A;for(l=0,c=M.length;l<c;l++)s=M[l],A=A.concat(s);function I(e,t,i){return t||console.log("die"),t.clone().multiplyScalar(i).add(e)}var k,R,L,P,N,B,O=A.length,z=D.length;F.length,Math.PI;function U(e,t,i){return function(e,t,i){var r,n,o,a,s,l=f.ExtrudeGeometry.__v1,c=f.ExtrudeGeometry.__v2,h=f.ExtrudeGeometry.__v3,u=f.ExtrudeGeometry.__v4,d=f.ExtrudeGeometry.__v5,p=f.ExtrudeGeometry.__v6;if(l.set(e.x-t.x,e.y-t.y),c.set(e.x-i.x,e.y-i.y),r=l.normalize(),n=c.normalize(),h.set(-r.y,r.x),u.set(n.y,-n.x),d.copy(e).add(h),p.copy(e).add(u),d.equals(p))return u.clone();d.copy(t).add(h),p.copy(i).add(u),o=r.dot(u),a=p.sub(d).dot(u),0===o&&(console.log("Either infinite or no solutions!"),0===a?console.log("Its finite solutions."):console.log("Too bad, no solutions."));if((s=a/o)<0)return function(e,t,i){var r=Math.atan2(t.y-e.y,t.x-e.x),n=Math.atan2(i.y-e.y,i.x-e.x);r>n&&(n+=2*Math.PI);var o=(r+n)/2,a=-Math.cos(o),s=-Math.sin(o);return new f.Vector2(a,s)}(e,t,i);return r.multiplyScalar(s).add(d).sub(e).clone()}(e,t,i)}for(var V=[],H=0,W=F.length,j=W-1,G=H+1;H<W;H++,j++,G++){j===W&&(j=0),G===W&&(G=0);F[H],F[j],F[G];V[H]=U(F[H],F[j],F[G])}var X,Y,q=[],K=V.concat();for(l=0,c=M.length;l<c;l++){for(s=M[l],X=[],H=0,j=(W=s.length)-1,G=H+1;H<W;H++,j++,G++)j===W&&(j=0),G===W&&(G=0),X[H]=U(s[H],s[j],s[G]);q.push(X),K=K.concat(X)}for(k=0;k<p;k++){for(P=u*(1-(L=k/p)),R=d*Math.sin(L*Math.PI/2),H=0,W=F.length;H<W;H++)Q((N=I(F[H],V[H],R)).x,N.y,-P);for(l=0,c=M.length;l<c;l++)for(s=M[l],X=q[l],H=0,W=s.length;H<W;H++)Q((N=I(s[H],X[H],R)).x,N.y,-P)}for(R=d,H=0;H<O;H++)N=m?I(A[H],K[H],R):A[H],b?(o.copy(r.normals[0]).multiplyScalar(N.x),n.copy(r.binormals[0]).multiplyScalar(N.y),a.copy(i[0]).add(o).add(n),Q(a.x,a.y,a.z)):Q(N.x,N.y,0);for(Y=1;Y<=v;Y++)for(H=0;H<O;H++)N=m?I(A[H],K[H],R):A[H],b?(o.copy(r.normals[Y]).multiplyScalar(N.x),n.copy(r.binormals[Y]).multiplyScalar(N.y),a.copy(i[Y]).add(o).add(n),Q(a.x,a.y,a.z)):Q(N.x,N.y,h/v*Y);for(k=p-1;k>=0;k--){for(P=u*(1-(L=k/p)),R=d*Math.sin(L*Math.PI/2),H=0,W=F.length;H<W;H++)Q((N=I(F[H],V[H],R)).x,N.y,h+P);for(l=0,c=M.length;l<c;l++)for(s=M[l],X=q[l],H=0,W=s.length;H<W;H++)N=I(s[H],X[H],R),b?Q(N.x,N.y+i[v-1].y,i[v-1].x+P):Q(N.x,N.y,h+P)}function $(e,t){var i,r;for(H=e.length;--H>=0;){i=H,(r=H-1)<0&&(r=e.length-1);var n=0,o=v+2*p;for(n=0;n<o;n++){var a=O*n,s=O*(n+1);J(t+i+a,t+r+a,t+r+s,t+i+s,e,n,o,i,r)}}}function Q(e,t,i){S.vertices.push(new f.Vector3(e,t,i))}function Z(i,r,n,o){i+=C,r+=C,n+=C,S.faces.push(new f.Face3(i,r,n,null,null,_));var a=o?w.generateBottomUV(S,e,t,i,r,n):w.generateTopUV(S,e,t,i,r,n);S.faceVertexUvs[0].push(a)}function J(i,r,n,o,a,s,l,c,h){i+=C,r+=C,n+=C,o+=C,S.faces.push(new f.Face4(i,r,n,o,null,null,x));var u=w.generateSideWallUV(S,e,a,t,i,r,n,o,s,l,c,h);S.faceVertexUvs[0].push(u)}!function(){if(m){var e=0,t=O*e;for(H=0;H<z;H++)Z((B=D[H])[2]+t,B[1]+t,B[0]+t,!0);for(t=O*(e=v+2*p),H=0;H<z;H++)Z((B=D[H])[0]+t,B[1]+t,B[2]+t,!1)}else{for(H=0;H<z;H++)Z((B=D[H])[2],B[1],B[0],!0);for(H=0;H<z;H++)Z((B=D[H])[0]+O*v,B[1]+O*v,B[2]+O*v,!1)}}(),function(){var e=0;for($(F,e),e+=F.length,l=0,c=M.length;l<c;l++)$(s=M[l],e),e+=s.length}()},f.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,i,r,n,o){var a=e.vertices[r].x,s=e.vertices[r].y,l=e.vertices[n].x,c=e.vertices[n].y,h=e.vertices[o].x,u=e.vertices[o].y;return[new f.Vector2(a,s),new f.Vector2(l,c),new f.Vector2(h,u)]},generateBottomUV:function(e,t,i,r,n,o){return this.generateTopUV(e,t,i,r,n,o)},generateSideWallUV:function(e,t,i,r,n,o,a,s,l,c,h,u){var d=e.vertices[n].x,p=e.vertices[n].y,m=e.vertices[n].z,g=e.vertices[o].x,v=e.vertices[o].y,y=e.vertices[o].z,b=e.vertices[a].x,_=e.vertices[a].y,x=e.vertices[a].z,w=e.vertices[s].x,S=e.vertices[s].y,C=e.vertices[s].z;return Math.abs(p-v)<.01?[new f.Vector2(d,1-m),new f.Vector2(g,1-y),new f.Vector2(b,1-x),new f.Vector2(w,1-C)]:[new f.Vector2(p,1-m),new f.Vector2(v,1-y),new f.Vector2(_,1-x),new f.Vector2(S,1-C)]}},f.ExtrudeGeometry.__v1=new f.Vector2,f.ExtrudeGeometry.__v2=new f.Vector2,f.ExtrudeGeometry.__v3=new f.Vector2,f.ExtrudeGeometry.__v4=new f.Vector2,f.ExtrudeGeometry.__v5=new f.Vector2,f.ExtrudeGeometry.__v6=new f.Vector2,f.ShapeGeometry=function(e,t){f.Geometry.call(this),e instanceof Array==!1&&(e=[e]),this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeCentroids(),this.computeFaceNormals()},f.ShapeGeometry.prototype=Object.create(f.Geometry.prototype),f.ShapeGeometry.prototype.addShapeList=function(e,t){for(var i=0,r=e.length;i<r;i++)this.addShape(e[i],t);return this},f.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var i,r,n,o=void 0!==t.curveSegments?t.curveSegments:12,a=t.material,s=void 0===t.UVGenerator?f.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,l=(this.shapebb,this.vertices.length),c=e.extractPoints(o),h=c.shape,u=c.holes,d=!f.Shape.Utils.isClockWise(h);if(d){for(h=h.reverse(),i=0,r=u.length;i<r;i++)n=u[i],f.Shape.Utils.isClockWise(n)&&(u[i]=n.reverse());d=!1}var p=f.Shape.Utils.triangulateShape(h,u),m=h;for(i=0,r=u.length;i<r;i++)n=u[i],h=h.concat(n);var g,v,y=h.length,b=p.length;m.length;for(i=0;i<y;i++)g=h[i],this.vertices.push(new f.Vector3(g.x,g.y,0));for(i=0;i<b;i++){var _=(v=p[i])[0]+l,x=v[1]+l,w=v[2]+l;this.faces.push(new f.Face3(_,x,w,null,null,a)),this.faceVertexUvs[0].push(s.generateBottomUV(this,e,t,_,x,w))}},f.LatheGeometry=function(e,t,i,r){f.Geometry.call(this),t=t||12,i=i||0,r=r||2*Math.PI;for(var n=1/(e.length-1),o=1/t,a=0,s=t;a<=s;a++)for(var l=i+a*o*r,c=Math.cos(l),h=Math.sin(l),u=0,d=e.length;u<d;u++){var p=e[u],m=new f.Vector3;m.x=c*p.x-h*p.y,m.y=h*p.x+c*p.y,m.z=p.z,this.vertices.push(m)}var g=e.length;for(a=0,s=t;a<s;a++)for(u=0,d=e.length-1;u<d;u++){var v=u+g*a,y=v,b=v+g,_=(c=v+1+g,v+1);this.faces.push(new f.Face4(y,b,c,_));var x=a*o,w=u*n,S=x+o,C=w+n;this.faceVertexUvs[0].push([new f.Vector2(x,w),new f.Vector2(S,w),new f.Vector2(S,C),new f.Vector2(x,C)])}this.mergeVertices(),this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},f.LatheGeometry.prototype=Object.create(f.Geometry.prototype),f.PlaneGeometry=function(e,t,i,r){var n,o;f.Geometry.call(this),this.width=e,this.height=t,this.widthSegments=i||1,this.heightSegments=r||1;var a=e/2,s=t/2,l=this.widthSegments,c=this.heightSegments,h=l+1,u=c+1,d=this.width/l,p=this.height/c,m=new f.Vector3(0,0,1);for(o=0;o<u;o++)for(n=0;n<h;n++){var g=n*d-a,v=o*p-s;this.vertices.push(new f.Vector3(g,-v,0))}for(o=0;o<c;o++)for(n=0;n<l;n++){var y=n+h*o,b=n+h*(o+1),_=n+1+h*(o+1),x=n+1+h*o,w=new f.Face4(y,b,_,x);w.normal.copy(m),w.vertexNormals.push(m.clone(),m.clone(),m.clone(),m.clone()),this.faces.push(w),this.faceVertexUvs[0].push([new f.Vector2(n/l,1-o/c),new f.Vector2(n/l,1-(o+1)/c),new f.Vector2((n+1)/l,1-(o+1)/c),new f.Vector2((n+1)/l,1-o/c)])}this.computeCentroids()},f.PlaneGeometry.prototype=Object.create(f.Geometry.prototype),f.SphereGeometry=function(e,t,i,r,n,o,a){f.Geometry.call(this),this.radius=e||50,this.widthSegments=Math.max(3,Math.floor(t)||8),this.heightSegments=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,l,c=[],h=[];for(l=0;l<=this.heightSegments;l++){var u=[],d=[];for(s=0;s<=this.widthSegments;s++){var p=s/this.widthSegments,m=l/this.heightSegments,g=new f.Vector3;g.x=-this.radius*Math.cos(r+p*n)*Math.sin(o+m*a),g.y=this.radius*Math.cos(o+m*a),g.z=this.radius*Math.sin(r+p*n)*Math.sin(o+m*a),this.vertices.push(g),u.push(this.vertices.length-1),d.push(new f.Vector2(p,1-m))}c.push(u),h.push(d)}for(l=0;l<this.heightSegments;l++)for(s=0;s<this.widthSegments;s++){var v=c[l][s+1],y=c[l][s],b=c[l+1][s],_=c[l+1][s+1],x=this.vertices[v].clone().normalize(),w=this.vertices[y].clone().normalize(),S=this.vertices[b].clone().normalize(),C=this.vertices[_].clone().normalize(),T=h[l][s+1].clone(),A=h[l][s].clone(),M=h[l+1][s].clone(),E=h[l+1][s+1].clone();Math.abs(this.vertices[v].y)===this.radius?(this.faces.push(new f.Face3(v,b,_,[x,S,C])),this.faceVertexUvs[0].push([T,M,E])):Math.abs(this.vertices[b].y)===this.radius?(this.faces.push(new f.Face3(v,y,b,[x,w,S])),this.faceVertexUvs[0].push([T,A,M])):(this.faces.push(new f.Face4(v,y,b,_,[x,w,S,C])),this.faceVertexUvs[0].push([T,A,M,E]))}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new f.Sphere(new f.Vector3,e)},f.SphereGeometry.prototype=Object.create(f.Geometry.prototype),f.TextGeometry=function(e,t){var i=f.FontUtils.generateShapes(e,t);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),f.ExtrudeGeometry.call(this,i,t)},f.TextGeometry.prototype=Object.create(f.ExtrudeGeometry.prototype),f.TorusGeometry=function(e,t,i,r,n){f.Geometry.call(this);this.radius=e||100,this.tube=t||40,this.radialSegments=i||8,this.tubularSegments=r||6,this.arc=n||2*Math.PI;for(var o=new f.Vector3,a=[],s=[],l=0;l<=this.radialSegments;l++)for(var c=0;c<=this.tubularSegments;c++){var h=c/this.tubularSegments*this.arc,u=l/this.radialSegments*Math.PI*2;o.x=this.radius*Math.cos(h),o.y=this.radius*Math.sin(h);var d=new f.Vector3;d.x=(this.radius+this.tube*Math.cos(u))*Math.cos(h),d.y=(this.radius+this.tube*Math.cos(u))*Math.sin(h),d.z=this.tube*Math.sin(u),this.vertices.push(d),a.push(new f.Vector2(c/this.tubularSegments,l/this.radialSegments)),s.push(d.clone().sub(o).normalize())}for(l=1;l<=this.radialSegments;l++)for(c=1;c<=this.tubularSegments;c++){var p=(this.tubularSegments+1)*l+c-1,m=(this.tubularSegments+1)*(l-1)+c-1,g=(this.tubularSegments+1)*(l-1)+c,v=(this.tubularSegments+1)*l+c,y=new f.Face4(p,m,g,v,[s[p],s[m],s[g],s[v]]);y.normal.add(s[p]),y.normal.add(s[m]),y.normal.add(s[g]),y.normal.add(s[v]),y.normal.normalize(),this.faces.push(y),this.faceVertexUvs[0].push([a[p].clone(),a[m].clone(),a[g].clone(),a[v].clone()])}this.computeCentroids()},f.TorusGeometry.prototype=Object.create(f.Geometry.prototype),f.TorusKnotGeometry=function(e,t,i,r,n,o,a){f.Geometry.call(this);var s=this;this.radius=e||100,this.tube=t||40,this.radialSegments=i||64,this.tubularSegments=r||8,this.p=n||2,this.q=o||3,this.heightScale=a||1,this.grid=new Array(this.radialSegments);for(var l,c,h,u=new f.Vector3,d=new f.Vector3,p=new f.Vector3,m=0;m<this.radialSegments;++m){this.grid[m]=new Array(this.tubularSegments);for(var g=0;g<this.tubularSegments;++g){var v,y,b=m/this.radialSegments*2*this.p*Math.PI,_=g/this.tubularSegments*2*Math.PI,x=R(b,_,this.q,this.p,this.radius,this.heightScale),w=R(b+.01,_,this.q,this.p,this.radius,this.heightScale);u.subVectors(w,x),d.addVectors(w,x),p.crossVectors(u,d),d.crossVectors(p,u),p.normalize(),d.normalize(),v=-this.tube*Math.cos(_),y=this.tube*Math.sin(_),x.x+=v*d.x+y*p.x,x.y+=v*d.y+y*p.y,x.z+=v*d.z+y*p.z,this.grid[m][g]=(l=x.x,c=x.y,h=x.z,s.vertices.push(new f.Vector3(l,c,h))-1)}}for(m=0;m<this.radialSegments;++m)for(g=0;g<this.tubularSegments;++g){var S=(m+1)%this.radialSegments,C=(g+1)%this.tubularSegments,T=this.grid[m][g],A=this.grid[S][g],M=this.grid[S][C],E=this.grid[m][C],D=new f.Vector2(m/this.radialSegments,g/this.tubularSegments),F=new f.Vector2((m+1)/this.radialSegments,g/this.tubularSegments),I=new f.Vector2((m+1)/this.radialSegments,(g+1)/this.tubularSegments),k=new f.Vector2(m/this.radialSegments,(g+1)/this.tubularSegments);this.faces.push(new f.Face4(T,A,M,E)),this.faceVertexUvs[0].push([D,F,I,k])}function R(e,t,i,r,n,o){var a=Math.cos(e),s=(Math.cos(t),Math.sin(e)),l=i/r*e,c=Math.cos(l),h=n*(2+c)*.5*a,u=n*(2+c)*s*.5,d=o*n*Math.sin(l)*.5;return new f.Vector3(h,u,d)}this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},f.TorusKnotGeometry.prototype=Object.create(f.Geometry.prototype),f.TubeGeometry=function(e,t,i,r,n,o){f.Geometry.call(this),this.path=e,this.segments=t||64,this.radius=i||1,this.radiusSegments=r||8,this.closed=n||!1,o&&(this.debug=new f.Object3D),this.grid=[];var a,s,l,c,h,u,d,p,m,g,v,y,b,_,x,w,S,C,T,A,M=this,E=this.segments+1,D=new f.Vector3,F=new f.TubeGeometry.FrenetFrames(this.path,this.segments,this.closed),I=F.tangents,k=F.normals,R=F.binormals;function L(e,t,i){return M.vertices.push(new f.Vector3(e,t,i))-1}for(this.tangents=I,this.normals=k,this.binormals=R,m=0;m<E;m++)for(this.grid[m]=[],c=m/(E-1),p=e.getPointAt(c),a=I[m],s=k[m],l=R[m],this.debug&&(this.debug.add(new f.ArrowHelper(a,p,i,255)),this.debug.add(new f.ArrowHelper(s,p,i,16711680)),this.debug.add(new f.ArrowHelper(l,p,i,65280))),g=0;g<this.radiusSegments;g++)h=g/this.radiusSegments*2*Math.PI,u=-this.radius*Math.cos(h),d=this.radius*Math.sin(h),D.copy(p),D.x+=u*s.x+d*l.x,D.y+=u*s.y+d*l.y,D.z+=u*s.z+d*l.z,this.grid[m][g]=L(D.x,D.y,D.z);for(m=0;m<this.segments;m++)for(g=0;g<this.radiusSegments;g++)v=this.closed?(m+1)%this.segments:m+1,y=(g+1)%this.radiusSegments,b=this.grid[m][g],_=this.grid[v][g],x=this.grid[v][y],w=this.grid[m][y],S=new f.Vector2(m/this.segments,g/this.radiusSegments),C=new f.Vector2((m+1)/this.segments,g/this.radiusSegments),T=new f.Vector2((m+1)/this.segments,(g+1)/this.radiusSegments),A=new f.Vector2(m/this.segments,(g+1)/this.radiusSegments),this.faces.push(new f.Face4(b,_,x,w)),this.faceVertexUvs[0].push([S,C,T,A]);this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},f.TubeGeometry.prototype=Object.create(f.Geometry.prototype),f.TubeGeometry.FrenetFrames=function(e,t,i){new f.Vector3;var r,n,o,a,s,l,c,h=new f.Vector3,u=(new f.Vector3,[]),d=[],p=[],m=new f.Vector3,g=new f.Matrix4,v=t+1,y=1e-4;for(this.tangents=u,this.normals=d,this.binormals=p,l=0;l<v;l++)c=l/(v-1),u[l]=e.getTangentAt(c),u[l].normalize();for(function(){d[0]=new f.Vector3,p[0]=new f.Vector3,n=Number.MAX_VALUE,o=Math.abs(u[0].x),a=Math.abs(u[0].y),s=Math.abs(u[0].z),o<=n&&(n=o,h.set(1,0,0));a<=n&&(n=a,h.set(0,1,0));s<=n&&h.set(0,0,1);m.crossVectors(u[0],h).normalize(),d[0].crossVectors(u[0],m),p[0].crossVectors(u[0],d[0])}(),l=1;l<v;l++)d[l]=d[l-1].clone(),p[l]=p[l-1].clone(),m.crossVectors(u[l-1],u[l]),m.length()>y&&(m.normalize(),r=Math.acos(u[l-1].dot(u[l])),d[l].applyMatrix4(g.makeRotationAxis(m,r))),p[l].crossVectors(u[l],d[l]);if(i)for(r=Math.acos(d[0].dot(d[v-1])),r/=v-1,u[0].dot(m.crossVectors(d[0],d[v-1]))>0&&(r=-r),l=1;l<v;l++)d[l].applyMatrix4(g.makeRotationAxis(u[l],r*l)),p[l].crossVectors(u[l],d[l])},f.PolyhedronGeometry=function(e,t,i,r){f.Geometry.call(this),i=i||1,r=r||0;for(var n=this,o=0,a=e.length;o<a;o++)c(new f.Vector3(e[o][0],e[o][1],e[o][2]));var s=[],l=this.vertices;for(o=0,a=t.length;o<a;o++)h(l[t[o][0]],l[t[o][1]],l[t[o][2]],r);this.mergeVertices();for(o=0,a=this.vertices.length;o<a;o++)this.vertices[o].multiplyScalar(i);function c(e){var t=e.normalize().clone();t.index=n.vertices.push(t)-1;var i=d(e)/2/Math.PI+.5,r=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(e)/Math.PI+.5;return t.uv=new f.Vector2(i,1-r),t}function h(e,t,i,r){if(r<1){var o=new f.Face3(e.index,t.index,i.index,[e.clone(),t.clone(),i.clone()]);o.centroid.add(e).add(t).add(i).divideScalar(3),o.normal=o.centroid.clone().normalize(),n.faces.push(o);var a=d(o.centroid);n.faceVertexUvs[0].push([p(e.uv,e,a),p(t.uv,t,a),p(i.uv,i,a)])}else r-=1,h(e,u(e,t),u(e,i),r),h(u(e,t),t,u(t,i),r),h(u(e,i),u(t,i),i,r),h(u(e,t),u(t,i),u(e,i),r)}function u(e,t){s[e.index]||(s[e.index]=[]),s[t.index]||(s[t.index]=[]);var i=s[e.index][t.index];return void 0===i&&(s[e.index][t.index]=s[t.index][e.index]=i=c((new f.Vector3).addVectors(e,t).divideScalar(2))),i}function d(e){return Math.atan2(e.z,-e.x)}function p(e,t,i){return i<0&&1===e.x&&(e=new f.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new f.Vector2(i/2/Math.PI+.5,e.y)),e}this.computeCentroids(),this.boundingSphere=new f.Sphere(new f.Vector3,i)},f.PolyhedronGeometry.prototype=Object.create(f.Geometry.prototype),f.IcosahedronGeometry=function(e,t){var i=(1+Math.sqrt(5))/2,r=[[-1,i,0],[1,i,0],[-1,-i,0],[1,-i,0],[0,-1,i],[0,1,i],[0,-1,-i],[0,1,-i],[i,0,-1],[i,0,1],[-i,0,-1],[-i,0,1]];f.PolyhedronGeometry.call(this,r,[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]],e,t)},f.IcosahedronGeometry.prototype=Object.create(f.Geometry.prototype),f.OctahedronGeometry=function(e,t){f.PolyhedronGeometry.call(this,[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],[[0,2,4],[0,4,3],[0,3,5],[0,5,2],[1,2,5],[1,5,3],[1,3,4],[1,4,2]],e,t)},f.OctahedronGeometry.prototype=Object.create(f.Geometry.prototype),f.TetrahedronGeometry=function(e,t){f.PolyhedronGeometry.call(this,[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],[[2,1,0],[0,3,2],[1,3,0],[2,3,1]],e,t)},f.TetrahedronGeometry.prototype=Object.create(f.Geometry.prototype),f.ParametricGeometry=function(e,t,i,r){f.Geometry.call(this);var n,o,a,s,l=this.vertices,c=this.faces,h=this.faceVertexUvs[0];r=void 0!==r&&r;var u,d,p,m,g,v,y,b,_=t+1;for(n=0;n<=i;n++)for(s=n/i,o=0;o<=t;o++)a=e(o/t,s),l.push(a);for(n=0;n<i;n++)for(o=0;o<t;o++)u=n*_+o,d=n*_+o+1,p=(n+1)*_+o,m=(n+1)*_+o+1,g=new f.Vector2(o/t,n/i),v=new f.Vector2((o+1)/t,n/i),y=new f.Vector2(o/t,(n+1)/i),b=new f.Vector2((o+1)/t,(n+1)/i),r?(c.push(new f.Face3(u,d,p)),c.push(new f.Face3(d,m,p)),h.push([g,v,y]),h.push([v,b,y])):(c.push(new f.Face4(u,d,m,p)),h.push([g,v,b,y]));this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},f.ParametricGeometry.prototype=Object.create(f.Geometry.prototype),f.ConvexGeometry=function(e){f.Geometry.call(this);for(var t=[[0,1,2],[0,2,1]],i=3;i<e.length;i++)r(i);function r(i){var r=e[i].clone(),a=r.length();r.x+=a*o(),r.y+=a*o(),r.z+=a*o();for(var s,l,c=[],h=0;h<t.length;){var u=t[h];if(n(u,r)){for(var d=0;d<3;d++){for(var f=[u[d],u[(d+1)%3]],p=!0,m=0;m<c.length;m++)if(s=c[m],l=f,s[0]===l[1]&&s[1]===l[0]){c[m]=c[c.length-1],c.pop(),p=!1;break}p&&c.push(f)}t[h]=t[t.length-1],t.pop()}else h++}for(m=0;m<c.length;m++)t.push([c[m][0],c[m][1],i])}function n(t,i){var r=e[t[0]],n=function(e,t,i){var r=new f.Vector3,n=new f.Vector3;return r.subVectors(i,t),n.subVectors(e,t),r.cross(n),r.normalize(),r}(r,e[t[1]],e[t[2]]),o=n.dot(r);return n.dot(i)>=o}function o(){return 2*(Math.random()-.5)*1e-6}function a(e){var t=e.length();return new f.Vector2(e.x/t,e.y/t)}var s=0,l=new Array(e.length);for(i=0;i<t.length;i++)for(var c=t[i],h=0;h<3;h++)void 0===l[c[h]]&&(l[c[h]]=s++,this.vertices.push(e[c[h]])),c[h]=l[c[h]];for(i=0;i<t.length;i++)this.faces.push(new f.Face3(t[i][0],t[i][1],t[i][2]));for(i=0;i<this.faces.length;i++){c=this.faces[i];this.faceVertexUvs[0].push([a(this.vertices[c.a]),a(this.vertices[c.b]),a(this.vertices[c.c])])}this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},f.ConvexGeometry.prototype=Object.create(f.Geometry.prototype),f.AxisHelper=function(e){var t=new f.Geometry;t.vertices.push(new f.Vector3,new f.Vector3(e||1,0,0),new f.Vector3,new f.Vector3(0,e||1,0),new f.Vector3,new f.Vector3(0,0,e||1)),t.colors.push(new f.Color(16711680),new f.Color(16755200),new f.Color(65280),new f.Color(11206400),new f.Color(255),new f.Color(43775));var i=new f.LineBasicMaterial({vertexColors:f.VertexColors});f.Line.call(this,t,i,f.LinePieces)},f.AxisHelper.prototype=Object.create(f.Line.prototype),f.ArrowHelper=function(e,t,i,r){f.Object3D.call(this),void 0===i&&(i=20),void 0===r&&(r=16776960);var n=new f.Geometry;n.vertices.push(new f.Vector3(0,0,0)),n.vertices.push(new f.Vector3(0,1,0)),this.line=new f.Line(n,new f.LineBasicMaterial({color:r})),this.add(this.line);var o=new f.CylinderGeometry(0,.05,.25,5,1);this.cone=new f.Mesh(o,new f.MeshBasicMaterial({color:r})),this.cone.position.set(0,1,0),this.add(this.cone),t instanceof f.Vector3&&(this.position=t),this.setDirection(e),this.setLength(i)},f.ArrowHelper.prototype=Object.create(f.Object3D.prototype),f.ArrowHelper.prototype.setDirection=function(e){var t=f.ArrowHelper.__v1.copy(e).normalize();if(t.y>.999)this.rotation.set(0,0,0);else if(t.y<-.999)this.rotation.set(Math.PI,0,0);else{var i=f.ArrowHelper.__v2.set(t.z,0,-t.x).normalize(),r=Math.acos(t.y),n=f.ArrowHelper.__q1.setFromAxisAngle(i,r);this.rotation.setEulerFromQuaternion(n,this.eulerOrder)}},f.ArrowHelper.prototype.setLength=function(e){this.scale.set(e,e,e)},f.ArrowHelper.prototype.setColor=function(e){this.line.material.color.setHex(e),this.cone.material.color.setHex(e)},f.ArrowHelper.__v1=new f.Vector3,f.ArrowHelper.__v2=new f.Vector3,f.ArrowHelper.__q1=new f.Quaternion,f.CameraHelper=function(e){f.Line.call(this);var t=this;this.geometry=new f.Geometry,this.material=new f.LineBasicMaterial({color:16777215,vertexColors:f.FaceColors}),this.type=f.LinePieces,this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap={};function i(e,t,i){r(e,i),r(t,i)}function r(e,i){t.geometry.vertices.push(new f.Vector3),t.geometry.colors.push(new f.Color(i)),void 0===t.pointMap[e]&&(t.pointMap[e]=[]),t.pointMap[e].push(t.geometry.vertices.length-1)}i("n1","n2",16755200),i("n2","n4",16755200),i("n4","n3",16755200),i("n3","n1",16755200),i("f1","f2",16755200),i("f2","f4",16755200),i("f4","f3",16755200),i("f3","f1",16755200),i("n1","f1",16755200),i("n2","f2",16755200),i("n3","f3",16755200),i("n4","f4",16755200),i("p","n1",16711680),i("p","n2",16711680),i("p","n3",16711680),i("p","n4",16711680),i("u1","u2",43775),i("u2","u3",43775),i("u3","u1",43775),i("c","t",16777215),i("p","c",3355443),i("cn1","cn2",3355443),i("cn3","cn4",3355443),i("cf1","cf2",3355443),i("cf3","cf4",3355443),this.camera=e,this.update(e)},f.CameraHelper.prototype=Object.create(f.Line.prototype),f.CameraHelper.prototype.update=function(){var e=this;function t(t,i,r,n){f.CameraHelper.__v.set(i,r,n),f.CameraHelper.__projector.unprojectVector(f.CameraHelper.__v,f.CameraHelper.__c);var o=e.pointMap[t];if(void 0!==o)for(var a=0,s=o.length;a<s;a++)e.geometry.vertices[o[a]].copy(f.CameraHelper.__v)}f.CameraHelper.__c.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),this.geometry.verticesNeedUpdate=!0},f.CameraHelper.__projector=new f.Projector,f.CameraHelper.__v=new f.Vector3,f.CameraHelper.__c=new f.Camera,f.DirectionalLightHelper=function(e,t){f.Object3D.call(this),this.light=e,this.position=e.position,this.direction=new f.Vector3,this.direction.subVectors(e.target.position,e.position);var i=f.Math.clamp(e.intensity,0,1);this.color=e.color.clone(),this.color.multiplyScalar(i);var r=this.color.getHex(),n=new f.SphereGeometry(t,16,8),o=new f.AsteriskGeometry(1.25*t,2.25*t),a=new f.MeshBasicMaterial({color:r,fog:!1}),s=new f.LineBasicMaterial({color:r,fog:!1});if(this.lightSphere=new f.Mesh(n,a),this.lightRays=new f.Line(o,s,f.LinePieces),this.add(this.lightSphere),this.add(this.lightRays),this.lightSphere.properties.isGizmo=!0,this.lightSphere.properties.gizmoSubject=e,this.lightSphere.properties.gizmoRoot=this,this.targetSphere=null,void 0!==e.target.properties.targetInverse){var l=new f.SphereGeometry(t,8,4),c=new f.MeshBasicMaterial({color:r,wireframe:!0,fog:!1});this.targetSphere=new f.Mesh(l,c),this.targetSphere.position=e.target.position,this.targetSphere.properties.isGizmo=!0,this.targetSphere.properties.gizmoSubject=e.target,this.targetSphere.properties.gizmoRoot=this.targetSphere;var h=new f.LineDashedMaterial({color:r,dashSize:4,gapSize:4,opacity:.75,transparent:!0,fog:!1}),u=new f.Geometry;u.vertices.push(this.position.clone()),u.vertices.push(this.targetSphere.position.clone()),u.computeLineDistances(),this.targetLine=new f.Line(u,h),this.targetLine.properties.isGizmo=!0}this.properties.isGizmo=!0},f.DirectionalLightHelper.prototype=Object.create(f.Object3D.prototype),f.DirectionalLightHelper.prototype.update=function(){this.direction.subVectors(this.light.target.position,this.light.position);var e=f.Math.clamp(this.light.intensity,0,1);this.color.copy(this.light.color),this.color.multiplyScalar(e),this.lightSphere.material.color.copy(this.color),this.lightRays.material.color.copy(this.color),null!==this.targetSphere&&(this.targetSphere.material.color.copy(this.color),this.targetLine.material.color.copy(this.color),this.targetLine.geometry.vertices[0].copy(this.light.position),this.targetLine.geometry.vertices[1].copy(this.light.target.position),this.targetLine.geometry.computeLineDistances(),this.targetLine.geometry.verticesNeedUpdate=!0)},f.HemisphereLightHelper=function(e,t,i,r){f.Object3D.call(this),this.light=e,this.position=e.position;var n=f.Math.clamp(e.intensity,0,1);this.color=e.color.clone(),this.color.multiplyScalar(n);var o=this.color.getHex();this.groundColor=e.groundColor.clone(),this.groundColor.multiplyScalar(n);for(var a=this.groundColor.getHex(),s=new f.SphereGeometry(t,16,8,0,2*Math.PI,0,.5*Math.PI),l=new f.SphereGeometry(t,16,8,0,2*Math.PI,.5*Math.PI,Math.PI),c=new f.MeshBasicMaterial({color:o,fog:!1}),h=new f.MeshBasicMaterial({color:a,fog:!1}),u=0,d=s.faces.length;u<d;u++)s.faces[u].materialIndex=0;for(u=0,d=l.faces.length;u<d;u++)l.faces[u].materialIndex=1;f.GeometryUtils.merge(s,l),this.lightSphere=new f.Mesh(s,new f.MeshFaceMaterial([c,h])),this.lightArrow=new f.ArrowHelper(new f.Vector3(0,1,0),new f.Vector3(0,1.1*(t+i),0),i,o),this.lightArrow.rotation.x=Math.PI,this.lightArrowGround=new f.ArrowHelper(new f.Vector3(0,1,0),new f.Vector3(0,-1.1*(t+i),0),i,a);var p=new f.Object3D;p.rotation.x=.5*-Math.PI,p.add(this.lightSphere),p.add(this.lightArrow),p.add(this.lightArrowGround),this.add(p),this.lightSphere.properties.isGizmo=!0,this.lightSphere.properties.gizmoSubject=e,this.lightSphere.properties.gizmoRoot=this,this.properties.isGizmo=!0,this.target=new f.Vector3,this.lookAt(this.target)},f.HemisphereLightHelper.prototype=Object.create(f.Object3D.prototype),f.HemisphereLightHelper.prototype.update=function(){var e=f.Math.clamp(this.light.intensity,0,1);this.color.copy(this.light.color),this.color.multiplyScalar(e),this.groundColor.copy(this.light.groundColor),this.groundColor.multiplyScalar(e),this.lightSphere.material.materials[0].color.copy(this.color),this.lightSphere.material.materials[1].color.copy(this.groundColor),this.lightArrow.setColor(this.color.getHex()),this.lightArrowGround.setColor(this.groundColor.getHex()),this.lookAt(this.target)},f.PointLightHelper=function(e,t){f.Object3D.call(this),this.light=e,this.position=e.position;var i=f.Math.clamp(e.intensity,0,1);this.color=e.color.clone(),this.color.multiplyScalar(i);var r=this.color.getHex(),n=new f.SphereGeometry(t,16,8),o=new f.AsteriskGeometry(1.25*t,2.25*t),a=new f.IcosahedronGeometry(1,2),s=new f.MeshBasicMaterial({color:r,fog:!1}),l=new f.LineBasicMaterial({color:r,fog:!1}),c=new f.MeshBasicMaterial({color:r,fog:!1,wireframe:!0,opacity:.1,transparent:!0});this.lightSphere=new f.Mesh(n,s),this.lightRays=new f.Line(o,l,f.LinePieces),this.lightDistance=new f.Mesh(a,c);var h=e.distance;0===h?this.lightDistance.visible=!1:this.lightDistance.scale.set(h,h,h),this.add(this.lightSphere),this.add(this.lightRays),this.add(this.lightDistance),this.lightSphere.properties.isGizmo=!0,this.lightSphere.properties.gizmoSubject=e,this.lightSphere.properties.gizmoRoot=this,this.properties.isGizmo=!0},f.PointLightHelper.prototype=Object.create(f.Object3D.prototype),f.PointLightHelper.prototype.update=function(){var e=f.Math.clamp(this.light.intensity,0,1);this.color.copy(this.light.color),this.color.multiplyScalar(e),this.lightSphere.material.color.copy(this.color),this.lightRays.material.color.copy(this.color),this.lightDistance.material.color.copy(this.color);var t=this.light.distance;0===t?this.lightDistance.visible=!1:(this.lightDistance.visible=!0,this.lightDistance.scale.set(t,t,t))},f.SpotLightHelper=function(e,t){f.Object3D.call(this),this.light=e,this.position=e.position,this.direction=new f.Vector3,this.direction.subVectors(e.target.position,e.position);var i=f.Math.clamp(e.intensity,0,1);this.color=e.color.clone(),this.color.multiplyScalar(i);var r=this.color.getHex(),n=new f.SphereGeometry(t,16,8),o=new f.AsteriskGeometry(1.25*t,2.25*t),a=new f.CylinderGeometry(1e-4,1,1,8,1,!0),s=new f.Matrix4;s.rotateX(-Math.PI/2),s.translate(new f.Vector3(0,-.5,0)),a.applyMatrix(s);var l=new f.MeshBasicMaterial({color:r,fog:!1}),c=new f.LineBasicMaterial({color:r,fog:!1}),h=new f.MeshBasicMaterial({color:r,fog:!1,wireframe:!0,opacity:.3,transparent:!0});this.lightSphere=new f.Mesh(n,l),this.lightCone=new f.Mesh(a,h);var u=e.distance?e.distance:1e4,d=u*Math.tan(.5*e.angle)*2;if(this.lightCone.scale.set(d,d,u),this.lightRays=new f.Line(o,c,f.LinePieces),this.gyroscope=new f.Gyroscope,this.gyroscope.add(this.lightSphere),this.gyroscope.add(this.lightRays),this.add(this.gyroscope),this.add(this.lightCone),this.lookAt(e.target.position),this.lightSphere.properties.isGizmo=!0,this.lightSphere.properties.gizmoSubject=e,this.lightSphere.properties.gizmoRoot=this,this.targetSphere=null,void 0!==e.target.properties.targetInverse){var p=new f.SphereGeometry(t,8,4),m=new f.MeshBasicMaterial({color:r,wireframe:!0,fog:!1});this.targetSphere=new f.Mesh(p,m),this.targetSphere.position=e.target.position,this.targetSphere.properties.isGizmo=!0,this.targetSphere.properties.gizmoSubject=e.target,this.targetSphere.properties.gizmoRoot=this.targetSphere;var g=new f.LineDashedMaterial({color:r,dashSize:4,gapSize:4,opacity:.75,transparent:!0,fog:!1}),v=new f.Geometry;v.vertices.push(this.position.clone()),v.vertices.push(this.targetSphere.position.clone()),v.computeLineDistances(),this.targetLine=new f.Line(v,g),this.targetLine.properties.isGizmo=!0}this.properties.isGizmo=!0},f.SpotLightHelper.prototype=Object.create(f.Object3D.prototype),f.SpotLightHelper.prototype.update=function(){this.direction.subVectors(this.light.target.position,this.light.position),this.lookAt(this.light.target.position);var e=this.light.distance?this.light.distance:1e4,t=e*Math.tan(.5*this.light.angle)*2;this.lightCone.scale.set(t,t,e);var i=f.Math.clamp(this.light.intensity,0,1);this.color.copy(this.light.color),this.color.multiplyScalar(i),this.lightSphere.material.color.copy(this.color),this.lightRays.material.color.copy(this.color),this.lightCone.material.color.copy(this.color),null!==this.targetSphere&&(this.targetSphere.material.color.copy(this.color),this.targetLine.material.color.copy(this.color),this.targetLine.geometry.vertices[0].copy(this.light.position),this.targetLine.geometry.vertices[1].copy(this.light.target.position),this.targetLine.geometry.computeLineDistances(),this.targetLine.geometry.verticesNeedUpdate=!0)},f.ImmediateRenderObject=function(){f.Object3D.call(this),this.render=function(e){}},f.ImmediateRenderObject.prototype=Object.create(f.Object3D.prototype),f.LensFlare=function(e,t,i,r,n){f.Object3D.call(this),this.lensFlares=[],this.positionScreen=new f.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,i,r,n)},f.LensFlare.prototype=Object.create(f.Object3D.prototype),f.LensFlare.prototype.add=function(e,t,i,r,n,o){void 0===t&&(t=-1),void 0===i&&(i=0),void 0===o&&(o=1),void 0===n&&(n=new f.Color(16777215)),void 0===r&&(r=f.NormalBlending),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:e,size:t,distance:i,x:0,y:0,z:0,scale:1,rotation:1,opacity:o,color:n,blending:r})},f.LensFlare.prototype.updateLensFlares=function(){var e,t,i=this.lensFlares.length,r=2*-this.positionScreen.x,n=2*-this.positionScreen.y;for(e=0;e<i;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+n*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},f.MorphBlendMesh=function(e,t){f.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,r=i-1,n=i/1;this.createAnimation("__default",0,r,n),this.setAnimationWeight("__default",1)},f.MorphBlendMesh.prototype=Object.create(f.Mesh.prototype),f.MorphBlendMesh.prototype.createAnimation=function(e,t,i,r){var n={startFrame:t,endFrame:i,length:i-t+1,fps:r,duration:(i-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=n,this.animationsList.push(n)},f.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,i=/([a-z]+)(\d+)/,r={},n=this.geometry,o=0,a=n.morphTargets.length;o<a;o++){var s=n.morphTargets[o].name.match(i);if(s&&s.length>1){var l=s[1];s[2];r[l]||(r[l]={start:1/0,end:-1/0}),o<(c=r[l]).start&&(c.start=o),o>c.end&&(c.end=o),t||(t=l)}}for(var l in r){var c=r[l];this.createAnimation(l,c.start,c.end,e)}this.firstAnimation=t},f.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},f.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},f.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var i=this.animationsMap[e];i&&(i.fps=t,i.duration=(i.end-i.start)/i.fps)},f.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var i=this.animationsMap[e];i&&(i.duration=t,i.fps=(i.end-i.start)/i.duration)},f.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var i=this.animationsMap[e];i&&(i.weight=t)},f.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var i=this.animationsMap[e];i&&(i.time=t)},f.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,i=this.animationsMap[e];return i&&(t=i.time),t},f.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,i=this.animationsMap[e];return i&&(t=i.duration),t},f.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("animation["+e+"] undefined")},f.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},f.MorphBlendMesh.prototype.update=function(e){for(var t=0,i=this.animationsList.length;t<i;t++){var r=this.animationsList[t];if(r.active){var n=r.duration/r.length;r.time+=r.direction*e,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.startFrame+f.Math.clamp(Math.floor(r.time/n),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%n/n;r.directionBackwards&&(s=1-s),this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a}}},f.LensFlarePlugin=function(){var e,t,i,r={};function n(t,i){var r=e.createProgram(),n=e.createShader(e.FRAGMENT_SHADER),o=e.createShader(e.VERTEX_SHADER),a="precision "+i+" float;\n";return e.shaderSource(n,a+t.fragmentShader),e.shaderSource(o,a+t.vertexShader),e.compileShader(n),e.compileShader(o),e.attachShader(r,n),e.attachShader(r,o),e.linkProgram(r),r}this.init=function(o){e=o.context,t=o,i=o.getPrecision(),r.vertices=new Float32Array(16),r.faces=new Uint16Array(6);var a=0;r.vertices[a++]=-1,r.vertices[a++]=-1,r.vertices[a++]=0,r.vertices[a++]=0,r.vertices[a++]=1,r.vertices[a++]=-1,r.vertices[a++]=1,r.vertices[a++]=0,r.vertices[a++]=1,r.vertices[a++]=1,r.vertices[a++]=1,r.vertices[a++]=1,r.vertices[a++]=-1,r.vertices[a++]=1,r.vertices[a++]=0,r.vertices[a++]=1,a=0,r.faces[a++]=0,r.faces[a++]=1,r.faces[a++]=2,r.faces[a++]=0,r.faces[a++]=2,r.faces[a++]=3,r.vertexBuffer=e.createBuffer(),r.elementBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,r.vertices,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.elementBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,r.faces,e.STATIC_DRAW),r.tempTexture=e.createTexture(),r.occlusionTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,r.tempTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGB,16,16,0,e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.bindTexture(e.TEXTURE_2D,r.occlusionTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,16,16,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)<=0?(r.hasVertexTexture=!1,r.program=n(f.ShaderFlares.lensFlare,i)):(r.hasVertexTexture=!0,r.program=n(f.ShaderFlares.lensFlareVertexTexture,i)),r.attributes={},r.uniforms={},r.attributes.vertex=e.getAttribLocation(r.program,"position"),r.attributes.uv=e.getAttribLocation(r.program,"uv"),r.uniforms.renderType=e.getUniformLocation(r.program,"renderType"),r.uniforms.map=e.getUniformLocation(r.program,"map"),r.uniforms.occlusionMap=e.getUniformLocation(r.program,"occlusionMap"),r.uniforms.opacity=e.getUniformLocation(r.program,"opacity"),r.uniforms.color=e.getUniformLocation(r.program,"color"),r.uniforms.scale=e.getUniformLocation(r.program,"scale"),r.uniforms.rotation=e.getUniformLocation(r.program,"rotation"),r.uniforms.screenPosition=e.getUniformLocation(r.program,"screenPosition")},this.render=function(i,n,o,a){var s=i.__webglFlares,l=s.length;if(l){var c,h,u,d,p,m=new f.Vector3,g=a/o,v=.5*o,y=.5*a,b=16/a,_=new f.Vector2(b*g,b),x=new f.Vector3(1,1,0),w=new f.Vector2(1,1),S=r.uniforms,C=r.attributes;for(e.useProgram(r.program),e.enableVertexAttribArray(r.attributes.vertex),e.enableVertexAttribArray(r.attributes.uv),e.uniform1i(S.occlusionMap,0),e.uniform1i(S.map,1),e.bindBuffer(e.ARRAY_BUFFER,r.vertexBuffer),e.vertexAttribPointer(C.vertex,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(C.uv,2,e.FLOAT,!1,16,8),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.elementBuffer),e.disable(e.CULL_FACE),e.depthMask(!1),c=0;c<l;c++)if(b=16/a,_.set(b*g,b),d=s[c],m.set(d.matrixWorld.elements[12],d.matrixWorld.elements[13],d.matrixWorld.elements[14]),m.applyMatrix4(n.matrixWorldInverse),m.applyProjection(n.projectionMatrix),x.copy(m),w.x=x.x*v+v,w.y=x.y*y+y,r.hasVertexTexture||w.x>0&&w.x<o&&w.y>0&&w.y<a)for(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,r.tempTexture),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGB,w.x-8,w.y-8,16,16,0),e.uniform1i(S.renderType,0),e.uniform2f(S.scale,_.x,_.y),e.uniform3f(S.screenPosition,x.x,x.y,x.z),e.disable(e.BLEND),e.enable(e.DEPTH_TEST),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,r.occlusionTexture),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,w.x-8,w.y-8,16,16,0),e.uniform1i(S.renderType,1),e.disable(e.DEPTH_TEST),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,r.tempTexture),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),d.positionScreen.copy(x),d.customUpdateCallback?d.customUpdateCallback(d):d.updateLensFlares(),e.uniform1i(S.renderType,2),e.enable(e.BLEND),h=0,u=d.lensFlares.length;h<u;h++)(p=d.lensFlares[h]).opacity>.001&&p.scale>.001&&(x.x=p.x,x.y=p.y,x.z=p.z,b=p.size*p.scale/a,_.x=b*g,_.y=b,e.uniform3f(S.screenPosition,x.x,x.y,x.z),e.uniform2f(S.scale,_.x,_.y),e.uniform1f(S.rotation,p.rotation),e.uniform1f(S.opacity,p.opacity),e.uniform3f(S.color,p.color.r,p.color.g,p.color.b),t.setBlending(p.blending,p.blendEquation,p.blendSrc,p.blendDst),t.setTexture(p.texture,1),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0));e.enable(e.CULL_FACE),e.enable(e.DEPTH_TEST),e.depthMask(!0)}}},f.ShadowMapPlugin=function(){var e,t,i,r,n,o,a=new f.Frustum,s=new f.Matrix4,l=new f.Vector3,c=new f.Vector3;function h(e,t){var i=new f.DirectionalLight;i.isVirtual=!0,i.onlyShadow=!0,i.castShadow=!0,i.shadowCameraNear=e.shadowCameraNear,i.shadowCameraFar=e.shadowCameraFar,i.shadowCameraLeft=e.shadowCameraLeft,i.shadowCameraRight=e.shadowCameraRight,i.shadowCameraBottom=e.shadowCameraBottom,i.shadowCameraTop=e.shadowCameraTop,i.shadowCameraVisible=e.shadowCameraVisible,i.shadowDarkness=e.shadowDarkness,i.shadowBias=e.shadowCascadeBias[t],i.shadowMapWidth=e.shadowCascadeWidth[t],i.shadowMapHeight=e.shadowCascadeHeight[t],i.pointsWorld=[],i.pointsFrustum=[];for(var r=i.pointsWorld,n=i.pointsFrustum,o=0;o<8;o++)r[o]=new f.Vector3,n[o]=new f.Vector3;var a=e.shadowCascadeNearZ[t],s=e.shadowCascadeFarZ[t];return n[0].set(-1,-1,a),n[1].set(1,-1,a),n[2].set(-1,1,a),n[3].set(1,1,a),n[4].set(-1,-1,s),n[5].set(1,-1,s),n[6].set(-1,1,s),n[7].set(1,1,s),i}function u(e,t){var i=e.shadowCascadeArray[t];i.position.copy(e.position),i.target.position.copy(e.target.position),i.lookAt(i.target),i.shadowCameraVisible=e.shadowCameraVisible,i.shadowDarkness=e.shadowDarkness,i.shadowBias=e.shadowCascadeBias[t];var r=e.shadowCascadeNearZ[t],n=e.shadowCascadeFarZ[t],o=i.pointsFrustum;o[0].z=r,o[1].z=r,o[2].z=r,o[3].z=r,o[4].z=n,o[5].z=n,o[6].z=n,o[7].z=n}function d(e,t){var i=t.shadowCamera,r=t.pointsFrustum,n=t.pointsWorld;l.set(1/0,1/0,1/0),c.set(-1/0,-1/0,-1/0);for(var o=0;o<8;o++){var a=n[o];a.copy(r[o]),f.ShadowMapPlugin.__projector.unprojectVector(a,e),a.applyMatrix4(i.matrixWorldInverse),a.x<l.x&&(l.x=a.x),a.x>c.x&&(c.x=a.x),a.y<l.y&&(l.y=a.y),a.y>c.y&&(c.y=a.y),a.z<l.z&&(l.z=a.z),a.z>c.z&&(c.z=a.z)}i.left=l.x,i.right=c.x,i.top=c.y,i.bottom=l.y,i.updateProjectionMatrix()}function p(e){return e.material instanceof f.MeshFaceMaterial?e.material.materials[0]:e.material}this.init=function(a){e=a.context,t=a;var s=f.ShaderLib.depthRGBA,l=f.UniformsUtils.clone(s.uniforms);i=new f.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l}),r=new f.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,morphTargets:!0}),n=new f.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,skinning:!0}),o=new f.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,morphTargets:!0,skinning:!0}),i._shadowPass=!0,r._shadowPass=!0,n._shadowPass=!0,o._shadowPass=!0},this.render=function(e,i){t.shadowMapEnabled&&t.shadowMapAutoUpdate&&this.update(e,i)},this.update=function(l,c){var m,g,v,y,b,_,x,w,S,C,T,A,M,E,D=[],F=0;for(e.clearColor(1,1,1,1),e.disable(e.BLEND),e.enable(e.CULL_FACE),e.frontFace(e.CCW),t.shadowMapCullFace===f.CullFaceFront?e.cullFace(e.FRONT):e.cullFace(e.BACK),t.setDepthTest(!0),m=0,g=l.__lights.length;m<g;m++)if((M=l.__lights[m]).castShadow)if(M instanceof f.DirectionalLight&&M.shadowCascade)for(b=0;b<M.shadowCascadeCount;b++){var I;if(M.shadowCascadeArray[b])I=M.shadowCascadeArray[b];else{(I=h(M,b)).originalCamera=c;var k=new f.Gyroscope;k.position=M.shadowCascadeOffset,k.add(I),k.add(I.target),c.add(k),M.shadowCascadeArray[b]=I,console.log("Created virtualLight",I)}u(M,b),D[F]=I,F++}else D[F]=M,F++;for(m=0,g=D.length;m<g;m++){if(!(M=D[m]).shadowMap){var R=f.LinearFilter;t.shadowMapType===f.PCFSoftShadowMap&&(R=f.NearestFilter);var L={minFilter:R,magFilter:R,format:f.RGBAFormat};M.shadowMap=new f.WebGLRenderTarget(M.shadowMapWidth,M.shadowMapHeight,L),M.shadowMapSize=new f.Vector2(M.shadowMapWidth,M.shadowMapHeight),M.shadowMatrix=new f.Matrix4}if(!M.shadowCamera){if(M instanceof f.SpotLight)M.shadowCamera=new f.PerspectiveCamera(M.shadowCameraFov,M.shadowMapWidth/M.shadowMapHeight,M.shadowCameraNear,M.shadowCameraFar);else{if(!(M instanceof f.DirectionalLight)){console.error("Unsupported light type for shadow");continue}M.shadowCamera=new f.OrthographicCamera(M.shadowCameraLeft,M.shadowCameraRight,M.shadowCameraTop,M.shadowCameraBottom,M.shadowCameraNear,M.shadowCameraFar)}l.add(M.shadowCamera),t.autoUpdateScene&&l.updateMatrixWorld()}for(M.shadowCameraVisible&&!M.cameraHelper&&(M.cameraHelper=new f.CameraHelper(M.shadowCamera),M.shadowCamera.add(M.cameraHelper)),M.isVirtual&&I.originalCamera==c&&d(c,M),_=M.shadowMap,x=M.shadowMatrix,(w=M.shadowCamera).position.copy(M.matrixWorld.getPosition()),w.lookAt(M.target.matrixWorld.getPosition()),w.updateMatrixWorld(),w.matrixWorldInverse.getInverse(w.matrixWorld),M.cameraHelper&&(M.cameraHelper.visible=M.shadowCameraVisible),M.shadowCameraVisible&&M.cameraHelper.update(),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(w.projectionMatrix),x.multiply(w.matrixWorldInverse),s.multiplyMatrices(w.projectionMatrix,w.matrixWorldInverse),a.setFromMatrix(s),t.setRenderTarget(_),t.clear(),v=0,y=(E=l.__webglObjects).length;v<y;v++)A=(T=E[v]).object,T.render=!1,A.visible&&A.castShadow&&((A instanceof f.Mesh||A instanceof f.ParticleSystem)&&A.frustumCulled&&!a.intersectsObject(A)||(A._modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,A.matrixWorld),T.render=!0));var P,N,B;for(v=0,y=E.length;v<y;v++)(T=E[v]).render&&(A=T.object,S=T.buffer,P=p(A),N=A.geometry.morphTargets.length>0&&P.morphTargets,B=A instanceof f.SkinnedMesh&&P.skinning,C=A.customDepthMaterial?A.customDepthMaterial:B?N?o:n:N?r:i,S instanceof f.BufferGeometry?t.renderBufferDirect(w,l.__lights,null,C,S,A):t.renderBuffer(w,l.__lights,null,C,S,A));for(v=0,y=(E=l.__webglObjectsImmediate).length;v<y;v++)(A=(T=E[v]).object).visible&&A.castShadow&&(A._modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,A.matrixWorld),t.renderImmediateObject(w,l.__lights,null,i,A))}var O=t.getClearColor(),z=t.getClearAlpha();e.clearColor(O.r,O.g,O.b,z),e.enable(e.BLEND),t.shadowMapCullFace===f.CullFaceFront&&e.cullFace(e.BACK)}},f.ShadowMapPlugin.__projector=new f.Projector,f.SpritePlugin=function(){var e,t,i,r={};function n(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}this.init=function(n){e=n.context,t=n,i=n.getPrecision(),r.vertices=new Float32Array(16),r.faces=new Uint16Array(6);var o,a,s,l,c,h,u=0;r.vertices[u++]=-1,r.vertices[u++]=-1,r.vertices[u++]=0,r.vertices[u++]=0,r.vertices[u++]=1,r.vertices[u++]=-1,r.vertices[u++]=1,r.vertices[u++]=0,r.vertices[u++]=1,r.vertices[u++]=1,r.vertices[u++]=1,r.vertices[u++]=1,r.vertices[u++]=-1,r.vertices[u++]=1,r.vertices[u++]=0,r.vertices[u++]=1,u=0,r.faces[u++]=0,r.faces[u++]=1,r.faces[u++]=2,r.faces[u++]=0,r.faces[u++]=2,r.faces[u++]=3,r.vertexBuffer=e.createBuffer(),r.elementBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,r.vertices,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.elementBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,r.faces,e.STATIC_DRAW),r.program=(o=f.ShaderSprite.sprite,a=i,s=e.createProgram(),l=e.createShader(e.FRAGMENT_SHADER),c=e.createShader(e.VERTEX_SHADER),h="precision "+a+" float;\n",e.shaderSource(l,h+o.fragmentShader),e.shaderSource(c,h+o.vertexShader),e.compileShader(l),e.compileShader(c),e.attachShader(s,l),e.attachShader(s,c),e.linkProgram(s),s),r.attributes={},r.uniforms={},r.attributes.position=e.getAttribLocation(r.program,"position"),r.attributes.uv=e.getAttribLocation(r.program,"uv"),r.uniforms.uvOffset=e.getUniformLocation(r.program,"uvOffset"),r.uniforms.uvScale=e.getUniformLocation(r.program,"uvScale"),r.uniforms.rotation=e.getUniformLocation(r.program,"rotation"),r.uniforms.scale=e.getUniformLocation(r.program,"scale"),r.uniforms.alignment=e.getUniformLocation(r.program,"alignment"),r.uniforms.color=e.getUniformLocation(r.program,"color"),r.uniforms.map=e.getUniformLocation(r.program,"map"),r.uniforms.opacity=e.getUniformLocation(r.program,"opacity"),r.uniforms.useScreenCoordinates=e.getUniformLocation(r.program,"useScreenCoordinates"),r.uniforms.sizeAttenuation=e.getUniformLocation(r.program,"sizeAttenuation"),r.uniforms.screenPosition=e.getUniformLocation(r.program,"screenPosition"),r.uniforms.modelViewMatrix=e.getUniformLocation(r.program,"modelViewMatrix"),r.uniforms.projectionMatrix=e.getUniformLocation(r.program,"projectionMatrix"),r.uniforms.fogType=e.getUniformLocation(r.program,"fogType"),r.uniforms.fogDensity=e.getUniformLocation(r.program,"fogDensity"),r.uniforms.fogNear=e.getUniformLocation(r.program,"fogNear"),r.uniforms.fogFar=e.getUniformLocation(r.program,"fogFar"),r.uniforms.fogColor=e.getUniformLocation(r.program,"fogColor"),r.uniforms.alphaTest=e.getUniformLocation(r.program,"alphaTest")},this.render=function(i,o,a,s){var l=i.__webglSprites,c=l.length;if(c){var h=r.attributes,u=r.uniforms,d=s/a,p=.5*a,m=.5*s;e.useProgram(r.program),e.enableVertexAttribArray(h.position),e.enableVertexAttribArray(h.uv),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.bindBuffer(e.ARRAY_BUFFER,r.vertexBuffer),e.vertexAttribPointer(h.position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(h.uv,2,e.FLOAT,!1,16,8),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.elementBuffer),e.uniformMatrix4fv(u.projectionMatrix,!1,o.projectionMatrix.elements),e.activeTexture(e.TEXTURE0),e.uniform1i(u.map,0);var g=0,v=0,y=i.fog;y?(e.uniform3f(u.fogColor,y.color.r,y.color.g,y.color.b),y instanceof f.Fog?(e.uniform1f(u.fogNear,y.near),e.uniform1f(u.fogFar,y.far),e.uniform1i(u.fogType,1),g=1,v=1):y instanceof f.FogExp2&&(e.uniform1f(u.fogDensity,y.density),e.uniform1i(u.fogType,2),g=2,v=2)):(e.uniform1i(u.fogType,0),g=0,v=0);var b,_,x,w,S,C=[];for(b=0;b<c;b++)x=(_=l[b]).material,_.visible&&0!==x.opacity&&(x.useScreenCoordinates?_.z=-_.position.z:(_._modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,_.matrixWorld),_.z=-_._modelViewMatrix.elements[14]));for(l.sort(n),b=0;b<c;b++)x=(_=l[b]).material,_.visible&&0!==x.opacity&&x.map&&x.map.image&&x.map.image.width&&(e.uniform1f(u.alphaTest,x.alphaTest),!0===x.useScreenCoordinates?(e.uniform1i(u.useScreenCoordinates,1),e.uniform3f(u.screenPosition,(_.position.x*t.devicePixelRatio-p)/p,(m-_.position.y*t.devicePixelRatio)/m,Math.max(0,Math.min(1,_.position.z))),C[0]=t.devicePixelRatio,C[1]=t.devicePixelRatio):(e.uniform1i(u.useScreenCoordinates,0),e.uniform1i(u.sizeAttenuation,x.sizeAttenuation?1:0),e.uniformMatrix4fv(u.modelViewMatrix,!1,_._modelViewMatrix.elements),C[0]=1,C[1]=1),g!==(S=i.fog&&x.fog?v:0)&&(e.uniform1i(u.fogType,S),g=S),w=1/(x.scaleByViewport?s:1),C[0]*=w*d*_.scale.x,C[1]*=w*_.scale.y,e.uniform2f(u.uvScale,x.uvScale.x,x.uvScale.y),e.uniform2f(u.uvOffset,x.uvOffset.x,x.uvOffset.y),e.uniform2f(u.alignment,x.alignment.x,x.alignment.y),e.uniform1f(u.opacity,x.opacity),e.uniform3f(u.color,x.color.r,x.color.g,x.color.b),e.uniform1f(u.rotation,_.rotation),e.uniform2fv(u.scale,C),t.setBlending(x.blending,x.blendEquation,x.blendSrc,x.blendDst),t.setDepthTest(x.depthTest),t.setDepthWrite(x.depthWrite),t.setTexture(x.map,0),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0));e.enable(e.CULL_FACE)}}},f.DepthPassPlugin=function(){this.enabled=!1,this.renderTarget=null;var e,t,i,r,n,o,a=new f.Frustum,s=new f.Matrix4;function l(e){return e.material instanceof f.MeshFaceMaterial?e.material.materials[0]:e.material}this.init=function(a){e=a.context,t=a;var s=f.ShaderLib.depthRGBA,l=f.UniformsUtils.clone(s.uniforms);i=new f.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l}),r=new f.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,morphTargets:!0}),n=new f.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,skinning:!0}),o=new f.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,morphTargets:!0,skinning:!0}),i._shadowPass=!0,r._shadowPass=!0,n._shadowPass=!0,o._shadowPass=!0},this.render=function(e,t){this.enabled&&this.update(e,t)},this.update=function(c,h){var u,d,p,m,g,v,y,b,_,x;for(e.clearColor(1,1,1,1),e.disable(e.BLEND),t.setDepthTest(!0),t.autoUpdateScene&&c.updateMatrixWorld(),h.matrixWorldInverse.getInverse(h.matrixWorld),s.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse),a.setFromMatrix(s),t.setRenderTarget(this.renderTarget),t.clear(),u=0,d=(y=c.__webglObjects).length;u<d;u++)v=(g=y[u]).object,g.render=!1,v.visible&&((v instanceof f.Mesh||v instanceof f.ParticleSystem)&&v.frustumCulled&&!a.intersectsObject(v)||(v._modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,v.matrixWorld),g.render=!0));for(u=0,d=y.length;u<d;u++)if((g=y[u]).render){if(v=g.object,p=g.buffer,v instanceof f.ParticleSystem&&!v.customDepthMaterial)continue;(b=l(v))&&t.setMaterialFaces(v.material),_=v.geometry.morphTargets.length>0&&b.morphTargets,x=v instanceof f.SkinnedMesh&&b.skinning,m=v.customDepthMaterial?v.customDepthMaterial:x?_?o:n:_?r:i,p instanceof f.BufferGeometry?t.renderBufferDirect(h,c.__lights,null,m,p,v):t.renderBuffer(h,c.__lights,null,m,p,v)}for(u=0,d=(y=c.__webglObjectsImmediate).length;u<d;u++)(v=(g=y[u]).object).visible&&(v._modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,v.matrixWorld),t.renderImmediateObject(h,c.__lights,null,i,v));var w=t.getClearColor(),S=t.getClearAlpha();e.clearColor(w.r,w.g,w.b,S),e.enable(e.BLEND)}},f.ShaderFlares={lensFlareVertexTexture:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) ) +","texture2D( occlusionMap, vec2( 0.5, 0.1 ) ) +","texture2D( occlusionMap, vec2( 0.9, 0.1 ) ) +","texture2D( occlusionMap, vec2( 0.9, 0.5 ) ) +","texture2D( occlusionMap, vec2( 0.9, 0.9 ) ) +","texture2D( occlusionMap, vec2( 0.5, 0.9 ) ) +","texture2D( occlusionMap, vec2( 0.1, 0.9 ) ) +","texture2D( occlusionMap, vec2( 0.1, 0.5 ) ) +","texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility = (       visibility.r / 9.0 ) *","( 1.0 - visibility.g / 9.0 ) *","(       visibility.b / 9.0 ) *","( 1.0 - visibility.a / 9.0 );","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},lensFlare:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a +","texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a +","texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a +","texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}},f.ShaderSprite={sprite:{vertexShader:["uniform int useScreenCoordinates;","uniform int sizeAttenuation;","uniform vec3 screenPosition;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 alignment;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position + alignment;","vec2 rotatedPosition;","rotatedPosition.x = ( cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y ) * scale.x;","rotatedPosition.y = ( sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y ) * scale.y;","vec4 finalPosition;","if( useScreenCoordinates != 0 ) {","finalPosition = vec4( screenPosition.xy + rotatedPosition, screenPosition.z, 1.0 );","} else {","finalPosition = projectionMatrix * modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition * ( sizeAttenuation == 1 ? 1.0 : finalPosition.z );","}","gl_Position = finalPosition;","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")}},void 0!==e&&e.exports&&(t=e.exports=f),t.THREE=f},function(e,t,i){(function(t){var i,r;r=function(){return function e(t,r,n){function o(s,l){if(!r[s]){if(!t[s]){if(!l&&("function"==typeof i&&i))return i(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};t[s][0].call(h.exports,function(e){var i=t[s][1][e];return o(i||e)},h,h.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof i&&i,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){"use strict";var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))n.call(i,c)&&(s[c]=i[c]);if(r){a=r(i);for(var h=0;h<a.length;h++)o.call(i,a[h])&&(s[a[h]]=i[a[h]])}}return s}},{}],2:[function(e,t,i){(function(e){(function(){var i,r,n,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(i()-a)/1e6},r=e.hrtime,o=(i=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-n},n=Date.now()):(t.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:3}],3:[function(e,t,i){var r,n,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,h=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?h=c.concat(h):d=-1,h.length&&p())}function p(){if(!u){var e=l(f);u=!0;for(var t=h.length;t;){for(c=h,h=[];++d<t;)c&&c[d].run();d=-1,t=h.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new m(e,t)),1!==h.length||u||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],4:[function(e,i,r){(function(t){for(var r=e("performance-now"),n="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=n["request"+a],l=n["cancel"+a]||n["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=n[o[c]+"Request"+a],l=n[o[c]+"Cancel"+a]||n[o[c]+"CancelRequest"+a];if(!s||!l){var h=0,u=0,d=[];s=function(e){if(0===d.length){var t=r(),i=Math.max(0,1e3/60-(t-h));h=i+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(h)}catch(e){setTimeout(function(){throw e},0)}},Math.round(i))}return d.push({handle:++u,callback:e,cancelled:!1}),u},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}i.exports=function(e){return s.call(n,e)},i.exports.cancel=function(){l.apply(n,arguments)},i.exports.polyfill=function(){n.requestAnimationFrame=s,n.cancelAnimationFrame=l}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":2}],5:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();var n=e("raf"),o=e("object-assign"),a={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function(e,t,i){return t<i?e<t?t:e>i?i:e:e<i?i:e>t?t:e},data:function(e,t){return a.deserialize(e.getAttribute("data-"+t))},deserialize:function(e){return"true"===e||"false"!==e&&("null"===e?null:!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):e)},camelCase:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},accelerate:function(e){a.css(e,"transform","translate3d(0,0,0) rotate(0.0001deg)"),a.css(e,"transform-style","preserve-3d"),a.css(e,"backface-visibility","hidden")},transformSupport:function(e){for(var t=document.createElement("div"),i=!1,r=null,n=!1,o=null,s=null,l=0,c=a.vendors.length;l<c;l++)if(null!==a.vendors[l]?(o=a.vendors[l][0]+"transform",s=a.vendors[l][1]+"Transform"):(o="transform",s="transform"),void 0!==t.style[s]){i=!0;break}switch(e){case"2D":n=i;break;case"3D":if(i){var h=document.body||document.createElement("body"),u=document.documentElement,d=u.style.overflow,f=!1;document.body||(f=!0,u.style.overflow="hidden",u.appendChild(h),h.style.overflow="hidden",h.style.background=""),h.appendChild(t),t.style[s]="translate3d(1px,1px,1px)",n=void 0!==(r=window.getComputedStyle(t).getPropertyValue(o))&&r.length>0&&"none"!==r,u.style.overflow=d,h.removeChild(t),f&&(h.removeAttribute("style"),h.parentNode.removeChild(h))}}return n},css:function(e,t,i){var r=a.propertyCache[t];if(!r)for(var n=0,o=a.vendors.length;n<o;n++)if(r=null!==a.vendors[n]?a.camelCase(a.vendors[n][1]+"-"+t):t,void 0!==e.style[r]){a.propertyCache[t]=r;break}e.style[r]=i}},s={relativeInput:!1,clipRelativeInput:!1,inputElement:null,hoverOnly:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5,pointerEvents:!1,precision:1,onReady:null,selector:null},l=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t;var r={calibrateX:a.data(this.element,"calibrate-x"),calibrateY:a.data(this.element,"calibrate-y"),invertX:a.data(this.element,"invert-x"),invertY:a.data(this.element,"invert-y"),limitX:a.data(this.element,"limit-x"),limitY:a.data(this.element,"limit-y"),scalarX:a.data(this.element,"scalar-x"),scalarY:a.data(this.element,"scalar-y"),frictionX:a.data(this.element,"friction-x"),frictionY:a.data(this.element,"friction-y"),originX:a.data(this.element,"origin-x"),originY:a.data(this.element,"origin-y"),pointerEvents:a.data(this.element,"pointer-events"),precision:a.data(this.element,"precision"),relativeInput:a.data(this.element,"relative-input"),clipRelativeInput:a.data(this.element,"clip-relative-input"),hoverOnly:a.data(this.element,"hover-only"),inputElement:document.querySelector(a.data(this.element,"input-element")),selector:a.data(this.element,"selector")};for(var n in r)null===r[n]&&delete r[n];o(this,s,r,i),this.inputElement||(this.inputElement=this.element),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depthsX=[],this.depthsY=[],this.raf=null,this.bounds=null,this.elementPositionX=0,this.elementPositionY=0,this.elementWidth=0,this.elementHeight=0,this.elementCenterX=0,this.elementCenterY=0,this.elementRangeX=0,this.elementRangeY=0,this.calibrationX=0,this.calibrationY=0,this.inputX=0,this.inputY=0,this.motionX=0,this.motionY=0,this.velocityX=0,this.velocityY=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onDeviceMotion=this.onDeviceMotion.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onMotionTimer=this.onMotionTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.windowWidth=null,this.windowHeight=null,this.windowCenterX=null,this.windowCenterY=null,this.windowRadiusX=null,this.windowRadiusY=null,this.portrait=!1,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop,this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop,this.orientationStatus=0,this.motionStatus=0,this.initialise()}return r(e,[{key:"initialise",value:function(){void 0===this.transform2DSupport&&(this.transform2DSupport=a.transformSupport("2D"),this.transform3DSupport=a.transformSupport("3D")),this.transform3DSupport&&a.accelerate(this.element),"static"===window.getComputedStyle(this.element).getPropertyValue("position")&&(this.element.style.position="relative"),this.pointerEvents||(this.element.style.pointerEvents="none"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function(){this.onReady&&this.onReady()}},{key:"updateLayers",value:function(){this.selector?this.layers=this.element.querySelectorAll(this.selector):this.layers=this.element.children,this.layers.length||console.warn("ParallaxJS: Your scene does not have any layers."),this.depthsX=[],this.depthsY=[];for(var e=0;e<this.layers.length;e++){var t=this.layers[e];this.transform3DSupport&&a.accelerate(t),t.style.position=e?"absolute":"relative",t.style.display="block",t.style.left=0,t.style.top=0;var i=a.data(t,"depth")||0;this.depthsX.push(a.data(t,"depth-x")||i),this.depthsY.push(a.data(t,"depth-y")||i)}}},{key:"updateDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowCenterX=this.windowWidth*this.originX,this.windowCenterY=this.windowHeight*this.originY,this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX),this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function(){this.bounds=this.inputElement.getBoundingClientRect(),this.elementPositionX=this.bounds.left,this.elementPositionY=this.bounds.top,this.elementWidth=this.bounds.width,this.elementHeight=this.bounds.height,this.elementCenterX=this.elementWidth*this.originX,this.elementCenterY=this.elementHeight*this.originY,this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX),this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function(e){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,e)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=!1,window.addEventListener("deviceorientation",this.onDeviceOrientation),this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)):this.motionSupport?(this.portrait=!1,window.addEventListener("devicemotion",this.onDeviceMotion),this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)):(this.calibrationX=0,this.calibrationY=0,this.portrait=!1,window.addEventListener("mousemove",this.onMouseMove),this.doReadyCallback()),window.addEventListener("resize",this.onWindowResize),this.raf=n(this.onAnimationFrame))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.orientationSupport?window.removeEventListener("deviceorientation",this.onDeviceOrientation):this.motionSupport?window.removeEventListener("devicemotion",this.onDeviceMotion):window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),n.cancel(this.raf))}},{key:"calibrate",value:function(e,t){this.calibrateX=void 0===e?this.calibrateX:e,this.calibrateY=void 0===t?this.calibrateY:t}},{key:"invert",value:function(e,t){this.invertX=void 0===e?this.invertX:e,this.invertY=void 0===t?this.invertY:t}},{key:"friction",value:function(e,t){this.frictionX=void 0===e?this.frictionX:e,this.frictionY=void 0===t?this.frictionY:t}},{key:"scalar",value:function(e,t){this.scalarX=void 0===e?this.scalarX:e,this.scalarY=void 0===t?this.scalarY:t}},{key:"limit",value:function(e,t){this.limitX=void 0===e?this.limitX:e,this.limitY=void 0===t?this.limitY:t}},{key:"origin",value:function(e,t){this.originX=void 0===e?this.originX:e,this.originY=void 0===t?this.originY:t}},{key:"setInputElement",value:function(e){this.inputElement=e,this.updateDimensions()}},{key:"setPosition",value:function(e,t,i){t=t.toFixed(this.precision)+"px",i=i.toFixed(this.precision)+"px",this.transform3DSupport?a.css(e,"transform","translate3d("+t+","+i+",0)"):this.transform2DSupport?a.css(e,"transform","translate("+t+","+i+")"):(e.style.left=t,e.style.top=i)}},{key:"onOrientationTimer",value:function(){this.orientationSupport&&0===this.orientationStatus?(this.disable(),this.orientationSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onMotionTimer",value:function(){this.motionSupport&&0===this.motionStatus?(this.disable(),this.motionSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onCalibrationTimer",value:function(){this.calibrationFlag=!0}},{key:"onWindowResize",value:function(){this.updateDimensions()}},{key:"onAnimationFrame",value:function(){this.updateBounds();var e=this.inputX-this.calibrationX,t=this.inputY-this.calibrationY;(Math.abs(e)>this.calibrationThreshold||Math.abs(t)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.motionX=this.calibrateX?t:this.inputY,this.motionY=this.calibrateY?e:this.inputX):(this.motionX=this.calibrateX?e:this.inputX,this.motionY=this.calibrateY?t:this.inputY),this.motionX*=this.elementWidth*(this.scalarX/100),this.motionY*=this.elementHeight*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.motionX=a.clamp(this.motionX,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.motionY=a.clamp(this.motionY,-this.limitY,this.limitY)),this.velocityX+=(this.motionX-this.velocityX)*this.frictionX,this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var i=0;i<this.layers.length;i++){var r=this.layers[i],o=this.depthsX[i],s=this.depthsY[i],l=this.velocityX*(o*(this.invertX?-1:1)),c=this.velocityY*(s*(this.invertY?-1:1));this.setPosition(r,l,c)}this.raf=n(this.onAnimationFrame)}},{key:"rotate",value:function(e,t){var i=(e||0)/30,r=(t||0)/30,n=this.windowHeight>this.windowWidth;this.portrait!==n&&(this.portrait=n,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.calibrationX=i,this.calibrationY=r),this.inputX=i,this.inputY=r}},{key:"onDeviceOrientation",value:function(e){var t=e.beta,i=e.gamma;null!==t&&null!==i&&(this.orientationStatus=1,this.rotate(t,i))}},{key:"onDeviceMotion",value:function(e){var t=e.rotationRate.beta,i=e.rotationRate.gamma;null!==t&&null!==i&&(this.motionStatus=1,this.rotate(t,i))}},{key:"onMouseMove",value:function(e){var t=e.clientX,i=e.clientY;if(this.hoverOnly&&(t<this.elementPositionX||t>this.elementPositionX+this.elementWidth||i<this.elementPositionY||i>this.elementPositionY+this.elementHeight))return this.inputX=0,void(this.inputY=0);this.relativeInput?(this.clipRelativeInput&&(t=Math.max(t,this.elementPositionX),t=Math.min(t,this.elementPositionX+this.elementWidth),i=Math.max(i,this.elementPositionY),i=Math.min(i,this.elementPositionY+this.elementHeight)),this.elementRangeX&&this.elementRangeY&&(this.inputX=(t-this.elementPositionX-this.elementCenterX)/this.elementRangeX,this.inputY=(i-this.elementPositionY-this.elementCenterY)/this.elementRangeY)):this.windowRadiusX&&this.windowRadiusY&&(this.inputX=(t-this.windowCenterX)/this.windowRadiusX,this.inputY=(i-this.windowCenterY)/this.windowRadiusY)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.calibrationTimer),clearTimeout(this.detectionTimer),this.element.removeAttribute("style");for(var e=0;e<this.layers.length;e++)this.layers[e].removeAttribute("style");delete this.element,delete this.layers}},{key:"version",value:function(){return"3.1.0"}}]),e}();t.exports=l},{"object-assign":1,raf:4}]},{},[5])(5)},e.exports=r()}).call(t,i(8))},,,,,function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return e.apply(t,i)}}},function(e,t,i){"use strict";var r=i(7),n=i(251),o=i(253),a=i(254),s=i(255),l=i(114),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||i(256);e.exports=function(e){return new Promise(function(t,h){var u=e.data,d=e.headers;r.isFormData(u)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(e.url)||(f=new window.XDomainRequest,p="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var g=e.auth.username||"",v=e.auth.password||"";d.Authorization="Basic "+c(g+":"+v)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[p]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:i,config:e,request:f};n(t,h,r),f=null}},f.onerror=function(){h(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){h(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var y=i(257),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in f&&r.forEach(d,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),h(e),f=null)}),void 0===u&&(u=null),f.send(u)})}},function(e,t,i){"use strict";var r=i(252);e.exports=function(e,t,i,n,o){var a=new Error(e);return r(a,t,i,n,o)}},function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,i){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},,,function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var r,n,o,a,s,l=1,c={},h=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,r=function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return c[l]=n,r(l),l++},d.clearImmediate=f}function f(e){delete c[e]}function p(e){if(h)setTimeout(p,0,e);else{var t=c[e];if(t){h=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(i,r)}}(t)}finally{f(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,i(8),i(20))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],n=0,o=0;o<r.length;o+=1)if(i&&navigator.userAgent.indexOf(r[o])>=0){n=1;break}var a=i&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},n))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var i=getComputedStyle(e,null);return t?i[t]:i}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function h(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),i=t.overflow,r=t.overflowX,n=t.overflowY;return/(auto|scroll|overlay)/.test(i+n+r)?e:h(c(e))}var u=i&&!(!window.MSInputMethodContext||!document.documentMode),d=i&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?u:10===e?d:u||d}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,i=e.offsetParent;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(i.nodeName)&&"static"===l(i,"position")?p(i):i:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=i?e:t,n=i?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(n,0);var a,s,l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(n))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&p(a.firstElementChild)!==a?p(l):l;var c=m(e);return c.host?g(c.host,t):g(e,m(t).host)}function v(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function y(e,t){var i="x"===t?"Left":"Top",r="Left"===i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function b(e,t,i,r){return Math.max(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],f(10)?i["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function _(){var e=document.body,t=document.documentElement,i=f(10)&&getComputedStyle(t);return{height:b("Height",e,t,i),width:b("Width",e,t,i)}}var x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),S=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};function T(e){return C({},e,{right:e.left+e.width,bottom:e.top+e.height})}function A(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var i=v(e,"top"),r=v(e,"left");t.top+=i,t.left+=r,t.bottom+=i,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?_():{},a=o.width||e.clientWidth||n.right-n.left,s=o.height||e.clientHeight||n.bottom-n.top,c=e.offsetWidth-a,h=e.offsetHeight-s;if(c||h){var u=l(e);c-=y(u,"x"),h-=y(u,"y"),n.width-=c,n.height-=h}return T(n)}function M(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),n="HTML"===t.nodeName,o=A(e),a=A(t),s=h(e),c=l(t),u=parseFloat(c.borderTopWidth,10),d=parseFloat(c.borderLeftWidth,10);i&&"HTML"===t.nodeName&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=T({top:o.top-a.top-u,left:o.left-a.left-d,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!r&&n){var m=parseFloat(c.marginTop,10),g=parseFloat(c.marginLeft,10);p.top-=u-m,p.bottom-=u-m,p.left-=d-g,p.right-=d-g,p.marginTop=m,p.marginLeft=g}return(r&&!i?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,"top"),n=v(t,"left"),o=i?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=n*o,e.right+=n*o,e}(p,t)),p}function E(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function D(e,t,i,r){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=n?E(e):g(e,t);if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.ownerDocument.documentElement,r=M(e,i),n=Math.max(i.clientWidth,window.innerWidth||0),o=Math.max(i.clientHeight,window.innerHeight||0),a=t?0:v(i),s=t?0:v(i,"left");return T({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:n,height:o})}(a,n);else{var s=void 0;"scrollParent"===r?"BODY"===(s=h(c(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var u=M(s,a,n);if("HTML"!==s.nodeName||function e(t){var i=t.nodeName;return"BODY"!==i&&"HTML"!==i&&("fixed"===l(t,"position")||e(c(t)))}(a))o=u;else{var d=_(),f=d.height,p=d.width;o.top+=u.top-u.marginTop,o.bottom=f+u.top,o.left+=u.left-u.marginLeft,o.right=p+u.left}}return o.left+=i,o.top+=i,o.right-=i,o.bottom-=i,o}function F(e,t,i,r,n){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=D(i,r,o,n),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(function(e){return C({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,r=e.height;return t>=i.clientWidth&&r>=i.clientHeight}),h=c.length>0?c[0].key:l[0].key,u=e.split("-")[1];return h+(u?"-"+u:"")}function I(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return M(i,r?E(t):g(t,i),r)}function k(e){var t=getComputedStyle(e),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+i}}function R(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function L(e,t,i){i=i.split("-")[0];var r=k(e),n={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return n[a]=t[a]+t[l]/2-r[l]/2,n[s]=i===s?t[s]-r[c]:t[R(s)],n}function P(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,i){return(void 0===i?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===i});var r=P(e,function(e){return e[t]===i});return e.indexOf(r)}(e,"name",i))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=e.function||e.fn;e.enabled&&s(i)&&(t.offsets.popper=T(t.offsets.popper),t.offsets.reference=T(t.offsets.reference),t=i(t,e))}),t}function B(e,t){return e.some(function(e){var i=e.name;return e.enabled&&i===t})}function O(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var n=t[r],o=n?""+n+i:e;if(void 0!==document.body.style[o])return o}return null}function z(e){var t=e.ownerDocument;return t?t.defaultView:window}function U(e,t,i,r){i.updateBound=r,z(e).addEventListener("resize",i.updateBound,{passive:!0});var n=h(e);return function e(t,i,r,n){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(i,r,{passive:!0}),o||e(h(a.parentNode),i,r,n),n.push(a)}(n,"scroll",i.updateBound,i.scrollParents),i.scrollElement=n,i.eventsEnabled=!0,i}function V(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function W(e,t){Object.keys(t).forEach(function(i){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&H(t[i])&&(r="px"),e.style[i]=t[i]+r})}function j(e,t,i){var r=P(e,function(e){return e.name===t}),n=!!r&&e.some(function(e){return e.name===i&&e.enabled&&e.order<r.order});if(!n){var o="`"+t+"`",a="`"+i+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return n}var G=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=G.slice(3);function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=X.indexOf(e),r=X.slice(i+1).concat(X.slice(0,i));return t?r.reverse():r}var q={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function K(e,t,i,r){var n=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(P(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(e,r){var n=(1===r?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,i,r){var n=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+n[1],a=n[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=i;break;case"%":case"%r":default:s=r}return T(s)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,n,t,i)})})).forEach(function(e,t){e.forEach(function(i,r){H(i)&&(n[t]+=i*("-"===e[r-1]?-1:1))})}),n}var $={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,i=t.split("-")[0],r=t.split("-")[1];if(r){var n=e.offsets,o=n.reference,a=n.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",c=s?"width":"height",h={start:S({},l,o[l]),end:S({},l,o[l]+o[c]-a[c])};e.offsets.popper=C({},a,h[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var i=t.offset,r=e.placement,n=e.offsets,o=n.popper,a=n.reference,s=r.split("-")[0],l=void 0;return l=H(+i)?[+i,0]:K(i,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var i=t.boundariesElement||p(e.instance.popper);e.instance.reference===i&&(i=p(i));var r=O("transform"),n=e.instance.popper.style,o=n.top,a=n.left,s=n[r];n.top="",n.left="",n[r]="";var l=D(e.instance.popper,e.instance.reference,t.padding,i,e.positionFixed);n.top=o,n.left=a,n[r]=s,t.boundaries=l;var c=t.priority,h=e.offsets.popper,u={primary:function(e){var i=h[e];return h[e]<l[e]&&!t.escapeWithReference&&(i=Math.max(h[e],l[e])),S({},e,i)},secondary:function(e){var i="right"===e?"left":"top",r=h[i];return h[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(h[i],l[e]-("right"===e?h.width:h.height))),S({},i,r)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";h=C({},h,u[t](e))}),e.offsets.popper=h,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,r=t.reference,n=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(n),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return i[s]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-i[c]),i[l]>o(r[s])&&(e.offsets.popper[l]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var i;if(!j(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,c=-1!==["left","right"].indexOf(n),h=c?"height":"width",u=c?"Top":"Left",d=u.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",m=k(r)[h];s[p]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(s[p]-m)),s[d]+m>a[p]&&(e.offsets.popper[d]+=s[d]+m-a[p]),e.offsets.popper=T(e.offsets.popper);var g=s[d]+s[h]/2-m/2,v=l(e.instance.popper),y=parseFloat(v["margin"+u],10),b=parseFloat(v["border"+u+"Width"],10),_=g-e.offsets.popper[d]-y-b;return _=Math.max(Math.min(a[h]-m,_),0),e.arrowElement=r,e.offsets.arrow=(S(i={},d,Math.round(_)),S(i,f,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(B(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var i=D(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],n=R(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case q.FLIP:a=[r,n];break;case q.CLOCKWISE:a=Y(r);break;case q.COUNTERCLOCKWISE:a=Y(r,!0);break;default:a=t.behavior}return a.forEach(function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],n=R(r);var c=e.offsets.popper,h=e.offsets.reference,u=Math.floor,d="left"===r&&u(c.right)>u(h.left)||"right"===r&&u(c.left)<u(h.right)||"top"===r&&u(c.bottom)>u(h.top)||"bottom"===r&&u(c.top)<u(h.bottom),f=u(c.left)<u(i.left),p=u(c.right)>u(i.right),m=u(c.top)<u(i.top),g=u(c.bottom)>u(i.bottom),v="left"===r&&f||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g);(d||v||b)&&(e.flipped=!0,(d||v)&&(r=a[l+1]),b&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=C({},e.offsets.popper,L(e.instance.popper,e.offsets.reference,e.placement)),e=N(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],r=e.offsets,n=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return n[a?"left":"top"]=o[i]-(s?n[a?"width":"height"]:0),e.placement=R(t),e.offsets.popper=T(n),e}},hide:{order:800,enabled:!0,fn:function(e){if(!j(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=P(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,r=t.y,n=e.offsets.popper,o=P(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=A(p(e.instance.popper)),l={position:n.position},c={left:Math.floor(n.left),top:Math.round(n.top),bottom:Math.round(n.bottom),right:Math.floor(n.right)},h="bottom"===i?"top":"bottom",u="right"===r?"left":"right",d=O("transform"),f=void 0,m=void 0;if(m="bottom"===h?-s.height+c.bottom:c.top,f="right"===u?-s.width+c.right:c.left,a&&d)l[d]="translate3d("+f+"px, "+m+"px, 0)",l[h]=0,l[u]=0,l.willChange="transform";else{var g="bottom"===h?-1:1,v="right"===u?-1:1;l[h]=m*g,l[u]=f*v,l.willChange=h+", "+u}var y={"x-placement":e.placement};return e.attributes=C({},y,e.attributes),e.styles=C({},l,e.styles),e.arrowStyles=C({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,i;return W(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach(function(e){!1!==i[e]?t.setAttribute(e,i[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&W(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,i,r,n){var o=I(n,t,e,i.positionFixed),a=F(i.placement,o,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",a),W(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},Q=function(){function e(t,i){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=C({},e.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(C({},e.Defaults.modifiers,n.modifiers)).forEach(function(t){r.options.modifiers[t]=C({},e.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return C({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&s(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return w(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=F(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=L(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,B(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[O("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=U(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return V.call(this)}}]),e}();Q.Utils=("undefined"!=typeof window?window:e).PopperUtils,Q.placements=G,Q.Defaults=$,t.default=Q}.call(t,i(8))},,,function(e,t,i){var r,n,o,a;a=function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())},n=[i(0),i(1)],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o)},,,,,,,,,function(e,t,i){"use strict";var r=i(17),n=i(2),o=i(6),a=i(77),s=i(78),l=i(52),c=i(163),h=i(164),u=i(35),d=i(175),f=function(e,t,i){var r,a=n.getTypeOf(t),h=n.extend(i||{},s);h.date=h.date||new Date,null!==h.compression&&(h.compression=h.compression.toUpperCase()),"string"==typeof h.unixPermissions&&(h.unixPermissions=parseInt(h.unixPermissions,8)),h.unixPermissions&&16384&h.unixPermissions&&(h.dir=!0),h.dosPermissions&&16&h.dosPermissions&&(h.dir=!0),h.dir&&(e=m(e)),h.createFolders&&(r=p(e))&&g.call(this,r,!0);var f="string"===a&&!1===h.binary&&!1===h.base64;i&&void 0!==i.binary||(h.binary=!f),(t instanceof l&&0===t.uncompressedSize||h.dir||!t||0===t.length)&&(h.base64=!1,h.binary=!0,t="",h.compression="STORE",a="string");var v=null;v=t instanceof l||t instanceof o?t:u.isNode&&u.isStream(t)?new d(e,t):n.prepareContent(e,t,h.binary,h.optimizedBinaryString,h.base64);var y=new c(e,v,h);this.files[e]=y},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:s.createFolders,e=m(e),this.files[e]||f.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,r))},filter:function(e){var t=[];return this.forEach(function(i,r){e(i,r)&&t.push(r)}),t},file:function(e,t,i){if(1===arguments.length){if(v(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var n=this.files[this.root+e];return n&&!n.dir?n:null}return e=this.root+e,f.call(this,e,t,i),this},folder:function(e){if(!e)return this;if(v(e))return this.filter(function(t,i){return i.dir&&e.test(t)});var t=this.root+e,i=g.call(this,t),r=this.clone();return r.root=i.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter(function(t,i){return i.name.slice(0,e.length)===e}),r=0;r<i.length;r++)delete this.files[i[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=n.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");n.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var s=i.comment||this.comment||"";t=h.generateWorker(this,i,s)}catch(e){(t=new o("error")).error(e)}return new a(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=y},function(e,t,i){"use strict";t.byteLength=function(e){var t=c(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=function(e){for(var t,i=c(e),r=i[0],a=i[1],s=new o(function(e,t,i){return 3*(t+i)/4-i}(0,r,a)),l=0,h=a>0?r-4:r,u=0;u<h;u+=4)t=n[e.charCodeAt(u)]<<18|n[e.charCodeAt(u+1)]<<12|n[e.charCodeAt(u+2)]<<6|n[e.charCodeAt(u+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===a&&(t=n[e.charCodeAt(u)]<<2|n[e.charCodeAt(u+1)]>>4,s[l++]=255&t);1===a&&(t=n[e.charCodeAt(u)]<<10|n[e.charCodeAt(u+1)]<<4|n[e.charCodeAt(u+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,o=[],a=0,s=i-n;a<s;a+=16383)o.push(h(e,a,a+16383>s?s:a+16383));1===n?(t=e[i-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function h(e,t,i){for(var n,o,a=[],s=t;s<i;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=n)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,r,n){var o,a,s=8*n-r-1,l=(1<<s)-1,c=l>>1,h=-7,u=i?n-1:0,d=i?-1:1,f=e[t+u];for(u+=d,o=f&(1<<-h)-1,f>>=-h,h+=s;h>0;o=256*o+e[t+u],u+=d,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=r;h>0;a=256*a+e[t+u],u+=d,h-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,i,r,n,o){var a,s,l,c=8*o-n-1,h=(1<<c)-1,u=h>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=h?(s=0,a=h):a+u>=1?(s=(t*l-1)*Math.pow(2,n),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,n),a=0));n>=8;e[i+f]=255&s,f+=p,s/=256,n-=8);for(a=a<<n|s,c+=n;c>0;e[i+f]=255&a,f+=p,a/=256,c-=8);e[i+f-p]|=128*m}},function(e,t,i){e.exports=n;var r=i(47).EventEmitter;function n(){r.call(this)}i(18)(n,r),n.Readable=i(48),n.Writable=i(141),n.Duplex=i(142),n.Transform=i(143),n.PassThrough=i(144),n.Stream=n,n.prototype.pipe=function(e,t){var i=this;function n(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",n),e.on("drain",o),e._isStdio||t&&!1===t.end||(i.on("end",s),i.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(h(),0===r.listenerCount(this,"error"))throw e}function h(){i.removeListener("data",n),e.removeListener("drain",o),i.removeListener("end",s),i.removeListener("close",l),i.removeListener("error",c),e.removeListener("error",c),i.removeListener("end",h),i.removeListener("close",h),e.removeListener("close",h)}return i.on("error",c),e.on("error",c),i.on("end",h),i.on("close",h),e.on("close",h),e.emit("pipe",i),e}},function(e,t){},function(e,t,i){"use strict";var r=i(34).Buffer,n=i(138);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,i,n,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,i=o,n=s,t.copy(i,n),s+=a.data.length,a=a.next;return o},e}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,i){(function(t){function i(e){try{if(!t.localStorage)return!1}catch(e){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(t,i(8))},function(e,t,i){"use strict";e.exports=o;var r=i(71),n=i(24);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}n.inherits=i(18),n.inherits(o,r),o.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){e.exports=i(49)},function(e,t,i){e.exports=i(14)},function(e,t,i){e.exports=i(48).Transform},function(e,t,i){e.exports=i(48).PassThrough},function(e,t,i){i(146),e.exports=i(73).setImmediate},function(e,t,i){var r=i(147),n=i(155);r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},function(e,t,i){var r=i(36),n=i(73),o=i(74),a=i(149),s=function(e,t,i){var l,c,h,u=e&s.F,d=e&s.G,f=e&s.S,p=e&s.P,m=e&s.B,g=e&s.W,v=d?n:n[t]||(n[t]={}),y=v.prototype,b=d?r:f?r[t]:(r[t]||{}).prototype;for(l in d&&(i=t),i)(c=!u&&b&&void 0!==b[l])&&l in v||(h=c?b[l]:i[l],v[l]=d&&"function"!=typeof b[l]?i[l]:m&&c?o(h,r):g&&b[l]==h?function(e){var t=function(t,i,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):p&&"function"==typeof h?o(Function.call,h):h,p&&((v.virtual||(v.virtual={}))[l]=h,e&s.R&&y&&!y[l]&&a(y,l,h)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var r=i(150),n=i(154);e.exports=i(51)?function(e,t,i){return r.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var r=i(151),n=i(152),o=i(153),a=Object.defineProperty;t.f=i(51)?Object.defineProperty:function(e,t,i){if(r(e),t=o(t,!0),r(i),n)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var r=i(50);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){e.exports=!i(51)&&!i(75)(function(){return 7!=Object.defineProperty(i(76)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var r=i(50);e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var r,n,o,a=i(74),s=i(156),l=i(157),c=i(76),h=i(36),u=h.process,d=h.setImmediate,f=h.clearImmediate,p=h.MessageChannel,m=0,g={},v=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){v.call(e.data)};d&&f||(d=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},f=function(e){delete g[e]},"process"==i(158)(u)?r=function(e){u.nextTick(a(v,e,1))}:p?(o=(n=new p).port2,n.port1.onmessage=y,r=a(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(r=function(e){h.postMessage(e+"","*")},h.addEventListener("message",y,!1)):r="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:d,clear:f}},function(e,t){e.exports=function(e,t,i){var r=void 0===i;switch(t.length){case 0:return r?e():e.call(i);case 1:return r?e(t[0]):e.call(i,t[0]);case 2:return r?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){e.exports=i(36).document&&document.documentElement},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){"use strict";var r=i(160);function n(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==n&&f(this,e)}function h(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function u(e,t,i){r(function(){var r;try{r=t(i)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var i=!1;function r(t){i||(i=!0,o.reject(e,t))}function n(t){i||(i=!0,o.resolve(e,t))}var a=p(function(){t(n,r)});"error"===a.status&&r(a.value)}function p(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var i=new this.constructor(n);this.state!==l?u(i,this.state===s?e:t,this.outcome):this.queue.push(new h(i,e,t));return i},h.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){o.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},o.resolve=function(e,t){var i=p(d,t);if("error"===i.status)return o.reject(e,i.value);var r=i.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var n=-1,a=e.queue.length;++n<a;)e.queue[n].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var i=-1,r=e.queue.length;++i<r;)e.queue[i].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return o.resolve(new this(n),e)},c.reject=function(e){var t=new this(n);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,r=!1;if(!i)return this.resolve([]);var a=new Array(i),s=0,l=-1,c=new this(n);for(;++l<i;)h(e[l],l);return c;function h(e,n){t.resolve(e).then(function(e){a[n]=e,++s!==i||r||(r=!0,o.resolve(c,a))},function(e){r||(r=!0,o.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,r=!1;if(!i)return this.resolve([]);var a=-1,s=new this(n);for(;++a<i;)l=e[a],t.resolve(l).then(function(e){r||(r=!0,o.resolve(s,e))},function(e){r||(r=!0,o.reject(s,e))});var l;return s}},function(e,t,i){"use strict";(function(t){var i,r,n=t.MutationObserver||t.WebKitMutationObserver;if(n){var o=0,a=new n(h),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),i=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){h(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(h,0)};else{var l=new t.MessageChannel;l.port1.onmessage=h,i=function(){l.port2.postMessage(0)}}var c=[];function h(){var e,t;r=!0;for(var i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}r=!1}e.exports=function(e){1!==c.push(e)||r||i()}}).call(t,i(8))},function(e,t,i){"use strict";var r=i(6),n=i(2);function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}n.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:n.transformTo(this.destType,e.data),meta:e.meta})},e.exports=o},function(e,t,i){"use strict";var r=i(66).Readable;function n(e,t,i){r.call(this,t),this._helper=e;var n=this;e.on("data",function(e,t){n.push(e)||n._helper.pause(),i&&i(t)}).on("error",function(e){n.emit("error",e)}).on("end",function(){n.push(null)})}i(2).inherits(n,r),n.prototype._read=function(){this._helper.resume()},e.exports=n},function(e,t,i){"use strict";var r=i(77),n=i(79),o=i(17),a=i(52),s=i(6),l=function(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};l.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!n&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&n&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new r(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new n(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)l.prototype[c[u]]=h;e.exports=l},function(e,t,i){"use strict";var r=i(82),n=i(174);t.generateWorker=function(e,t,i){var o=new n(t.streamFiles,i,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,i){a++;var n=function(e,t){var i=e||t,n=r[i];if(!n)throw new Error(i+" is not a valid compression method !");return n}(i.options.compression,t.compression),s=i.options.compressionOptions||t.compressionOptions||{},l=i.dir,c=i.date;i._compressWorker(n,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(o)}),o.entriesCount=a}catch(e){o.error(e)}return o}},function(e,t,i){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=i(83),o=i(2),a=i(6),s=r?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},function(e,t,i){"use strict";var r=i(167),n=i(13),o=i(86),a=i(54),s=i(87),l=Object.prototype.toString,c=0,h=-1,u=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=n.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==c)throw new Error(a[i]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[i]);this._dict_set=!0}}function p(e,t){var i=new f(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}f.prototype.push=function(e,t){var i,a,s=this.strm,h=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new n.Buf8(h),s.next_out=0,s.avail_out=h),1!==(i=r.deflate(s,a))&&i!==c)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(n.shrinkBuf(s.output,s.next_out))):this.onData(n.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==i);return 4===a?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=f,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},function(e,t,i){"use strict";var r,n=i(13),o=i(168),a=i(84),s=i(85),l=i(54),c=0,h=1,u=3,d=4,f=5,p=0,m=1,g=-2,v=-3,y=-5,b=-1,_=1,x=2,w=3,S=4,C=0,T=2,A=8,M=9,E=15,D=8,F=286,I=30,k=19,R=2*F+1,L=15,P=3,N=258,B=N+P+1,O=32,z=42,U=69,V=73,H=91,W=103,j=113,G=666,X=1,Y=2,q=3,K=4,$=3;function Q(e,t){return e.msg=l[t],t}function Z(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(n.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ne(e,t){var i,r,n=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-B?e.strstart-(e.w_size-B):0,c=e.window,h=e.w_mask,u=e.prev,d=e.strstart+N,f=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+a]===p&&c[i+a-1]===f&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<d);if(r=N-(d-o),o=d-N,r>a){if(e.match_start=t,a=r,r>=s)break;f=c[o+a-1],p=c[o+a]}}}while((t=u[t&h])>l&&0!=--n);return a<=e.lookahead?a:e.lookahead}function oe(e){var t,i,r,o,l,c,h,u,d,f,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-B)){n.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=i=e.hash_size;do{r=e.head[--t],e.head[t]=r>=p?r-p:0}while(--i);t=i=p;do{r=e.prev[--t],e.prev[t]=r>=p?r-p:0}while(--i);o+=p}if(0===e.strm.avail_in)break;if(c=e.strm,h=e.window,u=e.strstart+e.lookahead,d=o,f=void 0,(f=c.avail_in)>d&&(f=d),i=0===f?0:(c.avail_in-=f,n.arraySet(h,c.input,c.next_in,f,u),1===c.state.wrap?c.adler=a(c.adler,h,f,u):2===c.state.wrap&&(c.adler=s(c.adler,h,f,u)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=i,e.lookahead+e.insert>=P)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+P-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<P)););}while(e.lookahead<B&&0!==e.strm.avail_in)}function ae(e,t){for(var i,r;;){if(e.lookahead<B){if(oe(e),e.lookahead<B&&t===c)return X;if(0===e.lookahead)break}if(i=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-B&&(e.match_length=ne(e,i)),e.match_length>=P)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-P),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=P){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return X}return e.insert=e.strstart<P-1?e.strstart:P-1,t===d?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?X:Y}function se(e,t){for(var i,r,n;;){if(e.lookahead<B){if(oe(e),e.lookahead<B&&t===c)return X;if(0===e.lookahead)break}if(i=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=P-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-B&&(e.match_length=ne(e,i),e.match_length<=5&&(e.strategy===_||e.match_length===P&&e.strstart-e.match_start>4096)&&(e.match_length=P-1)),e.prev_length>=P&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-P,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-P),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=P-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return X}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return X}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<P-1?e.strstart:P-1,t===d?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?X:Y}function le(e,t,i,r,n){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=r,this.func=n}function ce(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=T,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?z:j,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),p):Q(e,g)}function he(e){var t,i=ce(e);return i===p&&((t=e.state).window_size=2*t.w_size,J(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=P-1,t.match_available=0,t.ins_h=0),i}function ue(e,t,i,r,o,a){if(!e)return g;var s=1;if(t===b&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>M||i!==A||r<8||r>15||t<0||t>9||a<0||a>S)return Q(e,g);8===r&&(r=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*R),this.dyn_dtree=new n.Buf16(2*(2*I+1)),this.bl_tree=new n.Buf16(2*(2*k+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(L+1),this.heap=new n.Buf16(2*F+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*F+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+P-1)/P),l.window=new n.Buf8(2*l.w_size),l.head=new n.Buf16(l.hash_size),l.prev=new n.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new n.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=i,he(e)}r=[new le(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oe(e),0===e.lookahead&&t===c)return X;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+i;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return X;if(e.strstart-e.block_start>=e.w_size-B&&(te(e,!1),0===e.strm.avail_out))return X}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?q:K):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),X)}),new le(4,4,8,4,ae),new le(4,5,16,8,ae),new le(4,6,32,32,ae),new le(4,4,16,16,se),new le(8,16,32,32,se),new le(8,16,128,128,se),new le(8,32,128,256,se),new le(32,128,258,1024,se),new le(32,258,258,4096,se)],t.deflateInit=function(e,t){return ue(e,t,A,E,D,C)},t.deflateInit2=ue,t.deflateReset=he,t.deflateResetKeep=ce,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,p):g},t.deflate=function(e,t){var i,n,a,l;if(!e||!e.state||t>f||t<0)return e?Q(e,g):g;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===G&&t!==d)return Q(e,0===e.avail_out?y:g);if(n.strm=e,i=n.last_flush,n.last_flush=t,n.status===z)if(2===n.wrap)e.adler=0,ie(n,31),ie(n,139),ie(n,8),n.gzhead?(ie(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ie(n,255&n.gzhead.time),ie(n,n.gzhead.time>>8&255),ie(n,n.gzhead.time>>16&255),ie(n,n.gzhead.time>>24&255),ie(n,9===n.level?2:n.strategy>=x||n.level<2?4:0),ie(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ie(n,255&n.gzhead.extra.length),ie(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=s(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=U):(ie(n,0),ie(n,0),ie(n,0),ie(n,0),ie(n,0),ie(n,9===n.level?2:n.strategy>=x||n.level<2?4:0),ie(n,$),n.status=j);else{var v=A+(n.w_bits-8<<4)<<8;v|=(n.strategy>=x||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(v|=O),v+=31-v%31,n.status=j,re(n,v),0!==n.strstart&&(re(n,e.adler>>>16),re(n,65535&e.adler)),e.adler=1}if(n.status===U)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),ee(e),a=n.pending,n.pending!==n.pending_buf_size));)ie(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=V)}else n.status=V;if(n.status===V)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),ee(e),a=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ie(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),0===l&&(n.gzindex=0,n.status=H)}else n.status=H;if(n.status===H)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),ee(e),a=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ie(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),0===l&&(n.status=W)}else n.status=W;if(n.status===W&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&ee(e),n.pending+2<=n.pending_buf_size&&(ie(n,255&e.adler),ie(n,e.adler>>8&255),e.adler=0,n.status=j)):n.status=j),0!==n.pending){if(ee(e),0===e.avail_out)return n.last_flush=-1,p}else if(0===e.avail_in&&Z(t)<=Z(i)&&t!==d)return Q(e,y);if(n.status===G&&0!==e.avail_in)return Q(e,y);if(0!==e.avail_in||0!==n.lookahead||t!==c&&n.status!==G){var b=n.strategy===x?function(e,t){for(var i;;){if(0===e.lookahead&&(oe(e),0===e.lookahead)){if(t===c)return X;break}if(e.match_length=0,i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return X}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?X:Y}(n,t):n.strategy===w?function(e,t){for(var i,r,n,a,s=e.window;;){if(e.lookahead<=N){if(oe(e),e.lookahead<=N&&t===c)return X;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=P&&e.strstart>0&&(r=s[n=e.strstart-1])===s[++n]&&r===s[++n]&&r===s[++n]){a=e.strstart+N;do{}while(r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&n<a);e.match_length=N-(a-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=P?(i=o._tr_tally(e,1,e.match_length-P),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(te(e,!1),0===e.strm.avail_out))return X}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?X:Y}(n,t):r[n.level].func(n,t);if(b!==q&&b!==K||(n.status=G),b===X||b===q)return 0===e.avail_out&&(n.last_flush=-1),p;if(b===Y&&(t===h?o._tr_align(n):t!==f&&(o._tr_stored_block(n,0,0,!1),t===u&&(J(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),ee(e),0===e.avail_out))return n.last_flush=-1,p}return t!==d?p:n.wrap<=0?m:(2===n.wrap?(ie(n,255&e.adler),ie(n,e.adler>>8&255),ie(n,e.adler>>16&255),ie(n,e.adler>>24&255),ie(n,255&e.total_in),ie(n,e.total_in>>8&255),ie(n,e.total_in>>16&255),ie(n,e.total_in>>24&255)):(re(n,e.adler>>>16),re(n,65535&e.adler)),ee(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?p:m)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==z&&t!==U&&t!==V&&t!==H&&t!==W&&t!==j&&t!==G?Q(e,g):(e.state=null,t===j?Q(e,v):p):g},t.deflateSetDictionary=function(e,t){var i,r,o,s,l,c,h,u,d=t.length;if(!e||!e.state)return g;if(2===(s=(i=e.state).wrap)||1===s&&i.status!==z||i.lookahead)return g;for(1===s&&(e.adler=a(e.adler,t,d,0)),i.wrap=0,d>=i.w_size&&(0===s&&(J(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new n.Buf8(i.w_size),n.arraySet(u,t,d-i.w_size,i.w_size,0),t=u,d=i.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=d,e.next_in=0,e.input=t,oe(i);i.lookahead>=P;){r=i.strstart,o=i.lookahead-(P-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+P-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--o);i.strstart=r,i.lookahead=P-1,oe(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=P-1,i.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,i.wrap=s,p},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,i){"use strict";var r=i(13),n=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,h=1,u=2,d=29,f=256,p=f+1+d,m=30,g=19,v=2*p+1,y=15,b=16,_=7,x=256,w=16,S=17,C=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(p+2));l(D);var F=new Array(2*m);l(F);var I=new Array(512);l(I);var k=new Array(256);l(k);var R=new Array(d);l(R);var L,P,N,B=new Array(m);function O(e,t,i,r,n){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=e&&e.length}function z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function U(e){return e<256?I[e]:I[256+(e>>>7)]}function V(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function H(e,t,i){e.bi_valid>b-i?(e.bi_buf|=t<<e.bi_valid&65535,V(e,e.bi_buf),e.bi_buf=t>>b-e.bi_valid,e.bi_valid+=i-b):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function W(e,t,i){H(e,i[2*t],i[2*t+1])}function j(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function G(e,t,i){var r,n,o=new Array(y+1),a=0;for(r=1;r<=y;r++)o[r]=a=a+i[r-1]<<1;for(n=0;n<=t;n++){var s=e[2*n+1];0!==s&&(e[2*n]=j(o[s]++,s))}}function X(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<g;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*x]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Y(e){e.bi_valid>8?V(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function q(e,t,i,r){var n=2*t,o=2*i;return e[n]<e[o]||e[n]===e[o]&&r[t]<=r[i]}function K(e,t,i){for(var r=e.heap[i],n=i<<1;n<=e.heap_len&&(n<e.heap_len&&q(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!q(t,r,e.heap[n],e.depth));)e.heap[i]=e.heap[n],i=n,n<<=1;e.heap[i]=r}function $(e,t,i){var r,n,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],n=e.pending_buf[e.l_buf+s],s++,0===r?W(e,n,t):(W(e,(o=k[n])+f+1,t),0!==(a=T[o])&&H(e,n-=R[o],a),W(e,o=U(--r),i),0!==(a=A[o])&&H(e,r-=B[o],a))}while(s<e.last_lit);W(e,x,t)}function Q(e,t){var i,r,n,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=v,i=0;i<l;i++)0!==o[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):o[2*i+1]=0;for(;e.heap_len<2;)o[2*(n=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[n]=0,e.opt_len--,s&&(e.static_len-=a[2*n+1]);for(t.max_code=c,i=e.heap_len>>1;i>=1;i--)K(e,o,i);n=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=r,o[2*n]=o[2*i]+o[2*r],e.depth[n]=(e.depth[i]>=e.depth[r]?e.depth[i]:e.depth[r])+1,o[2*i+1]=o[2*r+1]=n,e.heap[1]=n++,K(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,r,n,o,a,s,l=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,u=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=y;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<v;i++)(o=l[2*l[2*(r=e.heap[i])+1]+1]+1)>p&&(o=p,m++),l[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=f&&(a=d[r-f]),s=l[2*r],e.opt_len+=s*(o+a),u&&(e.static_len+=s*(h[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(n=e.heap[--i])>c||(l[2*n+1]!==o&&(e.opt_len+=(o-l[2*n+1])*l[2*n],l[2*n+1]=o),r--)}}(e,t),G(o,c,e.bl_count)}function Z(e,t,i){var r,n,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(i+1)+1]=65535,r=0;r<=i;r++)n=a,a=t[2*(r+1)+1],++s<l&&n===a||(s<c?e.bl_tree[2*n]+=s:0!==n?(n!==o&&e.bl_tree[2*n]++,e.bl_tree[2*w]++):s<=10?e.bl_tree[2*S]++:e.bl_tree[2*C]++,s=0,o=n,0===a?(l=138,c=3):n===a?(l=6,c=3):(l=7,c=4))}function J(e,t,i){var r,n,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=i;r++)if(n=a,a=t[2*(r+1)+1],!(++s<l&&n===a)){if(s<c)do{W(e,n,e.bl_tree)}while(0!=--s);else 0!==n?(n!==o&&(W(e,n,e.bl_tree),s--),W(e,w,e.bl_tree),H(e,s-3,2)):s<=10?(W(e,S,e.bl_tree),H(e,s-3,3)):(W(e,C,e.bl_tree),H(e,s-11,7));s=0,o=n,0===a?(l=138,c=3):n===a?(l=6,c=3):(l=7,c=4)}}l(B);var ee=!1;function te(e,t,i,n){H(e,(c<<1)+(n?1:0),3),function(e,t,i,n){Y(e),n&&(V(e,i),V(e,~i)),r.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}t._tr_init=function(e){ee||(function(){var e,t,i,r,n,o=new Array(y+1);for(i=0,r=0;r<d-1;r++)for(R[r]=i,e=0;e<1<<T[r];e++)k[i++]=r;for(k[i-1]=r,n=0,r=0;r<16;r++)for(B[r]=n,e=0;e<1<<A[r];e++)I[n++]=r;for(n>>=7;r<m;r++)for(B[r]=n<<7,e=0;e<1<<A[r]-7;e++)I[256+n++]=r;for(t=0;t<=y;t++)o[t]=0;for(e=0;e<=143;)D[2*e+1]=8,e++,o[8]++;for(;e<=255;)D[2*e+1]=9,e++,o[9]++;for(;e<=279;)D[2*e+1]=7,e++,o[7]++;for(;e<=287;)D[2*e+1]=8,e++,o[8]++;for(G(D,p+1,o),e=0;e<m;e++)F[2*e+1]=5,F[2*e]=j(e,5);L=new O(D,T,f+1,p,y),P=new O(F,A,0,m,y),N=new O(new Array(0),M,0,g,_)}(),ee=!0),e.l_desc=new z(e.dyn_ltree,L),e.d_desc=new z(e.dyn_dtree,P),e.bl_desc=new z(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,X(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,i,r){var l,c,d=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return a;return o}(e)),Q(e,e.l_desc),Q(e,e.d_desc),d=function(e){var t;for(Z(e,e.dyn_ltree,e.l_desc.max_code),Z(e,e.dyn_dtree,e.d_desc.max_code),Q(e,e.bl_desc),t=g-1;t>=3&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=i+5,i+4<=l&&-1!==t?te(e,t,i,r):e.strategy===n||c===l?(H(e,(h<<1)+(r?1:0),3),$(e,D,F)):(H(e,(u<<1)+(r?1:0),3),function(e,t,i,r){var n;for(H(e,t-257,5),H(e,i-1,5),H(e,r-4,4),n=0;n<r;n++)H(e,e.bl_tree[2*E[n]+1],3);J(e,e.dyn_ltree,t-1),J(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,d+1),$(e,e.dyn_ltree,e.dyn_dtree)),X(e),r&&Y(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(k[i]+f+1)]++,e.dyn_dtree[2*U(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){H(e,h<<1,3),W(e,x,D),function(e){16===e.bi_valid?(V(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,i){"use strict";var r=i(170),n=i(13),o=i(86),a=i(88),s=i(54),l=i(87),c=i(173),h=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(s[i]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var i=new u(t);if(i.push(e,!0),i.err)throw i.msg||s[i.err];return i.result}u.prototype.push=function(e,t){var i,s,l,c,u,d,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new n.Buf8(p),f.next_out=0,f.avail_out=p),(i=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(d="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===h.call(m)?new Uint8Array(m):m,i=r.inflateSetDictionary(this.strm,d)),i===a.Z_BUF_ERROR&&!0===g&&(i=a.Z_OK,g=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&i!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),c=f.next_out-l,u=o.buf2string(f.output,l),f.next_out=c,f.avail_out=p-c,c&&n.arraySet(f.output,f.output,l,c,0),this.onData(u)):this.onData(n.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},function(e,t,i){"use strict";var r=i(13),n=i(84),o=i(85),a=i(171),s=i(172),l=0,c=1,h=2,u=4,d=5,f=6,p=0,m=1,g=2,v=-2,y=-3,b=-4,_=-5,x=8,w=1,S=2,C=3,T=4,A=5,M=6,E=7,D=8,F=9,I=10,k=11,R=12,L=13,P=14,N=15,B=16,O=17,z=18,U=19,V=20,H=21,W=22,j=23,G=24,X=25,Y=26,q=27,K=28,$=29,Q=30,Z=31,J=32,ee=852,te=592,ie=15;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ne(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,p):v}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ne(e)):v}function ae(e,t){var i,r;return e&&e.state?(r=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=i,r.wbits=t,oe(e))):v}function se(e,t){var i,n;return e?(n=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=n,n.window=null,(i=ae(e,t))!==p&&(e.state=null),i):v}var le,ce,he=!0;function ue(e){if(he){var t;for(le=new r.Buf32(512),ce=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(h,e.lens,0,32,ce,0,e.work,{bits:5}),he=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function de(e,t,i,n){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),n>=a.wsize?(r.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>n&&(o=n),r.arraySet(a.window,t,i-n,o,a.wnext),(n-=o)?(r.arraySet(a.window,t,i-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=oe,t.inflateReset2=ae,t.inflateResetKeep=ne,t.inflateInit=function(e){return se(e,ie)},t.inflateInit2=se,t.inflate=function(e,t){var i,ee,te,ie,ne,oe,ae,se,le,ce,he,fe,pe,me,ge,ve,ye,be,_e,xe,we,Se,Ce,Te,Ae=0,Me=new r.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(i=e.state).mode===R&&(i.mode=L),ne=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,oe=e.avail_in,se=i.hold,le=i.bits,ce=oe,he=ae,Se=p;e:for(;;)switch(i.mode){case w:if(0===i.wrap){i.mode=L;break}for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(2&i.wrap&&35615===se){i.check=0,Me[0]=255&se,Me[1]=se>>>8&255,i.check=o(i.check,Me,2,0),se=0,le=0,i.mode=S;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",i.mode=Q;break}if((15&se)!==x){e.msg="unknown compression method",i.mode=Q;break}if(le-=4,we=8+(15&(se>>>=4)),0===i.wbits)i.wbits=we;else if(we>i.wbits){e.msg="invalid window size",i.mode=Q;break}i.dmax=1<<we,e.adler=i.check=1,i.mode=512&se?I:R,se=0,le=0;break;case S:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(i.flags=se,(255&i.flags)!==x){e.msg="unknown compression method",i.mode=Q;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=Q;break}i.head&&(i.head.text=se>>8&1),512&i.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,i.check=o(i.check,Me,2,0)),se=0,le=0,i.mode=C;case C:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.head&&(i.head.time=se),512&i.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,Me[2]=se>>>16&255,Me[3]=se>>>24&255,i.check=o(i.check,Me,4,0)),se=0,le=0,i.mode=T;case T:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.head&&(i.head.xflags=255&se,i.head.os=se>>8),512&i.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,i.check=o(i.check,Me,2,0)),se=0,le=0,i.mode=A;case A:if(1024&i.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.length=se,i.head&&(i.head.extra_len=se),512&i.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,i.check=o(i.check,Me,2,0)),se=0,le=0}else i.head&&(i.head.extra=null);i.mode=M;case M:if(1024&i.flags&&((fe=i.length)>oe&&(fe=oe),fe&&(i.head&&(we=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),r.arraySet(i.head.extra,ee,ie,fe,we)),512&i.flags&&(i.check=o(i.check,ee,fe,ie)),oe-=fe,ie+=fe,i.length-=fe),i.length))break e;i.length=0,i.mode=E;case E:if(2048&i.flags){if(0===oe)break e;fe=0;do{we=ee[ie+fe++],i.head&&we&&i.length<65536&&(i.head.name+=String.fromCharCode(we))}while(we&&fe<oe);if(512&i.flags&&(i.check=o(i.check,ee,fe,ie)),oe-=fe,ie+=fe,we)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=D;case D:if(4096&i.flags){if(0===oe)break e;fe=0;do{we=ee[ie+fe++],i.head&&we&&i.length<65536&&(i.head.comment+=String.fromCharCode(we))}while(we&&fe<oe);if(512&i.flags&&(i.check=o(i.check,ee,fe,ie)),oe-=fe,ie+=fe,we)break e}else i.head&&(i.head.comment=null);i.mode=F;case F:if(512&i.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se!==(65535&i.check)){e.msg="header crc mismatch",i.mode=Q;break}se=0,le=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=R;break;case I:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}e.adler=i.check=re(se),se=0,le=0,i.mode=k;case k:if(0===i.havedict)return e.next_out=ne,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,g;e.adler=i.check=1,i.mode=R;case R:if(t===d||t===f)break e;case L:if(i.last){se>>>=7&le,le-=7&le,i.mode=q;break}for(;le<3;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}switch(i.last=1&se,le-=1,3&(se>>>=1)){case 0:i.mode=P;break;case 1:if(ue(i),i.mode=V,t===f){se>>>=2,le-=2;break e}break;case 2:i.mode=O;break;case 3:e.msg="invalid block type",i.mode=Q}se>>>=2,le-=2;break;case P:for(se>>>=7&le,le-=7&le;le<32;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Q;break}if(i.length=65535&se,se=0,le=0,i.mode=N,t===f)break e;case N:i.mode=B;case B:if(fe=i.length){if(fe>oe&&(fe=oe),fe>ae&&(fe=ae),0===fe)break e;r.arraySet(te,ee,ie,fe,ne),oe-=fe,ie+=fe,ae-=fe,ne+=fe,i.length-=fe;break}i.mode=R;break;case O:for(;le<14;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(i.nlen=257+(31&se),se>>>=5,le-=5,i.ndist=1+(31&se),se>>>=5,le-=5,i.ncode=4+(15&se),se>>>=4,le-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Q;break}i.have=0,i.mode=z;case z:for(;i.have<i.ncode;){for(;le<3;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.lens[Ee[i.have++]]=7&se,se>>>=3,le-=3}for(;i.have<19;)i.lens[Ee[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Ce={bits:i.lenbits},Se=s(l,i.lens,0,19,i.lencode,0,i.work,Ce),i.lenbits=Ce.bits,Se){e.msg="invalid code lengths set",i.mode=Q;break}i.have=0,i.mode=U;case U:for(;i.have<i.nlen+i.ndist;){for(;ve=(Ae=i.lencode[se&(1<<i.lenbits)-1])>>>16&255,ye=65535&Ae,!((ge=Ae>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(ye<16)se>>>=ge,le-=ge,i.lens[i.have++]=ye;else{if(16===ye){for(Te=ge+2;le<Te;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se>>>=ge,le-=ge,0===i.have){e.msg="invalid bit length repeat",i.mode=Q;break}we=i.lens[i.have-1],fe=3+(3&se),se>>>=2,le-=2}else if(17===ye){for(Te=ge+3;le<Te;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}le-=ge,we=0,fe=3+(7&(se>>>=ge)),se>>>=3,le-=3}else{for(Te=ge+7;le<Te;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}le-=ge,we=0,fe=11+(127&(se>>>=ge)),se>>>=7,le-=7}if(i.have+fe>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Q;break}for(;fe--;)i.lens[i.have++]=we}}if(i.mode===Q)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=Q;break}if(i.lenbits=9,Ce={bits:i.lenbits},Se=s(c,i.lens,0,i.nlen,i.lencode,0,i.work,Ce),i.lenbits=Ce.bits,Se){e.msg="invalid literal/lengths set",i.mode=Q;break}if(i.distbits=6,i.distcode=i.distdyn,Ce={bits:i.distbits},Se=s(h,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Ce),i.distbits=Ce.bits,Se){e.msg="invalid distances set",i.mode=Q;break}if(i.mode=V,t===f)break e;case V:i.mode=H;case H:if(oe>=6&&ae>=258){e.next_out=ne,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,a(e,he),ne=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,oe=e.avail_in,se=i.hold,le=i.bits,i.mode===R&&(i.back=-1);break}for(i.back=0;ve=(Ae=i.lencode[se&(1<<i.lenbits)-1])>>>16&255,ye=65535&Ae,!((ge=Ae>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(ve&&0==(240&ve)){for(be=ge,_e=ve,xe=ye;ve=(Ae=i.lencode[xe+((se&(1<<be+_e)-1)>>be)])>>>16&255,ye=65535&Ae,!(be+(ge=Ae>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}se>>>=be,le-=be,i.back+=be}if(se>>>=ge,le-=ge,i.back+=ge,i.length=ye,0===ve){i.mode=Y;break}if(32&ve){i.back=-1,i.mode=R;break}if(64&ve){e.msg="invalid literal/length code",i.mode=Q;break}i.extra=15&ve,i.mode=W;case W:if(i.extra){for(Te=i.extra;le<Te;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.length+=se&(1<<i.extra)-1,se>>>=i.extra,le-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=j;case j:for(;ve=(Ae=i.distcode[se&(1<<i.distbits)-1])>>>16&255,ye=65535&Ae,!((ge=Ae>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(0==(240&ve)){for(be=ge,_e=ve,xe=ye;ve=(Ae=i.distcode[xe+((se&(1<<be+_e)-1)>>be)])>>>16&255,ye=65535&Ae,!(be+(ge=Ae>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}se>>>=be,le-=be,i.back+=be}if(se>>>=ge,le-=ge,i.back+=ge,64&ve){e.msg="invalid distance code",i.mode=Q;break}i.offset=ye,i.extra=15&ve,i.mode=G;case G:if(i.extra){for(Te=i.extra;le<Te;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.offset+=se&(1<<i.extra)-1,se>>>=i.extra,le-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Q;break}i.mode=X;case X:if(0===ae)break e;if(fe=he-ae,i.offset>fe){if((fe=i.offset-fe)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Q;break}fe>i.wnext?(fe-=i.wnext,pe=i.wsize-fe):pe=i.wnext-fe,fe>i.length&&(fe=i.length),me=i.window}else me=te,pe=ne-i.offset,fe=i.length;fe>ae&&(fe=ae),ae-=fe,i.length-=fe;do{te[ne++]=me[pe++]}while(--fe);0===i.length&&(i.mode=H);break;case Y:if(0===ae)break e;te[ne++]=i.length,ae--,i.mode=H;break;case q:if(i.wrap){for(;le<32;){if(0===oe)break e;oe--,se|=ee[ie++]<<le,le+=8}if(he-=ae,e.total_out+=he,i.total+=he,he&&(e.adler=i.check=i.flags?o(i.check,te,he,ne-he):n(i.check,te,he,ne-he)),he=ae,(i.flags?se:re(se))!==i.check){e.msg="incorrect data check",i.mode=Q;break}se=0,le=0}i.mode=K;case K:if(i.wrap&&i.flags){for(;le<32;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=Q;break}se=0,le=0}i.mode=$;case $:Se=m;break e;case Q:Se=y;break e;case Z:return b;case J:default:return v}return e.next_out=ne,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,(i.wsize||he!==e.avail_out&&i.mode<Q&&(i.mode<q||t!==u))&&de(e,e.output,e.next_out,he-e.avail_out)?(i.mode=Z,b):(ce-=e.avail_in,he-=e.avail_out,e.total_in+=ce,e.total_out+=he,i.total+=he,i.wrap&&he&&(e.adler=i.check=i.flags?o(i.check,te,he,e.next_out-he):n(i.check,te,he,e.next_out-he)),e.data_type=i.bits+(i.last?64:0)+(i.mode===R?128:0)+(i.mode===V||i.mode===N?256:0),(0===ce&&0===he||t===u)&&Se===p&&(Se=_),Se)},t.inflateEnd=function(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?v:(i.head=t,t.done=!1,p):v},t.inflateSetDictionary=function(e,t){var i,r=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==k?v:i.mode===k&&n(1,t,r,0)!==i.check?y:de(e,t,r,r)?(i.mode=Z,b):(i.havedict=1,p):v},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,i){"use strict";e.exports=function(e,t){var i,r,n,o,a,s,l,c,h,u,d,f,p,m,g,v,y,b,_,x,w,S,C,T,A;i=e.state,r=e.next_in,T=e.input,n=r+(e.avail_in-5),o=e.next_out,A=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=i.dmax,c=i.wsize,h=i.whave,u=i.wnext,d=i.window,f=i.hold,p=i.bits,m=i.lencode,g=i.distcode,v=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;e:do{p<15&&(f+=T[r++]<<p,p+=8,f+=T[r++]<<p,p+=8),b=m[f&v];t:for(;;){if(f>>>=_=b>>>24,p-=_,0===(_=b>>>16&255))A[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(f&(1<<_)-1)];continue t}if(32&_){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}x=65535&b,(_&=15)&&(p<_&&(f+=T[r++]<<p,p+=8),x+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=T[r++]<<p,p+=8,f+=T[r++]<<p,p+=8),b=g[f&y];i:for(;;){if(f>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(f&(1<<_)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&b,p<(_&=15)&&(f+=T[r++]<<p,(p+=8)<_&&(f+=T[r++]<<p,p+=8)),(w+=f&(1<<_)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(f>>>=_,p-=_,w>(_=o-a)){if((_=w-_)>h&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(S=0,C=d,0===u){if(S+=c-_,_<x){x-=_;do{A[o++]=d[S++]}while(--_);S=o-w,C=A}}else if(u<_){if(S+=c+u-_,(_-=u)<x){x-=_;do{A[o++]=d[S++]}while(--_);if(S=0,u<x){x-=_=u;do{A[o++]=d[S++]}while(--_);S=o-w,C=A}}}else if(S+=u-_,_<x){x-=_;do{A[o++]=d[S++]}while(--_);S=o-w,C=A}for(;x>2;)A[o++]=C[S++],A[o++]=C[S++],A[o++]=C[S++],x-=3;x&&(A[o++]=C[S++],x>1&&(A[o++]=C[S++]))}else{S=o-w;do{A[o++]=A[S++],A[o++]=A[S++],A[o++]=A[S++],x-=3}while(x>2);x&&(A[o++]=A[S++],x>1&&(A[o++]=A[S++]))}break}}break}}while(r<n&&o<s);r-=x=p>>3,f&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=o<s?s-o+257:257-(o-s),i.hold=f,i.bits=p}},function(e,t,i){"use strict";var r=i(13),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,l,c,h,u,d){var f,p,m,g,v,y,b,_,x,w=d.bits,S=0,C=0,T=0,A=0,M=0,E=0,D=0,F=0,I=0,k=0,R=null,L=0,P=new r.Buf16(16),N=new r.Buf16(16),B=null,O=0;for(S=0;S<=15;S++)P[S]=0;for(C=0;C<l;C++)P[t[i+C]]++;for(M=w,A=15;A>=1&&0===P[A];A--);if(M>A&&(M=A),0===A)return c[h++]=20971520,c[h++]=20971520,d.bits=1,0;for(T=1;T<A&&0===P[T];T++);for(M<T&&(M=T),F=1,S=1;S<=15;S++)if(F<<=1,(F-=P[S])<0)return-1;if(F>0&&(0===e||1!==A))return-1;for(N[1]=0,S=1;S<15;S++)N[S+1]=N[S]+P[S];for(C=0;C<l;C++)0!==t[i+C]&&(u[N[t[i+C]]++]=C);if(0===e?(R=B=u,y=19):1===e?(R=n,L-=257,B=o,O-=257,y=256):(R=a,B=s,y=-1),k=0,C=0,S=T,v=h,E=M,D=0,m=-1,g=(I=1<<M)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){b=S-D,u[C]<y?(_=0,x=u[C]):u[C]>y?(_=B[O+u[C]],x=R[L+u[C]]):(_=96,x=0),f=1<<S-D,T=p=1<<E;do{c[v+(k>>D)+(p-=f)]=b<<24|_<<16|x|0}while(0!==p);for(f=1<<S-1;k&f;)f>>=1;if(0!==f?(k&=f-1,k+=f):k=0,C++,0==--P[S]){if(S===A)break;S=t[i+u[C]]}if(S>M&&(k&g)!==m){for(0===D&&(D=M),v+=T,F=1<<(E=S-D);E+D<A&&!((F-=P[E+D])<=0);)E++,F<<=1;if(I+=1<<E,1===e&&I>852||2===e&&I>592)return 1;c[m=k&g]=M<<24|E<<16|v-h|0}}return 0!==k&&(c[v+k]=S-D<<24|64<<16|0),d.bits=M,0}},function(e,t,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,i){"use strict";var r=i(2),n=i(6),o=i(17),a=i(53),s=i(89),l=function(e,t){var i,r="";for(i=0;i<t;i++)r+=String.fromCharCode(255&e),e>>>=8;return r},c=function(e,t,i,n,c,h){var u,d,f=e.file,p=e.compression,m=h!==o.utf8encode,g=r.transformTo("string",h(f.name)),v=r.transformTo("string",o.utf8encode(f.name)),y=f.comment,b=r.transformTo("string",h(y)),_=r.transformTo("string",o.utf8encode(y)),x=v.length!==f.name.length,w=_.length!==y.length,S="",C="",T="",A=f.dir,M=f.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var D=0;t&&(D|=8),m||!x&&!w||(D|=2048);var F,I,k=0,R=0;A&&(k|=16),"UNIX"===c?(R=798,k|=(F=f.unixPermissions,I=F,F||(I=A?16893:33204),(65535&I)<<16)):(R=20,k|=63&(f.dosPermissions||0)),u=M.getUTCHours(),u<<=6,u|=M.getUTCMinutes(),u<<=5,u|=M.getUTCSeconds()/2,d=M.getUTCFullYear()-1980,d<<=4,d|=M.getUTCMonth()+1,d<<=5,d|=M.getUTCDate(),x&&(C=l(1,1)+l(a(g),4)+v,S+="up"+l(C.length,2)+C),w&&(T=l(1,1)+l(a(b),4)+_,S+="uc"+l(T.length,2)+T);var L="";return L+="\n\0",L+=l(D,2),L+=p.magic,L+=l(u,2),L+=l(d,2),L+=l(E.crc32,4),L+=l(E.compressedSize,4),L+=l(E.uncompressedSize,4),L+=l(g.length,2),L+=l(S.length,2),{fileRecord:s.LOCAL_FILE_HEADER+L+g+S,dirRecord:s.CENTRAL_FILE_HEADER+l(R,2)+L+l(b.length,2)+"\0\0\0\0"+l(k,4)+l(n,4)+g+S+b}};function h(e,t,i,r){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(h,n),h.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,n.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-r-1))/i:100}}))},h.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-e,n=function(e,t,i,n,o){var a=r.transformTo("string",o(n));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(i,4)+l(a.length,2)+a}(this.dirRecords.length,i,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},h.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(e){var t=this._sources;if(!n.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},h.prototype.lock=function(){n.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=h},function(e,t,i){"use strict";var r=i(2),n=i(6);function o(e,t){n.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,n),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},o.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},function(e,t,i){"use strict";var r=i(2),n=i(25),o=i(17),a=(r=i(2),i(177)),s=i(81),l=i(35);function c(e){return new n.Promise(function(t,i){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",function(e){i(e)}).on("end",function(){r.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(e,t){var i=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var i=new a(t);return i.load(e),i}).then(function(e){var i=[n.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)i.push(c(r[o]));return n.Promise.all(i)}).then(function(e){for(var r=e.shift(),n=r.files,o=0;o<n.length;o++){var a=n[o];i.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(i.comment=r.zipComment),i})}},function(e,t,i){"use strict";var r=i(90),n=i(2),o=i(89),a=i(180),s=(i(17),i(12));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(t)+", expected "+n.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(i),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",i=n.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=t-i;if(r>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},function(e,t,i){"use strict";var r=i(92);function n(e){r.call(this,e)}i(2).inherits(n,r),n.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},n.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},function(e,t,i){"use strict";var r=i(93);function n(e){r.call(this,e)}i(2).inherits(n,r),n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},function(e,t,i){"use strict";var r=i(90),n=i(2),o=i(52),a=i(53),s=i(17),l=i(82),c=i(12);function h(e,t){this.options=e,this.loadOptions=t}h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,i,r,n=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<n;)t=e.readInt(2),i=e.readInt(2),r=e.readData(i),this.extraFields[t]={id:t,length:i,value:r}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=n.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=n.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){i(0),i(5),i(26),i(59),i(60),i(28),i(63),i(61),i(37),i(57),i(58),i(44),i(246),i(106),i(4),i(94),i(19),i(95),i(96),i(97),i(98),i(99),i(100),i(101),i(102),i(103),i(104),i(105),i(83),i(64),e.exports=i(107)},function(e,t,i){e.exports=i(247)},function(e,t,i){"use strict";var r=i(7),n=i(112),o=i(249),a=i(55);function s(e){var t=new o(e),i=n(o.prototype.request,t);return r.extend(i,o.prototype,t),r.extend(i,t),i}var l=s(a);l.Axios=o,l.create=function(e){return s(r.merge(a,e))},l.Cancel=i(116),l.CancelToken=i(263),l.isCancel=i(115),l.all=function(e){return Promise.all(e)},l.spread=i(264),e.exports=l,e.exports.default=l},function(e,t){function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(i(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,i){"use strict";var r=i(55),n=i(7),o=i(258),a=i(259);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"==typeof e&&(e=n.merge({url:arguments[0]},arguments[1])),(e=n.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)i=i.then(t.shift(),t.shift());return i},n.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,i){return this.request(n.merge(i||{},{method:e,url:t}))}}),n.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,i,r){return this.request(n.merge(r||{},{method:e,url:t,data:i}))}}),e.exports=s},function(e,t,i){"use strict";var r=i(7);e.exports=function(e,t){r.forEach(e,function(i,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[r])})}},function(e,t,i){"use strict";var r=i(114);e.exports=function(e,t,i){var n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(r("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},function(e,t,i){"use strict";e.exports=function(e,t,i,r,n){return e.config=t,i&&(e.code=i),e.request=r,e.response=n,e}},function(e,t,i){"use strict";var r=i(7);function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var o;if(i)o=i(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(n(t)+"="+n(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,i){"use strict";var r=i(7),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),i=r.trim(e.substr(o+1)),t){if(a[t]&&n.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([i]):a[t]?a[t]+", "+i:i}}),a):a}},function(e,t,i){"use strict";var r=i(7);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(e){var r=e;return t&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=n(window.location.href),function(t){var i=r.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},function(e,t,i){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,i,o=String(e),a="",s=0,l=r;o.charAt(0|s)||(l="=",s%1);a+=l.charAt(63&t>>8-s%1*8)){if((i=o.charCodeAt(s+=.75))>255)throw new n;t=t<<8|i}return a}},function(e,t,i){"use strict";var r=i(7);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,i,n,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),r.isString(n)&&s.push("path="+n),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,i){"use strict";var r=i(7);function n(){this.handlers=[]}n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},function(e,t,i){"use strict";var r=i(7),n=i(260),o=i(115),a=i(55),s=i(261),l=i(262);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=n(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,i){"use strict";var r=i(7);e.exports=function(e,t,i){return r.forEach(i,function(i){e=i(e,t)}),e}},function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,i){"use strict";var r=i(116);function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var i=this;e(function(e){i.reason||(i.reason=new r(e),t(i.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n},function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}}],[245]);