{"version":3,"sources":["webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/search_result.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/eventemitter3/index.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/strategy.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/utils.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/editor.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/index.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/textarea.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/undate/lib/update.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textarea-caret/index.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/textcomplete.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/completer.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/query.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/dropdown.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/textcomplete/lib/dropdown_item.js"],"names":["Object","defineProperty","exports","value","obj","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_strategy","__esModule","SearchResult","data","term","strategy","instance","TypeError","_classCallCheck","this","beforeCursor","afterCursor","replacement","replace","Array","isArray","match","matchText","_","p1","parseInt","slice","index","join","template","default","has","hasOwnProperty","prefix","Events","EE","fn","context","once","EventEmitter","_events","_eventsCount","create","__proto__","eventNames","events","name","names","call","push","getOwnPropertySymbols","concat","listeners","event","exists","evt","available","l","ee","emit","a1","a2","a3","a4","a5","args","len","arguments","removeListener","undefined","apply","j","on","listener","removeAllListeners","off","addListener","setMaxListeners","prefixed","module","DEFAULT_TEMPLATE","Strategy","cache","callback","searchWithCache","search","_this","results","text","get","calculateElementOffset","el","rect","getBoundingClientRect","_el$ownerDocument","ownerDocument","defaultView","documentElement","offset","top","pageYOffset","left","pageXOffset","clientTop","clientLeft","getLineHeightPx","node","computedStyle","window","getComputedStyle","isDigit","lineHeight","charCodeAt","parseFloat","fontSize","calculateLineHeightPx","nodeName","createCustomEvent","CustomEvent","type","options","document","cancelable","detail","createEvent","initCustomEvent","CHAR_CODE_ZERO","CHAR_CODE_NINE","charCode","body","tempNode","createElement","innerHTML","style","fontFamily","padding","appendChild","HTMLTextAreaElement","rows","height","offsetHeight","removeChild","_eventemitter2","_interopRequireDefault","_utils","_possibleConstructorReturn","self","ReferenceError","Editor","_EventEmitter","getPrototypeOf","subClass","superClass","constructor","setPrototypeOf","_inherits","Error","code","moveEvent","enterEvent","changeEvent","getBeforeCursor","escEvent","e","keyCode","ctrlKey","Textcomplete","Textarea","_textarea2","_textcomplete2","_update2","_editor2","getCaretCoordinates","CALLBACK_METHODS","_Editor","forEach","method","bind","startListening","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getter","_get","stopListening","searchResult","before","getAfterCursor","focus","dispatchEvent","Event","elOffset","elScroll","getElScroll","cursorPosition","getCursorPosition","dir","right","clientWidth","selectionStart","selectionEnd","substring","scrollTop","scrollLeft","emitChangeEvent","getCode","emitMoveEvent","emitEnterEvent","emitEscEvent","defaultPrevented","preventDefault","addEventListener","onInput","onKeydown","removeEventListener","headToCursor","cursorToTail","curr","next","activeElement","aLength","cLength","Math","min","setSelectionRange","strB2","execCommand","initEvent","properties","isBrowser","isFirefox","mozInnerScreenX","element","position","debug","querySelector","parentNode","div","id","computed","currentStyle","isInput","whiteSpace","wordWrap","visibility","prop","scrollHeight","overflowY","overflow","textContent","span","coordinates","offsetTop","offsetLeft","backgroundColor","_completer2","_dropdown2","_strategy2","editor","completer","isQueryInFlight","nextPendingQuery","dropdown","destroyEditor","destroy","deactivate","strategyPropsArray","_this2","registerStrategy","run","_ref","searchResults","render","getCursorOffset","trigger","up","down","activeItem","getActiveItem","select","shown","selectEvent","applySearchResult","_this3","handleMove","handleEnter","handleEsc","handleChange","handleSelect","eventName","handleHit","_query2","Completer","strategies","query","extractQuery","execute","handleQueryResult","build","_search_result2","Query","map","result","_dropdown_item2","Dropdown","items","footer","header","maxCount","className","rotate","placement","itemOptions","item","keys","display","zIndex","clear","_el","cursorOffset","renderEvent","rawResults","dropdownItems","setStrategyId","renderEdge","append","show","setOffset","hide","dropdownItem","moveActiveItem","fragment","createDocumentFragment","appended","doc","elementWidth","offsetWidth","browserWidth","isPlacementTop","bottom","clientHeight","showEvent","hideEvent","direction","nextActiveItem","prev","activate","strategyId","setAttribute","removeAttribute","source","content","li","classList","add","DEFAULT_CLASS_NAME","_search_result","DropdownItem","active","activeClassName","onClick","onMouseover","siblings","_activeItem","a","nextIndex"],"mappings":"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","file":"js/vendors~bbcode.e36a329db470aa36f7f8.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _strategy = require(\"./strategy\");\n\nvar _strategy2 = _interopRequireDefault(_strategy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Encapsulate an result of each search results.\n */\nvar SearchResult = function () {\n\n  /**\n   * @param {object} data - An element of array callbacked by search function.\n   */\n  function SearchResult(data, term, strategy) {\n    _classCallCheck(this, SearchResult);\n\n    this.data = data;\n    this.term = term;\n    this.strategy = strategy;\n  }\n\n  _createClass(SearchResult, [{\n    key: \"replace\",\n    value: function replace(beforeCursor, afterCursor) {\n      var replacement = this.strategy.replace(this.data);\n      if (replacement !== null) {\n        if (Array.isArray(replacement)) {\n          afterCursor = replacement[1] + afterCursor;\n          replacement = replacement[0];\n        }\n        var match = this.strategy.matchText(beforeCursor);\n        if (match) {\n          replacement = replacement.replace(/\\$&/g, match[0]).replace(/\\$(\\d)/g, function (_, p1) {\n            return match[parseInt(p1, 10)];\n          });\n          return [[beforeCursor.slice(0, match.index), replacement, beforeCursor.slice(match.index + match[0].length)].join(\"\"), afterCursor];\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.strategy.template(this.data, this.term);\n    }\n  }]);\n\n  return SearchResult;\n}();\n\nexports.default = SearchResult;\n//# sourceMappingURL=search_result.js.map","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_INDEX = 2;\n\nfunction DEFAULT_TEMPLATE(value) {\n  return value;\n}\n\n/**\n * Properties for a strategy.\n *\n * @typedef\n */\n\n/**\n * Encapsulate a single strategy.\n */\nvar Strategy = function () {\n  function Strategy(props) {\n    _classCallCheck(this, Strategy);\n\n    this.props = props;\n    this.cache = props.cache ? {} : null;\n  }\n\n  /**\n   * @return {this}\n   */\n\n\n  _createClass(Strategy, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.cache = null;\n      return this;\n    }\n  }, {\n    key: \"search\",\n    value: function search(term, callback, match) {\n      if (this.cache) {\n        this.searchWithCache(term, callback, match);\n      } else {\n        this.props.search(term, callback, match);\n      }\n    }\n\n    /**\n     * @param {object} data - An element of array callbacked by search function.\n     */\n\n  }, {\n    key: \"replace\",\n    value: function replace(data) {\n      return this.props.replace(data);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"searchWithCache\",\n    value: function searchWithCache(term, callback, match) {\n      var _this = this;\n\n      if (this.cache && this.cache[term]) {\n        callback(this.cache[term]);\n      } else {\n        this.props.search(term, function (results) {\n          if (_this.cache) {\n            _this.cache[term] = results;\n          }\n          callback(results);\n        }, match);\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"matchText\",\n    value: function matchText(text) {\n      if (typeof this.match === \"function\") {\n        return this.match(text);\n      } else {\n        return text.match(this.match);\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"match\",\n    get: function get() {\n      return this.props.match;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"index\",\n    get: function get() {\n      return typeof this.props.index === \"number\" ? this.props.index : DEFAULT_INDEX;\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return this.props.template || DEFAULT_TEMPLATE;\n    }\n  }]);\n\n  return Strategy;\n}();\n\nexports.default = Strategy;\n//# sourceMappingURL=strategy.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculateElementOffset = calculateElementOffset;\nexports.getLineHeightPx = getLineHeightPx;\nexports.calculateLineHeightPx = calculateLineHeightPx;\n\n\n/**\n * Create a custom event\n *\n * @private\n */\nvar createCustomEvent = exports.createCustomEvent = function () {\n  if (typeof window.CustomEvent === \"function\") {\n    return function (type, options) {\n      return new document.defaultView.CustomEvent(type, {\n        cancelable: options && options.cancelable || false,\n        detail: options && options.detail || undefined\n      });\n    };\n  } else {\n    // Custom event polyfill from\n    // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n    return function (type, options) {\n      var event = document.createEvent(\"CustomEvent\");\n      event.initCustomEvent(type,\n      /* bubbles */false, options && options.cancelable || false, options && options.detail || undefined);\n      return event;\n    };\n  }\n}();\n\n/**\n * Get the current coordinates of the `el` relative to the document.\n *\n * @private\n */\nfunction calculateElementOffset(el) {\n  var rect = el.getBoundingClientRect();\n  var _el$ownerDocument = el.ownerDocument,\n      defaultView = _el$ownerDocument.defaultView,\n      documentElement = _el$ownerDocument.documentElement;\n\n  var offset = {\n    top: rect.top + defaultView.pageYOffset,\n    left: rect.left + defaultView.pageXOffset\n  };\n  if (documentElement) {\n    offset.top -= documentElement.clientTop;\n    offset.left -= documentElement.clientLeft;\n  }\n  return offset;\n}\n\nvar CHAR_CODE_ZERO = \"0\".charCodeAt(0);\nvar CHAR_CODE_NINE = \"9\".charCodeAt(0);\n\nfunction isDigit(charCode) {\n  return charCode >= CHAR_CODE_ZERO && charCode <= CHAR_CODE_NINE;\n}\n\n/**\n * Returns the line-height of the given node in pixels.\n *\n * @private\n */\nfunction getLineHeightPx(node) {\n  var computedStyle = window.getComputedStyle(node);\n\n  // If the char code starts with a digit, it is either a value in pixels,\n  // or unitless, as per:\n  // https://drafts.csswg.org/css2/visudet.html#propdef-line-height\n  // https://drafts.csswg.org/css2/cascade.html#computed-value\n  if (isDigit(computedStyle.lineHeight.charCodeAt(0))) {\n    // In real browsers the value is *always* in pixels, even for unit-less\n    // line-heights. However, we still check as per the spec.\n    if (isDigit(computedStyle.lineHeight.charCodeAt(computedStyle.lineHeight.length - 1))) {\n      return parseFloat(computedStyle.lineHeight) * parseFloat(computedStyle.fontSize);\n    } else {\n      return parseFloat(computedStyle.lineHeight);\n    }\n  }\n\n  // Otherwise, the value is \"normal\".\n  // If the line-height is \"normal\", calculate by font-size\n  return calculateLineHeightPx(node.nodeName, computedStyle);\n}\n\n/**\n * Returns calculated line-height of the given node in pixels.\n *\n * @private\n */\nfunction calculateLineHeightPx(nodeName, computedStyle) {\n  var body = document.body;\n  if (!body) {\n    return 0;\n  }\n\n  var tempNode = document.createElement(nodeName);\n  tempNode.innerHTML = \"&nbsp;\";\n  tempNode.style.fontSize = computedStyle.fontSize;\n  tempNode.style.fontFamily = computedStyle.fontFamily;\n  tempNode.style.padding = \"0\";\n  body.appendChild(tempNode);\n\n  // Make sure textarea has only 1 row\n  if (tempNode instanceof HTMLTextAreaElement) {\n    ;tempNode.rows = 1;\n  }\n\n  // Assume the height of the element is the line-height\n  var height = tempNode.offsetHeight;\n  body.removeChild(tempNode);\n\n  return height;\n}\n//# sourceMappingURL=utils.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventemitter = require(\"eventemitter3\");\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _utils = require(\"./utils\");\n\nvar _search_result = require(\"./search_result\");\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/*eslint no-unused-vars: off*/\n\n/**\n * Abstract class representing a editor target.\n *\n * Editor classes must implement `#applySearchResult`, `#getCursorOffset` and\n * `#getBeforeCursor` methods.\n *\n * Editor classes must invoke `#emitMoveEvent`, `#emitEnterEvent`,\n * `#emitChangeEvent` and `#emitEscEvent` at proper timing.\n *\n * @abstract\n */\n\n\n/** @typedef */\nvar Editor = function (_EventEmitter) {\n  _inherits(Editor, _EventEmitter);\n\n  function Editor() {\n    _classCallCheck(this, Editor);\n\n    return _possibleConstructorReturn(this, (Editor.__proto__ || Object.getPrototypeOf(Editor)).apply(this, arguments));\n  }\n\n  _createClass(Editor, [{\n    key: \"destroy\",\n\n    /**\n     * It is called when associated textcomplete object is destroyed.\n     *\n     * @return {this}\n     */\n    value: function destroy() {\n      return this;\n    }\n\n    /**\n     * It is called when a search result is selected by a user.\n     */\n\n  }, {\n    key: \"applySearchResult\",\n    value: function applySearchResult(_) {\n      throw new Error(\"Not implemented.\");\n    }\n\n    /**\n     * The input cursor's absolute coordinates from the window's left\n     * top corner.\n     */\n\n  }, {\n    key: \"getCursorOffset\",\n    value: function getCursorOffset() {\n      throw new Error(\"Not implemented.\");\n    }\n\n    /**\n     * Editor string value from head to cursor.\n     * Returns null if selection type is range not cursor.\n     */\n\n  }, {\n    key: \"getBeforeCursor\",\n    value: function getBeforeCursor() {\n      throw new Error(\"Not implemented.\");\n    }\n\n    /**\n     * Emit a move event, which moves active dropdown element.\n     * Child class must call this method at proper timing with proper parameter.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitMoveEvent\",\n    value: function emitMoveEvent(code) {\n      var moveEvent = (0, _utils.createCustomEvent)(\"move\", {\n        cancelable: true,\n        detail: {\n          code: code\n        }\n      });\n      this.emit(\"move\", moveEvent);\n      return moveEvent;\n    }\n\n    /**\n     * Emit a enter event, which selects current search result.\n     * Child class must call this method at proper timing.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitEnterEvent\",\n    value: function emitEnterEvent() {\n      var enterEvent = (0, _utils.createCustomEvent)(\"enter\", { cancelable: true });\n      this.emit(\"enter\", enterEvent);\n      return enterEvent;\n    }\n\n    /**\n     * Emit a change event, which triggers auto completion.\n     * Child class must call this method at proper timing.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitChangeEvent\",\n    value: function emitChangeEvent() {\n      var changeEvent = (0, _utils.createCustomEvent)(\"change\", {\n        detail: {\n          beforeCursor: this.getBeforeCursor()\n        }\n      });\n      this.emit(\"change\", changeEvent);\n      return changeEvent;\n    }\n\n    /**\n     * Emit a esc event, which hides dropdown element.\n     * Child class must call this method at proper timing.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitEscEvent\",\n    value: function emitEscEvent() {\n      var escEvent = (0, _utils.createCustomEvent)(\"esc\", { cancelable: true });\n      this.emit(\"esc\", escEvent);\n      return escEvent;\n    }\n\n    /**\n     * Helper method for parsing KeyboardEvent.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"getCode\",\n    value: function getCode(e) {\n      return e.keyCode === 9 ? \"ENTER\" // tab\n      : e.keyCode === 13 ? \"ENTER\" // enter\n      : e.keyCode === 27 ? \"ESC\" // esc\n      : e.keyCode === 38 ? \"UP\" // up\n      : e.keyCode === 40 ? \"DOWN\" // down\n      : e.keyCode === 78 && e.ctrlKey ? \"DOWN\" // ctrl-n\n      : e.keyCode === 80 && e.ctrlKey ? \"UP\" // ctrl-p\n      : \"OTHER\";\n    }\n  }]);\n\n  return Editor;\n}(_eventemitter2.default);\n\nexports.default = Editor;\n//# sourceMappingURL=editor.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Textcomplete = exports.Textarea = undefined;\n\nvar _textarea = require(\"./textarea\");\n\nvar _textarea2 = _interopRequireDefault(_textarea);\n\nvar _textcomplete = require(\"./textcomplete\");\n\nvar _textcomplete2 = _interopRequireDefault(_textcomplete);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Textarea = _textarea2.default;\nexports.Textcomplete = _textcomplete2.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _update = require(\"undate/lib/update\");\n\nvar _update2 = _interopRequireDefault(_update);\n\nvar _editor = require(\"./editor\");\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _utils = require(\"./utils\");\n\nvar _search_result = require(\"./search_result\");\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar getCaretCoordinates = require(\"textarea-caret\");\n\nvar CALLBACK_METHODS = [\"onInput\", \"onKeydown\"];\n\n/**\n * Encapsulate the target textarea element.\n */\n\nvar Textarea = function (_Editor) {\n  _inherits(Textarea, _Editor);\n\n  /**\n   * @param {HTMLTextAreaElement} el - Where the textcomplete works on.\n   */\n  function Textarea(el) {\n    _classCallCheck(this, Textarea);\n\n    var _this = _possibleConstructorReturn(this, (Textarea.__proto__ || Object.getPrototypeOf(Textarea)).call(this));\n\n    _this.el = el;\n\n    CALLBACK_METHODS.forEach(function (method) {\n      ;_this[method] = _this[method].bind(_this);\n    });\n\n    _this.startListening();\n    return _this;\n  }\n\n  /**\n   * @return {this}\n   */\n\n\n  _createClass(Textarea, [{\n    key: \"destroy\",\n    value: function destroy() {\n      _get(Textarea.prototype.__proto__ || Object.getPrototypeOf(Textarea.prototype), \"destroy\", this).call(this);\n      this.stopListening()\n      // Release the element reference early to help garbage collection.\n      ;this.el = null;\n      return this;\n    }\n\n    /**\n     * Implementation for {@link Editor#applySearchResult}\n     */\n\n  }, {\n    key: \"applySearchResult\",\n    value: function applySearchResult(searchResult) {\n      var before = this.getBeforeCursor();\n      if (before != null) {\n        var replace = searchResult.replace(before, this.getAfterCursor());\n        this.el.focus(); // Clicking a dropdown item removes focus from the element.\n        if (Array.isArray(replace)) {\n          (0, _update2.default)(this.el, replace[0], replace[1]);\n          this.el.dispatchEvent(new Event(\"input\"));\n        }\n      }\n    }\n\n    /**\n     * Implementation for {@link Editor#getCursorOffset}\n     */\n\n  }, {\n    key: \"getCursorOffset\",\n    value: function getCursorOffset() {\n      var elOffset = (0, _utils.calculateElementOffset)(this.el);\n      var elScroll = this.getElScroll();\n      var cursorPosition = this.getCursorPosition();\n      var lineHeight = (0, _utils.getLineHeightPx)(this.el);\n      var top = elOffset.top - elScroll.top + cursorPosition.top + lineHeight;\n      var left = elOffset.left - elScroll.left + cursorPosition.left;\n      if (this.el.dir !== \"rtl\") {\n        return { top: top, left: left, lineHeight: lineHeight };\n      } else {\n        var right = document.documentElement ? document.documentElement.clientWidth - left : 0;\n        return { top: top, right: right, lineHeight: lineHeight };\n      }\n    }\n\n    /**\n     * Implementation for {@link Editor#getBeforeCursor}\n     */\n\n  }, {\n    key: \"getBeforeCursor\",\n    value: function getBeforeCursor() {\n      return this.el.selectionStart !== this.el.selectionEnd ? null : this.el.value.substring(0, this.el.selectionEnd);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"getAfterCursor\",\n    value: function getAfterCursor() {\n      return this.el.value.substring(this.el.selectionEnd);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"getElScroll\",\n    value: function getElScroll() {\n      return { top: this.el.scrollTop, left: this.el.scrollLeft };\n    }\n\n    /**\n     * The input cursor's relative coordinates from the textarea's left\n     * top corner.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"getCursorPosition\",\n    value: function getCursorPosition() {\n      return getCaretCoordinates(this.el, this.el.selectionEnd);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"onInput\",\n    value: function onInput() {\n      this.emitChangeEvent();\n    }\n\n    /** @private */\n\n  }, {\n    key: \"onKeydown\",\n    value: function onKeydown(e) {\n      var code = this.getCode(e);\n      var event = void 0;\n      if (code === \"UP\" || code === \"DOWN\") {\n        event = this.emitMoveEvent(code);\n      } else if (code === \"ENTER\") {\n        event = this.emitEnterEvent();\n      } else if (code === \"ESC\") {\n        event = this.emitEscEvent();\n      }\n      if (event && event.defaultPrevented) {\n        e.preventDefault();\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"startListening\",\n    value: function startListening() {\n      this.el.addEventListener(\"input\", this.onInput);\n      this.el.addEventListener(\"keydown\", this.onKeydown);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening() {\n      this.el.removeEventListener(\"input\", this.onInput);\n      this.el.removeEventListener(\"keydown\", this.onKeydown);\n    }\n  }]);\n\n  return Textarea;\n}(_editor2.default);\n\nexports.default = Textarea;\n//# sourceMappingURL=textarea.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (el, headToCursor, cursorToTail) {\n  var curr = el.value,\n      // strA + strB1 + strC\n  next = headToCursor + (cursorToTail || ''),\n      // strA + strB2 + strC\n  activeElement = document.activeElement;\n\n  //  Calculate length of strA and strC\n  var aLength = 0,\n      cLength = 0;\n  while (aLength < curr.length && aLength < next.length && curr[aLength] === next[aLength]) {\n    aLength++;\n  }\n  while (curr.length - cLength - 1 >= 0 && next.length - cLength - 1 >= 0 && curr[curr.length - cLength - 1] === next[next.length - cLength - 1]) {\n    cLength++;\n  }\n  aLength = Math.min(aLength, Math.min(curr.length, next.length) - cLength);\n\n  // Select strB1\n  el.setSelectionRange(aLength, curr.length - cLength);\n\n  // Get strB2\n  var strB2 = next.substring(aLength, next.length - cLength);\n\n  // Replace strB1 with strB2\n  el.focus();\n  if (!document.execCommand('insertText', false, strB2)) {\n    // Document.execCommand returns false if the command is not supported.\n    // Firefox and IE returns false in this case.\n    el.value = next;\n\n    // Dispatch input event. Note that `new Event(\"input\")` throws an error on IE11\n    var event = document.createEvent(\"Event\");\n    event.initEvent(\"input\", true, true);\n    el.dispatchEvent(event);\n  }\n\n  // Move cursor to the end of headToCursor\n  el.setSelectionRange(headToCursor.length, headToCursor.length);\n\n  activeElement && activeElement.focus();\n  return el;\n};","/* jshint browser: true */\n\n(function () {\n\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nvar properties = [\n  'direction',  // RTL support\n  'boxSizing',\n  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY',  // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration',  // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n\n];\n\nvar isBrowser = (typeof window !== 'undefined');\nvar isFirefox = (isBrowser && window.mozInnerScreenX != null);\n\nfunction getCaretCoordinates(element, position, options) {\n  if (!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  var debug = options && options.debug || false;\n  if (debug) {\n    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if (el) el.parentNode.removeChild(el);\n  }\n\n  // The mirror div will replicate the textarea's style\n  var div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  var style = div.style;\n  var computed = window.getComputedStyle ? window.getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n  var isInput = element.nodeName === 'INPUT';\n\n  // Default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (!isInput)\n    style.wordWrap = 'break-word';  // only for textarea-s\n\n  // Position off-screen\n  style.position = 'absolute';  // required to return coordinates properly\n  if (!debug)\n    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach(function (prop) {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      style.lineHeight = computed.height;\n    } else {\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (isInput)\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n\n  var span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  var coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth']),\n    height: parseInt(computed['lineHeight'])\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\nif (typeof module != 'undefined' && typeof module.exports != 'undefined') {\n  module.exports = getCaretCoordinates;\n} else if(isBrowser) {\n  window.getCaretCoordinates = getCaretCoordinates;\n}\n\n}());\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _completer = require(\"./completer\");\n\nvar _completer2 = _interopRequireDefault(_completer);\n\nvar _editor = require(\"./editor\");\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _dropdown = require(\"./dropdown\");\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nvar _strategy = require(\"./strategy\");\n\nvar _strategy2 = _interopRequireDefault(_strategy);\n\nvar _search_result = require(\"./search_result\");\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nvar _eventemitter = require(\"eventemitter3\");\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CALLBACK_METHODS = [\"handleChange\", \"handleEnter\", \"handleEsc\", \"handleHit\", \"handleMove\", \"handleSelect\"];\n\n/** @typedef */\n\n/**\n * The core of textcomplete. It acts as a mediator.\n */\nvar Textcomplete = function (_EventEmitter) {\n  _inherits(Textcomplete, _EventEmitter);\n\n  /**\n   * @param {Editor} editor - Where the textcomplete works on.\n   */\n  function Textcomplete(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Textcomplete);\n\n    var _this = _possibleConstructorReturn(this, (Textcomplete.__proto__ || Object.getPrototypeOf(Textcomplete)).call(this));\n\n    _this.completer = new _completer2.default();\n    _this.isQueryInFlight = false;\n    _this.nextPendingQuery = null;\n    _this.dropdown = new _dropdown2.default(options.dropdown || {});\n    _this.editor = editor;\n    _this.options = options;\n\n    CALLBACK_METHODS.forEach(function (method) {\n      ;_this[method] = _this[method].bind(_this);\n    });\n\n    _this.startListening();\n    return _this;\n  }\n\n  /**\n   * @return {this}\n   */\n\n\n  _createClass(Textcomplete, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var destroyEditor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.completer.destroy();\n      this.dropdown.destroy();\n      if (destroyEditor) {\n        this.editor.destroy();\n      }\n      this.stopListening();\n      return this;\n    }\n\n    /**\n     * @return {this}\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.dropdown.deactivate();\n      return this;\n    }\n\n    /**\n     * @return {this}\n     * @example\n     * textcomplete.register([{\n     *   match: /(^|\\s)(\\w+)$/,\n     *   search: function (term, callback) {\n     *     $.ajax({ ... })\n     *       .done(callback)\n     *       .fail([]);\n     *   },\n     *   replace: function (value) {\n     *     return '$1' + value + ' ';\n     *   }\n     * }]);\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(strategyPropsArray) {\n      var _this2 = this;\n\n      strategyPropsArray.forEach(function (props) {\n        _this2.completer.registerStrategy(new _strategy2.default(props));\n      });\n      return this;\n    }\n\n    /**\n     * Start autocompleting.\n     *\n     * @param {string} text - Head to input cursor.\n     * @return {this}\n     */\n\n  }, {\n    key: \"trigger\",\n    value: function trigger(text) {\n      if (this.isQueryInFlight) {\n        this.nextPendingQuery = text;\n      } else {\n        this.isQueryInFlight = true;\n        this.nextPendingQuery = null;\n        this.completer.run(text);\n      }\n      return this;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"handleHit\",\n    value: function handleHit(_ref) {\n      var searchResults = _ref.searchResults;\n\n      if (searchResults.length) {\n        this.dropdown.render(searchResults, this.editor.getCursorOffset());\n      } else {\n        this.dropdown.deactivate();\n      }\n      this.isQueryInFlight = false;\n      if (this.nextPendingQuery !== null) {\n        this.trigger(this.nextPendingQuery);\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"handleMove\",\n    value: function handleMove(e) {\n      e.detail.code === \"UP\" ? this.dropdown.up(e) : this.dropdown.down(e);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"handleEnter\",\n    value: function handleEnter(e) {\n      var activeItem = this.dropdown.getActiveItem();\n      if (activeItem) {\n        this.dropdown.select(activeItem);\n        e.preventDefault();\n      } else {\n        this.dropdown.deactivate();\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"handleEsc\",\n    value: function handleEsc(e) {\n      if (this.dropdown.shown) {\n        this.dropdown.deactivate();\n        e.preventDefault();\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      if (e.detail.beforeCursor != null) {\n        this.trigger(e.detail.beforeCursor);\n      } else {\n        this.dropdown.deactivate();\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"handleSelect\",\n    value: function handleSelect(selectEvent) {\n      this.emit(\"select\", selectEvent);\n      if (!selectEvent.defaultPrevented) {\n        this.editor.applySearchResult(selectEvent.detail.searchResult);\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"startListening\",\n    value: function startListening() {\n      var _this3 = this;\n\n      this.editor.on(\"move\", this.handleMove).on(\"enter\", this.handleEnter).on(\"esc\", this.handleEsc).on(\"change\", this.handleChange);\n      this.dropdown.on(\"select\", this.handleSelect);[\"show\", \"shown\", \"render\", \"rendered\", \"selected\", \"hidden\", \"hide\"].forEach(function (eventName) {\n        _this3.dropdown.on(eventName, function () {\n          return _this3.emit(eventName);\n        });\n      });\n      this.completer.on(\"hit\", this.handleHit);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening() {\n      this.completer.removeAllListeners();\n      this.dropdown.removeAllListeners();\n      this.editor.removeListener(\"move\", this.handleMove).removeListener(\"enter\", this.handleEnter).removeListener(\"esc\", this.handleEsc).removeListener(\"change\", this.handleChange);\n    }\n  }]);\n\n  return Textcomplete;\n}(_eventemitter2.default);\n\nexports.default = Textcomplete;\n//# sourceMappingURL=textcomplete.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventemitter = require(\"eventemitter3\");\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _query = require(\"./query\");\n\nvar _query2 = _interopRequireDefault(_query);\n\nvar _search_result = require(\"./search_result\");\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nvar _strategy = require(\"./strategy\");\n\nvar _strategy2 = _interopRequireDefault(_strategy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CALLBACK_METHODS = [\"handleQueryResult\"];\n\n/**\n * Complete engine.\n */\n\nvar Completer = function (_EventEmitter) {\n  _inherits(Completer, _EventEmitter);\n\n  function Completer() {\n    _classCallCheck(this, Completer);\n\n    var _this = _possibleConstructorReturn(this, (Completer.__proto__ || Object.getPrototypeOf(Completer)).call(this));\n\n    _this.strategies = [];\n\n    CALLBACK_METHODS.forEach(function (method) {\n      ;_this[method] = _this[method].bind(_this);\n    });\n    return _this;\n  }\n\n  /**\n   * @return {this}\n   */\n\n\n  _createClass(Completer, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.strategies.forEach(function (strategy) {\n        return strategy.destroy();\n      });\n      return this;\n    }\n\n    /**\n     * Register a strategy to the completer.\n     *\n     * @return {this}\n     */\n\n  }, {\n    key: \"registerStrategy\",\n    value: function registerStrategy(strategy) {\n      this.strategies.push(strategy);\n      return this;\n    }\n\n    /**\n     * @param {string} text - Head to input cursor.\n     */\n\n  }, {\n    key: \"run\",\n    value: function run(text) {\n      var query = this.extractQuery(text);\n      if (query) {\n        query.execute(this.handleQueryResult);\n      } else {\n        this.handleQueryResult([]);\n      }\n    }\n\n    /**\n     * Find a query, which matches to the given text.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"extractQuery\",\n    value: function extractQuery(text) {\n      for (var i = 0; i < this.strategies.length; i++) {\n        var query = _query2.default.build(this.strategies[i], text);\n        if (query) {\n          return query;\n        }\n      }\n      return null;\n    }\n\n    /**\n     * Callbacked by {@link Query#execute}.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"handleQueryResult\",\n    value: function handleQueryResult(searchResults) {\n      this.emit(\"hit\", { searchResults: searchResults });\n    }\n  }]);\n\n  return Completer;\n}(_eventemitter2.default);\n\nexports.default = Completer;\n//# sourceMappingURL=completer.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _search_result = require(\"./search_result\");\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nvar _strategy = require(\"./strategy\");\n\nvar _strategy2 = _interopRequireDefault(_strategy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Encapsulate matching condition between a Strategy and current editor's value.\n */\nvar Query = function () {\n  _createClass(Query, null, [{\n    key: \"build\",\n\n\n    /**\n     * Build a Query object by the given string if this matches to the string.\n     *\n     * @param {string} text - Head to input cursor.\n     */\n    value: function build(strategy, text) {\n      if (typeof strategy.props.context === \"function\") {\n        var context = strategy.props.context(text);\n        if (typeof context === \"string\") {\n          text = context;\n        } else if (!context) {\n          return null;\n        }\n      }\n      var match = strategy.matchText(text);\n      return match ? new Query(strategy, match[strategy.index], match) : null;\n    }\n  }]);\n\n  function Query(strategy, term, match) {\n    _classCallCheck(this, Query);\n\n    this.strategy = strategy;\n    this.term = term;\n    this.match = match;\n  }\n\n  /**\n   * Invoke search strategy and callback the given function.\n   */\n\n\n  _createClass(Query, [{\n    key: \"execute\",\n    value: function execute(callback) {\n      var _this = this;\n\n      this.strategy.search(this.term, function (results) {\n        callback(results.map(function (result) {\n          return new _search_result2.default(result, _this.term, _this.strategy);\n        }));\n      }, this.match);\n    }\n  }]);\n\n  return Query;\n}();\n\nexports.default = Query;\n//# sourceMappingURL=query.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventemitter = require(\"eventemitter3\");\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _dropdown_item = require(\"./dropdown_item\");\n\nvar _dropdown_item2 = _interopRequireDefault(_dropdown_item);\n\nvar _search_result = require(\"./search_result\");\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_CLASS_NAME = \"dropdown-menu textcomplete-dropdown\";\n\n/** @typedef */\n\n/**\n * Encapsulate a dropdown view.\n *\n * @prop {boolean} shown - Whether the #el is shown or not.\n * @prop {DropdownItem[]} items - The array of rendered dropdown items.\n */\nvar Dropdown = function (_EventEmitter) {\n  _inherits(Dropdown, _EventEmitter);\n\n  _createClass(Dropdown, null, [{\n    key: \"createElement\",\n    value: function createElement() {\n      var el = document.createElement(\"ul\");\n      var style = el.style;\n      style.display = \"none\";\n      style.position = \"absolute\";\n      style.zIndex = \"10000\";\n      var body = document.body;\n      if (body) {\n        body.appendChild(el);\n      }\n      return el;\n    }\n  }]);\n\n  function Dropdown(options) {\n    _classCallCheck(this, Dropdown);\n\n    var _this = _possibleConstructorReturn(this, (Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call(this));\n\n    _this.shown = false;\n    _this.items = [];\n    _this.activeItem = null;\n    _this.footer = options.footer;\n    _this.header = options.header;\n    _this.maxCount = options.maxCount || 10;\n    _this.el.className = options.className || DEFAULT_CLASS_NAME;\n    _this.rotate = options.hasOwnProperty(\"rotate\") ? options.rotate : true;\n    _this.placement = options.placement;\n    _this.itemOptions = options.item || {};\n    var style = options.style;\n    if (style) {\n      Object.keys(style).forEach(function (key) {\n        ;_this.el.style[key] = style[key];\n      });\n    }\n    return _this;\n  }\n\n  /**\n   * @return {this}\n   */\n\n\n  _createClass(Dropdown, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var parentNode = this.el.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(this.el);\n      }\n      this.clear()._el = null;\n      return this;\n    }\n  }, {\n    key: \"render\",\n\n\n    /**\n     * Render the given data as dropdown items.\n     *\n     * @return {this}\n     */\n    value: function render(searchResults, cursorOffset) {\n      var _this2 = this;\n\n      var renderEvent = (0, _utils.createCustomEvent)(\"render\", { cancelable: true });\n      this.emit(\"render\", renderEvent);\n      if (renderEvent.defaultPrevented) {\n        return this;\n      }\n      var rawResults = searchResults.map(function (searchResult) {\n        return searchResult.data;\n      });\n      var dropdownItems = searchResults.slice(0, this.maxCount || searchResults.length).map(function (searchResult) {\n        return new _dropdown_item2.default(searchResult, _this2.itemOptions);\n      });\n      this.clear().setStrategyId(searchResults[0]).renderEdge(rawResults, \"header\").append(dropdownItems).renderEdge(rawResults, \"footer\").show().setOffset(cursorOffset);\n      this.emit(\"rendered\", (0, _utils.createCustomEvent)(\"rendered\"));\n      return this;\n    }\n\n    /**\n     * Hide the dropdown then sweep out items.\n     *\n     * @return {this}\n     */\n\n  }, {\n    key: \"deactivate\",\n    value: function deactivate() {\n      return this.hide().clear();\n    }\n\n    /**\n     * @return {this}\n     */\n\n  }, {\n    key: \"select\",\n    value: function select(dropdownItem) {\n      var detail = { searchResult: dropdownItem.searchResult };\n      var selectEvent = (0, _utils.createCustomEvent)(\"select\", {\n        cancelable: true,\n        detail: detail\n      });\n      this.emit(\"select\", selectEvent);\n      if (selectEvent.defaultPrevented) {\n        return this;\n      }\n      this.deactivate();\n      this.emit(\"selected\", (0, _utils.createCustomEvent)(\"selected\", { detail: detail }));\n      return this;\n    }\n\n    /**\n     * @return {this}\n     */\n\n  }, {\n    key: \"up\",\n    value: function up(e) {\n      return this.shown ? this.moveActiveItem(\"prev\", e) : this;\n    }\n\n    /**\n     * @return {this}\n     */\n\n  }, {\n    key: \"down\",\n    value: function down(e) {\n      return this.shown ? this.moveActiveItem(\"next\", e) : this;\n    }\n\n    /**\n     * Retrieve the active item.\n     */\n\n  }, {\n    key: \"getActiveItem\",\n    value: function getActiveItem() {\n      return this.activeItem;\n    }\n\n    /**\n     * Add items to dropdown.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"append\",\n    value: function append(items) {\n      var _this3 = this;\n\n      var fragment = document.createDocumentFragment();\n      items.forEach(function (item) {\n        _this3.items.push(item);\n        item.appended(_this3);\n        fragment.appendChild(item.el);\n      });\n      this.el.appendChild(fragment);\n      return this;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"setOffset\",\n    value: function setOffset(cursorOffset) {\n      var doc = document.documentElement;\n      if (doc) {\n        var elementWidth = this.el.offsetWidth;\n        if (cursorOffset.left) {\n          var browserWidth = doc.clientWidth;\n          if (cursorOffset.left + elementWidth > browserWidth) {\n            cursorOffset.left = browserWidth - elementWidth;\n          }\n          this.el.style.left = cursorOffset.left + \"px\";\n        } else if (cursorOffset.right) {\n          if (cursorOffset.right - elementWidth < 0) {\n            cursorOffset.right = 0;\n          }\n          this.el.style.right = cursorOffset.right + \"px\";\n        }\n        if (this.isPlacementTop()) {\n          this.el.style.bottom = doc.clientHeight - cursorOffset.top + cursorOffset.lineHeight + \"px\";\n        } else {\n          this.el.style.top = cursorOffset.top + \"px\";\n        }\n      }\n      return this;\n    }\n\n    /**\n     * Show the element.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.shown) {\n        var showEvent = (0, _utils.createCustomEvent)(\"show\", { cancelable: true });\n        this.emit(\"show\", showEvent);\n        if (showEvent.defaultPrevented) {\n          return this;\n        }\n        this.el.style.display = \"block\";\n        this.shown = true;\n        this.emit(\"shown\", (0, _utils.createCustomEvent)(\"shown\"));\n      }\n      return this;\n    }\n\n    /**\n     * Hide the element.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.shown) {\n        var hideEvent = (0, _utils.createCustomEvent)(\"hide\", { cancelable: true });\n        this.emit(\"hide\", hideEvent);\n        if (hideEvent.defaultPrevented) {\n          return this;\n        }\n        this.el.style.display = \"none\";\n        this.shown = false;\n        this.emit(\"hidden\", (0, _utils.createCustomEvent)(\"hidden\"));\n      }\n      return this;\n    }\n\n    /**\n     * Clear search results.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.el.innerHTML = \"\";\n      this.items.forEach(function (item) {\n        return item.destroy();\n      });\n      this.items = [];\n      return this;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"moveActiveItem\",\n    value: function moveActiveItem(direction, e) {\n      var nextActiveItem = direction === \"next\" ? this.activeItem ? this.activeItem.next : this.items[0] : this.activeItem ? this.activeItem.prev : this.items[this.items.length - 1];\n      if (nextActiveItem) {\n        nextActiveItem.activate();\n        e.preventDefault();\n      }\n      return this;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"setStrategyId\",\n    value: function setStrategyId(searchResult) {\n      var strategyId = searchResult && searchResult.strategy.props.id;\n      if (strategyId) {\n        this.el.setAttribute(\"data-strategy\", strategyId);\n      } else {\n        this.el.removeAttribute(\"data-strategy\");\n      }\n      return this;\n    }\n\n    /**\n     * @private\n     * @param {object[]} rawResults - What callbacked by search function.\n     */\n\n  }, {\n    key: \"renderEdge\",\n    value: function renderEdge(rawResults, type) {\n      var source = (type === \"header\" ? this.header : this.footer) || \"\";\n      var content = typeof source === \"function\" ? source(rawResults) : source;\n      var li = document.createElement(\"li\");\n      li.classList.add(\"textcomplete-\" + type);\n      li.innerHTML = content;\n      this.el.appendChild(li);\n      return this;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"isPlacementTop\",\n    value: function isPlacementTop() {\n      return this.placement === \"top\";\n    }\n  }, {\n    key: \"el\",\n    get: function get() {\n      if (!this._el) {\n        this._el = Dropdown.createElement();\n      }\n      return this._el;\n    }\n  }]);\n\n  return Dropdown;\n}(_eventemitter2.default);\n\nexports.default = Dropdown;\n//# sourceMappingURL=dropdown.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEFAULT_CLASS_NAME = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _search_result = require(\"./search_result\");\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_CLASS_NAME = exports.DEFAULT_CLASS_NAME = \"textcomplete-item\";\nvar CALLBACK_METHODS = [\"onClick\", \"onMouseover\"];\n\n/** @typedef */\n\n\n// Declare interface instead of importing Dropdown itself to prevent circular dependency.\n\n/**\n * Encapsulate an item of dropdown.\n */\nvar DropdownItem = function () {\n  function DropdownItem(searchResult, options) {\n    var _this = this;\n\n    _classCallCheck(this, DropdownItem);\n\n    this.searchResult = searchResult;\n    this.active = false;\n    this.className = options.className || DEFAULT_CLASS_NAME;\n    this.activeClassName = this.className + \" active\";\n\n    CALLBACK_METHODS.forEach(function (method) {\n      ;_this[method] = _this[method].bind(_this);\n    });\n  }\n\n  _createClass(DropdownItem, [{\n    key: \"destroy\",\n\n\n    /**\n     * Try to free resources and perform other cleanup operations.\n     */\n    value: function destroy() {\n      this.el.removeEventListener(\"mousedown\", this.onClick, false);\n      this.el.removeEventListener(\"mouseover\", this.onMouseover, false);\n      this.el.removeEventListener(\"touchstart\", this.onClick, false);\n      if (this.active) {\n        this.dropdown.activeItem = null;\n      }\n      // This element has already been removed by {@link Dropdown#clear}.\n      this._el = null;\n    }\n\n    /**\n     * Callbacked when it is appended to a dropdown.\n     *\n     * @see Dropdown#append\n     */\n\n  }, {\n    key: \"appended\",\n    value: function appended(dropdown) {\n      this.dropdown = dropdown;\n      this.siblings = dropdown.items;\n      this.index = this.siblings.length - 1;\n    }\n\n    /**\n     * Deactivate active item then activate itself.\n     *\n     * @return {this}\n     */\n\n  }, {\n    key: \"activate\",\n    value: function activate() {\n      if (!this.active) {\n        var _activeItem = this.dropdown.getActiveItem();\n        if (_activeItem) {\n          _activeItem.deactivate();\n        }\n        this.dropdown.activeItem = this;\n        this.active = true;\n        this.el.className = this.activeClassName;\n      }\n      return this;\n    }\n\n    /**\n     * Get the next sibling.\n     */\n\n  }, {\n    key: \"deactivate\",\n\n\n    /** @private */\n    value: function deactivate() {\n      if (this.active) {\n        this.active = false;\n        this.el.className = this.className;\n        this.dropdown.activeItem = null;\n      }\n      return this;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      e.preventDefault(); // Prevent blur event\n      this.dropdown.select(this);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"onMouseover\",\n    value: function onMouseover() {\n      this.activate();\n    }\n  }, {\n    key: \"el\",\n    get: function get() {\n      if (this._el) {\n        return this._el;\n      }\n      var li = document.createElement(\"li\");\n      li.className = this.active ? this.activeClassName : this.className;\n      var a = document.createElement(\"a\");\n      a.innerHTML = this.searchResult.render();\n      li.appendChild(a);\n      this._el = li;\n      li.addEventListener(\"mousedown\", this.onClick);\n      li.addEventListener(\"mouseover\", this.onMouseover);\n      li.addEventListener(\"touchstart\", this.onClick);\n      return li;\n    }\n  }, {\n    key: \"next\",\n    get: function get() {\n      var nextIndex = void 0;\n      if (this.index === this.siblings.length - 1) {\n        if (!this.dropdown.rotate) {\n          return null;\n        }\n        nextIndex = 0;\n      } else {\n        nextIndex = this.index + 1;\n      }\n      return this.siblings[nextIndex];\n    }\n\n    /**\n     * Get the previous sibling.\n     */\n\n  }, {\n    key: \"prev\",\n    get: function get() {\n      var nextIndex = void 0;\n      if (this.index === 0) {\n        if (!this.dropdown.rotate) {\n          return null;\n        }\n        nextIndex = this.siblings.length - 1;\n      } else {\n        nextIndex = this.index - 1;\n      }\n      return this.siblings[nextIndex];\n    }\n  }]);\n\n  return DropdownItem;\n}();\n\nexports.default = DropdownItem;\n//# sourceMappingURL=dropdown_item.js.map"],"sourceRoot":""}