(self.webpackChunk=self.webpackChunk||[]).push([[5255,1270],{3857:(e,t,a)=>{"use strict";a.r(t),a.d(t,{isDataTableResponse:()=>l,initDataTable:()=>d,initOfflineDataTable:()=>c,fnUpdateDataTable:()=>u,fnGetSelection:()=>p,getApiFromSettings:()=>m,fnGetLastUpdate:()=>f,fnSetLastUpdate:()=>g,fnAjaxUpdateCallback:()=>b,replacePlaceholders:()=>h});var n=a(6859),i=a.n(n),r=a(3950),s=a(9203),o=a(2742);function l(e){return"object"==typeof e&&"lastUpdate"in e&&"autoUpdate"in e&&"data"in e}async function d(e){await Promise.all([a.e(8742),a.e(8787),a.e(5665),a.e(4245)]).then(a.bind(a,8415));const t=i()(e),n=t.data("settings"),s=t.data("search");n.ajax&&(n.ajax.data.lastUpdate=f(t),n.ajax.dataSrc=b(t)),n.columns.forEach((e=>e.render=o.Z[e.render]));const l=t.DataTable(n);t.dataTable().api().search(s),l.on("page",(()=>l.rows({selected:!0}).deselect())),l.on("childRow.dt",((e,t)=>(0,r.S)(t.container.get(0))))}async function c(e){await Promise.all([a.e(8742),a.e(8787),a.e(5665),a.e(4245)]).then(a.bind(a,8415)),i()(e).DataTable((0,s.IR)(e))}function u(e,t){const a=i()(e).DataTable();t.data.forEach((e=>{const t=i()('tr[data-uuid="'+e.UUID+'"]');1===t.length?"remove"in e?a.row(t).remove():(a.row(t).data(e),(0,r.S)(t.get(0))):0===t.length?a.row.add(e):alert(t.length)})),a.draw(!1)}function p(e){const t=[];return i()(e+" tbody tr.selected").each((function(){const e=i()(this).attr("data-uuid");if(!e)throw new Error("Tablerow heeft geen uuid");t.push(e)})),t}function m(e){return new(i().fn.dataTable.Api)(e)}const f=e=>()=>Number(e.data("lastupdate")),g=e=>t=>e.data("lastupdate",t),b=e=>t=>{g(e)(t.lastUpdate);const a=e.DataTable();if(t.autoUpdate){const n=parseInt(t.autoUpdate,10);!isNaN(n)&&n<6e5&&setTimeout((()=>{i().post(a.ajax.url(),{lastUpdate:f(e)},(t=>{const a=e.attr("id");if(!a)throw new Error("Table heeft geen id");u(a,t),b(e)(t)}))}),n)}return function(e){const t=e.parent();if(t.hasClass("dataTables_scrollBody")){const e=t.scrollTop(),a=t.innerHeight();if(!e||!a)throw new Error("$scroll heeft geen top of height");e+a>=t[0].scrollHeight-20&&window.setTimeout((()=>{t.animate({scrollTop:t[0].scrollHeight},800)}),200)}}(e),t.data};function h(e,t){const a=/:(\w+)/g.exec(e);if(!a)return e;for(let n=1;n<a.length;n++)e=e.replace(":"+a[n],t[a[n]]);return e}},2742:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(400),i=a.n(n),r=a(9203),s=a(3857);const o={default(e,t){if(null===e||"object"!=typeof e)return e;switch(t){case"sort":return e.sort;case"export":return e.export;default:return e.display}},bedrag:e=>(0,r.Mc)(e),check:e=>'<i class="fas fa-'+(e?"check":"xmark")+'" aria-hidden="true"></i>',aanmeldFilter:e=>e?`<i class="fas fa-key" title="Aanmeld filter actief: '${e}'" aria-hidden="true"></i>`:"",aanmeldingen:(e,t,a)=>(a.aantal_aanmeldingen||0)+" ("+a.aanmeld_limiet+")",totaalPrijs:(e,t,a)=>(0,r.Mc)(a.aantal_aanmeldingen*parseInt(a.prijs,10)),date(e){const t=i()(e);return t.isValid()?t.format("L"):e},time(e){const t=i()(e);return t.isValid()?t.format("LT"):e},datetime(e){if(Number(e)==e)return i().unix(e).format("YYYY-MM-DD HH:mm");if(!e)return"";if("<time"===e.substr(0,5))return e;if("-"===e.substr(0,1))return"Nooit";return i()(e).isValid()?i()(e).format("YYYY-MM-DD HH:mm"):e},timeago(e,t,a,n){const i=(0,s.getApiFromSettings)(n.settings).cell(n.row,n.col).node().firstChild;switch(t){case"sort":case"export":return i.dateTime;default:return e}},filesize(e,t){switch(t){case"sort":return Number(e);default:return(0,r.D9)(e)}}}},1422:(e,t,a)=>{"use strict";a.r(t);var n=a(1921),i=a(8959),r=a(8087),s=a(9203);const o=(e,t="id")=>({attrs:{[t]:{}},group:"block",draggable:!0,toDOM:a=>["div",{[`data-${e}`]:a.attrs[t],class:"pm-block"},`${e}: ${a.attrs[t]}`],parseDOM:[{tag:`div[data-${e}`,getAttrs:a=>({[t]:a.dataset[e]})}]}),l=(e,t,a="id")=>({attrs:{[a]:{},naam:{default:""}},group:"block",draggable:!0,toDOM:n=>{const i=s.dy` <div
			data-${e}="${n.attrs[a]}"
			class="bb-block"
		>
			<i class="fas fa-spinner fa-spin" aria-hidden="true"></i>
		</div>`;return fetch(`/groepen/${t}/${n.attrs[a]}/info`).then((e=>e.json())).then((e=>{var a;i.dataset.naam=e.naam;const n=s.dy` <div
					id="groep-leden-content-2152"
					class="groep-tab-content GroepPasfotosView"
					style="height: 212.8px;"
				></div>`;for(const t of e.leden)n.appendChild(s.dy`<a
						href="#"
						title="${t.naam}"
						class="lidLink"
						><img
							class="pasfoto"
							src="/profiel/pasfoto/${t.uid}.jpg"
							alt="Pasfoto van ${t.naam}"
					/></a>`);i.innerHTML="",i.appendChild(s.dy`
<div class="bb-groep">
<div class="groep-samenvatting">
<div class="float-end">
<a
class="btn"
target="_blank"
href="/groepen/${t}/${e.id}/wijzigen"
title="Wijzig ${e.naam}"
>
<i class="fas fa-pencil"></i>
</a>
</div>
<h3>${e.naam}</h3>
${null!==(a=e.samenvatting_html)&&void 0!==a?a:""}
</div>

<div id="groep-leden-2152" class="groep-leden">
<ul class="groep-tabs nobullets">
<li class="geschiedenis">
<a class="btn disabled" href="#" title="Bekijk geschiedenis">
<i class="fas fa-clock-rotate-left"></i>"></i>
</a>
</li>
<li>
<a
class="btn btn-primary disabled"
href="#"
title="Pasfoto's tonen"
>
<i class="fas fa-user"></i>
</a>
</li>
<li>
<a class="btn disabled" href="#" title="Lijst tonen">
<i class="fas fa-list"></i>
</a>
</li>
<li>
<a class="btn disabled" href="#" title="Statistiek tonen">
<i class="fas fa-chart-pie"></i>
</a>
</li>
<li>
<a class="btn disabled" href="#" title="E-mails tonen">
<i class="fas fa-envelope"></i>
</a>
</li>
<li>
<a class="btn disabled" href="#" title="Allergie/dieet tonen">
<i class="fas fa-heartbeat"></i>
</a>
</li>
<li class="knop-vergroot"></li>
</ul>
${n}
</div>
<div class="clear">&nbsp;</div>
</div>`)})).catch((()=>{i.innerText="Groep niet gevonden"})),i},parseDOM:[{tag:`div[data-${t}`,getAttrs:e=>({[a]:e.dataset[t],naam:e.dataset.naam})}]}),d=l("activiteit","activiteiten"),c=l("bestuur","besturen"),u=l("commissie","commissies"),p=l("groep","overig"),m=l("ketzer","ketzers"),f=l("ondervereniging","onderverenigingen"),g=l("verticale","verticalen"),b=l("werkgroep","werkgroepen"),h=l("woonoord","woonoorden"),v=o("boek"),k=o("document"),w=o("maaltijd"),y=o("peiling");var _=a(6587);const O={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},citaat:{attrs:{van:{},naam:{default:"Lid"},url:{default:""}},content:"block+",group:"block",defining:!0,parseDOM:[{tag:"div[data-bb-citaat]",getAttrs:e=>({van:e.dataset.bbCitaat,naam:e.dataset.bbCitaatNaam,url:e.dataset.bbCitaatUrl})}],toDOM:e=>["div",{"data-bb-citaat":e.attrs.van,"data-bb-citaat-naam":e.attrs.naam,"data-bb-citaat-url":e.attrs.url},0]},lid:{attrs:{uid:{},naam:{default:null}},group:"inline",inline:!0,parseDOM:[{tag:"[data-lid]",getAttrs:e=>({uid:e.dataset.lid,naam:e.dataset.lidNaam})}],toDOM:e=>["span",{"data-lid":e.attrs.uid,"data-lidNaam":e.attrs.naam},e.attrs.naam]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>{if(e instanceof HTMLElement)return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")};throw new Error("Unable to process dom")}}],toDOM:e=>{const{src:t,alt:a,title:n}=e.attrs;return["img",{src:t,alt:a,title:n}]}},plaatje:{inline:!0,attrs:{src:{},key:{}},group:"inline",draggable:!0,parseDOM:[{tag:"[data-plaatje]",getAttrs:e=>({key:e.dataset.plaatje,src:e.dataset.plaatjeSrc})}],toDOM:e=>["div",{"data-plaatje":e.attrs.key,"data-plaatje-src":e.attrs.src},["img",{src:e.attrs.src}]]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},verklapper:{content:"block+",group:"block",parseDOM:[{tag:"div[data-bb-verklapper]"}],toDOM:()=>["div",{"data-bb-verklapper":"",class:"pm-verklapper"},0]},bb:{attrs:{bb:{default:null}},group:"block",toDOM:e=>["div",{"data-bb":e.attrs.bb},e.attrs.bb],parseDOM:[{tag:"div[data-bb]",getAttrs:e=>({bb:e.dataset.bb})}]},activiteit:d,bestuur:c,commissie:u,groep:p,ketzer:m,ondervereniging:f,verticale:g,werkgroep:b,woonoord:h,boek:v,document:k,maaltijd:w,peiling:y,twitter:{attrs:{url:{}},group:"block",parseDOM:[{tag:"div[data-bb-twitter]",getAttrs:e=>({url:e.dataset.bbTwitter})}],toDOM:e=>["div",{"data-bb-twitter":e.attrs.url}]},youtube:{attrs:{id:{}},group:"block",parseDOM:[{tag:"div[data-bb-youtube]"}],toDOM:e=>["div",{"data-bb-youtube":e.attrs.id,class:"bb-video",title:"YouTube"},["img",{src:`https://i.ytimg.com/vi/${e.attrs.id}/sddefault.jpg`}]]},video:{attrs:{url:{}},group:"block",parseDOM:[{tag:"div[data-bb-video]",getAttrs:e=>({url:e.dataset.bbVideo})}],toDOM:e=>["div",{"data-bb-video":e.attrs.url}]},audio:{attrs:{url:{}},group:"block",parseDOM:[{tag:"div[data-bb-audio]",getAttrs:e=>({url:e.dataset.bbAudio})}],toDOM:e=>["div",{"data-bb-audio":e.attrs.url}]},spotify:{attrs:{url:{},formaat:{default:"hoog"}},group:"block",parseDOM:[{tag:"div[data-bb-spotify]",getAttrs:e=>({url:e.dataset.bbSpotify,formaat:e.dataset.bbSpotifyFormaat})}],toDOM:e=>["div",{"data-bb-spotify":e.attrs.url,"data-bb-spotify-formaat":e.attrs.formaat}]}},D={link:{attrs:{href:{}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>{if(e instanceof HTMLElement)return{href:e.getAttribute("href")};throw new Error("Cannot process dom")}}],toDOM:e=>{const{href:t}=e.attrs;return["a",{href:t,title:t},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>{if(e instanceof HTMLElement)return"normal"!=e.style.fontWeight&&null;throw new Error("Cannot process dom")}},{style:"font-weight",getAttrs:e=>{if("string"==typeof e)return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null;throw new Error("Cannot process value")}}],toDOM:()=>["strong",0]},superscript:{excludes:"superscript subscript",parseDOM:[{tag:"sup"}],toDOM:()=>["sup",0]},subscript:{excludes:"subscript superscript",parseDOM:[{tag:"sub"}],toDOM:()=>["sub",0]},strikethrough:{parseDOM:[{tag:"del"}],toDOM:()=>["del",0]},underline:{parseDOM:[{tag:"ins"}],toDOM:()=>["ins",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},offtopic:{parseDOM:[{tag:"span[data-offtopic]"}],toDOM:()=>["span",{"data-offtopic":"",class:"offtopic"},0]},neuzen:{parseDom:[{tag:"span[data-neuzen]"}],toDOM:()=>["span",{"data-neuzen":""},0]},prive:{attrs:{prive:{default:null}},parseDOM:[{tag:"span[data-prive]"}],toDOM:e=>["span",{"data-prive":e.attrs.prive,class:"bb-prive",title:`Prive: ${e.attrs.prive||"ROLE_LOGGED_IN"}`},0]}},E=a(7360).Z.from(O),M=new r.V_({nodes:(0,_.Cx)(E,"paragraph block*","block"),marks:D});var T=a(5829),L=a(8933),j=a(1119),A=a(2851),S=a.n(A),C=a(8423);const I="ProseMirror-popup";function q(e){const t=s.dy` <button
		type="submit"
		class="${I}-submit btn btn-primary"
	>
		OK
	</button>`,a=s.dy` <button
		type="button"
		class="${I}-cancel btn btn-primary"
	>
		Cancel
	</button>`,n=document.createElement("form"),i=n.appendChild(s.dy` <div class="modal-body"></div>`),r=n.appendChild(s.dy` <div class="modal-footer"></div>`);e.description&&i.appendChild(s.dy`<p>${e.description}</p>`),Object.entries(e.fields).forEach((([e,t])=>{i.appendChild(s.dy` <div class="mb-3 row">
			<label class="col-sm-2 col-form-label" for="${e}"
				>${t.options.label}${t.options.required?s.dy`<span class="text-danger">*</span>`:""}</label
			>
			<div class="col-sm-10">${t.render(e)}</div>
		</div>`)})),r.appendChild(s.dy` <div class="${I}-buttons">
		${t} ${a}
	</div>`);const o=s.dy` <div class="modal" style="display: block;" tabindex="-1">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">${e.title}</h5>
				</div>
				${n}
			</div>
		</div>
	</div>`;document.body.appendChild(o);const l=e=>{n.contains(e.target)||d()};setTimeout((()=>window.addEventListener("mousedown",l)),50);const d=()=>{window.removeEventListener("mousedown",l),o.parentNode&&o.parentNode.removeChild(o)};a.addEventListener("click",d);const c=()=>{const t=function(e,t){const a=Object.create(null);for(const n of Object.keys(e)){const i=e[n],r=t[n],s=i.read(r),o=i.validate(s);if(o)return P(r,o),null;a[n]=i.clean(s)}return a}(e.fields,n);t&&(d(),e.callback(t))};n.addEventListener("submit",(e=>{e.preventDefault(),c()})),n.addEventListener("keydown",(e=>{"Escape"==e.key?(e.preventDefault(),d()):"Enter"!=e.key||e.ctrlKey||e.metaKey||e.shiftKey||"textarea"==document.activeElement.tagName.toLowerCase()?"Tab"==e.key&&window.setTimeout((()=>{o.contains(document.activeElement)||d()}),500):(e.preventDefault(),c())}));const u=n.elements[0];u&&u.focus()}function P(e,t){const a=e.parentNode,n=a.appendChild(document.createElement("div"));n.style.left=e.offsetLeft+e.offsetWidth+2+"px",n.style.top=e.offsetTop-5+"px",n.className="ProseMirror-invalid",n.textContent=t,setTimeout((()=>a.removeChild(n)),1500)}class x{constructor(e){this.options=e}read(e){return e.value}validateType(e){return null}validate(e){return!e&&this.options.required?"Required field":this.validateType(e)||this.options.validate&&this.options.validate(e)}clean(e){return this.options.clean?this.options.clean(e):e}render(e){return null}}class W extends x{render(e){return s.dy`<input
			type="text"
			name="${e}"
			id="${e}"
			value="${this.options.value||""}"
			autocomplete="off"
			class="form-control"
		/>`}}class z extends x{render(e){return s.dy`<div>${this.options.value}</div>`}read(e){return""}}class U extends x{render(e){const t=document.createElement("textarea");return t.id=e,t.name=e,t.classList.add("form-control"),t.placeholder=this.options.label,t.value=this.options.value||"",t.autocomplete="off",t.rows=20,t}}class N extends x{render(e){const t=document.createElement("input");return t.id=e,t.name=e,t.classList.add("form-control"),t.type="file",t}read(e){return e.files[0]}}class R extends x{render(e){this.name=e;const t=s.dy`<input
			type="text"
			class="form-control"
			autocomplete="off"
			name="${e}_naam"
			value="${this.options.value.naam}"
		/>`,a=s.dy`<input
			type="hidden"
			name="${e}_uid"
			value="${this.options.value.uid}"
		/>`,n=s.dy`<input type="hidden" name="${e}" />`,i=new(S())({datumTokenizer:S().tokenizers.obj.whitespace("value"),queryTokenizer:S().tokenizers.whitespace,remote:{url:"/tools/naamsuggesties?vorm=user&zoekin=voorkeur&q=%QUERY",wildcard:"%QUERY"}});i.initialize();let r=this.options.value.naam;return setTimeout((()=>{$(t).typeahead({hint:!0,highlight:!0},{name:"leden",display:"value",limit:20,source:i.ttAdapter(),templates:{suggestion:function(e){let t="<p";return e.title&&(t+=' title="'+e.title+'"'),t+=">",e.icon&&(t+=e.icon),t+=e.value,e.label&&(t+='<span class="lichtgrijs"> - '+e.label+"</span>"),t+"</p>"}}}),$(t).on("typeahead:select",((e,t)=>{a.value=t.uid,r=t.value})),$(t).on("typeahead:change",((e,t)=>{r!=t&&(a.value="")}))})),s.dy` <div>${t} ${a} ${n}</div>`}read(e){return{naam:e.form[`${this.name}_naam`].value,uid:e.form[`${this.name}_uid`].value}}validate(e){return this.options.required&&!e.uid?"Selecteer een lid":super.validate(e)}}class B extends x{render(e){return s.dy`<textarea
			name="${e}"
			id="${e}"
			autocomplete="off"
			class="form-control"
		>
${this.options.value||""}</textarea
		>`}read(e){const t=(0,C.Z)(e.value);return"youtube"!=t.service?"":t.id}}const F=(e,t,a)=>q({title:"Bewerk bb",fields:{bb:new U({label:"Bb",value:t.bb})},callback(t){a.dispatch(a.state.tr.replaceSelectionWith(e.createAndFill(t))),a.focus()}});var H=a(1945);const K=new n.Sy({state:{init:()=>i.EH.empty,apply(e,t){t=t.map(e.mapping,e.doc);const a=e.getMeta(this);if(a&&a.add){const n=document.createElement("div");n.classList.add("plaatje-placeholder");const r=i.p.widget(a.add.pos,n,{id:a.add.id});t=t.add(e.doc,[r])}else a&&a.remove&&(t=t.remove(t.find(null,null,(e=>e.id==a.remove.id))));return t}},props:{decorations(e){return this.getState(e)}}});var Y=a(1339),G=a.n(Y);async function V(e,t,a){try{const{src:n,key:i}=await async function(e){const t=new FormData;return t.append("image_HF",e,e.name),t.append("image","image_HF"),(await G().post("/forum/plaatjes/upload_json",t,{headers:{"content-type":"multipart/form-data"}})).data}(t);await(0,s.pt)(n);const r=((e,t)=>{const a=K.getState(e).find(null,null,(e=>e.id==t));return a.length?a[0].from:null})(e.state,a);if(null==r)return;e.dispatch(e.state.tr.replaceWith(r,r,e.state.schema.nodes.plaatje.create({src:n,key:i})).setMeta(K,{remove:{id:a}}))}catch(t){throw e.dispatch(e.state.tr.setMeta(K,{remove:{id:a}})),t}}var Z=a(3839),J=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};function Q(e,t){const a=e.selection.$from;for(let e=a.depth;e>=0;e--){const n=a.index(e);if(a.node(e).canReplaceWith(n,n,t))return!0}return!1}const X=e=>new L.sN({title:"Afbeelding invoegen",label:"Afbeelding",enable:t=>Q(t,e),run(t,a,i){let r=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(r=t.selection.node.attrs),q({title:"Afbeelding invoegen",fields:{src:new W({label:"Locatie",required:!0,value:r&&r.src})},callback:t=>{i.dispatch(i.state.tr.replaceSelectionWith(e.createAndFill(t))),i.focus()}})}});function ee(e){return new L.sN({label:"Citaat",title:"Citaat invoegen",enable:t=>Q(t,e),run:(t,a,i)=>{let r=null,o=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(r=t.selection.node.attrs,o=t.selection.node.content),q({description:"",title:r?"Update: "+e.name:"Invoegen: "+e.name,fields:{lid:new R({label:"Lid",required:!1,value:r&&(0,s.TZ)(r.van)?{naam:r.naam,uid:r.van}:{naam:"",uid:""}}),of:new z({label:"",value:"- Of -"}),naam:new W({label:"Van",required:!1,value:r&&!(0,s.TZ)(r.van)?r.naam:""}),url:new W({label:"Url",required:!1,value:r&&!(0,s.TZ)(r.van)?r.url:""})},callback({lid:t,naam:a,url:n}){const r=t.uid?{naam:t.naam,van:t.uid}:{van:a,naam:a,url:n};i.dispatch(i.state.tr.replaceSelectionWith(e.createAndFill(Object.assign({type:e.name},r),o))),i.focus()}})}})}function te(e,t){var{enabled:a}=t,n=J(t,["enabled"]);const i=Object.assign({label:"string"==typeof n.title?n.title:"",run:e},n);return a&&!0!==a||n.select||(i[a?"enable":"select"]=t=>e(t)),new L.sN(i)}function ae(e,t){const{from:a,$from:n,to:i,empty:r}=e.selection;return r?!!t.isInSet(e.storedMarks||n.marks()):e.doc.rangeHasMark(a,i,t)}const ne=(e,t)=>te((0,H.w9)(e),Object.assign({active:t=>ae(t,e),enabled:!0},t)),ie=(e,t)=>te((0,_.KI)(e,null),t),re=e=>new L.sN({title:"Markeer tekst als prive",label:"Prive",active:t=>ae(t,e),enable:e=>!e.selection.empty,run(t,a,n){if(ae(t,e))return(0,H.w9)(e)(t,a),!0;q({title:"Markeer als prive",fields:{prive:new W({label:"Rechten (leeg voor ingelogd)"})},callback(t){(0,H.w9)(e,t)(n.state,n.dispatch),n.focus()}})}}),se=(e,t,a,i="")=>new L.sN({title:a,label:t,enable:t=>Q(t,e),run:(t,a,r)=>{let o=null,l=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(o=t.selection.node.attrs,l=t.selection.node.content),q({description:i,title:o?"Update: "+e.name:"Invoegen: "+e.name,fields:Object.fromEntries(Object.entries(e.spec.attrs).map((([e,t])=>[e,new W({label:(0,s.Ps)(e),required:void 0===t.default,value:o?o[e]:t.default})]))),callback(t){r.dispatch(r.state.tr.replaceSelectionWith(e.createAndFill(Object.assign({type:e.name},t),l))),r.focus()}})}}),oe=(e,t,a,i)=>new L.sN({title:a,label:t,enable:t=>Q(t,e),run:(t,a,r)=>{let s=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(s=t.selection.node.content);const o=document.body.appendChild(document.createElement("div"));new Z.default({el:o,template:'\n\t\t\t\t<groepprompt :close="close" :selectgroep="selectGroep" :type="type"/>',data:{type:i},methods:{close(){this.$el.remove()},selectGroep(t,a){this.$el.remove(),r.dispatch(r.state.tr.replaceSelectionWith(e.createAndFill({type:e.name,naam:t,id:a},s))),r.focus()}}})}}),le=(e,t,a,i="")=>new L.sN({title:a,label:t,enable:t=>Q(t,e),run:(t,a,r)=>{let s=null,o=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(s=t.selection.node.attrs,o=t.selection.node.content),q({description:i,title:s?"Update: "+e.name:"Invoegen: "+e.name,fields:{id:new B({label:"Id",required:!0,value:s?s.id:""})},callback(t){r.dispatch(r.state.tr.replaceSelectionWith(e.createAndFill(Object.assign({type:e.name},t),o))),r.focus()}})}}),de=e=>new L.sN({title:"BB code als platte tekst invoegen",label:"BB code",enable:t=>Q(t,e),run:(t,a,i)=>{let r={bb:""};t.selection instanceof n.qv&&t.selection.node.type==e&&(r=t.selection.node.attrs),F(e,r,i)}}),ce=(e,t)=>new L.sN({title:"Afbeelding invoegen",label:"Afbeelding",enable:a=>Q(a,e)||Q(a,t),run:(e,a,n)=>{q({title:"Plaatje uploaden",fields:{noot:new z({label:"",value:"Als je hier een bestand van je computer kiest is deze <strong>alleen zichtbaar voor leden</strong>. Zet je afbeelding neer bij een externe service als je wil dat je afbeelding ook op de externe stek zichtbaar is."}),image:new N({label:"Afbeelding"}),of:new z({label:"",value:"- Of -"}),url:new W({label:"Url"})},callback:e=>{e.url?(n.dispatch(n.state.tr.replaceSelectionWith(t.createAndFill({src:e.url}))),n.focus()):e.image&&async function(e,t){const a={},n=e.state.tr;n.selection.empty||n.deleteSelection(),n.setMeta(K,{add:{id:a,pos:n.selection.from}}),e.dispatch(n),await V(e,t,a)}(n,e.image)}})}}),ue={strong:{dom:s.dy`<i class="fas fa-bold" aria-hidden="true"></i>`},em:{dom:s.dy`<i class="fas fa-italic" aria-hidden="true"></i>`},link:{dom:s.dy`<i class="fas fa-link" aria-hidden="true"></i>`},undo:{dom:s.dy`<i class="fas fa-undo" aria-hidden="true"></i>`},redo:{dom:s.dy`<i class="fas fa-redo" aria-hidden="true"></i>`},ol:{dom:s.dy`<i class="fas fa-list-ol" aria-hidden="true"></i>`},ul:{dom:s.dy`<i class="fas fa-list-ul" aria-hidden="true"></i>`},quote:{dom:s.dy`<i class="fas fa-quote-left" aria-hidden="true"></i>`},underline:{dom:s.dy`<i class="fas fa-underline" aria-hidden="true"></i>`},selectParentNode:{dom:s.dy`<i class="fas fa-object-group" aria-hidden="true"></i>`},lift:{dom:s.dy`<i class="fas fa-outdent" aria-hidden="true"></i>`},prive:{dom:s.dy`<i class="fas fa-user-shield" aria-hidden="true"></i>`},join:{dom:s.dy`<i class="fas fa-caret-up" aria-hidden="true"></i>`}};var pe=a(3950);const me=e=>new n.Sy({appendTransaction(t,a,n){e.value=JSON.stringify(n.doc.toJSON())}});var fe=a(2941);let ge=0,be=[],he=G().CancelToken.source();const ve=(e,t)=>{const a=document.querySelector(".lid-hints");if(!a)return;const n=e.dom.parentElement.getBoundingClientRect();a.style.left=t.left-n.left+"px",a.style.top=t.bottom-n.top+"px"},ke=()=>{const e=document.querySelector(".lid-hints");e&&e.remove()},we=()=>{const e=document.querySelector(".lid-hints");for(const t of Array.from(e.children))t.classList.remove("active");const t=e.children.item(ge);t&&t.classList.add("active")},ye={noDecorations:!0,char:"@",name:"lid-hint",appendText:"",keyBindings:{ArrowUp:()=>{ge=(ge-1+be.length)%be.length,we()},ArrowDown:()=>{ge=(ge+1)%be.length,we()},Enter:({command:e,event:t})=>{t.preventDefault(),e(be[ge])},Tab:({command:e,event:t})=>{t.preventDefault(),e(be[ge])},Esc:()=>{ke()}},onChange:async({command:e,queryText:t,range:a,view:n})=>{ve(n,n.coordsAtPos(a.end)),he.cancel(),he=G().CancelToken.source();try{be=await async function(e,t){if(e&&1!==e.length)return(await G().get("/tools/naamsuggesties?vorm=user&zoekin=voorkeur&q="+encodeURI(e),{cancelToken:t})).data;return[]}(t.full,he.token),ge=0,((e,t,a)=>{Array.from(document.querySelectorAll(".lid-hints")).forEach((e=>e.remove()));const n=document.createElement("div");n.classList.add("lid-hints","list-group"),n.style.position="absolute";for(const t of be){const a=n.appendChild(document.createElement("div"));a.classList.add("list-group-item","list-group-item-action"),a.addEventListener("click",(()=>{e(t)})),a.textContent=t.value}t.dom.parentElement.appendChild(n),ve(t,a),we()})(e,n,n.coordsAtPos(a.end))}catch(e){}},onExit:()=>{he.cancel(),ke(),be=[],ge=0},createCommand:({match:e,view:t})=>a=>{if(!a)return;const n=t.state.tr,{from:i,to:r}=e.range;n.replaceWith(i,r,t.state.schema.nodes.lid.createAndFill({uid:a.uid,naam:a.value})),t.dispatch(n)}},_e=(0,fe.D7)(ye),Oe=e=>new n.Sy({appendTransaction(t,a,n){let i=null;return n.doc.descendants(((t,a)=>{t.type==e.nodes.image&&t.attrs.src.startsWith("data:")&&(i=(null!=i?i:n.tr).deleteRange(a,a+1))})),i}}),De=e=>{let t=null;return new n.Sy({view:e=>(t=e,{}),appendTransaction(a,n,i){let r=null;return i.doc.descendants(((a,n)=>{if(a.type==e.nodes.image&&a.attrs.src.startsWith("data:")){const e={};r=i.tr.deleteRange(n,n+1),r.setMeta(K,{add:{id:e,pos:n}}),(async()=>{const n=await(0,s._x)(a.attrs.src,"pastedImage");await V(t,n,e)})()}})),r}})};var Ee=a(8742);const Me="citeerDiv",Te=e=>{if("Range"==e.type&&e.rangeCount){const t=e.getRangeAt(0).commonAncestorContainer,a=(t instanceof HTMLElement?t:t.parentElement).closest(".forum-bericht");if(a&&(a.contains(t)||a==t))return a}return null},Le=()=>{const e=window.getSelection();if(!e.rangeCount)return new DOMRect;return e.getRangeAt(0).getBoundingClientRect()},je=()=>{const e=(()=>{const e=document.getElementById(Me);if(e)return e;const t=s.dy` <div
		id="${Me}"
		class="card position-absolute"
		style="display: none"
	>
		<button type="button" class="btn" data-selectie="">
			<i class="fas fa-quote-left" aria-hidden="true"></i>
			Citeren
		</button>
	</div>`;return t.querySelector(".btn").addEventListener("click",(()=>{const e=window.getSelection(),a=Te(e);if(!a)return;const{naam:n,uid:i}=a.dataset,s=window.currentEditor;if(!s)return;const o=s.state.schema.nodes.citaat,l=r.aw.fromSchema(s.state.schema).parse(e.getRangeAt(0).cloneContents()),d=o.create({van:i,naam:n},l.content);return s.dispatch(s.state.tr.insert(s.state.selection.head,d)),$(window).scrollTo("#reageren"),t.style.display="none",!1})),document.body.appendChild(t)})(),t=Te(window.getSelection());if(window.currentEditor&&t&&!window.getSelection().isCollapsed){e.style.display="block";(0,Ee.fi)({getBoundingClientRect:Le},e,{placement:"bottom"}).update()}else e.style.display="none"};(0,s.o0)((()=>{document.addEventListener("selectionchange",je)})),pe.Z.addHandler(".pm-editor",(e=>{const t=e.dataset.extern,a=function(e,t){return[(0,s.z7)([ne(e.marks.strong,{title:"Schakel dikgedrukt",icon:ue.strong}),ne(e.marks.em,{title:"Schakel schuingedrukt",icon:ue.em}),ne(e.marks.underline,{title:"Schakel onderlijn",icon:ue.underline}),(i=e.marks.link,new L.sN({title:"Maak of verwijder link",icon:{dom:s.dy`<i class="fa fa-link" aria-hidden="true"></i>`},active:e=>ae(e,i),enable:()=>!0,run(e,t,a){if(ae(e,i))return(0,H.w9)(i)(e,t),!0;e.selection.empty?q({title:"Maak een link",fields:{tekst:new W({label:"Link tekst",required:!0}),href:new W({label:"Link doel",required:!0})},callback({tekst:t,href:n}){n.startsWith("/")||n.startsWith("https://")||n.startsWith("http://")||(n="https://"+n),a.dispatch(a.state.tr.replaceSelectionWith(e.schema.text(t).mark([i.create({href:n})]),!1)),a.focus()}}):q({title:"Maak een link",fields:{href:new W({label:"Link doel",required:!0})},callback({href:e}){e.startsWith("/")||e.startsWith("https://")||e.startsWith("http://")||(e="https://"+e),(0,H.w9)(i,{href:e})(a.state,a.dispatch),a.focus()}})}})),!t&&ne(e.marks.prive,{title:"Maak prive",icon:ue.prive}),new L.Lt((0,s.z7)([ne(e.marks.code,{title:"Schakel code",label:"Code"}),ne(e.marks.superscript,{title:"Schakel superscript",label:"Superscript"}),ne(e.marks.subscript,{title:"Schakel subscript",label:"Subscript"}),ne(e.marks.strikethrough,{title:"Schakel doorstreep",label:"Doorstreep"}),ne(e.marks.offtopic,{title:"Schakel offtopic",label:"Offtopic"}),t&&re(e.marks.prive)]),{label:"Meer"})]),(0,s.z7)([t&&(a=e.nodes.lid,new L.sN({title:"Lid invoegen",label:"Lid",enable:e=>Q(e,a),run:(e,t,i)=>{let r=null,s=null;e.selection instanceof n.qv&&e.selection.node.type==a&&(r=e.selection.node.attrs,s=e.selection.node.content),q({title:r?"Update: "+a.name:"Invoegen: "+a.name,description:"Tip: Type '@' met een zoekterm in je bericht om snel een lid te noemen.",fields:{lid:new R({label:"Lid",required:!0,value:r?{uid:r.uid,naam:r.naam}:{uid:"",naam:""}})},callback(e){i.dispatch(i.state.tr.replaceSelectionWith(a.createAndFill(Object.assign({type:a.name},e.lid),s))),i.focus()}})}}))]),(0,s.z7)([new L.Lt((0,s.z7)([t&&ce(e.nodes.plaatje,e.nodes.image),!t&&X(e.nodes.image),t&&ee(e.nodes.citaat),(0,L.lB)(e.nodes.blockquote,{title:"Maak een quote",label:"Quote"}),t&&oe(e.nodes.activiteit,"Activiteitenketzer","Activiteit invoegen","activiteiten"),t&&oe(e.nodes.ketzer,"Aanschafketzer","Ketzer invoegen","ketzers"),t&&new L.Yz([se(e.nodes.twitter,"Twitter","Twitter invoegen"),le(e.nodes.youtube,"YouTube","YouTube invoegen"),se(e.nodes.spotify,"Spotify","Spotify invoegen"),se(e.nodes.video,"Video","Video invoegen"),se(e.nodes.audio,"Geluid","Geluid invoegen")],{label:"Embed"}),t&&new L.Yz([oe(e.nodes.bestuur,"Bestuur","Bestuur invoegen","besturen"),oe(e.nodes.commissie,"Commissie","Commissie invoegen","commissies"),oe(e.nodes.groep,"Overig","Overige groep invoegen","overig"),oe(e.nodes.ondervereniging,"Ondervereniging","Ondervereniging invoegen","onderverenigingen"),oe(e.nodes.verticale,"Verticale","Verticale invoegen","verticalen"),oe(e.nodes.werkgroep,"Werkgroep","Werkgroep invoegen","werkgroepen"),oe(e.nodes.woonoord,"Woonoord","Woonoord invoegen","woonoorden")],{label:"Groep"}),t&&se(e.nodes.boek,"Boek","Boek invoegen"),t&&se(e.nodes.document,"Document","Document invoegen"),t&&se(e.nodes.maaltijd,"Maaltijd","Maaltijd invoegen"),t&&se(e.nodes.peiling,"Peiling","Peiling invoegen"),new L.sN({title:"Horizontale lijn invoegen",label:"Lijn",enable:t=>Q(t,e.nodes.horizontal_rule),run(t,a){a(t.tr.replaceSelectionWith(e.nodes.horizontal_rule.create()))}}),(0,L.lB)(e.nodes.verklapper,{title:"Stop selectie in verklapper",label:"Verklapper"}),de(e.nodes.bb)]),{label:"Invoegen"}),new L.Lt([(0,L.Gl)(e.nodes.paragraph,{title:"Verander naar een paragraaf",label:"Tekst"}),(0,L.Gl)(e.nodes.code_block,{title:"Verander naar een code blok",label:"Code"}),(0,L.Gl)(e.nodes.heading,{title:"Verander naar kop 1",label:"Titel",attrs:{level:1}}),(0,L.Gl)(e.nodes.heading,{title:"Verander naar kop 2",label:"Kop",attrs:{level:2}}),(0,L.Gl)(e.nodes.heading,{title:"Verander naar kop 3",label:"Subkop",attrs:{level:3}})],{label:"Stijl"})]),[new L.sN({title:"Laatste wijziging ongedaan maken",run:j.Yw,enable:e=>(0,j.Yw)(e),icon:ue.undo}),new L.sN({title:"Herhaal de laatste ongedaan gemaakte wijziging",run:j.KX,enable:e=>(0,j.KX)(e),icon:ue.redo})],[ie(e.nodes.bullet_list,{title:"Maak een puntenlijst",icon:ue.ul}),ie(e.nodes.ordered_list,{title:"Maak een geordende lijst",icon:ue.ol}),new L.sN({title:"Voeg samen met blok hier boven",run:H.MI,select:e=>(0,H.MI)(e),icon:ue.join}),new L.sN({title:"Til uit omvattende blok",run:H.xb,select:e=>(0,H.xb)(e),icon:ue.lift}),new L.sN({title:"Selecteer dit blok",run:H.N0,select:e=>(0,H.N0)(e),icon:ue.selectParentNode})]];var a,i}(M,window.loggedIn&&!t),o=document.querySelector("#"+e.dataset.prosemirrorDoc),l=(0,s.l_)(o.value.replace(/&quot;/g,'\\"'));window.currentEditor=new i.tk(e,{state:n.yy.create({doc:r.NB.fromJSON(M,JSON.parse(l)),plugins:[_e,window.loggedIn&&!t?De(M):Oe(M),...(0,T.Nr)({schema:M,menuContent:a}),K,me(o)]}),handleDoubleClickOn:(e,t,a)=>(a.type==M.nodes.bb&&F(a.type,a.attrs,e),!0)})}))},6141:(e,t,a)=>{"use strict";a.d(t,{V:()=>d,T:()=>c});var n=a(6859),i=a.n(n),r=a(5737),s=a(1339),o=a.n(s),l=a(2671);function d(e,t,a,n,s,d,c){if(n)if(n.classList.contains("noanim"))if(n.classList.contains("InlineForm"))try{Object.assign((0,l.Ys)(".FormElement:first",n).style,{backgroundImage:'url("/images/loading-fb.gif")',backgroundPosition:"center right",backgroundRepeat:"no-repeat"})}catch(e){}else n.classList.add("loading");else{const e=i()(`<i class="fas fa-spinner fa-spin" title="Laden: ${t}" aria-hidden="true"></i>`);i()(n).replaceWith(e),n=e.get(0)}o()(t,{method:e,data:a}).then((e=>{n&&(i()(n).hasClass("noanim")?i()(n).hasClass("InlineForm")&&i()(n).find(".FormElement:first").css({"background-image":"","background-position":"","background-repeat":""}):i()(n).hide(),n.classList.remove("loading")),s(e.data)})).catch((e=>{n?i()(n).replaceWith('<img alt="Mislukt" title="'+e.message+'" src="/plaetjes/famfamfam/cancel.png" />'):(0,r.I)(),d&&(e.message.startsWith("<!DOC")&&d("Er ging iets fout, code is: "+e.code),d(e.message))})).then((()=>{c&&c()}))}function c(e,t){return i()(t+" .aanmeldbtn").addClass("loading"),i().ajax({cache:!1,data:"",type:"GET",url:e}).done((e=>{i()(t).replaceWith(e)})).fail(((e,a,n)=>{throw i()(t+" .aanmeldbtn").replaceWith(i()(`<div class="alert alert-danger"><strong>Actie mislukt!</strong> ${n}</div>`)),new Error(e.responseText)})),!0}},1111:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>domUpdate});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6859),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_ctx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3950),_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5737),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9203),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2671);function domUpdate(htmlString){if("string"!=typeof htmlString)return;if(htmlString=htmlString.trim(),"<!DOCTYPE"===htmlString.substring(0,9))throw alert("response error"),new Error(htmlString);const elements=(0,_util__WEBPACK_IMPORTED_MODULE_3__.QA)(htmlString);for(const element of elements){if(!(element instanceof HTMLElement))continue;const id=element.id,parentId=element.getAttribute("parentid");if(!id&&element instanceof HTMLScriptElement)return eval(element.innerText),void(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)();const target=id?document.querySelector(`#${id}`):null,targetParent=parentId?document.querySelector(`#${parentId}`):null;target?element.classList.contains("remove")?(0,_util__WEBPACK_IMPORTED_MODULE_3__.c7)(target,400):jquery__WEBPACK_IMPORTED_MODULE_0___default()(target).replaceWith(jquery__WEBPACK_IMPORTED_MODULE_0___default()(element)):targetParent?targetParent.append(element):element instanceof HTMLScriptElement?document.head.append(element):(0,_dom__WEBPACK_IMPORTED_MODULE_4__.Ys)("#maalcie-tabel tbody:visible:first").append(element),(0,_ctx__WEBPACK_IMPORTED_MODULE_1__.S)(element),"modal"===id?(0,_modal__WEBPACK_IMPORTED_MODULE_2__.O)():(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)()}}},5419:(e,t,a)=>{"use strict";a.r(t),a.d(t,{formIsChanged:()=>b,formInlineToggle:()=>h,formToggle:()=>v,formReset:()=>k,formSubmit:()=>w,formCancel:()=>y,initSterrenField:()=>_,initDoctrineField:()=>O,initAutocompleteField:()=>D});var n=a(1339),i=a.n(n),r=a(6859),s=a.n(r),o=a(3857),l=a(6141),d=a(1111),c=a(5737),u=a(6893),p=a(2671),m=a(9203),f=a(2851),g=a.n(f);function b(e){let t=!1;return(0,p.td)(".FormElement:not(.tt-hint)",e).forEach((e=>{const a=e.getAttribute("origvalue");"radio"==e.type?e.checked&&a!==e.value&&(t=!0):"checkbox"==e.type?Boolean(a)!==e.checked&&(t=!0):e.value!==a&&(t=!0)})),t}function h(e){const t=s()(e);t.prev(".InlineFormToggle").toggle(),t.toggle(),t.children(":first").trigger("focus")}function v(e,t){return t.preventDefault(),h((0,p.Ys)("form",(0,p.wV)(e))),!1}function k(e,t){const a=e.target;if(!(a&&a instanceof HTMLElement))throw new Error("formReset: geen EventTarget");if(t||(t=a.closest("form"),e.preventDefault()),!t)throw new Error("Geen form gevonden in formReset");return a.classList.contains("confirm")&&!confirm(a.title+".\n\nWeet u het zeker?")||(0,p.td)(".FormElement",t).forEach((function(e){const t=e.getAttribute("origvalue");t&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(e.value=t)})),!1}function w(e){const t=e.target;if(t.classList.contains("confirm")){let a=t.title;if(a?a+=".\n\n":a="Weet u het zeker?",!confirm(a))return e.preventDefault(),!1}const a=t.closest("form");if(!a||!a.classList.contains("Formulier"))return!1;if(a.classList.contains("PreventUnchanged")&&!b(a))return e.preventDefault(),alert("Geen wijzigingen"),!1;const n=t.getAttribute("href");if(n&&"#"!=n&&a.setAttribute("action",n),a.classList.contains("ModalForm")||a.classList.contains("InlineForm")){e.preventDefault();const t=new FormData(a);let n=d.q,i=null;if(a.classList.contains("InlineForm")){i=a;const e=a.id;e&&t.append("InlineFormId",e),s()(a).data("submitCallback")&&(n=s()(a).data("submitCallback"))}if(a.classList.contains("ModalForm")&&(n=e=>{"string"==typeof e?(0,d.q)(e):(0,c.I)()}),a.classList.contains("DataTableResponse")){const e=a.dataset.tableid;if(!e||!document.getElementById(e))throw new Error("DataTable not found");t.append("DataTableId",e);const r=(0,o.fnGetSelection)("#"+e);s().each(r,((e,a)=>{t.append("DataTableSelection[]",a)})),n=t=>{if((0,o.isDataTableResponse)(t))(0,o.fnUpdateDataTable)("#"+e,t),t.modal?(0,d.q)(t.modal):(0,c.I)();else{if("string"!=typeof t)throw new Error("onbekende response"+t);(0,d.q)(t)}},a.classList.contains("noanim")||(i=null)}a.classList.contains("ReloadPage")?n=u.H:a.classList.contains("redirect")&&(n=u.u);const r=a.getAttribute("action");if(!r)throw new Error("Form heeft geen action");return(0,l.V)("POST",r,t,i,n,m._y,(()=>{a.classList.contains("SubmitReset")&&k(e,a)})),!1}return s()(a).off("submit"),s()(a).trigger("submit"),!0}function y(e){const t=e.target;if(!(t&&t instanceof HTMLElement))throw new Error("formCancel: Geen EventTarget");if(t.classList.contains("confirm")&&!confirm(t.title+".\n\nWeet u het zeker?"))return e.preventDefault(),!1;const a=t.closest("form");if(!a)throw new Error("Geen form in formCancel");if(a.classList.contains("InlineForm"))return e.preventDefault(),h(a),!1;if(a.classList.contains("ModalForm")){e.preventDefault();const n=t.getAttribute("href");return n&&i().get(n),b(a)&&!confirm("Sluiten zonder wijzigingen op te slaan?")||(0,c.I)(),!1}return!0}function _(e){s()(e).raty(Object.assign(Object.assign({},JSON.parse(e.dataset.config)),{path:"/images/raty/",cancelHint:"Wis beoordeling",cancelPlace:"right",noRatedMsg:"",click:function(e){s()(this).raty("score",e),s()(this).closest("form").submit()}}))}a(1422);const O=e=>{const t=e.dataset.url,a=new(g())({datumTokenizer:g().tokenizers.obj.whitespace("value"),queryTokenizer:g().tokenizers.whitespace,remote:{url:`${t}%QUERY`,wildcard:"%QUERY"}});s()(e).typeahead({hint:!0,highlight:!0,autoselect:!0},{name:"Entity",display:"value",source:a.ttAdapter(),limit:20,templates:{suggestion:function(e){return`\n<p${e.title?' title="'+e.title+'"':""}>\n<a class="suggestionUrl">\n${e.icon?e.icon:""}\n${e.value}\n${e.label?`<span class="lichtgrijs"> - ${e.label}</span>`:""}\n</a>\n</p>`}}}),s()(e).on("typeahead:select",(function(t,a,n){s()(this).trigger("change"),s()("#"+e.dataset.idField).val(a[e.dataset.suggestieIdField])}))},D=e=>{const t="true"==e.dataset.autoselect,a="true"==e.dataset.clicktogo,n=JSON.parse(e.dataset.sources),i=[];for(const[e,t]of Object.entries(n)){const n=new(g())(Object.assign({datumTokenizer:g().tokenizers.obj.whitespace("value"),queryTokenizer:g().tokenizers.whitespace},t));i.push({name:e,display:"value",source:n.ttAdapter(),limit:20,templates:{header:isNaN(Number(e))?`<h3 class="tt-header">${e}</h3>`:"",suggestion:function(e){return`\n<p${e.title?' title="'+e.title+'"':""}>\n<a class="suggestionUrl" ${a?` href="${e.url}"`:' onclick="event.preventDefault();return false;"'}>\n${e.icon?e.icon:""}\n${e.value}\n${e.label?`<span class="lichtgrijs"> - ${e.label}</span>`:""}\n</a>\n</p>`}}})}s()(e).typeahead({hint:!0,highlight:!0,autoselect:t},...i),s()(e).on("typeahead:select",(function(e,t,n){s()(this).trigger("change"),a&&(t?window.location.href=t.url:w(e))}))}},5737:(e,t,a)=>{"use strict";a.d(t,{O:()=>s,I:()=>o});var n=a(6859),i=a.n(n),r=a(8787);function s(e=""){var t,a;const n=document.getElementById("modal"),s=null!==(t=r.Modal.getInstance(n))&&void 0!==t?t:new r.Modal(n),o=i()(".modal-backdrop");return(""!==n.innerHTML||""!==e)&&(o.length&&o.remove(),""!==e&&(n.replaceWith(e),null===(a=Array.from(n.querySelectorAll("input")).find((e=>"none"!=window.getComputedStyle(e).display)))||void 0===a||a.dispatchEvent(new FocusEvent("focus"))),s.show(),document.dispatchEvent(new Event("modalOpen")),!0)}function o(){const e=r.Modal.getInstance(document.getElementById("modal"));e&&e.hide(),document.dispatchEvent(new Event("modalClose"))}},6893:(e,t,a)=>{"use strict";a.d(t,{H:()=>i,u:()=>r});var n=a(1111);function i(e){"string"!=typeof e||'<div id="modal" '!==e.substring(0,16)?location.reload():(0,n.q)(e)}function r(e){'<div id="modal" '!==e.substring(0,16)?window.location.href=e:(0,n.q)(e)}},5973:(e,t,a)=>{var n={"./nl":5519,"./nl.js":5519};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id=5973},1456:()=>{}}]);
//# sourceMappingURL=5255.b7aa24f38e21c3ff26fa.bundle.js.map