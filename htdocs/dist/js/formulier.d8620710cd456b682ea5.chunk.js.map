{"version":3,"sources":["webpack:///./js/lib/modal.ts","webpack:///./js/lib/ajax.ts","webpack:///./js/datatable/api.ts","webpack:///./js/lib/formulier.ts","webpack:///./js/lib/reload.ts","webpack:///./js/datatable/render.ts","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/moment/locale sync [\\/\\\\](nl(\\.js)","webpack:///./js/lib/domUpdate.ts"],"names":["modalOpen","htmlString","modal","modalBackdrop","html","length","remove","replaceWith","find","trigger","document","body","modalClose","ajaxRequest","type","url","data","source","onsuccess","onerror","onfinish","hasClass","css","addClass","attr","contentType","processData","FormData","ajax","cache","done","response","hide","removeClass","fail","textStatus","errorThrown","responseText","startsWith","status","always","ketzerAjax","ketzer","jqXHR","alert","async","initDataTable","el","$el","settingsJson","search","lastUpdate","fnGetLastUpdate","dataSrc","fnAjaxUpdateCallback","columns","forEach","col","render","table","DataTable","dataTable","api","on","rows","selected","deselect","event","container","get","initOfflineDataTable","fnUpdateDataTable","tableId","row","$tr","UUID","add","draw","fnGetSelection","selection","each","push","this","getApiFromSettings","settings","fn","Api","$table","Number","fnSetLastUpdate","json","tableConfig","autoUpdate","timeout","parseInt","isNaN","setTimeout","post","$scroll","parent","scrollTop","innerHeight","scrollHeight","window","animate","fnAutoScroll","replacePlaceholders","action","replacements","exec","i","replace","formIsChanged","form","changed","not","elmnt","is","val","formInlineToggle","prev","toggle","children","formToggle","target","preventDefault","next","formReset","closest","confirm","orig","formSubmit","$target","q","formData","append","getElementById","key","value","off","formCancel","href","a","insertPlaatje","id","markItUp","reload","substring","location","redirect","sort","export","display","bedrag","check","aanmeldFilter","aanmeldingen","aantal_aanmeldingen","aanmeld_limiet","totaalPrijs","prijs","datetime","date","format","substr","meta","cell","node","firstChild","dateTime","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","domUpdate","trim","write","elements","index","element","Element","$element","parentId","targetParent","effect","show","HTMLScriptElement","parentid","prependTo"],"mappings":"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","file":"js/formulier.d8620710cd456b682ea5.chunk.js","sourcesContent":["import $ from 'jquery';\nexport function modalOpen(htmlString = '') {\n    const modal = $('#modal');\n    const modalBackdrop = $('.modal-backdrop');\n    if (modal.html() === '' && htmlString === '') {\n        return false;\n    }\n    if (modalBackdrop.length) {\n        modalBackdrop.remove();\n    }\n    if (htmlString !== '') {\n        modal.replaceWith(htmlString);\n        modal.find('input:visible:first').trigger('focus');\n    }\n    modal.modal('show');\n    $(document.body).trigger('modalOpen');\n    return true;\n}\nexport function modalClose() {\n    $('#modal').modal('hide');\n    $(document.body).trigger('modalClose');\n}\n","import $ from 'jquery';\nimport { modalClose } from './modal';\nexport function ajaxRequest(type, url, data, source, onsuccess, onerror, onfinish) {\n    if (source) {\n        if (!source.hasClass('noanim')) {\n            $(source).replaceWith(`<img alt=\"Laden\" id=\"${source.attr('id')}\" title=\"${url}\" src=\"/images/loading-arrows.gif\" />`);\n            source = $(`img[title=\"${url}\"]`);\n        }\n        else if (source.hasClass('InlineForm')) {\n            $(source).find('.FormElement:first').css({\n                'background-image': 'url(\"/images/loading-fb.gif\")',\n                'background-position': 'center right',\n                'background-repeat': 'no-repeat',\n            });\n        }\n        else {\n            source.addClass('loading');\n        }\n    }\n    let contentType = 'application/x-www-form-urlencoded; charset=UTF-8';\n    let processData = true;\n    if (data instanceof FormData) {\n        contentType = false;\n        processData = false;\n    }\n    $.ajax({\n        cache: false,\n        contentType,\n        data,\n        processData,\n        type,\n        url,\n    }).done((response) => {\n        if (source) {\n            if (!$(source).hasClass('noanim')) {\n                $(source).hide();\n            }\n            else if ($(source).hasClass('InlineForm')) {\n                $(source).find('.FormElement:first').css({\n                    'background-image': '',\n                    'background-position': '',\n                    'background-repeat': '',\n                });\n            }\n            source.removeClass('loading');\n        }\n        onsuccess(response);\n    }).fail((response, textStatus, errorThrown) => {\n        if (errorThrown === '') {\n            errorThrown = 'Nog bezig met laden!';\n        }\n        if (source) {\n            $(source).replaceWith('<img alt=\"Mislukt\" title=\"' + errorThrown + '\" src=\"/plaetjes/famfamfam/cancel.png\" />');\n        }\n        else {\n            modalClose();\n        }\n        if (onerror) {\n            if (response.responseText.startsWith('<!DOC')) {\n                onerror('Er ging iets fout, code is: ' + response.status);\n            }\n            onerror(response.responseText);\n        }\n    }).always(() => {\n        if (onfinish) {\n            onfinish();\n        }\n    });\n}\n/**\n * @param url\n * @param ketzer\n * @returns {boolean}\n */\nexport function ketzerAjax(url, ketzer) {\n    $(ketzer + ' .aanmeldbtn').addClass('loading');\n    $.ajax({\n        cache: false,\n        data: '',\n        type: 'GET',\n        url,\n    }).done((data) => {\n        $(ketzer).replaceWith(data);\n    }).fail((jqXHR, textStatus, errorThrown) => {\n        $(ketzer + ' .aanmeldbtn')\n            .replaceWith($(`<div class=\"alert alert-danger\"><strong>Actie mislukt!</strong> ${errorThrown}</div>`));\n        alert(jqXHR.responseText);\n    });\n    return true;\n}\n","import $ from 'jquery';\nimport { init } from '../ctx';\nimport { parseData } from '../lib/util';\nimport render from './render';\nexport async function initDataTable(el) {\n    await import(/*webpackChunkName: \"bootstrap\"*/ './bootstrap');\n    const $el = $(el);\n    const settingsJson = $el.data('settings');\n    const search = $el.data('search');\n    // Zet de callback voor ajax\n    if (settingsJson.ajax) {\n        settingsJson.ajax.data.lastUpdate = fnGetLastUpdate($el);\n        settingsJson.ajax.dataSrc = fnAjaxUpdateCallback($el);\n    }\n    // Zet de render method op de columns\n    settingsJson.columns.forEach((col) => col.render = render[col.render]);\n    // Init DataTable\n    const table = $el.DataTable(settingsJson);\n    $el.dataTable().api().search(search);\n    table.on('page', () => table.rows({ selected: true }).deselect());\n    table.on('childRow.dt', (event, data) => init(data.container.get(0)));\n}\nexport async function initOfflineDataTable(el) {\n    await import(/*webpackChunkName: \"bootstrap\"*/ './bootstrap');\n    $(el).DataTable(parseData(el));\n}\n/****************************\n * Een paar functies om met datatables te\n * praten, laadt datatables zelf niet in.\n */\nexport function fnUpdateDataTable(tableId, response) {\n    const $table = $(tableId);\n    const table = $table.DataTable();\n    // update or remove existing rows or add new rows\n    response.data.forEach((row) => {\n        const $tr = $('tr[data-uuid=\"' + row.UUID + '\"]');\n        if ($tr.length === 1) {\n            if ('remove' in row) {\n                table.row($tr).remove();\n            }\n            else {\n                table.row($tr).data(row);\n                init($tr.get(0));\n            }\n        }\n        else if ($tr.length === 0) {\n            table.row.add(row);\n        }\n        else {\n            alert($tr.length);\n        }\n    });\n    table.draw(false);\n}\nexport function fnGetSelection(tableId) {\n    const selection = [];\n    $(tableId + ' tbody tr.selected').each(function () {\n        selection.push($(this).attr('data-uuid'));\n    });\n    return selection;\n}\n// new Api(selector: Settings) is valide, maar wordt als type niet geaccepteerd, type lijkt niet uit te breiden.\n// https://datatables.net/reference/type/DataTables.Settings\nexport function getApiFromSettings(settings) {\n    return new $.fn.dataTable.Api(settings);\n}\n/**\n * Wordt gebruikt in gesprekken.\n *\n * @param {jQuery} $table\n */\nfunction fnAutoScroll($table) {\n    const $scroll = $table.parent();\n    if ($scroll.hasClass('dataTables_scrollBody')) {\n        // autoscroll if already on bottom\n        if ($scroll.scrollTop() + $scroll.innerHeight() >= $scroll[0].scrollHeight - 20) {\n            // check before draw and scroll after\n            window.setTimeout(() => {\n                $scroll.animate({\n                    scrollTop: $scroll[0].scrollHeight,\n                }, 800);\n            }, 200);\n        }\n    }\n}\nexport const fnGetLastUpdate = ($table) => () => Number($table.data('lastupdate'));\nexport const fnSetLastUpdate = ($table) => (lastUpdate) => $table.data('lastupdate', lastUpdate);\n/**\n * Called after ajax load complete.\n *\n * @returns object\n * @param {jQuery} $table\n */\nexport const fnAjaxUpdateCallback = ($table) => (json) => {\n    fnSetLastUpdate($table)(json.lastUpdate);\n    const tableConfig = $table.DataTable();\n    if (json.autoUpdate) {\n        const timeout = parseInt(json.autoUpdate, 10);\n        if (!isNaN(timeout) && timeout < 600000) { // max 10 min\n            setTimeout(() => {\n                $.post(tableConfig.ajax.url(), {\n                    lastUpdate: fnGetLastUpdate($table),\n                }, (data) => {\n                    fnUpdateDataTable($table.attr('id'), data);\n                    fnAjaxUpdateCallback($table)(data);\n                });\n            }, timeout);\n        }\n    }\n    fnAutoScroll($table);\n    return json.data;\n};\nexport function replacePlaceholders(action, row) {\n    const replacements = /:(\\w+)/g.exec(action);\n    if (!replacements) {\n        return action;\n    }\n    for (let i = 1; i < replacements.length; i++) {\n        action = action.replace(':' + replacements[i], row[replacements[i]]);\n    }\n    return action;\n}\n","import axios from 'axios';\nimport $ from 'jquery';\nimport { fnGetSelection, fnUpdateDataTable } from '../datatable/api';\nimport { ajaxRequest } from './ajax';\nimport { domUpdate } from './domUpdate';\nimport { modalClose } from './modal';\nimport { redirect, reload } from './reload';\nexport function formIsChanged(form) {\n    let changed = false;\n    $(form).find('.FormElement').not('.tt-hint').each(function () {\n        const elmnt = $(this);\n        if (elmnt.is('input:radio')) {\n            if (elmnt.is(':checked') && elmnt.attr('origvalue') !== elmnt.val()) {\n                changed = true;\n                return false; // break each\n            }\n        }\n        else if (elmnt.is('input:checkbox')) {\n            if (elmnt.is(':checked') !== (elmnt.attr('origvalue') === '1')) {\n                changed = true;\n                return false; // break each\n            }\n        }\n        else if (elmnt.val() !== elmnt.attr('origvalue')) {\n            changed = true;\n            return false; // break each\n        }\n    });\n    return changed;\n}\n/**\n * @see templates/instellingen/beheer/instelling_row.tpl\n * @param form\n */\nexport function formInlineToggle(form) {\n    form.prev('.InlineFormToggle').toggle();\n    form.toggle();\n    form.children(':first').trigger('focus');\n}\nexport function formToggle(target, event) {\n    event.preventDefault();\n    const form = $(target).next('form');\n    formInlineToggle(form);\n    return false;\n}\nexport function formReset(event, form) {\n    if (!form) {\n        form = $(event.target).closest('form');\n        event.preventDefault();\n    }\n    if ($(event.target).hasClass('confirm') && !confirm($(event.target).attr('title') + '.\\n\\nWeet u het zeker?')) {\n        return false;\n    }\n    form.find('.FormElement').each(function () {\n        const orig = $(event.target).attr('origvalue');\n        if (typeof orig === 'string') {\n            $(this).val(orig);\n        }\n    });\n    return false;\n}\n/**\n * @see view/formulier/invoervelden/InputField.abstract.php\n * @see view/formulier/invoervelden/ZoekField.php\n * @param event\n * @returns {boolean}\n */\nexport function formSubmit(event) {\n    const target = event.target;\n    const $target = $(target);\n    if ($target.hasClass('confirm')) {\n        let q = $target.attr('title');\n        if (q) {\n            q += '.\\n\\n';\n        }\n        else {\n            q = 'Weet u het zeker?';\n        }\n        if (!confirm(q)) {\n            event.preventDefault();\n            return false;\n        }\n    }\n    const form = $target.closest('form');\n    if (!form.hasClass('Formulier')) {\n        return false;\n    }\n    if (form.hasClass('PreventUnchanged') && !formIsChanged(form)) {\n        event.preventDefault();\n        alert('Geen wijzigingen');\n        return false;\n    }\n    if ($target.attr('href')) {\n        form.attr('action', $target.attr('href'));\n    }\n    if (!(form.hasClass('ModalForm') || form.hasClass('InlineForm'))) {\n        form.off('submit');\n        form.trigger('submit');\n        return true;\n    }\n    else {\n        event.preventDefault();\n        const formData = new FormData(form.get(0));\n        let done = domUpdate;\n        let source = false;\n        if (form.hasClass('InlineForm')) {\n            source = form;\n            formData.append('InlineFormId', form.attr('id'));\n            if (form.data('submitCallback')) {\n                done = form.data('submitCallback');\n            }\n        }\n        if (form.hasClass('ModalForm')) {\n            done = (response) => {\n                if (typeof response === 'string') {\n                    domUpdate(response);\n                }\n                else {\n                    modalClose();\n                }\n            };\n        }\n        if (form.hasClass('DataTableResponse')) {\n            const tableId = form.attr('data-tableid');\n            if (!document.getElementById(tableId)) {\n                alert('DataTable not found');\n            }\n            formData.append('DataTableId', tableId);\n            const selection = fnGetSelection('#' + tableId);\n            $.each(selection, (key, value) => {\n                formData.append('DataTableSelection[]', value);\n            });\n            done = (response) => {\n                if (typeof response === 'object') { // JSON\n                    fnUpdateDataTable('#' + tableId, response);\n                    if (response.modal) {\n                        domUpdate(response.modal);\n                    }\n                    else {\n                        modalClose();\n                    }\n                }\n                else { // HTML\n                    domUpdate(response);\n                }\n            };\n            if (!form.hasClass('noanim')) {\n                source = false;\n            }\n        }\n        if (form.hasClass('ReloadPage')) {\n            done = reload;\n        }\n        else if (form.hasClass('redirect')) {\n            done = redirect;\n        }\n        ajaxRequest('POST', form.attr('action'), formData, source, done, alert, () => {\n            if (form.hasClass('SubmitReset')) {\n                formReset(event, form);\n            }\n        });\n        return false;\n    }\n}\n/**\n * @see view/formulier/invoervelden/InputField.abstract.php\n * @param event\n * @returns {boolean}\n */\nexport function formCancel(event) {\n    const source = $(event.target);\n    if (source.hasClass('confirm') && !confirm(source.attr('title') + '.\\n\\nWeet u het zeker?')) {\n        event.preventDefault();\n        return false;\n    }\n    const form = source.closest('form');\n    if (form.hasClass('InlineForm')) {\n        event.preventDefault();\n        formInlineToggle(form);\n        return false;\n    }\n    if (form.hasClass('ModalForm')) {\n        event.preventDefault();\n        const href = source.attr('href');\n        if (href) {\n            axios.get(href);\n        }\n        if (!formIsChanged(form) || confirm('Sluiten zonder wijzigingen op te slaan?')) {\n            modalClose();\n        }\n        return false;\n    }\n    return true;\n}\nexport function insertPlaatje(id) {\n    $.markItUp({ replaceWith: '[plaatje]' + id + '[/plaatje]' });\n}\n","import { domUpdate } from './domUpdate';\nexport function reload(htmlString) {\n    if (typeof htmlString === 'string' && htmlString.substring(0, 16) === '<div id=\"modal\" ') {\n        domUpdate(htmlString);\n        return;\n    }\n    location.reload();\n}\nexport function redirect(htmlString) {\n    if (htmlString.substring(0, 16) === '<div id=\"modal\" ') {\n        domUpdate(htmlString);\n        return;\n    }\n    window.location.href = htmlString;\n}\n","import moment from 'moment';\nimport { formatBedrag, formatFilesize } from '../lib/util';\nimport { getApiFromSettings } from './api';\n/**\n * Standaard gedefinieerde render functies.\n */\nexport default {\n    default(data, type) {\n        if (data === null || typeof data !== 'object') {\n            return data;\n        }\n        switch (type) {\n            case 'sort':\n                return data.sort;\n            case 'export':\n                return data.export;\n            default:\n                return data.display;\n        }\n    },\n    bedrag(data) {\n        return formatBedrag(data);\n    },\n    check(data) {\n        return '<span class=\"ico ' + (data ? 'tick' : 'cross') + '\"></span>';\n    },\n    aanmeldFilter(data) {\n        return data ? `<span class=\"ico group_key\" title=\"Aanmeld filter actief: '${data}'\"></span>` : '';\n    },\n    aanmeldingen(data, type, row) {\n        return row.aantal_aanmeldingen + ' (' + row.aanmeld_limiet + ')';\n    },\n    totaalPrijs(data, type, row) {\n        return formatBedrag(row.aantal_aanmeldingen * parseInt(row.prijs, 10));\n    },\n    datetime(date, type, row) {\n        // tslint:disable-next-line:triple-equals\n        if (Number(date) == date) {\n            return moment(date * 1000).format('L LT');\n        }\n        if (!date) {\n            return '';\n        }\n        if (date.substr(0, 5) === '<time') {\n            return date;\n        }\n        return moment(date).format('L LT');\n    },\n    timeago(data, type, row, meta) {\n        const api = getApiFromSettings(meta.settings);\n        const cell = api.cell(meta.row, meta.col).node().firstChild;\n        switch (type) {\n            case 'sort':\n            case 'export':\n                return cell.dateTime;\n            default:\n                return data;\n        }\n    },\n    filesize(data, type) {\n        switch (type) {\n            case 'sort':\n                return Number(data);\n            default:\n                return formatFilesize(data);\n        }\n    },\n};\n","var map = {\n\t\"./nl\": 62,\n\t\"./nl.js\": 62\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 76;","import $ from 'jquery';\nimport { init } from '../ctx';\nimport { modalClose, modalOpen } from './modal';\nimport { htmlParse } from './util';\nexport function domUpdate(htmlString) {\n    if (typeof htmlString !== 'string') {\n        return;\n    }\n    htmlString = $.trim(htmlString);\n    if (htmlString.substring(0, 9) === '<!DOCTYPE') {\n        alert('response error');\n        document.write(htmlString);\n    }\n    const elements = htmlParse(htmlString);\n    $(elements).each(function (index, element) {\n        if (!(element instanceof Element)) {\n            // element kan ook een stuk tekst zijn, hier kunnen we niets mee.\n            return;\n        }\n        const $element = $(element);\n        const id = $(element).attr('id');\n        const parentId = $(element).attr('parentid');\n        const target = $('#' + id);\n        const targetParent = $('#' + parentId);\n        if (target.length === 1) {\n            if ($element.hasClass('remove')) {\n                target.effect('fade', {}, 400, () => {\n                    target.remove();\n                });\n            }\n            else {\n                target.replaceWith($element.show().get()).effect('highlight');\n            }\n        }\n        else if (targetParent.length === 1) {\n            targetParent.append($element.show());\n        }\n        else if (element instanceof HTMLScriptElement) {\n            $('head').append($element);\n        }\n        else {\n            const parentid = $(this).attr('parentid');\n            if (parentid) {\n                $(this).prependTo(`#${parentid}`).show().effect('highlight');\n            }\n            else {\n                $(this).prependTo('#maalcie-tabel tbody:visible:first').show().effect('highlight'); // FIXME: make generic\n            }\n        }\n        init(element);\n        if (id === 'modal') {\n            modalOpen();\n        }\n        else {\n            modalClose();\n        }\n    });\n}\n"],"sourceRoot":""}