{"version":3,"sources":["webpack:///./js/modal.ts","webpack:///./js/ajax.ts","webpack:///./js/datatable/api.ts","webpack:///./js/extern-defer.ts","webpack:///./js/reload.ts","webpack:///./js/fotoalbum/with-download-button.ts","webpack:///./js/fotoalbum/with-full-size-preview.ts","webpack:///./js/fotoalbum/with-fullscreen-button.ts","webpack:///./js/fotoalbum/with-hotkeys.ts","webpack:///./js/fotoalbum/with-preload.ts","webpack:///./js/fotoalbum/main.ts","webpack:///./js/bbcode-set.ts","webpack:///./js/formulier.ts","webpack:///./js/ctx.ts","webpack:///./js/datatable/render.ts","webpack:///./js/context.ts","webpack:///./js/lib/jquery.markitup.js","webpack:///./js/bbcode-hints.ts","webpack:///./js/bbcode.ts","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/moment/locale sync [\\/\\\\](nl(\\.js)"],"names":["modalOpen","htmlString","modal","modalBackdrop","html","length","remove","replaceWith","find","trigger","document","body","modalClose","ajaxRequest","type","url","data","source","onsuccess","onerror","onfinish","hasClass","css","addClass","attr","contentType","processData","FormData","ajax","cache","done","response","hide","removeClass","fail","textStatus","errorThrown","responseText","startsWith","status","always","ketzerAjax","ketzer","jqXHR","alert","fnUpdateDataTable","tableId","table","DataTable","forEach","row","$tr","UUID","get","add","draw","fnGetSelection","selection","each","push","this","getApiFromSettings","settings","fn","dataTable","Api","addHandler","async","el","$el","settingsJson","search","lastUpdate","fnGetLastUpdate","dataSrc","fnAjaxUpdateCallback","columns","col","render","api","on","rows","selected","deselect","event","container","$table","Number","json","fnSetLastUpdate","tableConfig","autoUpdate","timeout","parseInt","isNaN","setTimeout","post","$scroll","parent","scrollTop","innerHeight","scrollHeight","window","animate","fnAutoScroll","replacePlaceholders","action","replacements","exec","i","replace","$window","$header","$banner","content","createElement","toString","foto","indexOf","video","hasAnchor","closest","wrap","lazyLoad","hasLoaded","textContent","pageYOffset","outerHeight","contactForm","querySelector","errorContainer","submitButton","addEventListener","preventDefault","innerHTML","disabled","formData","a","then","reset","catch","error","reload","substring","location","redirect","href","constructor","albums","params","super","downloadIcon","style","color","backgroundColor","background","textColor","transform","getFullUrl","appendControlsElements","item","currentItem","goToItem","fullUrl","setSize","preview","bind","size","updateImage","getElement","auto","load","img","Image","src","backgroundImage","backgroundSize","Math","min","width","fullscreenIcon","fullscreenButton","children","toggleFullscreen","fullscreenElement","classList","exitFullscreen","previewElement","requestFullscreen","e","key","prev","next","items","album","querySelectorAll","isLoggedIn","magAanpassen","root","fotos","dataset","decorators","withTags","default","withAdminButtons","appendChild","create","JSON","parse","previewSize","contain","tooltipThumbnailsToggle","tooltipChangeSize","tooltipSeeAllItems","tooltipSeeOtherAlbums","tooltipSlideShowPause","tooltipSlideShowStart","loadFotoAlbum","bbCodeSet","markupSet","className","name","openWith","closeWith","separator","placeHolder","markitup","prompt","decodeURIComponent","trim","pos","nameSpace","previewParserPath","formIsChanged","form","changed","not","elmnt","is","val","formInlineToggle","toggle","formReset","target","confirm","orig","formSubmit","$target","q","append","getElementById","value","off","formCancel","ctx","addHandlers","formToggle","markItUp","timeago","insertPlaatje","id","handlers","selectors","selector","Object","keys","handler","Error","Array","from","init","sort","export","display","bedrag","check","aanmeldFilter","aanmeldingen","aantal_aanmeldingen","aanmeld_limiet","totaalPrijs","prijs","datetime","date","format","substr","meta","cell","node","firstChild","dateTime","domUpdate","write","elements","index","element","Element","$element","parentId","targetParent","effect","show","HTMLScriptElement","parentid","prependTo","getAttribute","setAttribute","height","parentElement","replaceChild","targetUrl","link","$","extraSettings","method","options","ctrlKey","shiftKey","altKey","previewHandler","previewInWindow","previewInElement","previewAutoRefresh","previewPosition","previewTemplatePath","previewParser","previewParserVar","resizeHandle","beforeInsert","afterInsert","onEnter","onShiftEnter","onCtrlEnter","onTab","extend","tag","miuScript","match","uaMatch","ua","toLowerCase","browser","version","matched","navigator","userAgent","chrome","webkit","safari","$$","textarea","levels","scrollPosition","caretPosition","caretOffset","clicked","hash","header","footer","previewWindow","template","iFrame","abort","localize","markup","inText","toUpperCase","insertBefore","dropMenus","appendTo","insertAfter","mouseMove","mouseUp","h","y","clientY","max","unbind","keyPressed","focused","refreshPreview","ul","li","button","t","title","j","focus","call","eval","one","dropMenu","pop","magicMarkups","string","x","b","split","undefined","prepare","isFunction","build","block","openBlockWith","closeBlockWith","multiline","lines","blocks","l","trailingSpaces","line","join","len","n","start","beforeMultiInsert","opera","fixIeBug","fixOperaBug","insert","set","afterMultiInsert","msie","createRange","text","createTextRange","range","collapse","moveStart","moveEnd","select","setSelectionRange","rangeCopy","duplicate","moveToElementText","inRange","selectionStart","selectionEnd","closed","open","unload","close","contentWindow","frame","renderPreview","writeInPreview","dataType","global","encodeURIComponent","success","sp","documentElement","metaKey","keyCode","String","fromCharCode","triggerHandler","keepDefault","markItUpRemove","jQuery","Textcomplete","Textarea","term","callback","encodeURI","editor","textcomplete","register","label","dropdown","activate","previewId","bbpreviewBtn","CsrBBPreviewEl","bbpreview","bbcode","assign","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","resolve","module","exports"],"mappings":"6FAAA,wFACO,SAASA,EAAUC,EAAa,IACnC,MAAMC,EAAQ,IAAE,UACVC,EAAgB,IAAE,mBACxB,OAAqB,KAAjBD,EAAME,QAAgC,KAAfH,KAGvBE,EAAcE,QACdF,EAAcG,SAEC,KAAfL,IACAC,EAAMK,YAAYN,GAClBC,EAAMM,KAAK,uBAAuBC,QAAQ,UAE9CP,EAAMA,MAAM,QACZ,IAAEQ,SAASC,MAAMF,QAAQ,cAClB,GAEJ,SAASG,IACZ,IAAE,UAAUV,MAAM,QAClB,IAAEQ,SAASC,MAAMF,QAAQ,gB,gCCpB7B,gGAEO,SAASI,EAAYC,EAAMC,EAAKC,EAAMC,EAAQC,EAAWC,EAASC,GACjEH,IACKA,EAAOI,SAAS,UAIZJ,EAAOI,SAAS,cACrB,IAAEJ,GAAQT,KAAK,sBAAsBc,IAAI,CACrC,mBAAoB,gCACpB,sBAAuB,eACvB,oBAAqB,cAIzBL,EAAOM,SAAS,YAXhB,IAAEN,GAAQV,YAAY,wBAAwBU,EAAOO,KAAK,iBAAiBT,0CAC3EE,EAAS,IAAE,cAAcF,SAajC,IAAIU,EAAc,mDACdC,GAAc,EACdV,aAAgBW,WAChBF,GAAc,EACdC,GAAc,GAElB,IAAEE,KAAK,CACHC,OAAO,EACPJ,cACAT,OACAU,cACAZ,OACAC,QACDe,KAAMC,IACDd,IACK,IAAEA,GAAQI,SAAS,UAGf,IAAEJ,GAAQI,SAAS,eACxB,IAAEJ,GAAQT,KAAK,sBAAsBc,IAAI,CACrC,mBAAoB,GACpB,sBAAuB,GACvB,oBAAqB,KANzB,IAAEL,GAAQe,OASdf,EAAOgB,YAAY,YAEvBf,EAAUa,KACXG,KAAK,CAACH,EAAUI,EAAYC,KACP,KAAhBA,IACAA,EAAc,wBAEdnB,EACA,IAAEA,GAAQV,YAAY,6BAA+B6B,EAAc,6CAGnE,cAEAjB,IACIY,EAASM,aAAaC,WAAW,UACjCnB,EAAQ,+BAAiCY,EAASQ,QAEtDpB,EAAQY,EAASM,iBAEtBG,OAAO,KACFpB,GACAA,MASL,SAASqB,EAAW1B,EAAK2B,GAc5B,OAbA,IAAEA,EAAS,gBAAgBnB,SAAS,WACpC,IAAEK,KAAK,CACHC,OAAO,EACPb,KAAM,GACNF,KAAM,MACNC,QACDe,KAAMd,IACL,IAAE0B,GAAQnC,YAAYS,KACvBkB,KAAK,CAACS,EAAOR,EAAYC,KACxB,IAAEM,EAAS,gBACNnC,YAAY,IAAE,mEAAmE6B,YACtFQ,MAAMD,EAAMN,iBAET,I,gCCxFX,kLAgCO,SAASQ,EAAkBC,EAASf,GACvC,MACMgB,EADS,IAAED,GACIE,YAErBjB,EAASf,KAAKiC,QAASC,IACnB,MAAMC,EAAM,IAAE,iBAAmBD,EAAIE,KAAO,MACzB,IAAfD,EAAI9C,OACA,WAAY6C,EACZH,EAAMG,IAAIC,GAAK7C,UAGfyC,EAAMG,IAAIC,GAAKnC,KAAKkC,GACpB,YAAKC,EAAIE,IAAI,KAGG,IAAfF,EAAI9C,OACT0C,EAAMG,IAAII,IAAIJ,GAGdN,MAAMO,EAAI9C,UAGlB0C,EAAMQ,MAAK,GAER,SAASC,EAAeV,GAC3B,MAAMW,EAAY,GAIlB,OAHA,IAAEX,EAAU,sBAAsBY,MAAK,WACnCD,EAAUE,KAAK,IAAEC,MAAMpC,KAAK,iBAEzBiC,EAIJ,SAASI,EAAmBC,GAC/B,OAAO,IAAI,IAAEC,GAAGC,UAAUC,IAAIH,GA9DlC,IAAII,WAAW,kBAEfC,eAA6BC,SACnB,mDACN,MAAMC,EAAM,IAAED,GACRE,EAAeD,EAAIrD,KAAK,YACxBuD,EAASF,EAAIrD,KAAK,UAEpBsD,EAAa1C,OACb0C,EAAa1C,KAAKZ,KAAKwD,WAAaC,EAAgBJ,GACpDC,EAAa1C,KAAK8C,QAAUC,EAAqBN,IAGrDC,EAAaM,QAAQ3B,QAAS4B,GAAQA,EAAIC,OAAS,IAAOD,EAAIC,SAE9D,MAAM/B,EAAQsB,EAAIrB,UAAUsB,GAC5BD,EAAIL,YAAYe,MAAMR,OAAOA,GAC7BxB,EAAMiC,GAAG,OAAQ,IAAMjC,EAAMkC,KAAK,CAAEC,UAAU,IAAQC,YACtDpC,EAAMiC,GAAG,cAAe,CAACI,EAAOpE,IAAS,YAAKA,EAAKqE,UAAUhC,IAAI,QAjBrE,IAAIa,WAAW,0BAmBfC,eAAoCC,SAC1B,mDACN,IAAEA,GAAIpB,UAAU,YAAUoB,OA6DvB,MAAMK,EAAmBa,GAAW,IAAMC,OAAOD,EAAOtE,KAAK,eAQvD2D,EAAwBW,GAAYE,IAPlB,CAACF,GAAYd,GAAec,EAAOtE,KAAK,aAAcwD,GAQjFiB,CAAgBH,EAAhBG,CAAwBD,EAAKhB,YAC7B,MAAMkB,EAAcJ,EAAOtC,YAC3B,GAAIwC,EAAKG,WAAY,CACjB,MAAMC,EAAUC,SAASL,EAAKG,WAAY,KACrCG,MAAMF,IAAYA,EAAU,KAC7BG,WAAW,KACP,IAAEC,KAAKN,EAAY9D,KAAKb,MAAO,CAC3ByD,WAAYC,EAAgBa,IAC5BtE,IACA6B,EAAkByC,EAAO9D,KAAK,MAAOR,GACrC2D,EAAqBW,EAArBX,CAA6B3D,MAElC4E,GAIX,OAvCJ,SAAsBN,GAClB,MAAMW,EAAUX,EAAOY,SACnBD,EAAQ5E,SAAS,0BAEb4E,EAAQE,YAAcF,EAAQG,eAAiBH,EAAQ,GAAGI,aAAe,IAEzEC,OAAOP,WAAW,KACdE,EAAQM,QAAQ,CACZJ,UAAWF,EAAQ,GAAGI,cACvB,MACJ,KA4BXG,CAAalB,GACNE,EAAKxE,MAET,SAASyF,EAAoBC,EAAQxD,GACxC,MAAMyD,EAAe,UAAUC,KAAKF,GACpC,IAAKC,EACD,OAAOD,EAEX,IAAK,IAAIG,EAAI,EAAGA,EAAIF,EAAatG,OAAQwG,IACrCH,EAASA,EAAOI,QAAQ,IAAMH,EAAaE,GAAI3D,EAAIyD,EAAaE,KAEpE,OAAOH,I,iCC1HX,uEASA,EAAQ,IACR,EAAQ,IACR,EAAQ,KACR,EAAQ,IACR,EAAQ,IACR,MAAMK,EAAU,IAAET,QACZU,EAAU,IAAE,WACZC,EAAU,IAAE,WAClBF,EAAQ/B,GAAG,OAAQ,KAEfe,WAAW,KACP,IAAE,sBAAsBrC,MAAK,WACzB,MAAMwD,EAAU,IAAExG,SAASyG,cAAc,QACzCD,EAAQlC,GAAG,SAAS,WAChB,IAAEpB,MAAMpC,KAAK,QAAS,oDACtB,IAAEoC,MAAMpC,KAAK,MAAO,yCACpB,IAAEoC,MAAMtC,IAAI,QAAS,QACrB,IAAEsC,MAAMtC,IAAI,SAAU,QACtB,IAAEsC,MAAM3B,YAAY,kBAAkBV,SAAS,aAEnD2F,EAAQ3F,SAAS,UACjB2F,EAAQ1F,KAAK,MAAO,IAAEoC,MAAMpC,KAAK,UACjC0F,EAAQ1F,KAAK,QAAS,IAAEoC,MAAMpC,KAAK,UACnC0F,EAAQ1F,KAAK,MAAO,IAAEoC,MAAMpC,KAAK,QACjC,IAAEoC,MAAMxD,KAAK8G,EAAQE,YACrBF,EAAQlC,GAAG,QAAQ,WACf,MAAMqC,EAAOH,EAAQ1F,KAAK,OAAO8F,QAAQ,yBAA2B,EAC9DC,EAAQ,IAAE3D,MAAMsC,SAASA,SAAS7E,SAAS,oBAC3CmG,EAA4C,IAAhC,IAAE5D,MAAM6D,QAAQ,KAAKpH,OACvC,IAAEuD,MAAMsC,SAAS3F,YAAY,IAAEqD,OAC1ByD,GAASE,GAAUC,GACpB,IAAE5D,MAAM8D,KAAK,kCAAkC,IAAE9D,MAAMpC,KAAK,wDAMhF,MAAMmG,EAAW,MACb,IAAIC,GAAY,EAChB,MAAO,KACCA,IAGJA,GAAY,EAEZ7B,WAAW,KACP,IAAE,cAAcrC,MAAK,WACjB,IAAEE,MAAMrD,YAAYqD,KAAKiE,qBAVxB,GAgBjBd,EAAQ/B,GAAG,SAAU,KACb,IAAEsB,QAAQH,YAAc,GACxBwB,IAEArB,OAAOwB,YAAcb,EAAQc,cAC7Bf,EAAQ/E,YAAY,OAGpB+E,EAAQzF,SAAS,SAGzBwF,EAAQ/B,GAAG,SAAU,IAAM+B,EAAQtG,QAAQ,WAC3CsG,EAAQtG,QAAQ,UAChB,YAAKC,SAASC,MACd,MAAMqH,EAActH,SAASuH,cAAc,iBAC3C,GAAID,EAAa,CACb,MAAME,EAAiBxH,SAASuH,cAAc,YACxCE,EAAeH,EAAYG,aACjCH,EAAYI,iBAAiB,SAAWhD,IACpCA,EAAMiD,iBACNH,EAAeI,UAAY,GAC3BH,EAAaI,UAAW,EACxB,MAAMC,EAAW,IAAI7G,SAASqG,GAe9B,OAdA,EAAAS,EAAMzC,KAAK,8BAA+BwC,GACrCE,KAAM3G,IACPiG,EAAYW,QACZR,EAAaI,UAAW,EACxBL,EAAeI,UAAY,oEACcvG,EAASf,KAC9C,WAEH4H,MAAOC,IACRV,EAAaI,UAAW,EACxBL,EAAeI,UAAY,wEACmBO,EAAM9G,SAASf,KACzD,YAED,M,gCCnGf,+EACO,SAAS8H,EAAO7I,GACO,iBAAfA,GAA2D,qBAAhCA,EAAW8I,UAAU,EAAG,IAI9DC,SAASF,SAHL,YAAU7I,GAKX,SAASgJ,EAAShJ,GACe,qBAAhCA,EAAW8I,UAAU,EAAG,IAI5BzC,OAAO0C,SAASE,KAAOjJ,EAHnB,YAAUA,K,yFCcH,MAtBakJ,GAAgB,cAAcA,EACtD,YAAYC,EAAQC,GAChBC,MAAMF,EAAQC,GACd,MAAME,EAAe,YAAY,YAAc,sEAAuE,CAClHC,MAAO,CACHC,MAAOJ,EAAOK,gBACdC,WAAYN,EAAOO,UACnBC,UAAW,oBAEf3C,QAAS,eAEbqC,EAAanB,iBAAiB,QAAS,IAAM9B,OAAO0C,SAASE,KAAUtF,KAAKkG,aAAR,aACpElG,KAAKmG,uBAAuB,CAACR,IAEjC,SAASS,GAEL,OADApG,KAAKqG,YAAcD,EACZV,MAAMY,SAASF,GAE1B,aACI,OAAOpG,KAAKqG,YAAYE,U,SCIjB,MAvBchB,GAAgB,cAAcA,EACvD,YAAYC,EAAQC,GAChBC,MAAMF,EAAQC,GACd,MAAMe,EAAUxG,KAAKyG,QAAQD,QAAQE,KAAK1G,KAAKyG,SAC/CzG,KAAKyG,QAAQD,QAAWG,IACpB3G,KAAK4G,YAAYD,GACVH,EAAQG,IAGvB,kBAAkBA,GACd,MAAMrD,EAAUtD,KAAKyG,QAAQI,aAAaxC,cAAc,8BACxD,GAAIsC,IAAS,IAAKG,KAAM,OACd,OAAAC,EAAA,GAAK/G,KAAKqG,YAAYE,SAC5B,MAAMS,EAAM,IAAIC,MAChBD,EAAIE,IAAMlH,KAAKqG,YAAYE,QAC3BjD,EAAQsC,MAAMuB,gBAAkB,OAAOnH,KAAKqG,YAAYE,WACxDjD,EAAQsC,MAAMwB,eAAoBC,KAAKC,IAAI,IAAMN,EAAIO,OAAtB,UAG/BjE,EAAQsC,MAAMuB,gBAAkB,OAAOnH,KAAKqG,YAAYlJ,SCerD,MAlCeoI,GAAgB,cAAcA,EACxD,YAAYC,EAAQC,GAChBC,MAAMF,EAAQC,GACd,MAAM+B,EAAiB,YAAc,gCAC/BC,EAAmB,YAAY,YAAc,mDAAoD,CACnGC,SAAU,CAACF,KACX,CACA5B,MAAO,CACHC,MAAOJ,EAAOK,gBACdC,WAAYN,EAAOO,UACnBC,UAAW,oBAEf3C,QAAS,oBAEbmE,EAAiBjD,iBAAiB,QAAS,IAAMxE,KAAK2H,oBACtD3H,KAAKmG,uBAAuB,CAACsB,IAC7B3K,SAAS0H,iBAAiB,mBAAoB,KACtC1H,SAAS8K,kBACTJ,EAAeK,UAAU3E,QAAQ,YAAa,eAG9CsE,EAAeK,UAAU3E,QAAQ,cAAe,eAI5D,yBACQpG,SAAS8K,wBACH9K,SAASgL,uBAGT9H,KAAK+H,eAAeC,sBCjBvB,MAfMzC,GAAgB,cAAcA,EAC/C,YAAYC,EAAQC,GAChBC,MAAMF,EAAQC,GACd3I,SAAS0H,iBAAiB,UAAYyD,IAClC,OAAQA,EAAEC,KACN,IAAK,YACDlI,KAAKmI,OACL,MACJ,IAAK,aACDnI,KAAKoI,YCYV,MApBM7C,GAAgB,cAAcA,EAC/C,SAASa,GACL,MAAM,MAAEiC,GAAUrI,KAAKsI,MACjBF,EAAOC,EAAMA,EAAM3E,QAAQ0C,GAAQ,GACrCgC,EACA,OAAArB,EAAA,GAAKqB,EAAKjL,KAGV,OAAA4J,EAAA,GAAKsB,EAAM,GAAGlL,KAElB,MAAMgL,EAAOE,EAAMA,EAAM3E,QAAQ0C,GAAQ,GAOzC,OANI+B,EACA,OAAApB,EAAA,GAAKoB,EAAKhL,KAGV,OAAA4J,EAAA,GAAKsB,EAAMA,EAAM5L,OAAS,GAAGU,KAE1BuI,MAAMY,SAASF,KCXR7F,WAClB,MAAMiF,EAAS1I,SAASyL,iBAAiB,cACzC,IAAK,MAAMD,KAAS9C,EAAQ,CACxB,MAAM,WAAEgD,EAAU,aAAEC,EAAY,KAAEC,EAAI,MAAEC,GAAUL,EAAMM,QAClDC,EAAa,CAAC,EAAsB,EAAoB,EAAa,EAAa,GACxF,GAAmB,SAAfL,EAAuB,CACvB,MAAMM,QAAiB,+BACvBD,EAAW9I,KAAK+I,EAASC,SAE7B,GAAqB,SAAjBN,EAAyB,CACzB,MAAMO,QAAyB,+BAC/BH,EAAW9I,KAAKiJ,EAAiBD,SAErCT,EAAMW,YAAY,IAASC,OAAOC,KAAKC,MAAMT,GAAQ,CACjDE,aACAH,OACAW,YAAa,IAAKC,QAClBC,wBAAyB,uBACzBC,kBAAmB,qBACnBC,mBAAoB,wBACpBC,sBAAuB,0BACvBC,sBAAuB,wBACvBC,sBAAuB,yBACxB/C,gBAKXgD,I,gMCrBO,MAAMC,EAAY,CACrBC,UAAW,CACP,CAAEC,UAAW,gBAAiBC,KAAM,aAAc/B,IAAK,IAAKgC,SAAU,MAAOC,UAAW,QACxF,CAAEH,UAAW,kBAAmBC,KAAM,UAAW/B,IAAK,IAAKgC,SAAU,MAAOC,UAAW,QACvF,CAAEH,UAAW,qBAAsBC,KAAM,eAAgB/B,IAAK,IAAKgC,SAAU,MAAOC,UAAW,QAC/F,CAAEH,UAAW,yBAA0BC,KAAM,gBAAiB/B,IAAK,IAAKgC,SAAU,MAAOC,UAAW,QACpG,CAAEC,UAAW,KACb,CAAEJ,UAAW,qBAAsBC,KAAM,WAAY/B,IAAK,IAAKgC,SAAU,aAAcC,UAAW,eAClG,CACIH,UAAW,eACXG,UAAW,YACXjC,IAAK,IACL+B,KAAM,SACNC,SAAU,8BAEd,CAAEE,UAAW,KACb,CACIJ,UAAW,WACXG,UAAW,SACXjC,IAAK,IACL+B,KAAM,OACNC,SAAU,kBACVG,YAAa,cAEjB,CACIL,UAAW,iBACXG,UAAW,WACXjC,IAAK,IACL+B,KAAM,QACNC,SAAU,4BACVG,YAAa,cAEjB,CAAED,UAAW,KACb,CACIJ,UAAW,aAAcC,KAAM,YAC/BtN,YAAc2N,IACV,IAAInN,EAAMuF,OAAO6H,OAAO,MAAO,IAC/B,GAAIpN,EAAK,CACLA,EAAMqN,mBAAmBrN,EAAIsN,QAC7B,MAAMC,EAAMvN,EAAIuG,QAAQ,eACxB,GAAIgH,EAAM,EAEN,OADAvN,EAAMA,EAAIgI,UAAUuF,EAAM,IACnB,cAAgBvN,EAAM,eAEjC6B,MAAM,kBAEV,OAAOsL,EAASzK,YAGxB,CACImK,UAAW,YAAaC,KAAM,2BAC9BtN,YAAc2N,IACV,IAAInN,EAAMuF,OAAO6H,OAAO,MAAO,IAC/B,GAAIpN,EAAK,CACLA,EAAMqN,mBAAmBrN,EAAIsN,QAC7B,MAAMC,EAAMvN,EAAIuG,QAAQ,eACxB,GAAIgH,EAAM,EAEN,OADAvN,EAAMA,EAAIgI,UAAUuF,EAAM,IAAIxH,QAAQ,YAAa,IAAIA,QAAQ,WAAY,IAAIA,QAAQ,IAAK,IACrF,SAAW/F,EAAM,UAE5B6B,MAAM,kBAEV,OAAOsL,EAASzK,YAGvB,cACG,CACImK,UAAW,cAAeC,KAAM,UAChCE,UAAYG,IACR,EAAAzF,EAAMpF,IAAI,0BAA0BqF,KAAM3G,IACtC,YAAUA,EAASf,QAEhB,KAIf,CAAE4M,UAAW,cAAeC,KAAM,aAActN,YAAa,wBACjE,CAAEqN,UAAW,WAAYC,KAAM,QAAStN,YAAa,4BACrD,CAAEyN,UAAW,KACb,CAAEJ,UAAW,UAAWC,KAAM,QAASC,SAAU,YAAaC,UAAW,aAAcE,YAAa,gBACpG,CAAEL,UAAW,iBAAkBC,KAAM,aAAcC,SAAU,eAAgBC,UAAW,iBACxF,CACIH,UAAW,aACXG,UAAW,WACXF,KAAM,QACNC,SAAU,UACVG,YAAa,yBAgBjB,CAAED,UAAW,KACb,CAAEJ,UAAW,sBAAuBC,KAAM,OAAQC,SAAU,SAAUC,UAAW,WACjF,CAAEH,UAAW,UAAWC,KAAM,mBAAoBC,SAAU,UAAWC,UAAW,aAEtFQ,UAAW,QACXC,kBAAmB,iB,mCCtGhB,SAASC,EAAcC,GAC1B,IAAIC,GAAU,EAoBd,OAnBA,IAAED,GAAMlO,KAAK,gBAAgBoO,IAAI,YAAYlL,MAAK,WAC9C,MAAMmL,EAAQ,IAAEjL,MAChB,GAAIiL,EAAMC,GAAG,gBACT,GAAID,EAAMC,GAAG,aAAeD,EAAMrN,KAAK,eAAiBqN,EAAME,MAE1D,OADAJ,GAAU,GACH,OAGV,GAAIE,EAAMC,GAAG,mBACd,GAAID,EAAMC,GAAG,eAA6C,MAA5BD,EAAMrN,KAAK,cAErC,OADAmN,GAAU,GACH,OAGV,GAAIE,EAAME,QAAUF,EAAMrN,KAAK,aAEhC,OADAmN,GAAU,GACH,KAGRA,EAMJ,SAASK,EAAiBN,GAC7BA,EAAK3C,KAAK,qBAAqBkD,SAC/BP,EAAKO,SACLP,EAAKpD,SAAS,UAAU7K,QAAQ,SAQ7B,SAASyO,EAAU9J,EAAOsJ,GAK7B,OAJKA,IACDA,EAAO,IAAEtJ,EAAM+J,QAAQ1H,QAAQ,QAC/BrC,EAAMiD,kBAEN,IAAEjD,EAAM+J,QAAQ9N,SAAS,aAAe+N,QAAQ,IAAEhK,EAAM+J,QAAQ3N,KAAK,SAAW,2BAGpFkN,EAAKlO,KAAK,gBAAgBkD,MAAK,WAC3B,MAAM2L,EAAO,IAAEjK,EAAM+J,QAAQ3N,KAAK,aACd,iBAAT6N,GACP,IAAEzL,MAAMmL,IAAIM,OALT,EAgBR,SAASC,EAAWlK,GACvB,MAAM+J,EAAS/J,EAAM+J,OACfI,EAAU,IAAEJ,GAClB,GAAII,EAAQlO,SAAS,WAAY,CAC7B,IAAImO,EAAID,EAAQ/N,KAAK,SAOrB,GANIgO,EACAA,GAAK,QAGLA,EAAI,qBAEHJ,QAAQI,GAET,OADApK,EAAMiD,kBACC,EAGf,MAAMqG,EAAOa,EAAQ9H,QAAQ,QAC7B,IAAKiH,EAAKrN,SAAS,aACf,OAAO,EAEX,GAAIqN,EAAKrN,SAAS,sBAAwBoN,EAAcC,GAGpD,OAFAtJ,EAAMiD,iBACNzF,MAAM,qBACC,EAKX,GAHI2M,EAAQ/N,KAAK,SACbkN,EAAKlN,KAAK,SAAU+N,EAAQ/N,KAAK,SAE/BkN,EAAKrN,SAAS,cAAgBqN,EAAKrN,SAAS,cAK7C,CACD+D,EAAMiD,iBACN,MAAMG,EAAW,IAAI7G,SAAS+M,EAAKrL,IAAI,IACvC,IAAIvB,EAAO,IACPb,GAAS,EAkBb,GAjBIyN,EAAKrN,SAAS,gBACdJ,EAASyN,EACTlG,EAASiH,OAAO,eAAgBf,EAAKlN,KAAK,OACtCkN,EAAK1N,KAAK,oBACVc,EAAO4M,EAAK1N,KAAK,oBAGrB0N,EAAKrN,SAAS,eACdS,EAAQC,IACoB,iBAAbA,EACP,YAAUA,GAGV,OAAA7B,EAAA,OAIRwO,EAAKrN,SAAS,qBAAsB,CACpC,MAAMyB,EAAU4L,EAAKlN,KAAK,gBACrBd,SAASgP,eAAe5M,IACzBF,MAAM,uBAEV4F,EAASiH,OAAO,cAAe3M,GAC/B,MAAMW,EAAY,YAAe,IAAMX,GACvC,IAAEY,KAAKD,EAAW,CAACqI,EAAK6D,KACpBnH,EAASiH,OAAO,uBAAwBE,KAE5C7N,EAAQC,IACoB,iBAAbA,GACP,YAAkB,IAAMe,EAASf,GAC7BA,EAAS7B,MACT,YAAU6B,EAAS7B,OAGnB,OAAAA,EAAA,MAIJ,YAAU6B,IAGb2M,EAAKrN,SAAS,YACfJ,GAAS,GAcjB,OAXIyN,EAAKrN,SAAS,cACdS,EAAOgH,EAAA,EAEF4F,EAAKrN,SAAS,cACnBS,EAAO,KAEX,OAAAF,EAAA,GAAY,OAAQ8M,EAAKlN,KAAK,UAAWgH,EAAUvH,EAAQa,EAAMc,MAAO,KAChE8L,EAAKrN,SAAS,gBACd6N,EAAU9J,EAAOsJ,MAGlB,EA/DP,OAFAA,EAAKkB,IAAI,UACTlB,EAAKjO,QAAQ,WACN,EAuER,SAASoP,EAAWzK,GACvB,MAAMnE,EAAS,IAAEmE,EAAM+J,QACvB,GAAIlO,EAAOI,SAAS,aAAe+N,QAAQnO,EAAOO,KAAK,SAAW,0BAE9D,OADA4D,EAAMiD,kBACC,EAEX,MAAMqG,EAAOzN,EAAOwG,QAAQ,QAC5B,GAAIiH,EAAKrN,SAAS,cAGd,OAFA+D,EAAMiD,iBACN2G,EAAiBN,IACV,EAEX,GAAIA,EAAKrN,SAAS,aAAc,CAC5B+D,EAAMiD,iBACN,MAAMa,EAAOjI,EAAOO,KAAK,QAOzB,OANI0H,GACA,EAAAT,EAAMpF,IAAI6F,GAETuF,EAAcC,KAASU,QAAQ,4CAChC,OAAAlP,EAAA,MAEG,EAEX,OAAO,EAnMX4P,EAAA,EAAIC,YAAY,CACZ,oBAAsB3L,GAAOA,EAAGgE,iBAAiB,QAAUhD,GAyCxD,SAAoB+J,EAAQ/J,GAC/BA,EAAMiD,iBAGN,OADA2G,EADa,IAAEG,GAAQnD,KAAK,UAErB,EA7C8DgE,CAAW5L,EAAIgB,IACpF,gBAAkBhB,GAAOA,EAAGgE,iBAAiB,SAAUkH,GACvD,UAAYlL,GAAOA,EAAGgE,iBAAiB,QAASyH,GAChD,SAAWzL,GAAOA,EAAGgE,iBAAiB,QAAS8G,GAC/C,UAAY9K,GAAOA,EAAGgE,iBAAiB,QAASkH,GAChD,iBAAmBlL,GAAO,IAAEA,GAAIY,GAAG,SAAUsK,GAC7C,uBAAyBlL,GAAO,IAAEA,GAAI6L,SAASvC,GAC/C,eAAiBtJ,GAAO,IAAEA,GAAI8L,YA6LlC5J,OAAO6J,cAAiBC,IACpB,IAAEH,SAAS,CAAE1P,YAAa,YAAc6P,EAAK,iB,+BC/MjD,kCA+BA,MAAMN,EAAM,IA/BZ,MACI,cACIlM,KAAKyM,SAAW,GAEpB,YAAYC,GACR,IAAK,MAAMC,KAAYC,OAAOC,KAAKH,GAC/B1M,KAAKM,WAAWqM,EAAUD,EAAUC,IAG5C,WAAWA,EAAUG,GACjB9M,KAAKyM,SAAS1M,KAAK,CAAE4M,WAAUG,YAEnC,KAAKxK,GACD,IAAKA,EAAOiG,iBACR,MAAM,IAAIwE,MAAM,kDAAoDzK,GAExE,IAAK,MAAM,SAAEqK,EAAQ,QAAEG,KAAa9M,KAAKyM,SACrC,GAAiB,KAAbE,EACAG,EAAQxK,QAGR,IAAK,MAAM9B,KAAMwM,MAAMC,KAAK3K,EAAOiG,iBAAiBoE,IAChDG,EAAQtM,KAUb,MACR,MAAM0M,EAAQ5K,GAAW4J,EAAIgB,KAAK5K,I,gCCjCzC,oCAMe,KACX,QAAQlF,EAAMF,GACV,GAAa,OAATE,GAAiC,iBAATA,EACxB,OAAOA,EAEX,OAAQF,GACJ,IAAK,OACD,OAAOE,EAAK+P,KAChB,IAAK,SACD,OAAO/P,EAAKgQ,OAChB,QACI,OAAOhQ,EAAKiQ,UAGxBC,OAAOlQ,GACI,YAAaA,GAExBmQ,MAAMnQ,GACK,qBAAuBA,EAAO,OAAS,SAAW,YAE7DoQ,cAAcpQ,GACHA,EAAO,8DAA8DA,cAAmB,GAEnGqQ,aAAY,CAACrQ,EAAMF,EAAMoC,IACdA,EAAIoO,oBAAsB,KAAOpO,EAAIqO,eAAiB,IAEjEC,YAAW,CAACxQ,EAAMF,EAAMoC,IACb,YAAaA,EAAIoO,oBAAsBzL,SAAS3C,EAAIuO,MAAO,KAEtEC,SAAQ,CAACC,EAAM7Q,EAAMoC,IAEbqC,OAAOoM,IAASA,EACT,IAAc,IAAPA,GAAaC,OAAO,QAEjCD,EAGqB,UAAtBA,EAAKE,OAAO,EAAG,GACRF,EAEJ,IAAOA,GAAMC,OAAO,QALhB,GAOf,QAAQ5Q,EAAMF,EAAMoC,EAAK4O,GACrB,MACMC,EADM,YAAmBD,EAAKhO,UACnBiO,KAAKD,EAAK5O,IAAK4O,EAAKjN,KAAKmN,OAAOC,WACjD,OAAQnR,GACJ,IAAK,OACL,IAAK,SACD,OAAOiR,EAAKG,SAChB,QACI,OAAOlR,IAGnB,SAASA,EAAMF,GACX,OAAQA,GACJ,IAAK,OACD,OAAOyE,OAAOvE,GAClB,QACI,OAAO,YAAeA,O,+BChEtC,4EAiCO,SAASmR,EAAUlS,GACtB,GAA0B,iBAAfA,EACP,OAG+B,eADnCA,EAAa,IAAEoO,KAAKpO,IACL8I,UAAU,EAAG,KACxBnG,MAAM,kBACNlC,SAAS0R,MAAMnS,IAEnB,MAAMoS,EAAW,YAAUpS,GAC3B,IAAEoS,GAAU3O,MAAK,SAAU4O,EAAOC,GAC9B,KAAMA,aAAmBC,SAErB,OAEJ,MAAMC,EAAW,IAAEF,GACbnC,EAAK,IAAEmC,GAAS/Q,KAAK,MACrBkR,EAAW,IAAEH,GAAS/Q,KAAK,YAC3B2N,EAAS,IAAE,IAAMiB,GACjBuC,EAAe,IAAE,IAAMD,GAC7B,GAAsB,IAAlBvD,EAAO9O,OACHoS,EAASpR,SAAS,UAClB8N,EAAOyD,OAAO,OAAQ,GAAI,IAAK,KAC3BzD,EAAO7O,WAIX6O,EAAO5O,YAAYkS,EAASI,OAAOxP,OAAOuP,OAAO,kBAGpD,GAA4B,IAAxBD,EAAatS,OAClBsS,EAAalD,OAAOgD,EAASI,aAE5B,GAAIN,aAAmBO,kBACxB,IAAE,QAAQrD,OAAOgD,OAEhB,CACD,MAAMM,EAAW,IAAEnP,MAAMpC,KAAK,YAC1BuR,EACA,IAAEnP,MAAMoP,UAAU,IAAID,GAAYF,OAAOD,OAAO,aAGhD,IAAEhP,MAAMoP,UAAU,sCAAsCH,OAAOD,OAAO,aAG9E,YAAKL,GACM,UAAPnC,EACA,cAGA,iBA/EZ,IAAIlM,WAAW,qBAAuBE,IAClC,MAAM8C,EAAU,GAAK;;oBAEL9C,EAAG6O,aAAa;sBACd7O,EAAG6O,aAAa;oBAClB7O,EAAG6O,aAAa,YAChC/L,EAAQ/F,QAAU,KACdiD,EAAG8O,aAAa,QAAS,oDACzB9O,EAAG8O,aAAa,MAAO,yCACvB9O,EAAGoF,MAAM2B,MAAQ,OACjB/G,EAAGoF,MAAM2J,OAAS,OAClB/O,EAAGqH,UAAU3E,QAAQ,iBAAkB,WAE3C,YAAa1C,EAAG6O,aAAa,OAAQ,KACjC,MAAM5L,EAAOH,EAAQ+L,aAAa,OAAO3L,QAAQ,yBAA2B,EACtEC,EAAQ,IAAEnD,GAAI8B,SAASA,SAAS7E,SAAS,oBACzCmG,EAA0C,IAA9B,IAAEpD,GAAIqD,QAAQ,KAAKpH,OAC/B6F,EAAS9B,EAAGgP,cAClB,GAAI/L,GAAQE,GAASC,EACjBtB,EAAOmN,aAAanM,EAAS9C,OAE5B,CACD,MAAMkP,EAA0C,MAA9BlP,EAAG6O,aAAa,WAAqB7O,EAAG6O,aAAa,OAAS7O,EAAG6O,aAAa,WAC1FM,EAAO,GAAK,kCAAkCD,wCACpDC,EAAK1G,YAAY3F,GACjBhB,EAAOmN,aAAaE,EAAMnP,S,6BCHtC,SAAUoP,GACTA,EAAEzP,GAAGkM,SAAW,SAASnM,SAAU2P,eAClC,IAAIC,OAAQrK,OAAQsK,QAASlQ,UAAWmQ,QAASC,SAAUC,OAAQF,QAAUC,SAAWC,QAAS,EAE1E,iBAAZhQ,WACV4P,OAAS5P,SACTuF,OAASoK,eAGVE,QAAU,CAAEvD,GAAS,GAClB7B,UAAc,GACdjC,KAAU,GACVyH,gBAAkB,EAClBC,gBAAkB,GAClBC,iBAAmB,GACnBC,oBAAqB,EACrBC,gBAAkB,QAClBC,oBAAqB,2BACrBC,eAAiB,EACjB7F,kBAAoB,GACpB8F,iBAAmB,OACnBC,cAAgB,EAChBC,aAAgB,GAChBC,YAAe,GACfC,QAAY,GACZC,aAAgB,GAChBC,YAAe,GACfC,MAAW,GACXlH,UAAa,CAAE,KAElB6F,EAAEsB,OAAOnB,QAAS7P,SAAU2P,eAGvBE,QAAQrH,MACZkH,EAAE,UAAU9P,MAAK,SAAS+E,EAAGsM,GAC5B,IAAIC,EAEc,QADlBA,EAAYxB,EAAEuB,GAAK1R,IAAI,GAAGyH,IAAImK,MAAM,yCAEnCtB,QAAQrH,KAAO0I,EAAU,OAM5B,IAAIE,QAAU,SAASC,GACtBA,EAAKA,EAAGC,cAER,IAAIH,EAAQ,wBAAwBrO,KAAKuO,IACxC,wBAAwBvO,KAAKuO,IAC7B,qCAAqCvO,KAAKuO,IAC1C,kBAAkBvO,KAAKuO,IACvBA,EAAG7N,QAAQ,cAAgB,GAAK,gCAAgCV,KAAKuO,IACrE,GAED,MAAO,CACNE,QAASJ,EAAO,IAAO,GACvBK,QAASL,EAAO,IAAO,MAGrBM,QAAUL,QAASM,UAAUC,WAC7BJ,QAAU,GAYd,OAVIE,QAAQF,UACXA,QAAQE,QAAQF,UAAW,EAC3BA,QAAQC,QAAUC,QAAQD,SAEvBD,QAAQK,OACXL,QAAQM,QAAS,EACPN,QAAQM,SAClBN,QAAQO,QAAS,GAGXhS,KAAKF,MAAK,WAChB,IAAImS,GAAIC,SAAUC,OAAQC,eAAgBC,cAAeC,YACxDC,QAASC,KAAMC,OAAQC,OAAQC,cAAeC,SAAUC,OAAQC,MAWjE,GAVAb,GAAKrC,EAAE5P,MACPkS,SAAWlS,KACXmS,OAAS,GACTW,OAAQ,EACRV,eAAiBC,cAAgB,EACjCC,aAAe,EAEfvC,QAAQnF,kBAAoBmI,SAAShD,QAAQnF,mBAC7CmF,QAAQS,oBAAsBuC,SAAShD,QAAQS,qBAE3CV,OACH,OAAOA,QACN,IAAK,SACJpT,SACD,MACA,IAAK,SACJsW,OAAOvN,QACR,MACA,QACCmK,EAAE3K,MAAM,UAAa6K,OAAS,2CA2gBjC5C,OArgBA,SAAS6F,SAAS3V,EAAM6V,GACvB,OAAIA,EACK7V,EAAK8F,QAAQ,YAAa,KAAK6M,QAAQrH,MAExCtL,EAAK8F,QAAQ,OAAQ6M,QAAQrH,MAItC,SAASwE,OACR,IAA6ByD,EAAzBnE,EAAK,GAAI7B,EAAY,GACrBoF,QAAQvD,GACXA,EAAK,OAAOuD,QAAQvD,GAAG,IACbyF,GAAGrU,KAAK,QAClB4O,EAAK,eAAgByF,GAAGrU,KAAK,MAAMqQ,OAAO,EAAG,GAAGiF,cAAgBjB,GAAGrU,KAAK,MAAMqQ,OAAO,GAAI,KAGtF8B,QAAQpF,YACXA,EAAY,UAAUoF,QAAQpF,UAAU,KAEzCsH,GAAGnO,KAAK,QAAQ6G,EAAU,WAC1BsH,GAAGnO,KAAK,QAAQ0I,EAAG,4BACnByF,GAAGnO,KAAK,yCACRmO,GAAGtU,SAAS,kBAGZ8U,OAAS7C,EAAE,sCAAsCuD,aAAalB,IAC9DrC,EAAEwD,UAAUrD,QAAQhG,YAAYsJ,SAASZ,QAGzCC,OAAS9C,EAAE,sCAAsC0D,YAAYrB,KAGhC,IAAzBlC,QAAQY,eAA4C,IAAnBc,QAAQO,SAC5CrB,EAAef,EAAE,4CACf0D,YAAYrB,IACZvL,KAAK,sBAAsB,SAASuB,GACpC,IAAoCsL,EAAWC,EAA3CC,EAAIxB,GAAG1C,SAAUmE,EAAIzL,EAAE0L,QAC3BJ,EAAY,SAAStL,GAEpB,OADAgK,GAAGvU,IAAI,SAAU2J,KAAKuM,IAAI,GAAI3L,EAAE0L,QAAQF,EAAEC,GAAG,OACtC,GAERF,EAAU,SAASvL,GAElB,OADA2H,EAAE,QAAQiE,OAAO,qBAAsBN,GAAWM,OAAO,mBAAoBL,IACtE,GAER5D,EAAE,QAAQlJ,KAAK,qBAAsB6M,GAAW7M,KAAK,mBAAoB8M,MAE3Ed,OAAO7G,OAAO8E,IAIfsB,GAAGvL,KAAK,mBAAoBoN,YAAYpN,KAAK,QAASoN,YAGtD7B,GAAGvL,KAAK,sBAAsB,SAASuB,EAAG/H,IACjB,IAApBA,EAASqL,QACZ9L,MAEGyS,WAAatC,EAAEvD,SAAS0H,SAC3Bf,OAAO9S,MAKT+R,GAAGvL,KAAK,kBAAkB,WACzBkJ,EAAEvD,SAAS0H,QAAU/T,QAGlB+P,QAAQM,kBACX2D,iBAKF,SAASZ,UAAUrJ,WAClB,IAAIkK,GAAKrE,EAAE,aAAc3M,EAAI,EAAGiR,GA0ChC,OAzCAtE,EAAE,gBAAiBqE,IAAIvW,IAAI,UAAW,SACtCkS,EAAE9P,KAAKiK,WAAW,WACjB,IAAIoK,OAASnU,KAAMoU,EAAI,GAAIC,MAAOH,GAAII,EACtCD,MAASF,OAAOjM,KAAQiM,OAAOlK,MAAM,IAAI,UAAUkK,OAAOjM,IAAI,IAAOiM,OAAOlK,MAAM,GAClF,IAAI/B,IAASiM,OAAOjM,IAAO,cAAciM,OAAOjM,IAAI,IAAM,GAC1D,GAAIiM,OAAO/J,UACV8J,GAAKtE,EAAE,kCAAkCuE,OAAO/J,WAAW,IAAI,SAASiJ,SAASY,QAC3E,CAEN,IADAhR,IACKqR,EAAInC,OAAO1V,OAAQ,EAAG6X,GAAK,EAAGA,IAClCF,GAAKjC,OAAOmC,GAAG,IAEhBJ,GAAKtE,EAAE,2CAA2CwE,EAAGnR,EAAG,KAAKkR,OAAOnK,WAAW,IAAI,gBAAgB9B,IAAI,WAAWmM,MAAM,MAAMF,OAAOlK,MAAM,IAAI,aAC9IvD,KAAK,wBAAwB,WAC7B,OAAO,KACLA,KAAK,kBAAkB,SAASuB,GAClCA,EAAExD,oBACAiC,KAAK,oBAAoB,WACNuL,GAAGsC,WACtB7N,KAAK,WAAW,WAKlB,OAJIyN,OAAOK,MACVC,KAAKN,OAAOK,KAAZC,GAEDtS,YAAW,WAAa6Q,OAAOmB,UAAU,IAClC,KACLzN,KAAK,uBAAuB,WAC7BkJ,EAAE,OAAQ5P,MAAMiP,OAChBW,EAAE9S,UAAU4X,IAAI,SAAS,WACvB9E,EAAE,QAAS6C,QAAQrU,aAGpBsI,KAAK,uBAAuB,WAC7BkJ,EAAE,OAAQ5P,MAAM5B,UACfiV,SAASY,IACRE,OAAOQ,WACVxC,OAAOpS,KAAKkD,GACZ2M,EAAEsE,IAAIvW,SAAS,oBAAoBkO,OAAOuH,UAAUe,OAAOQ,gBAI9DxC,OAAOyC,MACAX,GAIR,SAASY,aAAaC,GACrB,OAAIA,EAaHA,GAXAA,GADAA,EAASA,EAAOtR,YACAN,QAAQ,2BACvB,SAAS6R,EAAGlQ,GACX,IAAImQ,EAAInQ,EAAEoQ,MAAM,OAChB,OAAe,IAAX/E,YACcgF,IAATF,EAAE,GAAoBA,EAAE,GAAKA,EAAE,QAEtBE,IAATF,EAAE,GAAoB,GAAKA,EAAE,OAKxB9R,QAAQ,2BACvB,SAAS6R,EAAGlQ,GACX,IAAImQ,EAAInQ,EAAEoQ,MAAM,OAChB,IAAc,IAAVnC,MACH,OAAO,EAER,IAAI/G,EAAQxB,OAAOyK,EAAE,GAAKA,EAAE,GAAMA,EAAE,GAAK,IAIzC,OAHc,OAAVjJ,IACH+G,OAAQ,GAEF/G,KAKH,GAIR,SAASoJ,QAAQrS,GAIhB,OAHI8M,EAAEwF,WAAWtS,KAChBA,EAASA,EAAO0P,OAEVqC,aAAa/R,GAIrB,SAASuS,MAAMP,GACd,IAOIQ,EAPApL,EAAciL,QAAQ5C,QAAQrI,UAC9BG,EAAgB8K,QAAQ5C,QAAQlI,aAChC1N,EAAgBwY,QAAQ5C,QAAQ5V,aAChCwN,EAAegL,QAAQ5C,QAAQpI,WAC/BoL,EAAkBJ,QAAQ5C,QAAQgD,eAClCC,EAAmBL,QAAQ5C,QAAQiD,gBACnCC,EAAelD,QAAQkD,UAG3B,GAAoB,KAAhB9Y,EACH2Y,EAAQpL,EAAWvN,EAAcwN,OAC3B,GAAkB,KAAdtK,WAAoC,KAAhBwK,EAC9BiL,EAAQpL,EAAWG,EAAcF,MAC3B,CAGN,IAAIuL,EAAQ,CAFZZ,EAASA,GAAUjV,WAEG8V,EAAS,IAEb,IAAdF,IACHC,EAAQZ,EAAOG,MAAM,UAGtB,IAAK,IAAIW,EAAI,EAAGA,EAAIF,EAAMjZ,OAAQmZ,IAAK,CACtC,IACIC,EADAC,EAAOJ,EAAME,IAEbC,EAAiBC,EAAKzE,MAAM,QAC/BsE,EAAO5V,KAAKmK,EAAW4L,EAAK5S,QAAQ,OAAQ,IAAMiH,EAAY0L,GAE9DF,EAAO5V,KAAKmK,EAAW4L,EAAO3L,GAIhCmL,EAAQK,EAAOI,KAAK,MAKrB,MAAO,CAAET,MAFTA,EAAQC,EAAgBD,EAAQE,EAG7BD,cAAcA,EACdrL,SAASA,EACTvN,YAAYA,EACZ0N,YAAYA,EACZF,UAAUA,EACVqL,eAAeA,GAKnB,SAASxC,OAAOmB,GACf,IAAI6B,EAAK1B,EAAG2B,EAAGhT,EAAGyS,EAAOZ,EAAQoB,EAqBjC,GApBA1D,KAAOD,QAAU4B,EACjB1U,MACAmQ,EAAEsB,OAAOsB,KAAM,CAAEsD,KAAK,GAChBpN,KAAKqH,QAAQrH,KACdwJ,SAASA,SACTrS,UAAWA,WAAW,GACtBwS,cAAcA,cACdrC,QAAQA,QACRC,SAASA,SACTC,OAAOA,SAIZiF,QAAQpF,QAAQa,cAChBuE,QAAQ5C,QAAQ3B,gBACC,IAAZZ,UAAiC,IAAbC,WAA2C,IAArBkE,EAAOsB,YACrDN,QAAQ5C,QAAQ4D,mBAEjBvG,EAAEsB,OAAOsB,KAAM,CAAEsD,KAAK,KAEL,IAAZ9F,UAAiC,IAAbC,SAAoB,CAE5C,IAAKqE,EAAI,EAAG2B,GADZP,EAAQ7V,UAAUoV,MAAM,UACFxY,OAAQwG,EAAI,EAAGA,EAAIgT,EAAGhT,IAClB,KAArB2M,EAAEnF,KAAKiL,EAAMzS,KAChB2M,EAAEsB,OAAOsB,KAAM,CAAEsD,OAAOxB,EAAGzU,UAAU6V,EAAMzS,KAC3CyS,EAAMzS,GAAKoS,MAAMK,EAAMzS,IAAIqS,OAE3BI,EAAMzS,GAAK,GAIb6R,EAAS,CAAEQ,MAAMI,EAAMK,KAAK,OAC5BG,EAAQ7D,cACR2D,EAAMlB,EAAOQ,MAAM7Y,QAAWgV,QAAQ2E,MAASH,EAAE,EAAI,QAC/B,IAAZjG,SACV8E,EAASO,MAAMxV,WACfqW,EAAQ7D,cAAgByC,EAAO5K,SAASzN,OACxCuZ,EAAMlB,EAAOQ,MAAM7Y,OAASqY,EAAO5K,SAASzN,OAASqY,EAAO3K,UAAU1N,OACtEuZ,GAAalB,EAAOQ,MAAMjE,MAAM,MAAQ,EAAI,EAC5C2E,GAAOK,SAASvB,EAAOQ,SACA,IAAbrF,UACV6E,EAASO,MAAMxV,WACfqW,EAAQ7D,cACR2D,EAAMlB,EAAOQ,MAAM7Y,OACnBuZ,GAAOK,SAASvB,EAAOQ,SAEvBR,EAASO,MAAMxV,WACfqW,EAAQ7D,cAAgByC,EAAOQ,MAAM7Y,OACrCuZ,EAAM,EACNE,GAASG,SAASvB,EAAOQ,QAEP,KAAdzV,WAA2C,KAAvBiV,EAAOnY,cAC/B2V,aAAegE,YAAYxB,EAAOQ,OAElCY,EAAQ7D,cAAgByC,EAAOS,cAAc9Y,OAASqY,EAAO5K,SAASzN,OACtEuZ,EAAMlB,EAAOQ,MAAM7Y,OAASqY,EAAOS,cAAc9Y,OAASqY,EAAO5K,SAASzN,OAASqY,EAAO3K,UAAU1N,OAASqY,EAAOU,eAAe/Y,OAEnI6V,YAAcL,GAAG9G,MAAMhG,UAAUkN,cAAgBJ,GAAG9G,MAAM1O,QAAQA,OAClE6V,aAAegE,YAAYrE,GAAG9G,MAAMhG,UAAU,EAAGkN,iBAElDzC,EAAEsB,OAAOsB,KAAM,CAAEH,cAAcA,cAAeD,eAAeA,iBAEzD0C,EAAOQ,QAAUzV,YAAuB,IAAViT,OACjCyD,OAAOzB,EAAOQ,OACdkB,IAAIN,EAAOF,IAEX1D,aAAe,EAEhB7S,MAEAmQ,EAAEsB,OAAOsB,KAAM,CAAEsD,KAAK,GAAIjW,UAAUA,cAGnB,IAAZmQ,UAAiC,IAAbC,WAA2C,IAArBkE,EAAOsB,YACrDN,QAAQ5C,QAAQkE,kBAEjBtB,QAAQ5C,QAAQ1B,aAChBsE,QAAQpF,QAAQc,aAGZ8B,eAAiB5C,QAAQO,oBAC5B0D,iBAID/D,SAAWC,OAASF,QAAU8C,OAAQ,EAIvC,SAASwD,YAAYxB,GACpB,OAAIrD,QAAQ2E,MACJtB,EAAOrY,OAASqY,EAAO5R,QAAQ,OAAQ,IAAIzG,OAE5C,EAGR,SAAS4Z,SAASvB,GACjB,OAAIrD,QAAQiF,KACJ5B,EAAOrY,OAASqY,EAAO5R,QAAQ,OAAQ,IAAIzG,OAE5C,EAIR,SAAS8Z,OAAOjB,GACXxY,SAAS+C,UACO/C,SAAS+C,UAAU8W,cACzBC,KAAOtB,EAEpBpD,SAASnG,MAASmG,SAASnG,MAAM5G,UAAU,EAAGkN,eAAkBiD,EAAQpD,SAASnG,MAAM5G,UAAUkN,cAAgBxS,UAAUpD,OAAQyV,SAASnG,MAAMtP,QAKpJ,SAAS+Z,IAAIN,EAAOF,GACnB,GAAI9D,SAAS2E,gBAAgB,CAE5B,GAAIpF,QAAQ2E,OAAS3E,QAAQC,SAAW,KAAc,GAAPsE,EAC9C,OAAO,EAERc,MAAQ5E,SAAS2E,kBACjBC,MAAMC,UAAS,GACfD,MAAME,UAAU,YAAad,GAC7BY,MAAMG,QAAQ,YAAajB,GAC3Bc,MAAMI,cACIhF,SAASiF,mBACnBjF,SAASiF,kBAAkBjB,EAAOA,EAAQF,GAE3C9D,SAAS3P,UAAY6P,eACrBF,SAASqC,QAIV,SAAS9U,MAIR,GAHAyS,SAASqC,QAETnC,eAAiBF,SAAS3P,UACtBzF,SAAS+C,UAEZ,GADAA,UAAY/C,SAAS+C,UAAU8W,cAAcC,KACzCnF,QAAQiF,KAAM,CACjB,IAAII,EAAQha,SAAS+C,UAAU8W,cAAeS,EAAYN,EAAMO,YAGhE,IAFAD,EAAUE,kBAAkBpF,UAC5BG,eAAiB,EACX+E,EAAUG,QAAQT,IACvBM,EAAUJ,UAAU,aACpB3E,qBAGDA,cAAgBH,SAASsF,oBAG1BnF,cAAgBH,SAASsF,eAEzB3X,UAAYqS,SAASnG,MAAM5G,UAAUkN,cAAeH,SAASuF,cAE9D,OAAO5X,UAIR,SAAS4G,UAC8B,mBAA3BsJ,QAAQI,eAClBwC,eAAgB,EACN5C,QAAQM,iBAClBsC,cAAgB/C,EAAEG,QAAQM,mBACfsC,eAAiBA,cAAc+E,OACtC3H,QAAQK,iBACXuC,cAAgBjQ,OAAOiV,KAAK,GAAI,UAAW5H,QAAQK,iBACnDR,EAAElN,QAAQkV,QAAO,WAChBjF,cAAckF,aAGfhF,OAASjD,EAAE,kDACoB,SAA3BG,QAAQQ,gBACXsC,OAAOS,YAAYZ,QAEnBG,OAAOM,aAAaV,QAErBE,cAAgBE,OAAOA,OAAOpW,OAAS,GAAGqb,eAAiBC,MAAMlF,OAAOpW,OAAS,KAE7D,IAAXyT,SACN2C,OACHA,OAAOnW,SAEPiW,cAAckF,QAEflF,cAAgBE,QAAS,GAErB9C,QAAQO,oBACZ0D,iBAEGjE,QAAQK,iBACXuC,cAAc4B,QAKhB,SAASP,iBACPgE,gBAGF,SAASA,gBAER,GAAIjI,QAAQI,gBAAoD,mBAA3BJ,QAAQI,eAC5CJ,QAAQI,eAAgB8B,GAAG9G,YACrB,GAAI4E,QAAQU,eAAkD,mBAA1BV,QAAQU,cAA8B,CAEhFwH,eAAelF,SADJhD,QAAQU,cAAewB,GAAG9G,OACP,QACU,KAA9B4E,QAAQnF,kBAClBgF,EAAE5R,KAAK,CACNd,KAAM,OACNgb,SAAU,OACVC,QAAQ,EACRhb,IAAK4S,QAAQnF,kBACbxN,KAAM2S,QAAQW,iBAAiB,IAAI0H,mBAAmBnG,GAAG9G,OACzDkN,QAAS,SAASjb,GACjB6a,eAAgBlF,SAAS3V,EAAM,OAI5BwV,UACJhD,EAAE5R,KAAK,CACNb,IAAK4S,QAAQS,oBACb0H,SAAU,OACVC,QAAQ,EACRE,QAAS,SAASjb,GACjB6a,eAAgBlF,SAAS3V,EAAM,GAAG8F,QAAQ,oBAAqB+O,GAAG9G,WAKtE,OAAO,EAGR,SAAS8M,eAAe7a,GACvB,GAAI2S,QAAQM,iBACXT,EAAEG,QAAQM,kBAAkB7T,KAAKY,QAC3B,GAAIuV,eAAiBA,cAAc7V,SAAU,CACnD,IACCwb,GAAK3F,cAAc7V,SAASyb,gBAAgBhW,UAC3C,MAAM0F,GACPqQ,GAAK,EAEN3F,cAAc7V,SAAS6a,OACvBhF,cAAc7V,SAAS0R,MAAMpR,GAC7BuV,cAAc7V,SAAS+a,QACvBlF,cAAc7V,SAASyb,gBAAgBhW,UAAY+V,IAKrD,SAASxE,WAAW7L,GAKnB,GAJAgI,SAAWhI,EAAEgI,SACbC,OAASjI,EAAEiI,OACXF,UAAa/H,EAAEiI,SAAUjI,EAAE+H,WAAa/H,EAAE+H,SAAW/H,EAAEuQ,SAExC,YAAXvQ,EAAE/K,KAAoB,CACzB,IAAgB,IAAZ8S,UACHkE,GAAKtE,EAAE,iBAA+B,IAAb3H,EAAEwQ,QAAiB,MAAQC,OAAOC,aAAa1Q,EAAEwQ,UAAU,KAAMhG,QAAQnQ,OAAO,MACvF,IAAd4R,GAAGzX,QAKN,OAJAuT,SAAU,EACV7N,YAAW,WACV+R,GAAG0E,eAAe,aACjB,IACK,EAGT,GAAkB,KAAd3Q,EAAEwQ,SAAgC,KAAdxQ,EAAEwQ,QACzB,OAAgB,IAAZzI,SACHA,SAAU,EACVgD,OAAOjD,QAAQiB,aACRjB,QAAQiB,YAAY6H,cACJ,IAAb5I,UACVA,UAAW,EACX+C,OAAOjD,QAAQgB,cACRhB,QAAQgB,aAAa8H,cAE5B7F,OAAOjD,QAAQe,SACRf,QAAQe,QAAQ+H,aAGzB,GAAkB,IAAd5Q,EAAEwQ,QACL,OAAgB,GAAZxI,UAA+B,GAAXD,SAA6B,GAAVE,UAGtB,IAAjBoC,aACH7S,MAEA+W,IADAlE,YAAcL,GAAG9G,MAAM1O,OAAS6V,YACf,GACjBA,aAAe,GACR,IAEPU,OAAOjD,QAAQkB,OACRlB,QAAQkB,MAAM4H,eAMzB,SAASnc,SACRuV,GAAG4B,OAAO,aAAaxV,YAAY,kBACnC4T,GAAG3P,OAAO,OAAOA,OAAO,gBAAgBA,OAAO,OAAO3F,YAAYsV,IAClEA,GAAG7U,KAAK,WAAY,WAOvBwS,EAAEzP,GAAG2Y,eAAiB,WACrB,OAAO9Y,KAAKF,MAAK,WACf8P,EAAE5P,MAAMqM,SAAS,cAKpBuD,EAAEvD,SAAW,SAASnM,GACrB,IAAI6P,EAAU,CAAExE,QAAO,GAEvB,GADAqE,EAAEsB,OAAOnB,EAAS7P,GACd6P,EAAQxE,OACX,OAAOqE,EAAEG,EAAQxE,QAAQzL,MAAK,WAC7B8P,EAAE5P,MAAMuU,QACR3E,EAAE5P,MAAMnD,QAAQ,YAAa,CAACkT,OAG/BH,EAAE,YAAY/S,QAAQ,YAAa,CAACkT,KA7nBvC,CAgoBGgJ,S,2DCzpBH,MAAM,aAAEC,EAAY,SAAEC,GAAa,EAAQ,IA8B3C,SAAStY,EAAOuY,EAAMC,GACbD,GAAwB,IAAhBA,EAAKzc,OAIdmT,EAAE5R,KAAK,qDAAuDob,UAAUF,IACnEhb,KAAMd,IACP+b,EAAS/b,KAERkB,KAAK,KACN6a,EAAS,MARbA,EAAS,IAYjB,SAASvG,EAASxV,EAAM8b,GACpB,OAAO9b,EAAK2O,MA5ChBG,EAAA,EAAI5L,WAAW,wBACR,SAA0B4R,GAC7B,MAAMmH,EAAS,IAAIJ,EAAS/G,GACtBoH,EAAe,IAAIN,EAAaK,GACtCC,EAAaC,SAAS,CAAC,CAEflI,MAAO,+BACPnO,QAAQ9F,GACG,UAAYA,EAAKoc,MAAQ,IAEpC7Y,SACAiS,YACD,CAEClE,MAAO,EACP2C,MAAO,gDACP1Q,SACAiS,WACA1P,QAAQ9F,GACG,SAAWA,EAAKoc,SAGnCF,EAAalY,GAAG,WAAY,KACpBkY,EAAaG,SAASpR,MAAM5L,QAAU,GAEtC6c,EAAaG,SAASpR,MAAM,GAAGqR,gBCrB3CxN,EAAA,EAAI5L,WAAW,uBAAyBE,IACpC,MAAMmZ,EAAYnZ,EAAGoI,QAAQgR,aACvBvc,EAASP,SAASuH,cAAc,IAAMsV,GACtCpO,EAASzO,SAASuH,cAAc,YAAcsV,GACpD,IAAKtc,IAAWkO,EACZ,MAAM,IAAIwB,MAAM,0CAEpBvM,EAAGgE,iBAAiB,QAAS,IAAMqV,EAAexc,EAAQkO,MAK9DW,EAAA,EAAI5L,WAAW,mBAAqBE,IAChC,MAAMmZ,EAAYnZ,EAAGoI,QAAQkR,UACvBvO,EAASzO,SAASuH,cAAc,YAAcsV,GACpD,IAAKpO,EACD,MAAM,IAAIwB,MAAM,uCAEpBvM,EAAGgE,iBAAiB,QAAUhD,IACR,UAAdA,EAAM0G,KACN2R,EAAerZ,EAAI+K,OAIxB,MAAMsO,EAAiB,CAACxc,EAAQkO,EAAQ9F,EAAS,MACpD,MAAMsU,EAAS1c,EAAO0O,MACtB,GAAsB,KAAlBgO,EAAOtP,OAGP,OAFAc,EAAO7G,UAAY,QACnB6G,EAAO3F,MAAMyH,QAAU,QAG3B,EAAAxI,EAAMzC,KAAK,gBAAiBwK,OAAOoN,OAAO,CAAE5c,KAAMgb,mBAAmB2B,IAAWtU,IAASX,KAAM3G,IAC3FoN,EAAO7G,UAAYvG,EAASf,KAC5B,YAAKmO,GACLA,EAAO3F,MAAMyH,QAAU,UACxBrI,MAAOC,IACNjG,MAAMiG,O,mBC1Cd,IAAIgV,EAAM,CACT,OAAQ,GACR,UAAW,IAIZ,SAASC,EAAeC,GACvB,IAAI3N,EAAK4N,EAAsBD,GAC/B,OAAOE,EAAoB7N,GAE5B,SAAS4N,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEL,EAAKE,GAAM,CACpC,IAAIlS,EAAI,IAAI8E,MAAM,uBAAyBoN,EAAM,KAEjD,MADAlS,EAAEsS,KAAO,mBACHtS,EAEP,OAAOgS,EAAIE,GAEZD,EAAerN,KAAO,WACrB,OAAOD,OAAOC,KAAKoN,IAEpBC,EAAeM,QAAUJ,EACzBK,EAAOC,QAAUR,EACjBA,EAAe1N,GAAK","file":"js/extern-defer.4f9c0d373664a677172d.chunk.js","sourcesContent":["import $ from 'jquery';\nexport function modalOpen(htmlString = '') {\n    const modal = $('#modal');\n    const modalBackdrop = $('.modal-backdrop');\n    if (modal.html() === '' && htmlString === '') {\n        return false;\n    }\n    if (modalBackdrop.length) {\n        modalBackdrop.remove();\n    }\n    if (htmlString !== '') {\n        modal.replaceWith(htmlString);\n        modal.find('input:visible:first').trigger('focus');\n    }\n    modal.modal('show');\n    $(document.body).trigger('modalOpen');\n    return true;\n}\nexport function modalClose() {\n    $('#modal').modal('hide');\n    $(document.body).trigger('modalClose');\n}\n","import $ from 'jquery';\nimport { modalClose } from './modal';\nexport function ajaxRequest(type, url, data, source, onsuccess, onerror, onfinish) {\n    if (source) {\n        if (!source.hasClass('noanim')) {\n            $(source).replaceWith(`<img alt=\"Laden\" id=\"${source.attr('id')}\" title=\"${url}\" src=\"/images/loading-arrows.gif\" />`);\n            source = $(`img[title=\"${url}\"]`);\n        }\n        else if (source.hasClass('InlineForm')) {\n            $(source).find('.FormElement:first').css({\n                'background-image': 'url(\"/images/loading-fb.gif\")',\n                'background-position': 'center right',\n                'background-repeat': 'no-repeat',\n            });\n        }\n        else {\n            source.addClass('loading');\n        }\n    }\n    let contentType = 'application/x-www-form-urlencoded; charset=UTF-8';\n    let processData = true;\n    if (data instanceof FormData) {\n        contentType = false;\n        processData = false;\n    }\n    $.ajax({\n        cache: false,\n        contentType,\n        data,\n        processData,\n        type,\n        url,\n    }).done((response) => {\n        if (source) {\n            if (!$(source).hasClass('noanim')) {\n                $(source).hide();\n            }\n            else if ($(source).hasClass('InlineForm')) {\n                $(source).find('.FormElement:first').css({\n                    'background-image': '',\n                    'background-position': '',\n                    'background-repeat': '',\n                });\n            }\n            source.removeClass('loading');\n        }\n        onsuccess(response);\n    }).fail((response, textStatus, errorThrown) => {\n        if (errorThrown === '') {\n            errorThrown = 'Nog bezig met laden!';\n        }\n        if (source) {\n            $(source).replaceWith('<img alt=\"Mislukt\" title=\"' + errorThrown + '\" src=\"/plaetjes/famfamfam/cancel.png\" />');\n        }\n        else {\n            modalClose();\n        }\n        if (onerror) {\n            if (response.responseText.startsWith('<!DOC')) {\n                onerror('Er ging iets fout, code is: ' + response.status);\n            }\n            onerror(response.responseText);\n        }\n    }).always(() => {\n        if (onfinish) {\n            onfinish();\n        }\n    });\n}\n/**\n * @param url\n * @param ketzer\n * @returns {boolean}\n */\nexport function ketzerAjax(url, ketzer) {\n    $(ketzer + ' .aanmeldbtn').addClass('loading');\n    $.ajax({\n        cache: false,\n        data: '',\n        type: 'GET',\n        url,\n    }).done((data) => {\n        $(ketzer).replaceWith(data);\n    }).fail((jqXHR, textStatus, errorThrown) => {\n        $(ketzer + ' .aanmeldbtn')\n            .replaceWith($(`<div class=\"alert alert-danger\"><strong>Actie mislukt!</strong> ${errorThrown}</div>`));\n        alert(jqXHR.responseText);\n    });\n    return true;\n}\n","import $ from 'jquery';\nimport ctx, { init } from '../ctx';\nimport { parseData } from '../util';\nimport render from './render';\nctx.addHandler('.ctx-datatable', initDataTable);\nctx.addHandler('.ctx-offline-datatable', initOfflineDataTable);\nasync function initDataTable(el) {\n    await import(/*webpackChunkName: \"bootstrap\"*/ './bootstrap');\n    const $el = $(el);\n    const settingsJson = $el.data('settings');\n    const search = $el.data('search');\n    // Zet de callback voor ajax\n    if (settingsJson.ajax) {\n        settingsJson.ajax.data.lastUpdate = fnGetLastUpdate($el);\n        settingsJson.ajax.dataSrc = fnAjaxUpdateCallback($el);\n    }\n    // Zet de render method op de columns\n    settingsJson.columns.forEach((col) => col.render = render[col.render]);\n    // Init DataTable\n    const table = $el.DataTable(settingsJson);\n    $el.dataTable().api().search(search);\n    table.on('page', () => table.rows({ selected: true }).deselect());\n    table.on('childRow.dt', (event, data) => init(data.container.get(0)));\n}\nasync function initOfflineDataTable(el) {\n    await import(/*webpackChunkName: \"bootstrap\"*/ './bootstrap');\n    $(el).DataTable(parseData(el));\n}\n/****************************\n * Een paar functies om met datatables te\n * praten, laadt datatables zelf niet in.\n */\nexport function fnUpdateDataTable(tableId, response) {\n    const $table = $(tableId);\n    const table = $table.DataTable();\n    // update or remove existing rows or add new rows\n    response.data.forEach((row) => {\n        const $tr = $('tr[data-uuid=\"' + row.UUID + '\"]');\n        if ($tr.length === 1) {\n            if ('remove' in row) {\n                table.row($tr).remove();\n            }\n            else {\n                table.row($tr).data(row);\n                init($tr.get(0));\n            }\n        }\n        else if ($tr.length === 0) {\n            table.row.add(row);\n        }\n        else {\n            alert($tr.length);\n        }\n    });\n    table.draw(false);\n}\nexport function fnGetSelection(tableId) {\n    const selection = [];\n    $(tableId + ' tbody tr.selected').each(function () {\n        selection.push($(this).attr('data-uuid'));\n    });\n    return selection;\n}\n// new Api(selector: Settings) is valide, maar wordt als type niet geaccepteerd, type lijkt niet uit te breiden.\n// https://datatables.net/reference/type/DataTables.Settings\nexport function getApiFromSettings(settings) {\n    return new $.fn.dataTable.Api(settings);\n}\n/**\n * Wordt gebruikt in gesprekken.\n *\n * @param {jQuery} $table\n */\nfunction fnAutoScroll($table) {\n    const $scroll = $table.parent();\n    if ($scroll.hasClass('dataTables_scrollBody')) {\n        // autoscroll if already on bottom\n        if ($scroll.scrollTop() + $scroll.innerHeight() >= $scroll[0].scrollHeight - 20) {\n            // check before draw and scroll after\n            window.setTimeout(() => {\n                $scroll.animate({\n                    scrollTop: $scroll[0].scrollHeight,\n                }, 800);\n            }, 200);\n        }\n    }\n}\nexport const fnGetLastUpdate = ($table) => () => Number($table.data('lastupdate'));\nexport const fnSetLastUpdate = ($table) => (lastUpdate) => $table.data('lastupdate', lastUpdate);\n/**\n * Called after ajax load complete.\n *\n * @returns object\n * @param {jQuery} $table\n */\nexport const fnAjaxUpdateCallback = ($table) => (json) => {\n    fnSetLastUpdate($table)(json.lastUpdate);\n    const tableConfig = $table.DataTable();\n    if (json.autoUpdate) {\n        const timeout = parseInt(json.autoUpdate, 10);\n        if (!isNaN(timeout) && timeout < 600000) { // max 10 min\n            setTimeout(() => {\n                $.post(tableConfig.ajax.url(), {\n                    lastUpdate: fnGetLastUpdate($table),\n                }, (data) => {\n                    fnUpdateDataTable($table.attr('id'), data);\n                    fnAjaxUpdateCallback($table)(data);\n                });\n            }, timeout);\n        }\n    }\n    fnAutoScroll($table);\n    return json.data;\n};\nexport function replacePlaceholders(action, row) {\n    const replacements = /:(\\w+)/g.exec(action);\n    if (!replacements) {\n        return action;\n    }\n    for (let i = 1; i < replacements.length; i++) {\n        action = action.replace(':' + replacements[i], row[replacements[i]]);\n    }\n    return action;\n}\n","/**\n * Wordt geladen als de pagina geladen is.\n */\nimport axios from 'axios';\nimport $ from 'jquery';\nimport './bbcode';\nimport { init } from './ctx';\nimport './formulier';\nimport './fotoalbum/main';\nrequire('lightbox2');\nrequire('./lib/jquery.markitup');\nrequire('jquery-ui/ui/widgets/tooltip');\nrequire('jquery-hoverintent');\nrequire('timeago');\nconst $window = $(window);\nconst $header = $('#header');\nconst $banner = $('#banner');\n$window.on('load', () => {\n    // Lazy load cms pages, these should be loaded always, not on scroll\n    setTimeout(() => {\n        $('div.bb-img-loading').each(function () {\n            const content = $(document.createElement('img'));\n            content.on('error', function () {\n                $(this).attr('title', 'Afbeelding bestaat niet of is niet toegankelijk!');\n                $(this).attr('src', '/plaetjes/famfamfam/picture_error.png');\n                $(this).css('width', '16px');\n                $(this).css('height', '16px');\n                $(this).removeClass('bb-img-loading').addClass('bb-img');\n            });\n            content.addClass('bb-img');\n            content.attr('alt', $(this).attr('title'));\n            content.attr('style', $(this).attr('style'));\n            content.attr('src', $(this).attr('src'));\n            $(this).html(content.toString());\n            content.on('load', function () {\n                const foto = content.attr('src').indexOf('/plaetjes/fotoalbum/') >= 0;\n                const video = $(this).parent().parent().hasClass('bb-video-preview');\n                const hasAnchor = $(this).closest('a').length !== 0;\n                $(this).parent().replaceWith($(this));\n                if (!foto && !video && !hasAnchor) {\n                    $(this).wrap(`<a class=\"lightbox-link\" href=\"${$(this).attr('src')}\" data-lightbox=\"page-lightbox\"></a>`);\n                }\n            });\n        });\n    });\n});\nconst lazyLoad = (() => {\n    let hasLoaded = false;\n    return () => {\n        if (hasLoaded) {\n            return;\n        }\n        hasLoaded = true;\n        // Lazy load frontpage\n        setTimeout(() => {\n            $('.lazy-load').each(function () {\n                $(this).replaceWith(this.textContent);\n            });\n        });\n    };\n})();\n// Lazy load after animations have finished and user has scrolled\n$window.on('scroll', () => {\n    if ($(window).scrollTop() > 0) {\n        lazyLoad();\n    }\n    if (window.pageYOffset > $banner.outerHeight()) {\n        $header.removeClass('alt');\n    }\n    else {\n        $header.addClass('alt');\n    }\n});\n$window.on('resize', () => $window.trigger('scroll'));\n$window.trigger('scroll');\ninit(document.body);\nconst contactForm = document.querySelector('#contact-form');\nif (contactForm) {\n    const errorContainer = document.querySelector('#melding');\n    const submitButton = contactForm.submitButton;\n    contactForm.addEventListener('submit', (event) => {\n        event.preventDefault();\n        errorContainer.innerHTML = '';\n        submitButton.disabled = true;\n        const formData = new FormData(contactForm);\n        axios.post('/contactformulier/interesse', formData)\n            .then((response) => {\n            contactForm.reset();\n            submitButton.disabled = false;\n            errorContainer.innerHTML = '<div class=\"alert alert-success\">' +\n                '<span class=\"ico accept\"></span>' + response.data +\n                '</div>';\n        })\n            .catch((error) => {\n            submitButton.disabled = false;\n            errorContainer.innerHTML = '<div class=\"alert alert-danger\">' +\n                '<span class=\"ico exclamation\"></span>' + error.response.data +\n                '</div>';\n        });\n        return false;\n    });\n}\n","import { domUpdate } from './context';\nexport function reload(htmlString) {\n    if (typeof htmlString === 'string' && htmlString.substring(0, 16) === '<div id=\"modal\" ') {\n        domUpdate(htmlString);\n        return;\n    }\n    location.reload();\n}\nexport function redirect(htmlString) {\n    if (htmlString.substring(0, 16) === '<div id=\"modal\" ') {\n        domUpdate(htmlString);\n        return;\n    }\n    window.location.href = htmlString;\n}\n","import createElement from 'jgallery/src/utils/create-element';\nimport withTooltip from 'jgallery/src/utils/with-tooltip';\nconst withDownloadButton = (constructor) => class extends constructor {\n    constructor(albums, params) {\n        super(albums, params);\n        const downloadIcon = withTooltip(createElement(`<span class=\"j-gallery-icon\"><i class=\"fa fa-download\"></i></span>`), {\n            style: {\n                color: params.backgroundColor,\n                background: params.textColor,\n                transform: 'translateY(-8px)',\n            },\n            content: 'Downloaden',\n        });\n        downloadIcon.addEventListener('click', () => window.location.href = `${this.getFullUrl()}?download`);\n        this.appendControlsElements([downloadIcon]);\n    }\n    goToItem(item) {\n        this.currentItem = item;\n        return super.goToItem(item);\n    }\n    getFullUrl() {\n        return this.currentItem.fullUrl;\n    }\n};\nexport default withDownloadButton;\n","import { Size } from 'jgallery/src/preview';\nimport load from 'jgallery/src/utils/load';\nconst withFullSizePreview = (constructor) => class extends constructor {\n    constructor(albums, params) {\n        super(albums, params);\n        const setSize = this.preview.setSize.bind(this.preview);\n        this.preview.setSize = (size) => {\n            this.updateImage(size);\n            return setSize(size);\n        };\n    }\n    async updateImage(size) {\n        const content = this.preview.getElement().querySelector('.j-gallery-preview-content');\n        if (size === Size.auto) {\n            await load(this.currentItem.fullUrl);\n            const img = new Image();\n            img.src = this.currentItem.fullUrl;\n            content.style.backgroundImage = `url(${this.currentItem.fullUrl})`;\n            content.style.backgroundSize = `${Math.min(3000, img.width)}px`;\n        }\n        else {\n            content.style.backgroundImage = `url(${this.currentItem.url})`;\n        }\n    }\n};\nexport default withFullSizePreview;\n","import createElement from 'jgallery/src/utils/create-element';\nimport withTooltip from 'jgallery/src/utils/with-tooltip';\nconst withFullscreenButton = (constructor) => class extends constructor {\n    constructor(albums, params) {\n        super(albums, params);\n        const fullscreenIcon = createElement(`<i class=\"fa fa-expand\"></i>`);\n        const fullscreenButton = withTooltip(createElement(`<span class=\"j-gallery-icon change-mode\"></span>`, {\n            children: [fullscreenIcon],\n        }), {\n            style: {\n                color: params.backgroundColor,\n                background: params.textColor,\n                transform: 'translateY(-8px)',\n            },\n            content: 'Volledig scherm',\n        });\n        fullscreenButton.addEventListener('click', () => this.toggleFullscreen());\n        this.appendControlsElements([fullscreenButton]);\n        document.addEventListener('fullscreenchange', () => {\n            if (document.fullscreenElement) {\n                fullscreenIcon.classList.replace('fa-expand', 'fa-compress');\n            }\n            else {\n                fullscreenIcon.classList.replace('fa-compress', 'fa-expand');\n            }\n        });\n    }\n    async toggleFullscreen() {\n        if (document.fullscreenElement) {\n            await document.exitFullscreen();\n        }\n        else {\n            await this.previewElement.requestFullscreen();\n        }\n    }\n};\nexport default withFullscreenButton;\n","const withHotkeys = (constructor) => class extends constructor {\n    constructor(albums, params) {\n        super(albums, params);\n        document.addEventListener('keydown', (e) => {\n            switch (e.key) {\n                case 'ArrowLeft':\n                    this.prev();\n                    break;\n                case 'ArrowRight':\n                    this.next();\n                    break;\n            }\n        });\n    }\n};\nexport default withHotkeys;\n","import load from 'jgallery/src/utils/load';\nconst withPreload = (constructor) => class extends constructor {\n    goToItem(item) {\n        const { items } = this.album;\n        const next = items[items.indexOf(item) + 1];\n        if (next) {\n            load(next.url);\n        }\n        else {\n            load(items[0].url);\n        }\n        const prev = items[items.indexOf(item) + 1];\n        if (prev) {\n            load(prev.url);\n        }\n        else {\n            load(items[items.length - 1].url);\n        }\n        return super.goToItem(item);\n    }\n};\nexport default withPreload;\n","import JGallery from 'jgallery';\nimport { Size } from 'jgallery/src/preview';\nimport withDownloadButton from './with-download-button';\nimport withFullSizePreview from './with-full-size-preview';\nimport withFullscreenButton from './with-fullscreen-button';\nimport withHotkeys from './with-hotkeys';\nimport withPreload from './with-preload';\nconst loadFotoAlbum = async () => {\n    const albums = document.querySelectorAll('.fotoalbum');\n    for (const album of albums) {\n        const { isLoggedIn, magAanpassen, root, fotos } = album.dataset;\n        const decorators = [withFullscreenButton, withDownloadButton, withHotkeys, withPreload, withFullSizePreview];\n        if (isLoggedIn === 'true') {\n            const withTags = await import(/*webpackChunkName: \"fotoalbum-with-tags\"*/ './with-tags');\n            decorators.push(withTags.default);\n        }\n        if (magAanpassen === 'true') {\n            const withAdminButtons = await import(/*webpackChunkName: \"fotoalbum-with-admin-buttons\"*/ './with-admin-buttons');\n            decorators.push(withAdminButtons.default);\n        }\n        album.appendChild(JGallery.create(JSON.parse(fotos), {\n            decorators,\n            root,\n            previewSize: Size.contain,\n            tooltipThumbnailsToggle: 'Thumbnails weergeven',\n            tooltipChangeSize: 'Grootte veranderen',\n            tooltipSeeAllItems: 'Alle foto\\'s weergeven',\n            tooltipSeeOtherAlbums: 'Andere albums weergeven',\n            tooltipSlideShowPause: 'Voorstelling pauzeren',\n            tooltipSlideShowStart: 'Voorstelling starten',\n        }).getElement());\n    }\n};\n// loadFotoAlbum moet async zijn.\n// noinspection JSIgnoredPromiseFromCall\nloadFotoAlbum();\n","import axios from 'axios';\nimport { domUpdate } from './context';\nimport { isLoggedIn } from './util';\n// ----------------------------------------------------------------------------\n// markItUp!\n// ----------------------------------------------------------------------------\n// Copyright (C) 2008 Jay Salvat\n// http://markitup.jaysalvat.com/\n// ----------------------------------------------------------------------------\n// BBCode tags example\n// http://en.wikipedia.org/wiki/Bbcode\n// ----------------------------------------------------------------------------\n// Feel free to add more tags\n// ----------------------------------------------------------------------------\nexport const bbCodeSet = {\n    markupSet: [\n        { className: 'ico text_bold', name: 'Dikgedrukt', key: 'B', openWith: '[b]', closeWith: '[/b]' },\n        { className: 'ico text_italic', name: 'Cursief', key: 'I', openWith: '[i]', closeWith: '[/i]' },\n        { className: 'ico text_underline', name: 'Onderstreept', key: 'U', openWith: '[u]', closeWith: '[/u]' },\n        { className: 'ico text_strikethrough', name: 'Doorgestreept', key: 'S', openWith: '[s]', closeWith: '[/s]' },\n        { separator: '|' },\n        { className: 'ico text_smallcaps', name: 'Offtopic', key: 'O', openWith: '[offtopic]', closeWith: '[/offtopic]' },\n        {\n            className: 'ico comments',\n            closeWith: '[/citaat]',\n            key: 'Q',\n            name: 'Citaat',\n            openWith: '[citaat=Naam_of_lidnummer]',\n        },\n        { separator: '|' },\n        {\n            className: 'ico link',\n            closeWith: '[/url]',\n            key: 'L',\n            name: 'Link',\n            openWith: '[url=[![Url]!]]',\n            placeHolder: 'Link tekst',\n        },\n        {\n            className: 'ico email_link',\n            closeWith: '[/email]',\n            key: 'E',\n            name: 'Email',\n            openWith: '[email=[![Email adres]!]]',\n            placeHolder: 'Link tekst',\n        },\n        { separator: '|' },\n        {\n            className: 'ico photos', name: 'Fotoalbum',\n            replaceWith: (markitup) => {\n                let url = window.prompt('Url', '');\n                if (url) {\n                    url = decodeURIComponent(url.trim());\n                    const pos = url.indexOf('/fotoalbum/');\n                    if (pos > 0) {\n                        url = url.substring(pos + 10);\n                        return '[fotoalbum]' + url + '[/fotoalbum]';\n                    }\n                    alert('Ongeldige url!');\n                }\n                return markitup.selection;\n            },\n        },\n        {\n            className: 'ico photo', name: 'Poster of foto uit album',\n            replaceWith: (markitup) => {\n                let url = window.prompt('Url', '');\n                if (url) {\n                    url = decodeURIComponent(url.trim());\n                    const pos = url.indexOf('/fotoalbum/');\n                    if (pos > 0) {\n                        url = url.substring(pos + 10).replace('_resized/', '').replace('_thumbs/', '').replace('#', '');\n                        return '[foto]' + url + '[/foto]';\n                    }\n                    alert('Ongeldige url!');\n                }\n                return markitup.selection;\n            },\n        },\n        (isLoggedIn() ?\n            {\n                className: 'ico picture', name: 'Plaatje',\n                closeWith: (markitup) => {\n                    axios.get('/forum/plaatjes/upload').then((response) => {\n                        domUpdate(response.data);\n                    });\n                    return '';\n                },\n            } :\n            // Hide this (maybe temporarily) for registered users to encourage uploading images to de stek\n            { className: 'ico picture', name: 'Afbeelding', replaceWith: '[img][![Url]!][/img]' }),\n        { className: 'ico film', name: 'Video', replaceWith: '[video][![Url]!][/video]' },\n        { separator: '|' },\n        { className: 'ico map', name: 'Kaart', openWith: '[locatie]', closeWith: '[/locatie]', placeHolder: 'C.S.R. Delft' },\n        { className: 'ico sound_mute', name: 'Verklapper', openWith: '[verklapper]', closeWith: '[/verklapper]' },\n        {\n            className: 'ico shield',\n            closeWith: '[/prive]',\n            name: 'Priv',\n            openWith: '[prive]',\n            placeHolder: 'Afgeschermde gegevens',\n        },\n        // {className: 'btn-kop', name: 'Kop',\n        // \tdropMenu: [\n        // \t\t{className: 'btn-h1', name: 'H1', openWith: '[h=1]', closeWith: '[/h]'},\n        // \t\t{className: 'btn-h2', name: 'H2', openWith: '[h=2]', closeWith: '[/h]'},\n        // \t\t{className: 'btn-h3', name: 'H3', openWith: '[h=3]', closeWith: '[/h]'},\n        // \t\t{className: 'btn-h4', name: 'H4', openWith: '[h=4]', closeWith: '[/h]'},\n        // \t\t{className: 'btn-h5', name: 'H5', openWith: '[h=5]', closeWith: '[/h]'},\n        // \t\t{className: 'btn-h6', name: 'H6', openWith: '[h=6]', closeWith: '[/h]'}\n        // \t]},\n        // {separator: '|'},\n        // {className: 'btn-lijst-1', name: 'Genummerde lijst',\n        // openWith: '[list=[![Starting number]!]]\\n', closeWith: '\\n[/list]'},\n        // {className: 'btn-lijst-a', name: 'Ongenummerde lijst', openWith: '[list]\\n', closeWith: '\\n[/list]'},\n        // {className: 'btn-lijst-punt', name: 'Lijstpunt', openWith: '[*] '},\n        { separator: '|' },\n        { className: 'ico script_code_red', name: 'Code', openWith: '[code]', closeWith: '[/code]' },\n        { className: 'ico tag', name: 'Opmaakcode tonen', openWith: '[tekst]', closeWith: '[/tekst]' },\n    ],\n    nameSpace: 'CsrBB',\n    previewParserPath: '/tools/bbcode',\n};\n","import axios from 'axios';\nimport $ from 'jquery';\nimport { ajaxRequest } from './ajax';\nimport { bbCodeSet } from './bbcode-set';\nimport { domUpdate } from './context';\nimport ctx from './ctx';\nimport { fnGetSelection, fnUpdateDataTable } from './datatable/api';\nimport { modalClose } from './modal';\nimport { redirect, reload } from './reload';\nctx.addHandlers({\n    '.InlineFormToggle': (el) => el.addEventListener('click', (event) => formToggle(el, event)),\n    '.SubmitChange': (el) => el.addEventListener('change', formSubmit),\n    '.cancel': (el) => el.addEventListener('click', formCancel),\n    '.reset': (el) => el.addEventListener('click', formReset),\n    '.submit': (el) => el.addEventListener('click', formSubmit),\n    'form.Formulier': (el) => $(el).on('submit', formSubmit),\n    'textarea.BBCodeField': (el) => $(el).markItUp(bbCodeSet),\n    'time.timeago': (el) => $(el).timeago(),\n});\nexport function formIsChanged(form) {\n    let changed = false;\n    $(form).find('.FormElement').not('.tt-hint').each(function () {\n        const elmnt = $(this);\n        if (elmnt.is('input:radio')) {\n            if (elmnt.is(':checked') && elmnt.attr('origvalue') !== elmnt.val()) {\n                changed = true;\n                return false; // break each\n            }\n        }\n        else if (elmnt.is('input:checkbox')) {\n            if (elmnt.is(':checked') !== (elmnt.attr('origvalue') === '1')) {\n                changed = true;\n                return false; // break each\n            }\n        }\n        else if (elmnt.val() !== elmnt.attr('origvalue')) {\n            changed = true;\n            return false; // break each\n        }\n    });\n    return changed;\n}\n/**\n * @see templates/instellingen/beheer/instelling_row.tpl\n * @param form\n */\nexport function formInlineToggle(form) {\n    form.prev('.InlineFormToggle').toggle();\n    form.toggle();\n    form.children(':first').trigger('focus');\n}\nexport function formToggle(target, event) {\n    event.preventDefault();\n    const form = $(target).next('form');\n    formInlineToggle(form);\n    return false;\n}\nexport function formReset(event, form) {\n    if (!form) {\n        form = $(event.target).closest('form');\n        event.preventDefault();\n    }\n    if ($(event.target).hasClass('confirm') && !confirm($(event.target).attr('title') + '.\\n\\nWeet u het zeker?')) {\n        return false;\n    }\n    form.find('.FormElement').each(function () {\n        const orig = $(event.target).attr('origvalue');\n        if (typeof orig === 'string') {\n            $(this).val(orig);\n        }\n    });\n    return false;\n}\n/**\n * @see view/formulier/invoervelden/InputField.abstract.php\n * @see view/formulier/invoervelden/ZoekField.php\n * @param event\n * @returns {boolean}\n */\nexport function formSubmit(event) {\n    const target = event.target;\n    const $target = $(target);\n    if ($target.hasClass('confirm')) {\n        let q = $target.attr('title');\n        if (q) {\n            q += '.\\n\\n';\n        }\n        else {\n            q = 'Weet u het zeker?';\n        }\n        if (!confirm(q)) {\n            event.preventDefault();\n            return false;\n        }\n    }\n    const form = $target.closest('form');\n    if (!form.hasClass('Formulier')) {\n        return false;\n    }\n    if (form.hasClass('PreventUnchanged') && !formIsChanged(form)) {\n        event.preventDefault();\n        alert('Geen wijzigingen');\n        return false;\n    }\n    if ($target.attr('href')) {\n        form.attr('action', $target.attr('href'));\n    }\n    if (!(form.hasClass('ModalForm') || form.hasClass('InlineForm'))) {\n        form.off('submit');\n        form.trigger('submit');\n        return true;\n    }\n    else {\n        event.preventDefault();\n        const formData = new FormData(form.get(0));\n        let done = domUpdate;\n        let source = false;\n        if (form.hasClass('InlineForm')) {\n            source = form;\n            formData.append('InlineFormId', form.attr('id'));\n            if (form.data('submitCallback')) {\n                done = form.data('submitCallback');\n            }\n        }\n        if (form.hasClass('ModalForm')) {\n            done = (response) => {\n                if (typeof response === 'string') {\n                    domUpdate(response);\n                }\n                else {\n                    modalClose();\n                }\n            };\n        }\n        if (form.hasClass('DataTableResponse')) {\n            const tableId = form.attr('data-tableid');\n            if (!document.getElementById(tableId)) {\n                alert('DataTable not found');\n            }\n            formData.append('DataTableId', tableId);\n            const selection = fnGetSelection('#' + tableId);\n            $.each(selection, (key, value) => {\n                formData.append('DataTableSelection[]', value);\n            });\n            done = (response) => {\n                if (typeof response === 'object') { // JSON\n                    fnUpdateDataTable('#' + tableId, response);\n                    if (response.modal) {\n                        domUpdate(response.modal);\n                    }\n                    else {\n                        modalClose();\n                    }\n                }\n                else { // HTML\n                    domUpdate(response);\n                }\n            };\n            if (!form.hasClass('noanim')) {\n                source = false;\n            }\n        }\n        if (form.hasClass('ReloadPage')) {\n            done = reload;\n        }\n        else if (form.hasClass('redirect')) {\n            done = redirect;\n        }\n        ajaxRequest('POST', form.attr('action'), formData, source, done, alert, () => {\n            if (form.hasClass('SubmitReset')) {\n                formReset(event, form);\n            }\n        });\n        return false;\n    }\n}\n/**\n * @see view/formulier/invoervelden/InputField.abstract.php\n * @param event\n * @returns {boolean}\n */\nexport function formCancel(event) {\n    const source = $(event.target);\n    if (source.hasClass('confirm') && !confirm(source.attr('title') + '.\\n\\nWeet u het zeker?')) {\n        event.preventDefault();\n        return false;\n    }\n    const form = source.closest('form');\n    if (form.hasClass('InlineForm')) {\n        event.preventDefault();\n        formInlineToggle(form);\n        return false;\n    }\n    if (form.hasClass('ModalForm')) {\n        event.preventDefault();\n        const href = source.attr('href');\n        if (href) {\n            axios.get(href);\n        }\n        if (!formIsChanged(form) || confirm('Sluiten zonder wijzigingen op te slaan?')) {\n            modalClose();\n        }\n        return false;\n    }\n    return true;\n}\nwindow.insertPlaatje = (id) => {\n    $.markItUp({ replaceWith: '[plaatje]' + id + '[/plaatje]' });\n};\n","class Context {\n    constructor() {\n        this.handlers = [];\n    }\n    addHandlers(selectors) {\n        for (const selector of Object.keys(selectors)) {\n            this.addHandler(selector, selectors[selector]);\n        }\n    }\n    addHandler(selector, handler) {\n        this.handlers.push({ selector, handler });\n    }\n    init(parent) {\n        if (!parent.querySelectorAll) {\n            throw new Error('Kan geen context initializeren op dit element: ' + parent);\n        }\n        for (const { selector, handler } of this.handlers) {\n            if (selector === '') {\n                handler(parent);\n            }\n            else {\n                for (const el of Array.from(parent.querySelectorAll(selector))) {\n                    handler(el);\n                }\n            }\n        }\n    }\n}\n/**\n * Singleton Context.\n */\nconst ctx = new Context();\nexport default ctx;\nexport const init = (parent) => ctx.init(parent);\n","import moment from 'moment';\nimport { formatBedrag, formatFilesize } from '../util';\nimport { getApiFromSettings } from './api';\n/**\n * Standaard gedefinieerde render functies.\n */\nexport default {\n    default(data, type) {\n        if (data === null || typeof data !== 'object') {\n            return data;\n        }\n        switch (type) {\n            case 'sort':\n                return data.sort;\n            case 'export':\n                return data.export;\n            default:\n                return data.display;\n        }\n    },\n    bedrag(data) {\n        return formatBedrag(data);\n    },\n    check(data) {\n        return '<span class=\"ico ' + (data ? 'tick' : 'cross') + '\"></span>';\n    },\n    aanmeldFilter(data) {\n        return data ? `<span class=\"ico group_key\" title=\"Aanmeld filter actief: '${data}'\"></span>` : '';\n    },\n    aanmeldingen(data, type, row) {\n        return row.aantal_aanmeldingen + ' (' + row.aanmeld_limiet + ')';\n    },\n    totaalPrijs(data, type, row) {\n        return formatBedrag(row.aantal_aanmeldingen * parseInt(row.prijs, 10));\n    },\n    datetime(date, type, row) {\n        // tslint:disable-next-line:triple-equals\n        if (Number(date) == date) {\n            return moment(date * 1000).format('L LT');\n        }\n        if (!date) {\n            return '';\n        }\n        if (date.substr(0, 5) === '<time') {\n            return date;\n        }\n        return moment(date).format('L LT');\n    },\n    timeago(data, type, row, meta) {\n        const api = getApiFromSettings(meta.settings);\n        const cell = api.cell(meta.row, meta.col).node().firstChild;\n        switch (type) {\n            case 'sort':\n            case 'export':\n                return cell.dateTime;\n            default:\n                return data;\n        }\n    },\n    filesize(data, type) {\n        switch (type) {\n            case 'sort':\n                return Number(data);\n            default:\n                return formatFilesize(data);\n        }\n    },\n};\n","import $ from 'jquery';\nimport ctx, { init } from './ctx';\nimport { modalClose, modalOpen } from './modal';\nimport { html, htmlParse, preloadImage } from './util';\nctx.addHandler('div.bb-img-loading', (el) => {\n    const content = html `<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bb-img\"\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"${el.getAttribute('title')}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"${el.getAttribute('style')}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"${el.getAttribute('src')}\"/>`;\n    content.onerror = () => {\n        el.setAttribute('title', 'Afbeelding bestaat niet of is niet toegankelijk!');\n        el.setAttribute('src', '/plaetjes/famfamafm/picture_error.png');\n        el.style.width = '16px';\n        el.style.height = '16px';\n        el.classList.replace('bb-img-loading', 'bb-img');\n    };\n    preloadImage(el.getAttribute('src'), () => {\n        const foto = content.getAttribute('src').indexOf('/plaetjes/fotoalbum/') >= 0;\n        const video = $(el).parent().parent().hasClass('bb-video-preview');\n        const hasAnchor = $(el).closest('a').length !== 0;\n        const parent = el.parentElement;\n        if (foto || video || hasAnchor) {\n            parent.replaceChild(content, el);\n        }\n        else {\n            const targetUrl = el.getAttribute('bb-href') == null ? el.getAttribute('src') : el.getAttribute('bb-href');\n            const link = html `<a class=\"lightbox-link\" href=\"${targetUrl}\" data-lightbox=\"page-lightbox\"></a>`;\n            link.appendChild(content);\n            parent.replaceChild(link, el);\n        }\n    });\n});\nexport function domUpdate(htmlString) {\n    if (typeof htmlString !== 'string') {\n        return;\n    }\n    htmlString = $.trim(htmlString);\n    if (htmlString.substring(0, 9) === '<!DOCTYPE') {\n        alert('response error');\n        document.write(htmlString);\n    }\n    const elements = htmlParse(htmlString);\n    $(elements).each(function (index, element) {\n        if (!(element instanceof Element)) {\n            // element kan ook een stuk tekst zijn, hier kunnen we niets mee.\n            return;\n        }\n        const $element = $(element);\n        const id = $(element).attr('id');\n        const parentId = $(element).attr('parentid');\n        const target = $('#' + id);\n        const targetParent = $('#' + parentId);\n        if (target.length === 1) {\n            if ($element.hasClass('remove')) {\n                target.effect('fade', {}, 400, () => {\n                    target.remove();\n                });\n            }\n            else {\n                target.replaceWith($element.show().get()).effect('highlight');\n            }\n        }\n        else if (targetParent.length === 1) {\n            targetParent.append($element.show());\n        }\n        else if (element instanceof HTMLScriptElement) {\n            $('head').append($element);\n        }\n        else {\n            const parentid = $(this).attr('parentid');\n            if (parentid) {\n                $(this).prependTo(`#${parentid}`).show().effect('highlight');\n            }\n            else {\n                $(this).prependTo('#maalcie-tabel tbody:visible:first').show().effect('highlight'); // FIXME: make generic\n            }\n        }\n        init(element);\n        if (id === 'modal') {\n            modalOpen();\n        }\n        else {\n            modalClose();\n        }\n    });\n}\n","// ----------------------------------------------------------------------------\n// markItUp! Universal MarkUp Engine, JQuery plugin\n// v 1.1.x\n// Dual licensed under the MIT and GPL licenses.\n// ----------------------------------------------------------------------------\n// Copyright (C) 2007-2012 Jay Salvat\n// http://markitup.jaysalvat.com/\n// ----------------------------------------------------------------------------\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n// ----------------------------------------------------------------------------\n(function($) {\n\t$.fn.markItUp = function(settings, extraSettings) {\n\t\tvar method, params, options, selection, ctrlKey, shiftKey, altKey; ctrlKey = shiftKey = altKey = false;\n\n\t\tif (typeof settings == 'string') {\n\t\t\tmethod = settings;\n\t\t\tparams = extraSettings;\n\t\t}\n\n\t\toptions = {\tid:\t\t\t\t\t\t'',\n\t\t\t\t\tnameSpace:\t\t\t\t'',\n\t\t\t\t\troot:\t\t\t\t\t'',\n\t\t\t\t\tpreviewHandler:\t\t\tfalse,\n\t\t\t\t\tpreviewInWindow:\t\t'', // 'width=800, height=600, resizable=yes, scrollbars=yes'\n\t\t\t\t\tpreviewInElement:\t\t'',\n\t\t\t\t\tpreviewAutoRefresh:\t\ttrue,\n\t\t\t\t\tpreviewPosition:\t\t'after',\n\t\t\t\t\tpreviewTemplatePath:\t'~/templates/preview.html',\n\t\t\t\t\tpreviewParser:\t\t\tfalse,\n\t\t\t\t\tpreviewParserPath:\t\t'',\n\t\t\t\t\tpreviewParserVar:\t\t'data',\n\t\t\t\t\tresizeHandle:\t\t\ttrue,\n\t\t\t\t\tbeforeInsert:\t\t\t'',\n\t\t\t\t\tafterInsert:\t\t\t'',\n\t\t\t\t\tonEnter:\t\t\t\t{},\n\t\t\t\t\tonShiftEnter:\t\t\t{},\n\t\t\t\t\tonCtrlEnter:\t\t\t{},\n\t\t\t\t\tonTab:\t\t\t\t\t{},\n\t\t\t\t\tmarkupSet:\t\t\t[\t{ /* set */ } ]\n\t\t\t\t};\n\t\t$.extend(options, settings, extraSettings);\n\n\t\t// compute markItUp! path\n\t\tif (!options.root) {\n\t\t\t$('script').each(function(a, tag) {\n\t\t\t\tvar miuScript;\n\t\t\t\tmiuScript = $(tag).get(0).src.match(/(.*)jquery\\.markitup(\\.pack)?\\.js$/);\n\t\t\t\tif (miuScript !== null) {\n\t\t\t\t\toptions.root = miuScript[1];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Quick patch to keep compatibility with jQuery 1.9\n\t\tvar uaMatch = function(ua) {\n\t\t\tua = ua.toLowerCase();\n\n\t\t\tvar match = /(chrome)[ \\/]([\\w.]+)/.exec(ua) ||\n\t\t\t\t/(webkit)[ \\/]([\\w.]+)/.exec(ua) ||\n\t\t\t\t/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) ||\n\t\t\t\t/(msie) ([\\w.]+)/.exec(ua) ||\n\t\t\t\tua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) ||\n\t\t\t\t[];\n\n\t\t\treturn {\n\t\t\t\tbrowser: match[ 1 ] || \"\",\n\t\t\t\tversion: match[ 2 ] || \"0\"\n\t\t\t};\n\t\t};\n\t\tvar matched = uaMatch( navigator.userAgent );\n\t\tvar browser = {};\n\n\t\tif (matched.browser) {\n\t\t\tbrowser[matched.browser] = true;\n\t\t\tbrowser.version = matched.version;\n\t\t}\n\t\tif (browser.chrome) {\n\t\t\tbrowser.webkit = true;\n\t\t} else if (browser.webkit) {\n\t\t\tbrowser.safari = true;\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar $$, textarea, levels, scrollPosition, caretPosition, caretOffset,\n\t\t\t\tclicked, hash, header, footer, previewWindow, template, iFrame, abort;\n\t\t\t$$ = $(this);\n\t\t\ttextarea = this;\n\t\t\tlevels = [];\n\t\t\tabort = false;\n\t\t\tscrollPosition = caretPosition = 0;\n\t\t\tcaretOffset = -1;\n\n\t\t\toptions.previewParserPath = localize(options.previewParserPath);\n\t\t\toptions.previewTemplatePath = localize(options.previewTemplatePath);\n\n\t\t\tif (method) {\n\t\t\t\tswitch(method) {\n\t\t\t\t\tcase 'remove':\n\t\t\t\t\t\tremove();\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'insert':\n\t\t\t\t\t\tmarkup(params);\n\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$.error('Method ' +  method + ' does not exist on jQuery.markItUp');\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// apply the computed path to ~/\n\t\t\tfunction localize(data, inText) {\n\t\t\t\tif (inText) {\n\t\t\t\t\treturn \tdata.replace(/(\"|')~\\//g, \"$1\"+options.root);\n\t\t\t\t}\n\t\t\t\treturn \tdata.replace(/^~\\//, options.root);\n\t\t\t}\n\n\t\t\t// init and build editor\n\t\t\tfunction init() {\n\t\t\t\tvar id = '', nameSpace = '', resizeHandle;\n\t\t\t\tif (options.id) {\n\t\t\t\t\tid = 'id=\"'+options.id+'\"';\n\t\t\t\t} else if ($$.attr(\"id\")) {\n\t\t\t\t\tid = 'id=\"markItUp'+($$.attr(\"id\").substr(0, 1).toUpperCase())+($$.attr(\"id\").substr(1))+'\"';\n\n\t\t\t\t}\n\t\t\t\tif (options.nameSpace) {\n\t\t\t\t\tnameSpace = 'class=\"'+options.nameSpace+'\"';\n\t\t\t\t}\n\t\t\t\t$$.wrap('<div '+nameSpace+'></div>');\n\t\t\t\t$$.wrap('<div '+id+' class=\"markItUp\"></div>');\n\t\t\t\t$$.wrap('<div class=\"markItUpContainer\"></div>');\n\t\t\t\t$$.addClass(\"markItUpEditor\");\n\n\t\t\t\t// add the header before the textarea\n\t\t\t\theader = $('<div class=\"markItUpHeader\"></div>').insertBefore($$);\n\t\t\t\t$(dropMenus(options.markupSet)).appendTo(header);\n\n\t\t\t\t// add the footer after the textarea\n\t\t\t\tfooter = $('<div class=\"markItUpFooter\"></div>').insertAfter($$);\n\n\t\t\t\t// add the resize handle after textarea\n\t\t\t\tif (options.resizeHandle === true && browser.safari !== true) {\n\t\t\t\t\tresizeHandle = $('<div class=\"markItUpResizeHandle\"></div>')\n\t\t\t\t\t\t.insertAfter($$)\n\t\t\t\t\t\t.bind(\"mousedown.markItUp\", function(e) {\n\t\t\t\t\t\t\tvar h = $$.height(), y = e.clientY, mouseMove, mouseUp;\n\t\t\t\t\t\t\tmouseMove = function(e) {\n\t\t\t\t\t\t\t\t$$.css(\"height\", Math.max(20, e.clientY+h-y)+\"px\");\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tmouseUp = function(e) {\n\t\t\t\t\t\t\t\t$(\"html\").unbind(\"mousemove.markItUp\", mouseMove).unbind(\"mouseup.markItUp\", mouseUp);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t$(\"html\").bind(\"mousemove.markItUp\", mouseMove).bind(\"mouseup.markItUp\", mouseUp);\n\t\t\t\t\t});\n\t\t\t\t\tfooter.append(resizeHandle);\n\t\t\t\t}\n\n\t\t\t\t// listen key events\n\t\t\t\t$$.bind('keydown.markItUp', keyPressed).bind('keyup', keyPressed);\n\n\t\t\t\t// bind an event to catch external calls\n\t\t\t\t$$.bind(\"insertion.markItUp\", function(e, settings) {\n\t\t\t\t\tif (settings.target !== false) {\n\t\t\t\t\t\tget();\n\t\t\t\t\t}\n\t\t\t\t\tif (textarea === $.markItUp.focused) {\n\t\t\t\t\t\tmarkup(settings);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// remember the last focus\n\t\t\t\t$$.bind('focus.markItUp', function() {\n\t\t\t\t\t$.markItUp.focused = this;\n\t\t\t\t});\n\n\t\t\t\tif (options.previewInElement) {\n\t\t\t\t\trefreshPreview();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// recursively build header with dropMenus from markupset\n\t\t\tfunction dropMenus(markupSet) {\n\t\t\t\tvar ul = $('<ul></ul>'), i = 0, li;\n\t\t\t\t$('li:hover > ul', ul).css('display', 'block');\n\t\t\t\t$.each(markupSet, function() {\n\t\t\t\t\tvar button = this, t = '', title, li, j;\n\t\t\t\t\ttitle = (button.key) ? (button.name||'')+' [Ctrl+'+button.key+']' : (button.name||'');\n\t\t\t\t\tvar key   = (button.key) ? 'accesskey=\"'+button.key+'\"' : '';\n\t\t\t\t\tif (button.separator) {\n\t\t\t\t\t\tli = $('<li class=\"markItUpSeparator\">'+(button.separator||'')+'</li>').appendTo(ul);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\tfor (j = levels.length -1; j >= 0; j--) {\n\t\t\t\t\t\t\tt += levels[j]+\"-\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tli = $('<li class=\"markItUpButton markItUpButton'+t+(i)+' '+(button.className||'')+'\"><a href=\"\" '+key+' title=\"'+title+'\">'+(button.name||'')+'</a></li>')\n\t\t\t\t\t\t.bind(\"contextmenu.markItUp\", function() { // prevent contextmenu on mac and allow ctrl+click\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).bind('click.markItUp', function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}).bind(\"focusin.markItUp\", function(){\n                            $$.focus();\n\t\t\t\t\t\t}).bind('mouseup', function() {\n\t\t\t\t\t\t\tif (button.call) {\n\t\t\t\t\t\t\t\teval(button.call)();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetTimeout(function() { markup(button) },1);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).bind('mouseenter.markItUp', function() {\n\t\t\t\t\t\t\t\t$('> ul', this).show();\n\t\t\t\t\t\t\t\t$(document).one('click', function() { // close dropmenu if click outside\n\t\t\t\t\t\t\t\t\t\t$('ul ul', header).hide();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}).bind('mouseleave.markItUp', function() {\n\t\t\t\t\t\t\t\t$('> ul', this).hide();\n\t\t\t\t\t\t}).appendTo(ul);\n\t\t\t\t\t\tif (button.dropMenu) {\n\t\t\t\t\t\t\tlevels.push(i);\n\t\t\t\t\t\t\t$(li).addClass('markItUpDropMenu').append(dropMenus(button.dropMenu));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlevels.pop();\n\t\t\t\treturn ul;\n\t\t\t}\n\n\t\t\t// markItUp! markups\n\t\t\tfunction magicMarkups(string) {\n\t\t\t\tif (string) {\n\t\t\t\t\tstring = string.toString();\n\t\t\t\t\tstring = string.replace(/\\(\\!\\(([\\s\\S]*?)\\)\\!\\)/g,\n\t\t\t\t\t\tfunction(x, a) {\n\t\t\t\t\t\t\tvar b = a.split('|!|');\n\t\t\t\t\t\t\tif (altKey === true) {\n\t\t\t\t\t\t\t\treturn (b[1] !== undefined) ? b[1] : b[0];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn (b[1] === undefined) ? \"\" : b[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\t// [![prompt]!], [![prompt:!:value]!]\n\t\t\t\t\tstring = string.replace(/\\[\\!\\[([\\s\\S]*?)\\]\\!\\]/g,\n\t\t\t\t\t\tfunction(x, a) {\n\t\t\t\t\t\t\tvar b = a.split(':!:');\n\t\t\t\t\t\t\tif (abort === true) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar value = prompt(b[0], (b[1]) ? b[1] : '');\n\t\t\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\t\t\tabort = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\treturn string;\n\t\t\t\t}\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\t// prepare action\n\t\t\tfunction prepare(action) {\n\t\t\t\tif ($.isFunction(action)) {\n\t\t\t\t\taction = action(hash);\n\t\t\t\t}\n\t\t\t\treturn magicMarkups(action);\n\t\t\t}\n\n\t\t\t// build block to insert\n\t\t\tfunction build(string) {\n\t\t\t\tvar openWith \t\t\t= prepare(clicked.openWith);\n\t\t\t\tvar placeHolder \t\t= prepare(clicked.placeHolder);\n\t\t\t\tvar replaceWith \t\t= prepare(clicked.replaceWith);\n\t\t\t\tvar closeWith \t\t\t= prepare(clicked.closeWith);\n\t\t\t\tvar openBlockWith \t\t= prepare(clicked.openBlockWith);\n\t\t\t\tvar closeBlockWith \t\t= prepare(clicked.closeBlockWith);\n\t\t\t\tvar multiline \t\t\t= clicked.multiline;\n\t\t\t\tvar block;\n\n\t\t\t\tif (replaceWith !== \"\") {\n\t\t\t\t\tblock = openWith + replaceWith + closeWith;\n\t\t\t\t} else if (selection === '' && placeHolder !== '') {\n\t\t\t\t\tblock = openWith + placeHolder + closeWith;\n\t\t\t\t} else {\n\t\t\t\t\tstring = string || selection;\n\n\t\t\t\t\tvar lines = [string], blocks = [];\n\n\t\t\t\t\tif (multiline === true) {\n\t\t\t\t\t\tlines = string.split(/\\r?\\n/);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var l = 0; l < lines.length; l++) {\n\t\t\t\t\t\tvar line = lines[l];\n\t\t\t\t\t\tvar trailingSpaces;\n\t\t\t\t\t\tif (trailingSpaces = line.match(/ *$/)) {\n\t\t\t\t\t\t\tblocks.push(openWith + line.replace(/ *$/g, '') + closeWith + trailingSpaces);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tblocks.push(openWith + line + closeWith);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tblock = blocks.join(\"\\n\");\n\t\t\t\t}\n\n\t\t\t\tblock = openBlockWith + block + closeBlockWith;\n\n\t\t\t\treturn {\tblock:block,\n\t\t\t\t\t\t\topenBlockWith:openBlockWith,\n\t\t\t\t\t\t\topenWith:openWith,\n\t\t\t\t\t\t\treplaceWith:replaceWith,\n\t\t\t\t\t\t\tplaceHolder:placeHolder,\n\t\t\t\t\t\t\tcloseWith:closeWith,\n\t\t\t\t\t\t\tcloseBlockWith:closeBlockWith\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\t// define markup to insert\n\t\t\tfunction markup(button) {\n\t\t\t\tvar len, j, n, i, lines, string, start;\n\t\t\t\thash = clicked = button;\n\t\t\t\tget();\n\t\t\t\t$.extend(hash, {\tline:\"\",\n\t\t\t\t\t\t \t\t\troot:options.root,\n\t\t\t\t\t\t\t\t\ttextarea:textarea,\n\t\t\t\t\t\t\t\t\tselection:(selection||''),\n\t\t\t\t\t\t\t\t\tcaretPosition:caretPosition,\n\t\t\t\t\t\t\t\t\tctrlKey:ctrlKey,\n\t\t\t\t\t\t\t\t\tshiftKey:shiftKey,\n\t\t\t\t\t\t\t\t\taltKey:altKey\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t// callbacks before insertion\n\t\t\t\tprepare(options.beforeInsert);\n\t\t\t\tprepare(clicked.beforeInsert);\n\t\t\t\tif ((ctrlKey === true && shiftKey === true) || button.multiline === true) {\n\t\t\t\t\tprepare(clicked.beforeMultiInsert);\n\t\t\t\t}\n\t\t\t\t$.extend(hash, { line:1 });\n\n\t\t\t\tif ((ctrlKey === true && shiftKey === true)) {\n\t\t\t\t\tlines = selection.split(/\\r?\\n/);\n\t\t\t\t\tfor (j = 0, n = lines.length, i = 0; i < n; i++) {\n\t\t\t\t\t\tif ($.trim(lines[i]) !== '') {\n\t\t\t\t\t\t\t$.extend(hash, { line:++j, selection:lines[i] } );\n\t\t\t\t\t\t\tlines[i] = build(lines[i]).block;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlines[i] = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tstring = { block:lines.join('\\n')};\n\t\t\t\t\tstart = caretPosition;\n\t\t\t\t\tlen = string.block.length + ((browser.opera) ? n-1 : 0);\n\t\t\t\t} else if (ctrlKey === true) {\n\t\t\t\t\tstring = build(selection);\n\t\t\t\t\tstart = caretPosition + string.openWith.length;\n\t\t\t\t\tlen = string.block.length - string.openWith.length - string.closeWith.length;\n\t\t\t\t\tlen = len - (string.block.match(/ $/) ? 1 : 0);\n\t\t\t\t\tlen -= fixIeBug(string.block);\n\t\t\t\t} else if (shiftKey === true) {\n\t\t\t\t\tstring = build(selection);\n\t\t\t\t\tstart = caretPosition;\n\t\t\t\t\tlen = string.block.length;\n\t\t\t\t\tlen -= fixIeBug(string.block);\n\t\t\t\t} else {\n\t\t\t\t\tstring = build(selection);\n\t\t\t\t\tstart = caretPosition + string.block.length ;\n\t\t\t\t\tlen = 0;\n\t\t\t\t\tstart -= fixIeBug(string.block);\n\t\t\t\t}\n\t\t\t\tif ((selection === '' && string.replaceWith === '')) {\n\t\t\t\t\tcaretOffset += fixOperaBug(string.block);\n\n\t\t\t\t\tstart = caretPosition + string.openBlockWith.length + string.openWith.length;\n\t\t\t\t\tlen = string.block.length - string.openBlockWith.length - string.openWith.length - string.closeWith.length - string.closeBlockWith.length;\n\n\t\t\t\t\tcaretOffset = $$.val().substring(caretPosition,  $$.val().length).length;\n\t\t\t\t\tcaretOffset -= fixOperaBug($$.val().substring(0, caretPosition));\n\t\t\t\t}\n\t\t\t\t$.extend(hash, { caretPosition:caretPosition, scrollPosition:scrollPosition } );\n\n\t\t\t\tif (string.block !== selection && abort === false) {\n\t\t\t\t\tinsert(string.block);\n\t\t\t\t\tset(start, len);\n\t\t\t\t} else {\n\t\t\t\t\tcaretOffset = -1;\n\t\t\t\t}\n\t\t\t\tget();\n\n\t\t\t\t$.extend(hash, { line:'', selection:selection });\n\n\t\t\t\t// callbacks after insertion\n\t\t\t\tif ((ctrlKey === true && shiftKey === true) || button.multiline === true) {\n\t\t\t\t\tprepare(clicked.afterMultiInsert);\n\t\t\t\t}\n\t\t\t\tprepare(clicked.afterInsert);\n\t\t\t\tprepare(options.afterInsert);\n\n\t\t\t\t// refresh preview if opened\n\t\t\t\tif (previewWindow && options.previewAutoRefresh) {\n\t\t\t\t\trefreshPreview();\n\t\t\t\t}\n\n\t\t\t\t// reinit keyevent\n\t\t\t\tshiftKey = altKey = ctrlKey = abort = false;\n\t\t\t}\n\n\t\t\t// Substract linefeed in Opera\n\t\t\tfunction fixOperaBug(string) {\n\t\t\t\tif (browser.opera) {\n\t\t\t\t\treturn string.length - string.replace(/\\n*/g, '').length;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\t// Substract linefeed in IE\n\t\t\tfunction fixIeBug(string) {\n\t\t\t\tif (browser.msie) {\n\t\t\t\t\treturn string.length - string.replace(/\\r*/g, '').length;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\t// add markup\n\t\t\tfunction insert(block) {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tvar newSelection = document.selection.createRange();\n\t\t\t\t\tnewSelection.text = block;\n\t\t\t\t} else {\n\t\t\t\t\ttextarea.value =  textarea.value.substring(0, caretPosition)  + block + textarea.value.substring(caretPosition + selection.length, textarea.value.length);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// set a selection\n\t\t\tfunction set(start, len) {\n\t\t\t\tif (textarea.createTextRange){\n\t\t\t\t\t// quick fix to make it work on Opera 9.5\n\t\t\t\t\tif (browser.opera && browser.version >= 9.5 && len == 0) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\trange = textarea.createTextRange();\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\trange.moveStart('character', start);\n\t\t\t\t\trange.moveEnd('character', len);\n\t\t\t\t\trange.select();\n\t\t\t\t} else if (textarea.setSelectionRange ){\n\t\t\t\t\ttextarea.setSelectionRange(start, start + len);\n\t\t\t\t}\n\t\t\t\ttextarea.scrollTop = scrollPosition;\n\t\t\t\ttextarea.focus();\n\t\t\t}\n\n\t\t\t// get the selection\n\t\t\tfunction get() {\n\t\t\t\ttextarea.focus();\n\n\t\t\t\tscrollPosition = textarea.scrollTop;\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tselection = document.selection.createRange().text;\n\t\t\t\t\tif (browser.msie) { // ie\n\t\t\t\t\t\tvar range = document.selection.createRange(), rangeCopy = range.duplicate();\n\t\t\t\t\t\trangeCopy.moveToElementText(textarea);\n\t\t\t\t\t\tcaretPosition = -1;\n\t\t\t\t\t\twhile(rangeCopy.inRange(range)) {\n\t\t\t\t\t\t\trangeCopy.moveStart('character');\n\t\t\t\t\t\t\tcaretPosition ++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // opera\n\t\t\t\t\t\tcaretPosition = textarea.selectionStart;\n\t\t\t\t\t}\n\t\t\t\t} else { // gecko & webkit\n\t\t\t\t\tcaretPosition = textarea.selectionStart;\n\n\t\t\t\t\tselection = textarea.value.substring(caretPosition, textarea.selectionEnd);\n\t\t\t\t}\n\t\t\t\treturn selection;\n\t\t\t}\n\n\t\t\t// open preview window\n\t\t\tfunction preview() {\n\t\t\t\tif (typeof options.previewHandler === 'function') {\n\t\t\t\t\tpreviewWindow = true;\n\t\t\t\t} else if (options.previewInElement) {\n\t\t\t\t\tpreviewWindow = $(options.previewInElement);\n\t\t\t\t} else if (!previewWindow || previewWindow.closed) {\n\t\t\t\t\tif (options.previewInWindow) {\n\t\t\t\t\t\tpreviewWindow = window.open('', 'preview', options.previewInWindow);\n\t\t\t\t\t\t$(window).unload(function() {\n\t\t\t\t\t\t\tpreviewWindow.close();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tiFrame = $('<iframe class=\"markItUpPreviewFrame\"></iframe>');\n\t\t\t\t\t\tif (options.previewPosition == 'after') {\n\t\t\t\t\t\t\tiFrame.insertAfter(footer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tiFrame.insertBefore(header);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpreviewWindow = iFrame[iFrame.length - 1].contentWindow || frame[iFrame.length - 1];\n\t\t\t\t\t}\n\t\t\t\t} else if (altKey === true) {\n\t\t\t\t\tif (iFrame) {\n\t\t\t\t\t\tiFrame.remove();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpreviewWindow.close();\n\t\t\t\t\t}\n\t\t\t\t\tpreviewWindow = iFrame = false;\n\t\t\t\t}\n\t\t\t\tif (!options.previewAutoRefresh) {\n\t\t\t\t\trefreshPreview();\n\t\t\t\t}\n\t\t\t\tif (options.previewInWindow) {\n\t\t\t\t\tpreviewWindow.focus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// refresh Preview window\n\t\t\tfunction refreshPreview() {\n \t\t\t\trenderPreview();\n\t\t\t}\n\n\t\t\tfunction renderPreview() {\n\t\t\t\tvar phtml;\n\t\t\t\tif (options.previewHandler && typeof options.previewHandler === 'function') {\n\t\t\t\t\toptions.previewHandler( $$.val() );\n\t\t\t\t} else if (options.previewParser && typeof options.previewParser === 'function') {\n\t\t\t\t\tvar data = options.previewParser( $$.val() );\n\t\t\t\t\twriteInPreview(localize(data, 1) );\n\t\t\t\t} else if (options.previewParserPath !== '') {\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdataType: 'text',\n\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\turl: options.previewParserPath,\n\t\t\t\t\t\tdata: options.previewParserVar+'='+encodeURIComponent($$.val()),\n\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\twriteInPreview( localize(data, 1) );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (!template) {\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: options.previewTemplatePath,\n\t\t\t\t\t\t\tdataType: 'text',\n\t\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\twriteInPreview( localize(data, 1).replace(/<!-- content -->/g, $$.val()) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfunction writeInPreview(data) {\n\t\t\t\tif (options.previewInElement) {\n\t\t\t\t\t$(options.previewInElement).html(data);\n\t\t\t\t} else if (previewWindow && previewWindow.document) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tsp = previewWindow.document.documentElement.scrollTop\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tsp = 0;\n\t\t\t\t\t}\n\t\t\t\t\tpreviewWindow.document.open();\n\t\t\t\t\tpreviewWindow.document.write(data);\n\t\t\t\t\tpreviewWindow.document.close();\n\t\t\t\t\tpreviewWindow.document.documentElement.scrollTop = sp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// set keys pressed\n\t\t\tfunction keyPressed(e) {\n\t\t\t\tshiftKey = e.shiftKey;\n\t\t\t\taltKey = e.altKey;\n\t\t\t\tctrlKey = (!(e.altKey && e.ctrlKey)) ? (e.ctrlKey || e.metaKey) : false;\n\n\t\t\t\tif (e.type === 'keydown') {\n\t\t\t\t\tif (ctrlKey === true) {\n\t\t\t\t\t\tli = $('a[accesskey=\"'+((e.keyCode == 13) ? '\\\\n' : String.fromCharCode(e.keyCode))+'\"]', header).parent('li');\n\t\t\t\t\t\tif (li.length !== 0) {\n\t\t\t\t\t\t\tctrlKey = false;\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tli.triggerHandler('mouseup');\n\t\t\t\t\t\t\t},1);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode === 13 || e.keyCode === 10) { // Enter key\n\t\t\t\t\t\tif (ctrlKey === true) {  // Enter + Ctrl\n\t\t\t\t\t\t\tctrlKey = false;\n\t\t\t\t\t\t\tmarkup(options.onCtrlEnter);\n\t\t\t\t\t\t\treturn options.onCtrlEnter.keepDefault;\n\t\t\t\t\t\t} else if (shiftKey === true) { // Enter + Shift\n\t\t\t\t\t\t\tshiftKey = false;\n\t\t\t\t\t\t\tmarkup(options.onShiftEnter);\n\t\t\t\t\t\t\treturn options.onShiftEnter.keepDefault;\n\t\t\t\t\t\t} else { // only Enter\n\t\t\t\t\t\t\tmarkup(options.onEnter);\n\t\t\t\t\t\t\treturn options.onEnter.keepDefault;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode === 9) { // Tab key\n\t\t\t\t\t\tif (shiftKey == true || ctrlKey == true || altKey == true) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (caretOffset !== -1) {\n\t\t\t\t\t\t\tget();\n\t\t\t\t\t\t\tcaretOffset = $$.val().length - caretOffset;\n\t\t\t\t\t\t\tset(caretOffset, 0);\n\t\t\t\t\t\t\tcaretOffset = -1;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmarkup(options.onTab);\n\t\t\t\t\t\t\treturn options.onTab.keepDefault;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction remove() {\n\t\t\t\t$$.unbind(\".markItUp\").removeClass('markItUpEditor');\n\t\t\t\t$$.parent('div').parent('div.markItUp').parent('div').replaceWith($$);\n\t\t\t\t$$.data('markItUp', null);\n\t\t\t}\n\n\t\t\tinit();\n\t\t});\n\t};\n\n\t$.fn.markItUpRemove = function() {\n\t\treturn this.each(function() {\n\t\t\t\t$(this).markItUp('remove');\n\t\t\t}\n\t\t);\n\t};\n\n\t$.markItUp = function(settings) {\n\t\tvar options = { target:false };\n\t\t$.extend(options, settings);\n\t\tif (options.target) {\n\t\t\treturn $(options.target).each(function() {\n\t\t\t\t$(this).focus();\n\t\t\t\t$(this).trigger('insertion', [options]);\n\t\t\t});\n\t\t} else {\n\t\t\t$('textarea').trigger('insertion', [options]);\n\t\t}\n\t};\n})(jQuery);\n","import ctx from './ctx';\nconst { Textcomplete, Textarea } = require('textcomplete');\nctx.addHandler('textarea.BBCodeField', activeerLidHints);\nexport function activeerLidHints(textarea) {\n    const editor = new Textarea(textarea);\n    const textcomplete = new Textcomplete(editor);\n    textcomplete.register([{\n            // @...\n            match: /(^|\\s|])@((?:[^ ]+ ?){1,5})$/,\n            replace(data) {\n                return '$1[lid=' + data.label + ']';\n            },\n            search,\n            template,\n        }, {\n            // [citaat=... of [lid=...\n            index: 3,\n            match: /(^|\\s|])\\[(citaat|lid)=(?:[0-9]{4}|([^\\]]+))$/,\n            search,\n            template,\n            replace(data) {\n                return '$1[$2=' + data.label;\n            },\n        }]);\n    textcomplete.on('rendered', () => {\n        if (textcomplete.dropdown.items.length >= 1) {\n            // Activeer eerste keuze standaard\n            textcomplete.dropdown.items[0].activate();\n        }\n    });\n}\nfunction search(term, callback) {\n    if (!term || term.length === 1) {\n        callback([]);\n    }\n    else {\n        $.ajax('/tools/naamsuggesties?vorm=user&zoekin=voorkeur&q=' + encodeURI(term))\n            .done((data) => {\n            callback(data);\n        })\n            .fail(() => {\n            callback([]);\n        });\n    }\n}\nfunction template(data, term) {\n    return data.value;\n}\n","import axios from 'axios';\nimport './bbcode-hints';\nimport ctx, { init } from './ctx';\n/**\n * Preview button, update bbcode als op de knop geklikt wordt.\n */\nctx.addHandler('[data-bbpreview-btn]', (el) => {\n    const previewId = el.dataset.bbpreviewBtn;\n    const source = document.querySelector('#' + previewId);\n    const target = document.querySelector('#preview_' + previewId);\n    if (!source || !target) {\n        throw new Error('Bbpreview van niet bestaande elementen');\n    }\n    el.addEventListener('click', () => CsrBBPreviewEl(source, target));\n});\n/**\n * Preview element, update bbcode als er op enter gedrukt wordt.\n */\nctx.addHandler('[data-bbpreview]', (el) => {\n    const previewId = el.dataset.bbpreview;\n    const target = document.querySelector('#preview_' + previewId);\n    if (!target) {\n        throw new Error('Geen target gevonden voor bbpreview');\n    }\n    el.addEventListener('keyup', (event) => {\n        if (event.key === 'Enter') { // enter\n            CsrBBPreviewEl(el, target);\n        }\n    });\n});\nexport const CsrBBPreviewEl = (source, target, params = {}) => {\n    const bbcode = source.value;\n    if (bbcode.trim() === '') {\n        target.innerHTML = '';\n        target.style.display = 'none';\n        return;\n    }\n    axios.post('/tools/bbcode', Object.assign({ data: encodeURIComponent(bbcode) }, params)).then((response) => {\n        target.innerHTML = response.data;\n        init(target);\n        target.style.display = 'block';\n    }).catch((error) => {\n        alert(error);\n    });\n};\n","var map = {\n\t\"./nl\": 60,\n\t\"./nl.js\": 60\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 94;"],"sourceRoot":""}