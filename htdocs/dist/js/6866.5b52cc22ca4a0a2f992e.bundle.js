(self.webpackChunk=self.webpackChunk||[]).push([[6866,8613],{7797:(e,t,a)=>{"use strict";a.r(t),a.d(t,{fnAjaxUpdateCallback:()=>b,fnGetLastUpdate:()=>m,fnGetSelection:()=>p,fnSetLastUpdate:()=>g,fnUpdateDataTable:()=>u,getApiFromSettings:()=>f,initDataTable:()=>d,initOfflineDataTable:()=>c,isDataTableResponse:()=>l,replacePlaceholders:()=>h});var n=a(6859),i=a.n(n),s=a(5303),o=a(5946),r=a(6450);function l(e){return"object"==typeof e&&"lastUpdate"in e&&"autoUpdate"in e&&"data"in e}async function d(e){await Promise.all([a.e(8742),a.e(7221),a.e(5665),a.e(3904)]).then(a.bind(a,6651));const t=i()(e),n=t.data("settings"),o=t.data("search");n.ajax&&(n.ajax.data.lastUpdate=m(t),n.ajax.dataSrc=b(t)),n.columns.forEach((e=>e.render=r.Z[e.render]));const l=t.DataTable(n);t.dataTable().api().search(o),l.on("page",(()=>l.rows({selected:!0}).deselect())),l.on("childRow.dt",((e,t)=>(0,s.S)(t.container.get(0))))}async function c(e){await Promise.all([a.e(8742),a.e(7221),a.e(5665),a.e(3904)]).then(a.bind(a,6651)),i()(e).DataTable((0,o.IR)(e))}function u(e,t){const a=i()(e).DataTable();t.data.forEach((e=>{const t=i()('tr[data-uuid="'+e.UUID+'"]');1===t.length?"remove"in e?a.row(t).remove():(a.row(t).data(e),(0,s.S)(t.get(0))):0===t.length?a.row.add(e):alert(t.length)})),a.draw(!1)}function p(e){const t=[];return i()(e+" tbody tr.selected").each((function(){const e=i()(this).attr("data-uuid");if(!e)throw new Error("Tablerow heeft geen uuid");t.push(e)})),t}function f(e){return new(i().fn.dataTable.Api)(e)}const m=e=>()=>Number(e.data("lastupdate")),g=e=>t=>e.data("lastupdate",t),b=e=>t=>{g(e)(t.lastUpdate);const a=e.DataTable();if(t.autoUpdate){const n=parseInt(t.autoUpdate,10);!isNaN(n)&&n<6e5&&setTimeout((()=>{i().post(a.ajax.url(),{lastUpdate:m(e)},(t=>{const a=e.attr("id");if(!a)throw new Error("Table heeft geen id");u(a,t),b(e)(t)}))}),n)}return function(e){const t=e.parent();if(t.hasClass("dataTables_scrollBody")){const e=t.scrollTop(),a=t.innerHeight();if(!e||!a)throw new Error("$scroll heeft geen top of height");e+a>=t[0].scrollHeight-20&&window.setTimeout((()=>{t.animate({scrollTop:t[0].scrollHeight},800)}),200)}}(e),t.data};function h(e,t){const a=/:(\w+)/g.exec(e);if(!a)return e;for(let n=1;n<a.length;n++)e=e.replace(":"+a[n],t[a[n]]);return e}},6450:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(4919),i=a.n(n),s=a(5946),o=a(7797);const r={default(e,t){if(null===e||"object"!=typeof e)return e;switch(t){case"sort":return e.sort;case"export":return e.export;default:return e.display}},bedrag:e=>(0,s.Mc)(e),check:e=>'<i class="fas fa-'+(e?"check":"xmark")+'" aria-hidden="true"></i>',aanmeldFilter:e=>e?`<i class="fas fa-key" title="Aanmeld filter actief: '${e}'" aria-hidden="true"></i>`:"",aanmeldingen:(e,t,a)=>(a.aantal_aanmeldingen||0)+" ("+a.aanmeld_limiet+")",totaalPrijs:(e,t,a)=>(0,s.Mc)(a.aantal_aanmeldingen*parseInt(a.prijs,10)),date(e){const t=i()(e);return t.isValid()?t.format("L"):e},time(e){const t=i()(e);return t.isValid()?t.format("LT"):e},datetime(e){if(Number(e)==e)return i().unix(e).format("YYYY-MM-DD HH:mm");if(!e)return"";if("<time"===e.substr(0,5))return e;if("-"===e.substr(0,1))return"Nooit";return i()(e).isValid()?i()(e).format("YYYY-MM-DD HH:mm"):e},timeago(e,t,a,n){const i=(0,o.getApiFromSettings)(n.settings).cell(n.row,n.col).node().firstChild;switch(t){case"sort":case"export":return i.dateTime;default:return e}},filesize(e,t){switch(t){case"sort":return Number(e);default:return(0,s.D9)(e)}}}},5302:(e,t,a)=>{"use strict";a.r(t);var n=a(8781),i=a(5914),s=a(3138),o=a(5946);const r=(e,t="id")=>({attrs:{[t]:{}},group:"block",draggable:!0,toDOM:a=>["div",{[`data-${e}`]:a.attrs[t],class:"pm-block"},`${e}: ${a.attrs[t]}`],parseDOM:[{tag:`div[data-${e}`,getAttrs:a=>({[t]:a.dataset[e]})}]}),l=(e,t,a="id")=>({attrs:{[a]:{},naam:{default:""}},group:"block",draggable:!0,toDOM:n=>{const i=o.dy` <div
			data-${e}="${n.attrs[a]}"
			class="bb-block"
		>
			<i class="fas fa-spinner fa-spin" aria-hidden="true"></i>
		</div>`;return fetch(`/groepen/${t}/${n.attrs[a]}/info`).then((e=>e.json())).then((e=>{var a;i.dataset.naam=e.naam;const n=o.dy` <div
					id="groep-leden-content-2152"
					class="groep-tab-content GroepPasfotosView"
					style="height: 212.8px;"
				></div>`;for(const t of e.leden)n.appendChild(o.dy`<a
						href="#"
						title="${t.naam}"
						class="lidLink"
						><img
							class="pasfoto"
							src="/profiel/pasfoto/${t.uid}.jpg"
							alt="Pasfoto van ${t.naam}"
					/></a>`);i.innerHTML="",i.appendChild(o.dy`
<div class="bb-groep">
<div class="groep-samenvatting">
<div class="float-end">
<a
class="btn"
target="_blank"
href="/groepen/${t}/${e.id}/wijzigen"
title="Wijzig ${e.naam}"
>
<i class="fas fa-pencil"></i>
</a>
</div>
<h3>${e.naam}</h3>
${null!==(a=e.samenvatting_html)&&void 0!==a?a:""}
</div>

<div id="groep-leden-2152" class="groep-leden">
<ul class="groep-tabs nobullets">
<li class="geschiedenis">
<a class="btn disabled" href="#" title="Bekijk geschiedenis">
<i class="fas fa-clock-rotate-left"></i>"></i>
</a>
</li>
<li>
<a
class="btn btn-primary disabled"
href="#"
title="Pasfoto's tonen"
>
<i class="fas fa-user"></i>
</a>
</li>
<li>
<a class="btn disabled" href="#" title="Lijst tonen">
<i class="fas fa-list"></i>
</a>
</li>
<li>
<a class="btn disabled" href="#" title="Statistiek tonen">
<i class="fas fa-chart-pie"></i>
</a>
</li>
<li>
<a class="btn disabled" href="#" title="E-mails tonen">
<i class="fas fa-envelope"></i>
</a>
</li>
<li>
<a class="btn disabled" href="#" title="Allergie/dieet tonen">
<i class="fas fa-heartbeat"></i>
</a>
</li>
<li class="knop-vergroot"></li>
</ul>
${n}
</div>
<div class="clear">&nbsp;</div>
</div>`)})).catch((()=>{i.innerText="Groep niet gevonden"})),i},parseDOM:[{tag:`div[data-${t}`,getAttrs:e=>({[a]:e.dataset[t],naam:e.dataset.naam})}]}),d=l("activiteit","activiteiten"),c=l("bestuur","besturen"),u=l("commissie","commissies"),p=l("groep","overig"),f=l("ketzer","ketzers"),m=l("ondervereniging","onderverenigingen"),g=l("verticale","verticalen"),b=l("werkgroep","werkgroepen"),h=l("woonoord","woonoorden"),v=r("boek"),k=r("document"),y=r("maaltijd"),w=r("peiling");var O=a(877);const D={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},citaat:{attrs:{van:{},naam:{default:"Lid"},url:{default:""}},content:"block+",group:"block",defining:!0,parseDOM:[{tag:"div[data-bb-citaat]",getAttrs:e=>({van:e.dataset.bbCitaat,naam:e.dataset.bbCitaatNaam,url:e.dataset.bbCitaatUrl})}],toDOM:e=>["div",{"data-bb-citaat":e.attrs.van,"data-bb-citaat-naam":e.attrs.naam,"data-bb-citaat-url":e.attrs.url},0]},lid:{attrs:{uid:{},naam:{default:null}},group:"inline",inline:!0,parseDOM:[{tag:"[data-lid]",getAttrs:e=>({uid:e.dataset.lid,naam:e.dataset.lidNaam})}],toDOM:e=>["span",{"data-lid":e.attrs.uid,"data-lidNaam":e.attrs.naam},e.attrs.naam]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>{if(e instanceof HTMLElement)return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")};throw new Error("Unable to process dom")}}],toDOM:e=>{const{src:t,alt:a,title:n}=e.attrs;return["img",{src:t,alt:a,title:n}]}},plaatje:{inline:!0,attrs:{src:{},key:{}},group:"inline",draggable:!0,parseDOM:[{tag:"[data-plaatje]",getAttrs:e=>({key:e.dataset.plaatje,src:e.dataset.plaatjeSrc})}],toDOM:e=>["div",{"data-plaatje":e.attrs.key,"data-plaatje-src":e.attrs.src},["img",{src:e.attrs.src}]]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},verklapper:{content:"block+",group:"block",parseDOM:[{tag:"div[data-bb-verklapper]"}],toDOM:()=>["div",{"data-bb-verklapper":"",class:"pm-verklapper"},0]},bb:{attrs:{bb:{default:null}},group:"block",toDOM:e=>["div",{"data-bb":e.attrs.bb},e.attrs.bb],parseDOM:[{tag:"div[data-bb]",getAttrs:e=>({bb:e.dataset.bb})}]},activiteit:d,bestuur:c,commissie:u,groep:p,ketzer:f,ondervereniging:m,verticale:g,werkgroep:b,woonoord:h,boek:v,document:k,maaltijd:y,peiling:w,twitter:{attrs:{url:{}},group:"block",parseDOM:[{tag:"div[data-bb-twitter]",getAttrs:e=>({url:e.dataset.bbTwitter})}],toDOM:e=>["div",{"data-bb-twitter":e.attrs.url}]},youtube:{attrs:{id:{}},group:"block",parseDOM:[{tag:"div[data-bb-youtube]"}],toDOM:e=>["div",{"data-bb-youtube":e.attrs.id,class:"bb-video",title:"YouTube"},["img",{src:`https://i.ytimg.com/vi/${e.attrs.id}/sddefault.jpg`}]]},video:{attrs:{url:{}},group:"block",parseDOM:[{tag:"div[data-bb-video]",getAttrs:e=>({url:e.dataset.bbVideo})}],toDOM:e=>["div",{"data-bb-video":e.attrs.url}]},audio:{attrs:{url:{}},group:"block",parseDOM:[{tag:"div[data-bb-audio]",getAttrs:e=>({url:e.dataset.bbAudio})}],toDOM:e=>["div",{"data-bb-audio":e.attrs.url}]},spotify:{attrs:{url:{},formaat:{default:"hoog"}},group:"block",parseDOM:[{tag:"div[data-bb-spotify]",getAttrs:e=>({url:e.dataset.bbSpotify,formaat:e.dataset.bbSpotifyFormaat})}],toDOM:e=>["div",{"data-bb-spotify":e.attrs.url,"data-bb-spotify-formaat":e.attrs.formaat}]}},M={link:{attrs:{href:{}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>{if(e instanceof HTMLElement)return{href:e.getAttribute("href")};throw new Error("Cannot process dom")}}],toDOM:e=>{const{href:t}=e.attrs;return["a",{href:t,title:t},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>{if(e instanceof HTMLElement)return"normal"!=e.style.fontWeight&&null;throw new Error("Cannot process dom")}},{style:"font-weight",getAttrs:e=>{if("string"==typeof e)return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null;throw new Error("Cannot process value")}}],toDOM:()=>["strong",0]},superscript:{excludes:"superscript subscript",parseDOM:[{tag:"sup"}],toDOM:()=>["sup",0]},subscript:{excludes:"subscript superscript",parseDOM:[{tag:"sub"}],toDOM:()=>["sub",0]},strikethrough:{parseDOM:[{tag:"del"}],toDOM:()=>["del",0]},underline:{parseDOM:[{tag:"ins"}],toDOM:()=>["ins",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},offtopic:{parseDOM:[{tag:"span[data-offtopic]"}],toDOM:()=>["span",{"data-offtopic":"",class:"offtopic"},0]},neuzen:{parseDom:[{tag:"span[data-neuzen]"}],toDOM:()=>["span",{"data-neuzen":""},0]},prive:{attrs:{prive:{default:null}},parseDOM:[{tag:"span[data-prive]"}],toDOM:e=>["span",{"data-prive":e.attrs.prive,class:"bb-prive",title:`Prive: ${e.attrs.prive||"ROLE_LOGGED_IN"}`},0]}},j=a(9131).Z.from(D),T=new s.V_({nodes:(0,O.Cx)(j,"paragraph block*","block"),marks:M});var E=a(7185),S=a(786),z=a(4537),C=a(2851),L=a.n(C),A=a(8423);const x="ProseMirror-popup";function _(e){const t=o.dy` <button
		type="submit"
		class="${x}-submit btn btn-primary"
	>
		OK
	</button>`,a=o.dy` <button
		type="button"
		class="${x}-cancel btn btn-primary"
	>
		Cancel
	</button>`,n=document.createElement("form"),i=n.appendChild(o.dy` <div class="modal-body"></div>`),s=n.appendChild(o.dy` <div class="modal-footer"></div>`);e.description&&i.appendChild(o.dy`<p>${e.description}</p>`),Object.entries(e.fields).forEach((([e,t])=>{i.appendChild(o.dy` <div class="mb-3 row">
			<label class="col-sm-2 col-form-label" for="${e}"
				>${t.options.label}${t.options.required?o.dy`<span class="text-danger">*</span>`:""}</label
			>
			<div class="col-sm-10">${t.render(e)}</div>
		</div>`)})),s.appendChild(o.dy` <div class="${x}-buttons">
		${t} ${a}
	</div>`);const r=o.dy` <div class="modal" style="display: block;" tabindex="-1">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">${e.title}</h5>
				</div>
				${n}
			</div>
		</div>
	</div>`;document.body.appendChild(r);const l=e=>{n.contains(e.target)||d()};setTimeout((()=>window.addEventListener("mousedown",l)),50);const d=()=>{window.removeEventListener("mousedown",l),r.parentNode&&r.parentNode.removeChild(r)};a.addEventListener("click",d);const c=()=>{const t=function(e,t){const a=Object.create(null);for(const n of Object.keys(e)){const i=e[n],s=t[n],o=i.read(s),r=i.validate(o);if(r)return q(s,r),null;a[n]=i.clean(o)}return a}(e.fields,n);t&&(d(),e.callback(t))};n.addEventListener("submit",(e=>{e.preventDefault(),c()})),n.addEventListener("keydown",(e=>{"Escape"==e.key?(e.preventDefault(),d()):"Enter"!=e.key||e.ctrlKey||e.metaKey||e.shiftKey||"textarea"==document.activeElement.tagName.toLowerCase()?"Tab"==e.key&&window.setTimeout((()=>{r.contains(document.activeElement)||d()}),500):(e.preventDefault(),c())}));const u=n.elements[0];u&&u.focus()}function q(e,t){const a=e.parentNode,n=a.appendChild(document.createElement("div"));n.style.left=e.offsetLeft+e.offsetWidth+2+"px",n.style.top=e.offsetTop-5+"px",n.className="ProseMirror-invalid",n.textContent=t,setTimeout((()=>a.removeChild(n)),1500)}class N{constructor(e){this.options=e}read(e){return e.value}validateType(e){return null}validate(e){return!e&&this.options.required?"Required field":this.validateType(e)||this.options.validate&&this.options.validate(e)}clean(e){return this.options.clean?this.options.clean(e):e}render(e){return null}}class F extends N{render(e){return o.dy`<input
			type="text"
			name="${e}"
			id="${e}"
			value="${this.options.value||""}"
			autocomplete="off"
			class="form-control"
		/>`}}class I extends N{render(e){return o.dy`<div>${this.options.value}</div>`}read(e){return""}}class W extends N{render(e){const t=document.createElement("textarea");return t.id=e,t.name=e,t.classList.add("form-control"),t.placeholder=this.options.label,t.value=this.options.value||"",t.autocomplete="off",t.rows=20,t}}class U extends N{render(e){const t=document.createElement("input");return t.id=e,t.name=e,t.classList.add("form-control"),t.type="file",t}read(e){return e.files[0]}}class H extends N{render(e){this.name=e;const t=o.dy`<input
			type="text"
			class="form-control"
			autocomplete="off"
			name="${e}_naam"
			value="${this.options.value.naam}"
		/>`,a=o.dy`<input
			type="hidden"
			name="${e}_uid"
			value="${this.options.value.uid}"
		/>`,n=o.dy`<input type="hidden" name="${e}" />`,i=new(L())({datumTokenizer:L().tokenizers.obj.whitespace("value"),queryTokenizer:L().tokenizers.whitespace,remote:{url:"/tools/naamsuggesties?vorm=user&zoekin=voorkeur&q=%QUERY",wildcard:"%QUERY"}});i.initialize();let s=this.options.value.naam;return setTimeout((()=>{$(t).typeahead({hint:!0,highlight:!0},{name:"leden",display:"value",limit:20,source:i.ttAdapter(),templates:{suggestion:function(e){let t="<p";return e.title&&(t+=' title="'+e.title+'"'),t+=">",e.icon&&(t+=e.icon),t+=e.value,e.label&&(t+='<span class="lichtgrijs"> - '+e.label+"</span>"),t+"</p>"}}}),$(t).on("typeahead:select",((e,t)=>{a.value=t.uid,s=t.value})),$(t).on("typeahead:change",((e,t)=>{s!=t&&(a.value="")}))})),o.dy` <div>${t} ${a} ${n}</div>`}read(e){return{naam:e.form[`${this.name}_naam`].value,uid:e.form[`${this.name}_uid`].value}}validate(e){return this.options.required&&!e.uid?"Selecteer een lid":super.validate(e)}}class R extends N{render(e){return o.dy`<textarea
			name="${e}"
			id="${e}"
			autocomplete="off"
			class="form-control"
		>
${this.options.value||""}</textarea
		>`}read(e){const t=(0,A.Z)(e.value);return"youtube"!=t.service?"":t.id}}const P=(e,t,a)=>_({title:"Bewerk bb",fields:{bb:new W({label:"Bb",value:t.bb})},callback(t){a.dispatch(a.state.tr.replaceSelectionWith(e.createAndFill(t))),a.focus()}});var V=a(7442);const Y=new n.Sy({state:{init:()=>i.EH.empty,apply(e,t){t=t.map(e.mapping,e.doc);const a=e.getMeta(this);if(a&&a.add){const n=document.createElement("div");n.classList.add("plaatje-placeholder");const s=i.p.widget(a.add.pos,n,{id:a.add.id});t=t.add(e.doc,[s])}else a&&a.remove&&(t=t.remove(t.find(null,null,(e=>e.id==a.remove.id))));return t}},props:{decorations(e){return this.getState(e)}}});var B=a(1339),G=a.n(B);async function Z(e,t,a){try{const{src:n,key:i}=await async function(e){const t=new FormData;return t.append("image_HF",e,e.name),t.append("image","image_HF"),(await G().post("/forum/plaatjes/upload_json",t,{headers:{"content-type":"multipart/form-data"}})).data}(t);await(0,o.pt)(n);const s=((e,t)=>{const a=Y.getState(e).find(null,null,(e=>e.id==t));return a.length?a[0].from:null})(e.state,a);if(null==s)return;e.dispatch(e.state.tr.replaceWith(s,s,e.state.schema.nodes.plaatje.create({src:n,key:i})).setMeta(Y,{remove:{id:a}}))}catch(t){throw e.dispatch(e.state.tr.setMeta(Y,{remove:{id:a}})),t}}var K=a(3141),J=a(3114),Q=a(7811),X=a(8365);const ee=(0,J._)("div",{class:"modal-backdrop"},null,-1),te={class:"modal-dialog"},ae={class:"modal-content"},ne={class:"modal-header"},ie={class:"modal-title"},se=[(0,J._)("span",{"aria-hidden":"true"},"Ã—",-1)],oe={class:"modal-body"},re={class:"mb-3 row"},le=(0,J._)("label",{class:"col-sm-2 col-form-label",for:"zoeken"},"Groep",-1),de={class:"col-sm-10"},ce={class:"mb-3 row"},ue=(0,J._)("label",{class:"col-sm-2 col-form-label"},"Status",-1),pe={class:"col-sm-10"},fe={class:"form-check form-check-inline"},me=["disabled"],ge=(0,J._)("label",{class:"form-check-label",for:"status-ht"},"h.t.",-1),be={class:"form-check form-check-inline"},he=["disabled"],ve=(0,J._)("label",{class:"form-check-label",for:"status-ft"},"f.t.",-1),ke={class:"form-check form-check-inline"},ye=["disabled"],we=(0,J._)("label",{class:"form-check-label",for:"status-ot"},"o.t.",-1),Oe={class:"list-group"},De=["onClick"];const Me=(0,J.aZ)({props:{type:{required:!0,type:String},selectgroep:{required:!0,type:Function},close:{required:!0,type:Function}},data:()=>({groepen:[],ingevuld:"",zoekHt:!0,zoekFt:!0,zoekOt:!1,loading:!1,source:null}),created(){this.update()},methods:{update(){var e;this.loading=!0,null===(e=this.source)||void 0===e||e.cancel("Stop zoeken"),this.source=G().CancelToken.source();const t=[];this.zoekHt&&t.push("ht"),this.zoekFt&&t.push("ft"),this.zoekOt&&t.push("ot");const a=t.join(",");G().get(`/groepen/${this.type}/zoeken?status=${a}&q=${this.ingevuld}`,{cancelToken:this.source.token}).then((e=>{this.groepen=e.data,this.loading=!1})).catch((()=>{}))},sluiten(e){e.target instanceof Element&&"modal"==e.target.className&&this.close()}}});const je=(0,a(4388).Z)(Me,[["render",function(e,t,a,n,i,s){return(0,J.wg)(),(0,J.iD)("div",null,[ee,(0,J._)("div",{class:"modal",style:{display:"block"},tabindex:"-1",onClick:t[9]||(t[9]=(...t)=>e.sluiten&&e.sluiten(...t))},[(0,J._)("div",te,[(0,J._)("div",ae,[(0,J._)("div",ne,[(0,J._)("h5",ie,"Invoegen: "+(0,Q.zw)(e.type),1),(0,J._)("button",{type:"button",class:"close","aria-label":"Sluiten",onClick:t[0]||(t[0]=t=>e.close())},se)]),(0,J._)("div",oe,[(0,J._)("div",re,[le,(0,J._)("div",de,[(0,J._)("input",{id:"zoeken",type:"text",class:(0,Q.C_)(["form-control",{loading:e.loading}]),onInput:t[1]||(t[1]=t=>e.ingevuld=t.target.value),onKeyup:t[2]||(t[2]=(...t)=>e.update&&e.update(...t))},null,34)])]),(0,J._)("div",ce,[ue,(0,J._)("div",pe,[(0,J._)("div",fe,[(0,J.wy)((0,J._)("input",{id:"status-ht","onUpdate:modelValue":t[3]||(t[3]=t=>e.zoekHt=t),type:"checkbox",class:"form-check-input",disabled:!e.zoekFt&&!e.zoekOt,onChange:t[4]||(t[4]=(...t)=>e.update&&e.update(...t))},null,40,me),[[X.e8,e.zoekHt]]),ge]),(0,J._)("div",be,[(0,J.wy)((0,J._)("input",{id:"status-ft","onUpdate:modelValue":t[5]||(t[5]=t=>e.zoekFt=t),type:"checkbox",class:"form-check-input",disabled:!e.zoekHt&&!e.zoekOt,onChange:t[6]||(t[6]=(...t)=>e.update&&e.update(...t))},null,40,he),[[X.e8,e.zoekFt]]),ve]),(0,J._)("div",ke,[(0,J.wy)((0,J._)("input",{id:"status-ot","onUpdate:modelValue":t[7]||(t[7]=t=>e.zoekOt=t),type:"checkbox",class:"form-check-input",disabled:!e.zoekHt&&!e.zoekFt,onChange:t[8]||(t[8]=(...t)=>e.update&&e.update(...t))},null,40,ye),[[X.e8,e.zoekOt]]),we])])]),(0,J._)("div",Oe,[((0,J.wg)(!0),(0,J.iD)(J.HY,null,(0,J.Ko)(e.groepen,(t=>((0,J.wg)(),(0,J.iD)("a",{key:t.id,class:"list-group-item list-group-item-action",href:"#",onClick:(0,X.iM)((a=>e.selectgroep(t.naam,t.id)),["prevent"])},(0,Q.zw)(t.naam),9,De)))),128))])])])])])])}]]);var Te=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};function Ee(e,t){const a=e.selection.$from;for(let e=a.depth;e>=0;e--){const n=a.index(e);if(a.node(e).canReplaceWith(n,n,t))return!0}return!1}const $e=e=>new z.sN({title:"Afbeelding invoegen",label:"Afbeelding",enable:t=>Ee(t,e),run(t,a,i){let s=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(s=t.selection.node.attrs),_({title:"Afbeelding invoegen",fields:{src:new F({label:"Locatie",required:!0,value:s&&s.src})},callback:t=>{i.dispatch(i.state.tr.replaceSelectionWith(e.createAndFill(t))),i.focus()}})}});function Se(e){return new z.sN({label:"Citaat",title:"Citaat invoegen",enable:t=>Ee(t,e),run:(t,a,i)=>{let s=null,r=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(s=t.selection.node.attrs,r=t.selection.node.content),_({description:"",title:s?"Update: "+e.name:"Invoegen: "+e.name,fields:{lid:new H({label:"Lid",required:!1,value:s&&(0,o.TZ)(s.van)?{naam:s.naam,uid:s.van}:{naam:"",uid:""}}),of:new I({label:"",value:"- Of -"}),naam:new F({label:"Van",required:!1,value:s&&!(0,o.TZ)(s.van)?s.naam:""}),url:new F({label:"Url",required:!1,value:s&&!(0,o.TZ)(s.van)?s.url:""})},callback({lid:t,naam:a,url:n}){const s=t.uid?{naam:t.naam,van:t.uid}:{van:a,naam:a,url:n};i.dispatch(i.state.tr.replaceSelectionWith(e.createAndFill(Object.assign({type:e.name},s),r))),i.focus()}})}})}function ze(e,t){var{enabled:a}=t,n=Te(t,["enabled"]);const i=Object.assign({label:"string"==typeof n.title?n.title:"",run:e},n);return a&&!0!==a||n.select||(i[a?"enable":"select"]=t=>e(t)),new z.sN(i)}function Ce(e,t){const{from:a,$from:n,to:i,empty:s}=e.selection;return s?!!t.isInSet(e.storedMarks||n.marks()):e.doc.rangeHasMark(a,i,t)}const Le=(e,t)=>ze((0,V.w9)(e),Object.assign({active:t=>Ce(t,e),enabled:!0},t)),Ae=(e,t)=>ze((0,O.KI)(e,null),t),xe=e=>new z.sN({title:"Markeer tekst als prive",label:"Prive",active:t=>Ce(t,e),enable:e=>!e.selection.empty,run(t,a,n){if(Ce(t,e))return(0,V.w9)(e)(t,a),!0;_({title:"Markeer als prive",fields:{prive:new F({label:"Rechten (leeg voor ingelogd)"})},callback(t){(0,V.w9)(e,t)(n.state,n.dispatch),n.focus()}})}}),_e=(e,t,a,i="")=>new z.sN({title:a,label:t,enable:t=>Ee(t,e),run:(t,a,s)=>{let r=null,l=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(r=t.selection.node.attrs,l=t.selection.node.content),_({description:i,title:r?"Update: "+e.name:"Invoegen: "+e.name,fields:Object.fromEntries(Object.entries(e.spec.attrs).map((([e,t])=>[e,new F({label:(0,o.Ps)(e),required:void 0===t.default,value:r?r[e]:t.default})]))),callback(t){s.dispatch(s.state.tr.replaceSelectionWith(e.createAndFill(Object.assign({type:e.name},t),l))),s.focus()}})}}),qe=(e,t,a,i)=>new z.sN({title:a,label:t,enable:t=>Ee(t,e),run:(t,a,s)=>{let o=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(o=t.selection.node.content);const r=document.body.appendChild(document.createElement("div"));(0,K.createDefaultApp)(je,{type:i,close:()=>r.remove(),selectgroep:(t,a)=>{r.remove(),s.dispatch(s.state.tr.replaceSelectionWith(e.createAndFill({type:e.name,naam:t,id:a},o))),s.focus()}}).mount(r)}}),Ne=(e,t,a,i="")=>new z.sN({title:a,label:t,enable:t=>Ee(t,e),run:(t,a,s)=>{let o=null,r=null;t.selection instanceof n.qv&&t.selection.node.type==e&&(o=t.selection.node.attrs,r=t.selection.node.content),_({description:i,title:o?"Update: "+e.name:"Invoegen: "+e.name,fields:{id:new R({label:"Id",required:!0,value:o?o.id:""})},callback(t){s.dispatch(s.state.tr.replaceSelectionWith(e.createAndFill(Object.assign({type:e.name},t),r))),s.focus()}})}}),Fe=e=>new z.sN({title:"BB code als platte tekst invoegen",label:"BB code",enable:t=>Ee(t,e),run:(t,a,i)=>{let s={bb:""};t.selection instanceof n.qv&&t.selection.node.type==e&&(s=t.selection.node.attrs),P(e,s,i)}}),Ie=(e,t)=>new z.sN({title:"Afbeelding invoegen",label:"Afbeelding",enable:a=>Ee(a,e)||Ee(a,t),run:(e,a,n)=>{_({title:"Plaatje uploaden",fields:{noot:new I({label:"",value:"Als je hier een bestand van je computer kiest is deze <strong>alleen zichtbaar voor leden</strong>. Zet je afbeelding neer bij een externe service als je wil dat je afbeelding ook op de externe stek zichtbaar is."}),image:new U({label:"Afbeelding"}),of:new I({label:"",value:"- Of -"}),url:new F({label:"Url"})},callback:e=>{e.url?(n.dispatch(n.state.tr.replaceSelectionWith(t.createAndFill({src:e.url}))),n.focus()):e.image&&async function(e,t){const a={},n=e.state.tr;n.selection.empty||n.deleteSelection(),n.setMeta(Y,{add:{id:a,pos:n.selection.from}}),e.dispatch(n),await Z(e,t,a)}(n,e.image)}})}}),We={strong:{dom:o.dy`<i class="fas fa-bold" aria-hidden="true"></i>`},em:{dom:o.dy`<i class="fas fa-italic" aria-hidden="true"></i>`},link:{dom:o.dy`<i class="fas fa-link" aria-hidden="true"></i>`},undo:{dom:o.dy`<i class="fas fa-undo" aria-hidden="true"></i>`},redo:{dom:o.dy`<i class="fas fa-redo" aria-hidden="true"></i>`},ol:{dom:o.dy`<i class="fas fa-list-ol" aria-hidden="true"></i>`},ul:{dom:o.dy`<i class="fas fa-list-ul" aria-hidden="true"></i>`},quote:{dom:o.dy`<i class="fas fa-quote-left" aria-hidden="true"></i>`},underline:{dom:o.dy`<i class="fas fa-underline" aria-hidden="true"></i>`},selectParentNode:{dom:o.dy`<i class="fas fa-object-group" aria-hidden="true"></i>`},lift:{dom:o.dy`<i class="fas fa-outdent" aria-hidden="true"></i>`},prive:{dom:o.dy`<i class="fas fa-user-shield" aria-hidden="true"></i>`},join:{dom:o.dy`<i class="fas fa-caret-up" aria-hidden="true"></i>`}};var Ue=a(5303);const He=e=>new n.Sy({appendTransaction:(t,a,n)=>(e.value=JSON.stringify(n.doc.toJSON()),null)});var Re=a(5735);let Pe=0,Ve=[],Ye=G().CancelToken.source();const Be=(e,t)=>{Array.from(document.querySelectorAll(".lid-hints")).forEach((e=>e.remove()));const a=document.createElement("div");a.classList.add("lid-hints","list-group"),a.style.position="absolute";for(const n of Ve){const i=a.appendChild(document.createElement("div"));i.classList.add("list-group-item","list-group-item-action"),i.addEventListener("click",(()=>{Ze(e,t,n)})),i.textContent=n.value}e.dom.parentElement.appendChild(a),((e,t)=>{const a=document.querySelector(".lid-hints");if(!a)return;const n=e.dom.parentElement.getBoundingClientRect();a.style.left=t.left-n.left+"px",a.style.top=t.bottom-n.top+"px"})(e,e.coordsAtPos(t.to)),Ge()},Ge=()=>{const e=document.querySelector(".lid-hints");if(!e)return;for(const t of Array.from(e.children))t.classList.remove("active");const t=e.children.item(Pe);t&&t.classList.add("active")},Ze=(e,t,a)=>{if(!a)return!1;const{from:n,to:i}=t;return e.dispatch(e.state.tr.replaceWith(n,i,e.state.schema.nodes.lid.createAndFill({uid:a.uid,naam:a.value}))),Ke(),!0},Ke=()=>{Ve=[],Pe=0,(()=>{const e=document.querySelector(".lid-hints");e&&e.remove()})(),Ye.cancel()},Je=async(e,t,a)=>{Ye.cancel(),Ye=G().CancelToken.source();try{Ve=await async function(e,t){if(e&&1!==e.length)return(await G().get("/tools/naamsuggesties?vorm=user&zoekin=voorkeur&q="+encodeURI(e),{cancelToken:t})).data;return[]}(e,Ye.token),Pe=0,Be(t,a)}catch(e){}},Qe={triggers:[{name:"mention",trigger:"@"}],onOpen:({view:e,range:t,trigger:a})=>(Je(a,e,t),!0),onArrow:({kind:e})=>{switch(e){case Re.je.down:Pe=(Pe+1)%Ve.length,Ge();break;case Re.je.up:Pe=(Pe-1+Ve.length)%Ve.length,Ge()}return!0},onFilter:({view:e,filter:t,range:a})=>(Je(t,e,a),!0),onEnter:({view:e,range:t})=>(Ze(e,t,Ve[Pe]),!0),onClose:()=>(Ke(),!0)},Xe=(0,Re.ZP)(Qe),et=e=>new n.Sy({appendTransaction(t,a,n){let i=null;return n.doc.descendants(((t,a)=>{t.type==e.nodes.image&&t.attrs.src.startsWith("data:")&&(i=(null!=i?i:n.tr).deleteRange(a,a+1))})),i}}),tt=e=>{let t=null;return new n.Sy({view:e=>(t=e,{}),appendTransaction(a,n,i){let s=null;return i.doc.descendants(((a,n)=>{if(a.type==e.nodes.image&&a.attrs.src.startsWith("data:")){const e={};s=i.tr.deleteRange(n,n+1),s.setMeta(Y,{add:{id:e,pos:n}}),(async()=>{const n=await(0,o._x)(a.attrs.src,"pastedImage");await Z(t,n,e)})()}})),s}})};var at=a(8742);const nt="citeerDiv",it=e=>{if("Range"==e.type&&e.rangeCount){const t=e.getRangeAt(0).commonAncestorContainer,a=(t instanceof HTMLElement?t:t.parentElement).closest(".forum-bericht");if(a&&(a.contains(t)||a==t))return a}return null},st=()=>{const e=window.getSelection();if(!e.rangeCount)return new DOMRect;return e.getRangeAt(0).getBoundingClientRect()},ot=()=>{const e=(()=>{const e=document.getElementById(nt);if(e)return e;const t=o.dy` <div
		id="${nt}"
		class="card position-absolute"
		style="display: none"
	>
		<button type="button" class="btn" data-selectie="">
			<i class="fas fa-quote-left" aria-hidden="true"></i>
			Citeren
		</button>
	</div>`;return t.querySelector(".btn").addEventListener("click",(()=>{const e=window.getSelection(),a=it(e);if(!a)return;const{naam:n,uid:i}=a.dataset,o=window.currentEditor;if(!o)return;const r=o.state.schema.nodes.citaat,l=s.aw.fromSchema(o.state.schema).parse(e.getRangeAt(0).cloneContents()),d=r.create({van:i,naam:n},l.content);return o.dispatch(o.state.tr.insert(o.state.selection.head,d)),$(window).scrollTo("#reageren"),t.style.display="none",!1})),document.body.appendChild(t)})(),t=it(window.getSelection());if(window.currentEditor&&t&&!window.getSelection().isCollapsed){e.style.display="block";(0,at.fi)({getBoundingClientRect:st},e,{placement:"bottom"}).update()}else e.style.display="none"};(0,o.o0)((()=>{document.addEventListener("selectionchange",ot)}));var rt=a(3325),lt=a(6657),dt=a(4241);Ue.Z.addHandler(".pm-editor",(e=>{const t=e.dataset.extern,a=function(e,t){return[(0,o.z7)([Le(e.marks.strong,{title:"Schakel dikgedrukt",icon:We.strong}),Le(e.marks.em,{title:"Schakel schuingedrukt",icon:We.em}),Le(e.marks.underline,{title:"Schakel onderlijn",icon:We.underline}),(i=e.marks.link,new z.sN({title:"Maak of verwijder link",icon:{dom:o.dy`<i class="fa fa-link" aria-hidden="true"></i>`},active:e=>Ce(e,i),enable:()=>!0,run(e,t,a){if(Ce(e,i))return(0,V.w9)(i)(e,t),!0;e.selection.empty?_({title:"Maak een link",fields:{tekst:new F({label:"Link tekst",required:!0}),href:new F({label:"Link doel",required:!0})},callback({tekst:t,href:n}){n.startsWith("/")||n.startsWith("https://")||n.startsWith("http://")||(n="https://"+n),a.dispatch(a.state.tr.replaceSelectionWith(e.schema.text(t).mark([i.create({href:n})]),!1)),a.focus()}}):_({title:"Maak een link",fields:{href:new F({label:"Link doel",required:!0})},callback({href:e}){e.startsWith("/")||e.startsWith("https://")||e.startsWith("http://")||(e="https://"+e),(0,V.w9)(i,{href:e})(a.state,a.dispatch),a.focus()}})}})),!t&&Le(e.marks.prive,{title:"Maak prive",icon:We.prive}),new z.Lt((0,o.z7)([Le(e.marks.code,{title:"Schakel code",label:"Code"}),Le(e.marks.superscript,{title:"Schakel superscript",label:"Superscript"}),Le(e.marks.subscript,{title:"Schakel subscript",label:"Subscript"}),Le(e.marks.strikethrough,{title:"Schakel doorstreep",label:"Doorstreep"}),Le(e.marks.offtopic,{title:"Schakel offtopic",label:"Offtopic"}),t&&xe(e.marks.prive)]),{label:"Meer"})]),(0,o.z7)([t&&(a=e.nodes.lid,new z.sN({title:"Lid invoegen",label:"Lid",enable:e=>Ee(e,a),run:(e,t,i)=>{let s=null,o=null;e.selection instanceof n.qv&&e.selection.node.type==a&&(s=e.selection.node.attrs,o=e.selection.node.content),_({title:s?"Update: "+a.name:"Invoegen: "+a.name,description:"Tip: Type '@' met een zoekterm in je bericht om snel een lid te noemen.",fields:{lid:new H({label:"Lid",required:!0,value:s?{uid:s.uid,naam:s.naam}:{uid:"",naam:""}})},callback(e){i.dispatch(i.state.tr.replaceSelectionWith(a.createAndFill(Object.assign({type:a.name},e.lid),o))),i.focus()}})}}))]),(0,o.z7)([new z.Lt((0,o.z7)([t&&Ie(e.nodes.plaatje,e.nodes.image),!t&&$e(e.nodes.image),t&&Se(e.nodes.citaat),(0,z.lB)(e.nodes.blockquote,{title:"Maak een quote",label:"Quote"}),t&&qe(e.nodes.activiteit,"Activiteitenketzer","Activiteit invoegen","activiteiten"),t&&qe(e.nodes.ketzer,"Aanschafketzer","Ketzer invoegen","ketzers"),t&&new z.Yz([_e(e.nodes.twitter,"Twitter","Twitter invoegen"),Ne(e.nodes.youtube,"YouTube","YouTube invoegen"),_e(e.nodes.spotify,"Spotify","Spotify invoegen"),_e(e.nodes.video,"Video","Video invoegen"),_e(e.nodes.audio,"Geluid","Geluid invoegen")],{label:"Embed"}),t&&new z.Yz([qe(e.nodes.bestuur,"Bestuur","Bestuur invoegen","besturen"),qe(e.nodes.commissie,"Commissie","Commissie invoegen","commissies"),qe(e.nodes.groep,"Overig","Overige groep invoegen","overig"),qe(e.nodes.ondervereniging,"Ondervereniging","Ondervereniging invoegen","onderverenigingen"),qe(e.nodes.verticale,"Verticale","Verticale invoegen","verticalen"),qe(e.nodes.werkgroep,"Werkgroep","Werkgroep invoegen","werkgroepen"),qe(e.nodes.woonoord,"Woonoord","Woonoord invoegen","woonoorden")],{label:"Groep"}),t&&_e(e.nodes.boek,"Boek","Boek invoegen"),t&&_e(e.nodes.document,"Document","Document invoegen"),t&&_e(e.nodes.maaltijd,"Maaltijd","Maaltijd invoegen"),t&&_e(e.nodes.peiling,"Peiling","Peiling invoegen"),new z.sN({title:"Horizontale lijn invoegen",label:"Lijn",enable:t=>Ee(t,e.nodes.horizontal_rule),run(t,a){a(t.tr.replaceSelectionWith(e.nodes.horizontal_rule.create()))}}),(0,z.lB)(e.nodes.verklapper,{title:"Stop selectie in verklapper",label:"Verklapper"}),Fe(e.nodes.bb)]),{label:"Invoegen"}),new z.Lt([(0,z.Gl)(e.nodes.paragraph,{title:"Verander naar een paragraaf",label:"Tekst"}),(0,z.Gl)(e.nodes.code_block,{title:"Verander naar een code blok",label:"Code"}),(0,z.Gl)(e.nodes.heading,{title:"Verander naar kop 1",label:"Titel",attrs:{level:1}}),(0,z.Gl)(e.nodes.heading,{title:"Verander naar kop 2",label:"Kop",attrs:{level:2}}),(0,z.Gl)(e.nodes.heading,{title:"Verander naar kop 3",label:"Subkop",attrs:{level:3}})],{label:"Stijl"})]),[new z.sN({title:"Laatste wijziging ongedaan maken",run:E.Yw,enable:e=>(0,E.Yw)(e),icon:We.undo}),new z.sN({title:"Herhaal de laatste ongedaan gemaakte wijziging",run:E.KX,enable:e=>(0,E.KX)(e),icon:We.redo})],[Ae(e.nodes.bullet_list,{title:"Maak een puntenlijst",icon:We.ul}),Ae(e.nodes.ordered_list,{title:"Maak een geordende lijst",icon:We.ol}),new z.sN({title:"Voeg samen met blok hier boven",run:V.MI,select:e=>(0,V.MI)(e),icon:We.join}),new z.sN({title:"Til uit omvattende blok",run:V.xb,select:e=>(0,V.xb)(e),icon:We.lift}),new z.sN({title:"Selecteer dit blok",run:V.N0,select:e=>(0,V.N0)(e),icon:We.selectParentNode})]];var a,i}(T,window.loggedIn&&!t),r=document.querySelector("#"+e.dataset.prosemirrorDoc),l=(0,o.l_)(r.value.replace(/&quot;/g,'\\"'));window.currentEditor=new i.tk(e,{state:n.yy.create({doc:s.NB.fromJSON(T,JSON.parse(l)),plugins:[...Xe,window.loggedIn&&!t?tt(T):et(T),(0,S.PZ)(T),(0,dt.h)((0,S.T7)(T,null)),(0,dt.h)(V.YR),(0,rt.q)(),(0,lt.d)(),(0,E.m8)(),(0,z.hn)({floating:!0,content:a}),new n.Sy({props:{attributes:{class:"ProseMirror-example-setup-style"}}}),Y,He(r)]}),handleDoubleClickOn:(e,t,a)=>(a.type==T.nodes.bb&&P(a.type,a.attrs,e),!0)})}))},4100:(e,t,a)=>{"use strict";a.d(t,{T:()=>c,V:()=>d});var n=a(6859),i=a.n(n),s=a(988),o=a(1339),r=a.n(o),l=a(1518);function d(e,t,a,n,o,d,c){if(n)if(n.classList.contains("noanim"))if(n.classList.contains("InlineForm"))try{Object.assign((0,l.Ys)(".FormElement:first",n).style,{backgroundImage:'url("/images/loading-fb.gif")',backgroundPosition:"center right",backgroundRepeat:"no-repeat"})}catch(e){}else n.classList.add("loading");else{const e=i()(`<i class="fas fa-spinner fa-spin" title="Laden: ${t}" aria-hidden="true"></i>`);i()(n).replaceWith(e),n=e.get(0)}r()(t,{method:e,data:a}).then((e=>{n&&(i()(n).hasClass("noanim")?i()(n).hasClass("InlineForm")&&i()(n).find(".FormElement:first").css({"background-image":"","background-position":"","background-repeat":""}):i()(n).hide(),n.classList.remove("loading")),o(e.data)})).catch((e=>{n?i()(n).replaceWith('<img alt="Mislukt" title="'+e.message+'" src="/plaetjes/famfamfam/cancel.png" />'):(0,s.I)(),d&&(e.message.startsWith("<!DOC")&&d("Er ging iets fout, code is: "+e.code),d(e.message))})).then((()=>{c&&c()}))}function c(e,t){return i()(t+" .aanmeldbtn").addClass("loading"),i().ajax({cache:!1,data:"",type:"GET",url:e}).done((e=>{i()(t).replaceWith(e)})).fail(((e,a,n)=>{throw i()(t+" .aanmeldbtn").replaceWith(i()(`<div class="alert alert-danger"><strong>Actie mislukt!</strong> ${n}</div>`)),new Error(e.responseText)})),!0}},2972:(e,t,a)=>{"use strict";a.r(t),a.d(t,{formCancel:()=>w,formInlineToggle:()=>h,formIsChanged:()=>b,formReset:()=>k,formSubmit:()=>y,formToggle:()=>v,initAutocompleteField:()=>M,initDoctrineField:()=>D,initSterrenField:()=>O});var n=a(1339),i=a.n(n),s=a(6859),o=a.n(s),r=a(7797),l=a(4100),d=a(9809),c=a(988),u=a(573),p=a(1518),f=a(5946),m=a(2851),g=a.n(m);function b(e){let t=!1;return(0,p.td)(".FormElement:not(.tt-hint)",e).forEach((e=>{const a=e.getAttribute("origvalue");"radio"==e.type?e.checked&&a!==e.value&&(t=!0):"checkbox"==e.type?Boolean(a)!==e.checked&&(t=!0):e.value!==a&&(t=!0)})),t}function h(e){const t=o()(e);t.prev(".InlineFormToggle").toggle(),t.toggle(),t.children(":first").trigger("focus")}function v(e,t){return t.preventDefault(),h((0,p.Ys)("form",(0,p.wV)(e))),!1}function k(e,t){const a=e.target;if(!(a&&a instanceof HTMLElement))throw new Error("formReset: geen EventTarget");if(t||(t=a.closest("form"),e.preventDefault()),!t)throw new Error("Geen form gevonden in formReset");return a.classList.contains("confirm")&&!confirm(a.title+".\n\nWeet u het zeker?")||(0,p.td)(".FormElement",t).forEach((function(e){const t=e.getAttribute("origvalue");t&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(e.value=t)})),!1}function y(e){const t=e.target;if(t.classList.contains("confirm")){let a=t.title;if(a?a+=".\n\n":a="Weet u het zeker?",!confirm(a))return e.preventDefault(),!1}const a=t.closest("form");if(!a||!a.classList.contains("Formulier"))return!1;if(a.classList.contains("PreventUnchanged")&&!b(a))return e.preventDefault(),alert("Geen wijzigingen"),!1;const n=t.getAttribute("href");if(n&&"#"!=n&&a.setAttribute("action",n),a.classList.contains("ModalForm")||a.classList.contains("InlineForm")){e.preventDefault();const t=new FormData(a);let n=d.q,i=null;if(a.classList.contains("InlineForm")){i=a;const e=a.id;e&&t.append("InlineFormId",e),o()(a).data("submitCallback")&&(n=o()(a).data("submitCallback"))}if(a.classList.contains("ModalForm")&&(n=e=>{"string"==typeof e?(0,d.q)(e):(0,c.I)()}),a.classList.contains("DataTableResponse")){const e=a.dataset.tableid;if(!e||!document.getElementById(e))throw new Error("DataTable not found");t.append("DataTableId",e);const s=(0,r.fnGetSelection)("#"+e);o().each(s,((e,a)=>{t.append("DataTableSelection[]",a)})),n=t=>{if((0,r.isDataTableResponse)(t))(0,r.fnUpdateDataTable)("#"+e,t),t.modal?(0,d.q)(t.modal):(0,c.I)();else{if("string"!=typeof t)throw new Error("onbekende response"+t);(0,d.q)(t)}},a.classList.contains("noanim")||(i=null)}a.classList.contains("ReloadPage")?n=u.H:a.classList.contains("redirect")&&(n=u.u);const s=a.getAttribute("action");if(!s)throw new Error("Form heeft geen action");return(0,l.V)("POST",s,t,i,n,f._y,(()=>{a.classList.contains("SubmitReset")&&k(e,a)})),!1}return o()(a).off("submit"),o()(a).trigger("submit"),!0}function w(e){const t=e.target;if(!(t&&t instanceof HTMLElement))throw new Error("formCancel: Geen EventTarget");if(t.classList.contains("confirm")&&!confirm(t.title+".\n\nWeet u het zeker?"))return e.preventDefault(),!1;const a=t.closest("form");if(!a)throw new Error("Geen form in formCancel");if(a.classList.contains("InlineForm"))return e.preventDefault(),h(a),!1;if(a.classList.contains("ModalForm")){e.preventDefault();const n=t.getAttribute("href");return n&&i().get(n),b(a)&&!confirm("Sluiten zonder wijzigingen op te slaan?")||(0,c.I)(),!1}return!0}function O(e){o()(e).raty(Object.assign(Object.assign({},JSON.parse(e.dataset.config)),{path:"/images/raty/",cancelHint:"Wis beoordeling",cancelPlace:"right",noRatedMsg:"",click:function(e){o()(this).raty("score",e),o()(this).closest("form").submit()}}))}a(5302);const D=e=>{const t=e.dataset.url,a=new(g())({datumTokenizer:g().tokenizers.obj.whitespace("value"),queryTokenizer:g().tokenizers.whitespace,remote:{url:`${t}%QUERY`,wildcard:"%QUERY"}});o()(e).typeahead({hint:!0,highlight:!0,autoselect:!0},{name:"Entity",display:"value",source:a.ttAdapter(),limit:20,templates:{suggestion:function(e){return`\n<p${e.title?' title="'+e.title+'"':""}>\n<a class="suggestionUrl">\n${e.icon?e.icon:""}\n${e.value}\n${e.label?`<span class="lichtgrijs"> - ${e.label}</span>`:""}\n</a>\n</p>`}}}),o()(e).on("typeahead:select",(function(t,a,n){o()(this).trigger("change"),o()("#"+e.dataset.idField).val(a[e.dataset.suggestieIdField])}))},M=e=>{const t="true"==e.dataset.autoselect,a="true"==e.dataset.clicktogo,n=JSON.parse(e.dataset.sources),i=[];for(const[e,t]of Object.entries(n)){const n=new(g())(Object.assign({datumTokenizer:g().tokenizers.obj.whitespace("value"),queryTokenizer:g().tokenizers.whitespace},t));i.push({name:e,display:"value",source:n.ttAdapter(),limit:20,templates:{header:isNaN(Number(e))?`<h3 class="tt-header">${e}</h3>`:"",suggestion:function(e){return`\n<p${e.title?' title="'+e.title+'"':""}>\n<a class="suggestionUrl" ${a?` href="${e.url}"`:' onclick="event.preventDefault();return false;"'}>\n${e.icon?e.icon:""}\n${e.value}\n${e.label?`<span class="lichtgrijs"> - ${e.label}</span>`:""}\n</a>\n</p>`}}})}o()(e).typeahead({hint:!0,highlight:!0,autoselect:t},...i),o()(e).on("typeahead:select",(function(e,t,n){o()(this).trigger("change"),a&&(t?window.location.href=t.url:y(e))}))}},573:(e,t,a)=>{"use strict";a.d(t,{H:()=>i,u:()=>s});var n=a(9809);function i(e){"string"!=typeof e||'<div id="modal" '!==e.substring(0,16)?location.reload():(0,n.q)(e)}function s(e){'<div id="modal" '!==e.substring(0,16)?window.location.href=e:(0,n.q)(e)}},9078:(e,t,a)=>{var n={"./nl":7461,"./nl.js":7461};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=9078}}]);
//# sourceMappingURL=6866.5b52cc22ca4a0a2f992e.bundle.js.map