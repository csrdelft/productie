(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{517:function(e,n,o){"use strict";o.r(n),o.d(n,"FotoAlbum",function(){return r});var a,t=o(464),i=o(0),u=o.n(i),f=o(3),s=(a=function(e,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}a(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});o(518);var l,r=(l=t.EventEmitter,s(c,l),c.requestFullscreen=function(){var e=document.querySelector(".jgallery");e&&"function"==typeof e.requestFullscreen&&e.requestFullscreen()},c.exitFullScreen=function(){"function"==typeof document.exitFullscreen&&document.exitFullscreen()},c.prototype.getFullUrl=function(){return decodeURI(this.container.find("div.nav-bottom div.title").html())},c.prototype.getUrl=function(){return this.getFullUrl().replace(this.root,"")},c.prototype.toggleFullScreen=function(){this.container.hasClass("jgallery-full-screen")?c.requestFullscreen():c.exitFullScreen()},c.prototype.showFullRes=function(){var e,n=this.container.find("div.zoom-container"),t=n.find("img.active"),a=t.get(0);a.src!==this.getFullUrl()&&(a.src=this.getFullUrl()),"original"===n.attr("data-size")&&(e=a,"original"===n.attr("data-size")&&(t.css({height:e.naturalHeight,"margin-left":-e.naturalWidth/2,"margin-top":-e.naturalHeight/2,"max-height":"","max-width":"",width:e.naturalWidth}),t.attr("data-width",e.naturalWidth),t.attr("data-height",e.naturalHeight),u()(window).trigger("resize"))),"fill"===n.attr("data-size")&&u()("span.resize.jgallery-btn").removeClass("fa-search-minus").addClass("fa-search-plus")},c.prototype.createCMBtn=function(e,n,t){return u()("<a>").attr({class:"dropdown-item",id:e,tabindex:"-1"}).append(u()("<span>").attr("class","fa fa-"+t)).append("&nbsp; "+n)},c.prototype.updateContextMenu=function(){function e(e,n){n&&u()('<div class="dropdown-divider"></div>').appendTo(t),u()(e).appendTo(t),e.hasClass("disabled")&&e.parent().addClass("disabled")}var n=this,t=u()("#contextMenu").empty(),a=this.createCMBtn("btnDown","Downloaden","download");a.on("click",function(){return window.location.href=n.getFullUrl()+"?download"}),e(a);var o=this.createCMBtn("btnTag","Leden etiketteren","smile-o");o.on("click",function(){return n.container.find("span.fa-smile-o.jgallery-btn").click()}),e(o);var i=this.createCMBtn("btnFS","Volledig scherm","");i.on("click",function(){var e=n.container.find("span.change-mode");e.click(),e.hasClass("fa-expand")?i.find("span.fa").removeClass("fa-compress").addClass("fa-expand"):i.find("span.fa").addClass("fa-compress").removeClass("fa-expand")}),e(i),this.container.find("span.change-mode").hasClass("fa-expand")?i.find("span.fa").addClass("fa-expand"):i.find("span.fa").addClass("fa-compress");var s=u()('<a id="btnZoom" class="dropdown-item" tabindex="-1"><span class="fa"></span> &nbsp; Zoomen</a>');if(s.on("click",function(){var e=n.container.find("span.resize.jgallery-btn");e.click(),e.hasClass("fa-search-minus")?s.find("span.fa").removeClass("fa-search-minus").addClass("fa-search-plus"):s.find("span.fa").addClass("fa-search-minus").removeClass("fa-search-plus")}),e(s),this.container.find("span.resize.jgallery-btn").hasClass("fa-search-plus")?s.find("span.fa").addClass("fa-search-plus"):s.find("span.fa").addClass("fa-search-minus"),this.magAanpassen){var l=this.createCMBtn("btnRight","Draai met de klok mee","repeat");l.on("click",function(){var e=n.getUrl();u.a.post("/fotoalbum/roteren"+Object(f.b)(e),{foto:Object(f.a)(e),rotation:90},f.n)}),e(l,!0);var r=this.createCMBtn("btnLeft","Draai tegen de klok in","undo");r.on("click",function(){var e=n.getUrl();u.a.post("/fotoalbum/roteren"+Object(f.b)(e),{foto:Object(f.a)(e),rotation:-90},f.n)}),e(r);var c=this.createCMBtn("btnCover","Instellen als albumcover","folder");c.on("click",function(){var e=n.getUrl();u.a.post("/fotoalbum/albumcover"+Object(f.b)(e),{foto:Object(f.a)(e)},f.m)}),e(c);var d=this.createCMBtn("btnDel","Verwijderen","times");d.on("click",function(){if(!confirm("Foto definitief verwijderen. Weet u het zeker?"))return!1;var e=n.getUrl();u.a.post("/fotoalbum/verwijderen"+Object(f.b)(e),{foto:decodeURI(Object(f.a)(e))},f.n)}),e(d,!0)}},c);function c(e){var t=l.call(this)||this;t.wrapper=e,t.isLoggedIn=e.data("isLoggedIn"),t.magAanpassen=e.data("magAanpassen"),t.slideshowInterval=e.data("slideshowInterval"),t.root=e.data("root"),t.itemsJson=e.data("fotos");return e.find(".gallery").jGallery({afterLoadPhoto:function(){t.container=u()("div.jgallery"),t.isLoggedIn&&t.updateContextMenu(),"fit"!==t.container.find("div.zoom-container").attr("data-size")&&t.showFullRes(),t.emit("afterLoadPhoto")},autostart:!0,autostartAtAlbum:1,backgroundColor:"fff",browserHistory:!0,canChangeMode:!0,canClose:!1,canMinimalizeThumbnails:!0,canZoom:!0,disabledOnIE8AndOlder:!0,draggableZoom:!0,draggableZoomHideNavigationOnMobile:!0,height:"897px",hideThumbnailsOnInit:!1,items:t.itemsJson,maxMobileWidth:767,mode:"standard",preloadAll:!1,slideshow:!0,slideshowAutostart:!1,slideshowCanRandom:!0,slideshowInterval:t.slideshowInterval,slideshowRandom:!1,swipeEvents:!1,textColor:"193b61",thumbHeight:150,thumbHeightOnFullScreen:150,thumbType:"image",thumbWidth:150,thumbWidthOnFullScreen:150,thumbnails:!0,thumbnailsHideOnMobile:!1,thumbnailsPosition:"bottom",title:t.isLoggedIn,titleExpanded:!1,tooltipClose:"Close",tooltipFullScreen:"Full screen",tooltipRandom:"Random",tooltipSeeAllPhotos:"Grid",tooltipSeeOtherAlbums:"Toon sub-albums",tooltipSlideshow:"Slideshow",tooltipToggleThumbnails:"Toggle thumbnails",tooltipZoom:"Zoom",tooltips:!0,transition:"moveToLeft_scaleUp",transitionBackward:"moveToRight_scaleUp",transitionCols:"1",transitionDuration:"0.7s",transitionRows:"1",transitionTimingFunction:"cubic-bezier(0,1,1,1)",width:"100%",zoomSize:"fit","zoomSize:":"original"}),t.container=u()("div.jgallery"),t.container.addClass("noselect"),u()(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){document.fullscreenEnabled||t.container.hasClass("jgallery-full-screen")&&u()("span.change-mode").trigger("click")}),t.isLoggedIn&&(t.container.find("div.title").off().on("click",function(){Object(f.p)(this)}).addClass("select-text"),u()('<span class="fa fa-level-up jgallery-btn jgallery-btn-small" tooltip="Open parent album"></span>').on("click",function(){var e=t.getUrl(),n="";t.container.hasClass("jgallery-full-screen")&&(n="?fullscreen"),window.location.href=Object(f.b)(Object(f.b)(e)).replace("plaetjes/","")+n}).prependTo(t.container.find("div.icons"))),t.container.find(".fa-list-ul").removeClass("fa-list-ul").addClass("fa-folder-open-o"),u()("span.resize.jgallery-btn").on("click",function(){"fit"!==t.container.find("div.zoom-container").attr("data-size")?(t.showFullRes(),u()("div.fototag").addClass("verborgen")):u()("div.fototag").removeClass("verborgen")}).appendTo(t.container.find("div.icons")),t.container.find("span.change-mode").on("click",function(){return t.toggleFullScreen()}).appendTo(t.container.find("div.icons")),0<window.location.href.indexOf("?fullscreen")&&!t.container.hasClass("jgallery-full-screen")&&u()("span.change-mode").trigger("click"),t.isLoggedIn&&t.container.find("div.zoom").contextMenu({menuSelected:function(){return!0},menuSelector:"#contextMenu"}),t.container.find("div.icons .jgallery-btn.change-album").appendTo(t.container.find("div.icons")),t}u()(".fotoalbum").each(function(e,n){var t=u()(n),a=new r(t);t.data("isLoggedIn")&&o.e(37).then(o.bind(null,520)).then(function(e){return new e.FotoAlbumTags(a)})})}}]);