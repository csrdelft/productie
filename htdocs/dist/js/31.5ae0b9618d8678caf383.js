(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{363:function(e,t,n){"use strict";n.r(t);var a=n(9),o=n.n(a),i=n(83),l=n.n(i),r=n(0),c=n.n(r),d=function(){return(d=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};c()(function(){var a,e;function n(e){return e.authors?e.authors.join(", "):""}function i(e){return e.publishedDate?e.publishedDate.substring(0,4):""}function r(e){var t="";return e.industryIdentifiers&&e.industryIdentifiers[1]&&"ISBN_13"===e.industryIdentifiers[1].type&&(t=e.industryIdentifiers[1].identifier),t}function s(e){var t={nl:"Nederlands",en:"Engels",fr:"Frans",de:"Duits",bg:"Bulgaars",es:"Spaans",cs:"Tsjechisch",da:"Deens",et:"Ests",el:"Grieks",ga:"Iers",it:"Italiaans",lv:"Lets",lt:"Litouws",hu:"Hongaars",mt:"Maltees",pl:"Pools",pt:"Portugees",ro:"Roemeens",sk:"Slowaaks",sl:"Sloveens",fi:"Fins",sv:"Zweeds"};return t[e.language]?t[e.language]:e.language}a=c()("input[name=code]"),(e=c()('<a class="btn genereer" title="Biebcode invullen">Genereer</a>')).on("mousedown",function(e){e.preventDefault();var t=c()("select[name=categorie_id]").val(),n=c()("input[name=auteur]").val().substring(0,3).toLowerCase();a.val(t+"."+n).trigger("focus")}),a.after(e);var t=new l.a({datumTokenizer:l.a.tokenizers.whitespace,queryTokenizer:l.a.tokenizers.whitespace,remote:{url:"https://www.googleapis.com/books/v1/volumes?q=%QUERY",wildcard:"%QUERY",transform:function(e){for(var t=[],n=e.data.items,a=0;a<n.length;a++){var i=n[a].volumeInfo;t[i.index=a]=i}return t},transport:function(e,t,n){o.a.request(d({params:{fields:"items(volumeInfo(authors,industryIdentifiers,language,pageCount,publishedDate,publisher,title))",key:"AIzaSyC7zu4-25xbizddFWuIbn107WTTPr37jos"}},e)).then(t).catch(n)}}});t.initialize(),c()("#boekzoeker").typeahead({autoselect:!0,hint:!0,highlight:!0,minLength:4},{name:"boekenSource",displayKey:"title",source:t.ttAdapter(),templates:{header:"<h3>Boeken</h3>",suggestion:function(e){return'\n<div style="margin: 5px 10px" title="'+("Titel: "+e.title+"\n\t\t\t\t| Auteur: "+n(e)+"\n\t\t\t\t| Pagina's: "+e.pageCount+"\n\t\t\t\t| Taal: "+s(e)+"\n\t\t\t\t| ISBN: "+r(e)+"\n\t\t\t\t| Uitgeverij: "+e.publisher+"\n\t\t\t\t| Uitgavejaar: "+i(e))+'">\n\t<span class="dikgedrukt">'+e.title+'</span><br /><span class="cursief">'+n(e)+"</span>\n</div>"}}}).on("keyup",function(){var e=c()(this).val().length;0<e&&e<7?c()(this).css("background-color","#ffcc96"):c()(this).css("background-color","white")}).on("typeahead:selected",function(e,t){[{key:"titel",value:t.title},{key:"auteur",value:n(t)},{key:"paginas",value:t.pageCount},{key:"taal",value:s(t)},{key:"isbn",value:r(t)},{key:"uitgeverij",value:t.publisher},{key:"uitgavejaar",value:i(t)}].forEach(function(e){c()("input[name="+e.key+"]").val(e.value)})});var u=new l.a({datumTokenizer:l.a.tokenizers.whitespace,queryTokenizer:l.a.tokenizers.whitespace,remote:{url:"/bibliotheek/autocomplete/titel?q=%QUERY",wildcard:"%QUERY"}});u.initialize(),c()("form.Formulier input.TitelField").typeahead({hint:!0,highlight:!0,minLength:1},{name:"bestaandeBoekenSource",displayKey:"value",source:u.ttAdapter(),templates:{header:"<h3>Bestaande Boeken</h3>",suggestion:function(e){return'<div style="margin: 5px 10px">Ga naar:\n <a href="/bibliotheek/boek/'+e.id+'" target="_blank">'+e.value+"</a></div>"}}})})}}]);