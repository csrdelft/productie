(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{288:function(e,t,n){"use strict";n.r(t);var a=n(190),o=n(280),d=n.n(o),i=n(242),r=n(281),s=n(282),c=n(283),l=n(8),m=n.n(l),u=n(0),v=n.n(u),g=n(19),b=n.n(g),w=n(34),h=n(11),f=n(4),p=n(3),k=n(1);const y=e=>b()(e).format("YYYY-MM-DD HH:mm:ss"),E=document.getElementById("agenda");if(null==E)throw new Error("Agenda element niet gevonden");const{jaar:D,maand:_,weergave:O,creator:Y}=E.dataset;if(null==D||null==_||null==O||null==Y)throw new Error("Agenda opties niet gezet");const G={maand:"dayGridMonth",week:"timeGridWeek",dag:"timeGridDay",agenda:"listMonth"}[O];let L=!1;const M={plugins:[i.d,c.a,s.a,r.a],height:"auto",nowIndicator:!0,defaultView:G,locale:d.a,customButtons:{nieuw:{text:"Nieuw",click:()=>{const e=y(T.getDate());Object(h.a)("POST","/agenda/toevoegen",{begin_moment:e,eind_moment:e},!1,f.a)}},bewerken:{text:"Bewerken",click(){L=!L,T.setOption("editable",L),T.setOption("selectable",L),T.refetchEvents(),setTimeout(()=>{const e=E.querySelector(".fc-bewerken-button");L?e.classList.add("fc-button-active"):e.classList.remove("fc-button-active")})}}},eventDataTransform:e=>(!0===e.editable&&(e.editable=L),e),header:{left:"dayGridMonth,timeGridWeek,timeGridDay,listMonth",center:"title",right:"today prevYear,prev,next,nextYear"},defaultDate:new Date(Number(D),Number(_)-1),firstDay:0,events:"/agenda/feed",selectable:L&&"true"===Y,select:e=>{Object(h.a)("POST","/agenda/toevoegen",{begin_moment:y(e.start),eind_moment:y(e.end)},!1,f.a)},eventClick:e=>{m.a.get(`/agenda/details/${e.event.id}?jaar=${e.event.start.getFullYear()}`).then(t=>{const n=Object(k.i)(t.data)[0];n.style.zIndex="100",n.style.position="absolute",n.querySelector(".close").addEventListener("click",()=>(n.remove(),!1)),document.body.append(n),p.a.init(n),new w.default(e.el,n,{placement:"bottom"}),setTimeout(()=>{const e=t=>{n.contains(t.target)||(n.remove(),document.body.removeEventListener("click",e))};document.body.addEventListener("click",e)})})},eventDrop(e){m.a.post(`/agenda/verplaatsen/${e.event.id}`,{begin_moment:y(e.event.start),eind_moment:y(e.event.end)}).then(()=>T.refetchEvents())},eventResize(e){m.a.post(`/agenda/verplaatsen/${e.event.id}`,{begin_moment:y(e.event.start),eind_moment:y(e.event.end)}).then(()=>T.refetchEvents())}};if("true"===Y){const e=M.header;e.right="bewerken,nieuw "+e.right}const T=new a.a(E,M);T.render(),p.a.addHandler(".ReloadAgenda",e=>e.addEventListener("click",()=>setTimeout(()=>T.refetchEvents()))),v()(document.body).on("modalClose",()=>T.refetchEvents())}}]);
//# sourceMappingURL=agenda.69de1c79ba712a0632a1.js.map