(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{277:function(e,t,n){"use strict";n.r(t);var a=n(181),r=n(269),i=n.n(r),o=n(231),d=n(270),c=n(271),u=n(272),s=n(8),l=n.n(s),m=n(0),v=n.n(m),f=n(34),g=n.n(f),b=n(58),w=n(12),h=n(6),p=n(3),k=n(2),y=function(e){return g()(e).format("YYYY-MM-DD HH:mm:ss")},E=document.getElementById("agenda");if(null==E)throw new Error("Agenda element niet gevonden");var D=E.dataset,_=D.jaar,O=D.maand,Y=D.weergave,G=D.creator;if(null==_||null==O||null==Y||null==G)throw new Error("Agenda opties niet gezet");var L={maand:"dayGridMonth",week:"timeGridWeek",dag:"timeGridDay",agenda:"listMonth"}[Y],M=!1,T={plugins:[o.d,u.a,c.a,d.a],height:"auto",nowIndicator:!0,defaultView:L,locale:i.a,customButtons:{nieuw:{text:"Nieuw",click:function(){var e=y(x.getDate());Object(w.a)("POST","/agenda/toevoegen",{begin_moment:e,eind_moment:e},!1,h.a)}},bewerken:{text:"Bewerken",click:function(){M=!M,x.setOption("editable",M),x.setOption("selectable",M),x.refetchEvents(),setTimeout((function(){var e=E.querySelector(".fc-bewerken-button");M?e.classList.add("fc-button-active"):e.classList.remove("fc-button-active")}))}}},eventDataTransform:function(e){return!0===e.editable&&(e.editable=M),e},header:{left:"dayGridMonth,timeGridWeek,timeGridDay,listMonth",center:"title",right:"today prevYear,prev,next,nextYear"},defaultDate:new Date(Number(_),Number(O)-1),firstDay:0,events:"/agenda/feed",selectable:M&&"true"===G,select:function(e){Object(w.a)("POST","/agenda/toevoegen",{begin_moment:y(e.start),eind_moment:y(e.end)},!1,h.a)},eventClick:function(e){l.a.get("/agenda/details/"+e.event.id+"?jaar="+e.event.start.getFullYear()).then((function(t){var n=Object(k.i)(t.data)[0];n.style.zIndex="100",n.style.position="absolute",n.querySelector(".close").addEventListener("click",(function(){return n.remove(),!1})),document.body.append(n),p.a.init(n),new b.default(e.el,n,{placement:"bottom"}),setTimeout((function(){var e=function(t){n.contains(t.target)||(n.remove(),document.body.removeEventListener("click",e))};document.body.addEventListener("click",e)}))}))},eventDrop:function(e){l.a.post("/agenda/verplaatsen/"+e.event.id,{begin_moment:y(e.event.start),eind_moment:y(e.event.end)}).then((function(){return x.refetchEvents()}))},eventResize:function(e){l.a.post("/agenda/verplaatsen/"+e.event.id,{begin_moment:y(e.event.start),eind_moment:y(e.event.end)}).then((function(){return x.refetchEvents()}))}};if("true"===G){var j=T.header;j.right="bewerken,nieuw "+j.right}var x=new a.a(E,T);x.render(),p.a.addHandler(".ReloadAgenda",(function(e){return e.addEventListener("click",(function(){return setTimeout((function(){return x.refetchEvents()}))}))})),v()(document.body).on("modalClose",(function(){return x.refetchEvents()}))}}]);
//# sourceMappingURL=33.247bfc8edc00fb943ba3.js.map