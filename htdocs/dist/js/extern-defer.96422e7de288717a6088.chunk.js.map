{"version":3,"sources":["webpack:///./js/context.ts","webpack:///./js/entry/extern-defer.ts","webpack:///./js/ctx.ts","webpack:///./js/lib/external/jquery.markitup.js"],"names":["registerGrafiekContext","async","initBar","initDeelnamegrafiek","initLine","initPie","initSaldoGrafiek","addHandlers","registerBbContext","activeerLidHints","initBbPreview","initBbPreviewBtn","loadBbImage","registerDataTableContext","initDataTable","initOfflineDataTable","registerKnopContext","knopGet","knopPost","knopVergroot","el","addEventListener","btn","Array","from","querySelectorAll","event","active","classList","remove","target","add","registerFormulierContext","formCancel","formReset","formSubmit","formToggle","bbCodeSet","$","on","markItUp","timeago","registerGlobalContext","initKaartjes","default","Vue","hoverIntent","this","find","fadeIn","fadeOut","timeout","document","body","$window","window","$header","$banner","setTimeout","each","content","createElement","attr","css","removeClass","addClass","html","toString","foto","indexOf","video","parent","hasClass","hasAnchor","closest","length","replaceWith","wrap","lazyLoad","hasLoaded","textContent","scrollTop","pageYOffset","outerHeight","trigger","contactForm","querySelector","errorContainer","submitButton","preventDefault","innerHTML","disabled","formData","FormData","a","post","then","response","reset","data","catch","error","_stek_context","handlers","selectors","selector","Object","keys","addHandler","handler","push","Error","init","fn","settings","extraSettings","method","params","options","selection","ctrlKey","shiftKey","altKey","id","nameSpace","root","previewHandler","previewInWindow","previewInElement","previewAutoRefresh","previewPosition","previewTemplatePath","previewParser","previewParserPath","previewParserVar","resizeHandle","beforeInsert","afterInsert","onEnter","onShiftEnter","onCtrlEnter","onTab","markupSet","extend","tag","miuScript","get","src","match","uaMatch","ua","toLowerCase","exec","browser","version","matched","navigator","userAgent","chrome","webkit","safari","$$","textarea","levels","scrollPosition","caretPosition","caretOffset","clicked","hash","header","footer","previewWindow","template","iFrame","abort","localize","markup","inText","replace","substr","toUpperCase","insertBefore","dropMenus","appendTo","insertAfter","bind","e","mouseMove","mouseUp","h","height","y","clientY","Math","max","unbind","append","keyPressed","focused","refreshPreview","ul","i","li","button","t","title","j","key","name","separator","className","focus","call","eval","show","one","hide","dropMenu","pop","magicMarkups","string","x","b","split","undefined","value","prompt","prepare","action","isFunction","build","block","openWith","placeHolder","closeWith","openBlockWith","closeBlockWith","multiline","lines","blocks","l","trailingSpaces","line","join","len","n","start","beforeMultiInsert","trim","opera","fixIeBug","fixOperaBug","val","substring","insert","set","afterMultiInsert","msie","createRange","text","createTextRange","range","collapse","moveStart","moveEnd","select","setSelectionRange","rangeCopy","duplicate","moveToElementText","inRange","selectionStart","selectionEnd","preview","closed","open","unload","close","contentWindow","frame","renderPreview","writeInPreview","ajax","type","dataType","global","url","encodeURIComponent","success","sp","documentElement","write","metaKey","keyCode","String","fromCharCode","triggerHandler","keepDefault","markItUpRemove","jQuery"],"mappings":"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","file":"js/extern-defer.96422e7de288717a6088.chunk.js","sourcesContent":["import ctx from './ctx';\nexport const registerGrafiekContext = async () => {\n    const { initBar, initDeelnamegrafiek, initLine, initPie, initSaldoGrafiek, } = await import(/* webpackChunkName: \"grafiek\" */ './lib/grafiek');\n    ctx.addHandlers({\n        '.ctx-deelnamegrafiek': initDeelnamegrafiek,\n        '.ctx-graph-bar': initBar,\n        '.ctx-graph-line': initLine,\n        '.ctx-graph-pie': initPie,\n        '.ctx-saldografiek': initSaldoGrafiek,\n    });\n};\nexport const registerBbContext = async () => {\n    const { activeerLidHints, initBbPreview, initBbPreviewBtn, loadBbImage, } = await import(/* webpackChunkName: \"bbcode\" */ './lib/bbcode');\n    ctx.addHandlers({\n        'div.bb-img-loading': loadBbImage,\n        '[data-bbpreview-btn]': initBbPreviewBtn,\n        '[data-bbpreview]': initBbPreview,\n        'textarea.BBCodeField': activeerLidHints,\n    });\n};\nexport const registerDataTableContext = async () => {\n    const { initDataTable, initOfflineDataTable, } = await import(/* webpackChunkName: \"datatable-api\" */ './datatable/api');\n    ctx.addHandlers({\n        '.ctx-datatable': initDataTable,\n        '.ctx-offline-datatable': initOfflineDataTable,\n    });\n};\nexport const registerKnopContext = async () => {\n    const { knopGet, knopPost, knopVergroot, } = await import(/* webpackChunkName: \"knop\" */ './lib/knop');\n    ctx.addHandlers({\n        '.get': (el) => el.addEventListener('click', knopGet),\n        '.post': (el) => el.addEventListener('click', knopPost),\n        '.vergroot': (el) => el.addEventListener('click', knopVergroot),\n        '[data-buttons=radio]': (el) => {\n            for (const btn of Array.from(el.querySelectorAll('a.btn'))) {\n                btn.addEventListener('click', (event) => {\n                    for (const active of Array.from(el.querySelectorAll('.active'))) {\n                        active.classList.remove('active');\n                    }\n                    event.target.classList.add('active');\n                });\n            }\n        },\n    });\n};\nexport const registerFormulierContext = async () => {\n    const { formCancel, formReset, formSubmit, formToggle, } = await import(/* webpackChunkName: \"formulier\" */ './lib/formulier');\n    const { bbCodeSet } = await import(/* webpackChunkName: \"bbcode-set\" */ './lib/bbcode-set');\n    ctx.addHandlers({\n        '.InlineFormToggle': (el) => el.addEventListener('click', (event) => formToggle(el, event)),\n        '.SubmitChange': (el) => el.addEventListener('change', formSubmit),\n        '.cancel': (el) => el.addEventListener('click', formCancel),\n        '.reset': (el) => el.addEventListener('click', formReset),\n        '.submit': (el) => el.addEventListener('click', formSubmit),\n        'form.Formulier': (el) => $(el).on('submit', formSubmit),\n        'textarea.BBCodeField': (el) => $(el).markItUp(bbCodeSet),\n        'time.timeago': (el) => $(el).timeago(),\n    });\n};\nexport const registerGlobalContext = async () => {\n    const { initKaartjes } = await import(/* webpackChunkName: \"kaartje\" */ './lib/kaartje');\n    const { default: Vue } = await import(/* webpackChunkName: \"vue\" */ 'vue');\n    const { default: $ } = await import(/* webpackChunkName: \"jquery\" */ 'jquery');\n    ctx.addHandlers({\n        '.hoverIntent': (el) => $(el).hoverIntent({\n            over() {\n                $(this).find('.hoverIntentContent').fadeIn();\n            },\n            out() {\n                $(this).find('.hoverIntentContent').fadeOut();\n            },\n            timeout: 250,\n        }),\n        '.vue-context': (el) => new Vue({ el }),\n        '[data-visite]': initKaartjes,\n    });\n};\n","/**\n * Wordt geladen als de pagina geladen is.\n */\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { registerBbContext, registerFormulierContext } from '../context';\nimport { init } from '../ctx';\nimport { route } from '../lib/util';\nrequire('lightbox2');\nrequire('../lib/external/jquery.markitup');\nrequire('jquery-hoverintent');\nrequire('timeago');\nregisterBbContext();\nroute('/wachtwoord', async () => {\n    await registerFormulierContext();\n    init(document.body);\n});\nroute('/forum', async () => {\n    await registerFormulierContext();\n    init(document.body);\n});\nroute('/fotoalbum', () => import(/* webpackChunkName: \"fotoalbum\" */ '../page/fotoalbum'));\nconst $window = $(window);\nconst $header = $('#header');\nconst $banner = $('#banner');\n$window.on('load', () => {\n    // Lazy load cms pages, these should be loaded always, not on scroll\n    setTimeout(() => {\n        $('div.bb-img-loading').each(function () {\n            const content = $(document.createElement('img'));\n            content.on('error', function () {\n                $(this).attr('title', 'Afbeelding bestaat niet of is niet toegankelijk!');\n                $(this).attr('src', '/plaetjes/famfamfam/picture_error.png');\n                $(this).css('width', '16px');\n                $(this).css('height', '16px');\n                $(this).removeClass('bb-img-loading').addClass('bb-img');\n            });\n            content.addClass('bb-img');\n            content.attr('alt', $(this).attr('title'));\n            content.attr('style', $(this).attr('style'));\n            content.attr('src', $(this).attr('src'));\n            $(this).html(content.toString());\n            content.on('load', function () {\n                const foto = content.attr('src').indexOf('/plaetjes/fotoalbum/') >= 0;\n                const video = $(this).parent().parent().hasClass('bb-video-preview');\n                const hasAnchor = $(this).closest('a').length !== 0;\n                $(this).parent().replaceWith($(this));\n                if (!foto && !video && !hasAnchor) {\n                    $(this).wrap(`<a class=\"lightbox-link\" href=\"${$(this).attr('src')}\" data-lightbox=\"page-lightbox\"></a>`);\n                }\n            });\n        });\n    });\n});\nconst lazyLoad = (() => {\n    let hasLoaded = false;\n    return () => {\n        if (hasLoaded) {\n            return;\n        }\n        hasLoaded = true;\n        // Lazy load frontpage\n        setTimeout(() => {\n            $('.lazy-load').each(function () {\n                $(this).replaceWith(this.textContent);\n            });\n        });\n    };\n})();\n// Lazy load after animations have finished and user has scrolled\n$window.on('scroll', () => {\n    if ($(window).scrollTop() > 0) {\n        lazyLoad();\n    }\n    if (window.pageYOffset > $banner.outerHeight()) {\n        $header.removeClass('alt');\n    }\n    else {\n        $header.addClass('alt');\n    }\n});\n$window.on('resize', () => $window.trigger('scroll'));\n$window.trigger('scroll');\ninit(document.body);\nconst contactForm = document.querySelector('#contact-form');\nif (contactForm) {\n    const errorContainer = document.querySelector('#melding');\n    const submitButton = contactForm.submitButton;\n    contactForm.addEventListener('submit', (event) => {\n        event.preventDefault();\n        errorContainer.innerHTML = '';\n        submitButton.disabled = true;\n        const formData = new FormData(contactForm);\n        axios.post('/contactformulier/interesse', formData)\n            .then((response) => {\n            contactForm.reset();\n            submitButton.disabled = false;\n            errorContainer.innerHTML = '<div class=\"alert alert-success\">' +\n                '<span class=\"ico accept\"></span>' + response.data +\n                '</div>';\n        })\n            .catch((error) => {\n            submitButton.disabled = false;\n            errorContainer.innerHTML = '<div class=\"alert alert-danger\">' +\n                '<span class=\"ico exclamation\"></span>' + error.response.data +\n                '</div>';\n        });\n        return false;\n    });\n}\n","class Context {\n    constructor() {\n        this.handlers = [];\n    }\n    addHandlers(selectors) {\n        for (const selector of Object.keys(selectors)) {\n            this.addHandler(selector, selectors[selector]);\n        }\n    }\n    addHandler(selector, handler) {\n        this.handlers.push({ selector, handler });\n    }\n    init(parent) {\n        if (!parent.querySelectorAll) {\n            throw new Error('Kan geen context initializeren op dit element: ' + parent);\n        }\n        for (const { selector, handler } of this.handlers) {\n            if (selector === '') {\n                handler(parent);\n            }\n            else {\n                for (const el of Array.from(parent.querySelectorAll(selector))) {\n                    handler(el);\n                }\n            }\n        }\n    }\n}\nwindow._stek_context = new Context();\nexport default window._stek_context;\nexport const init = (parent) => window._stek_context.init(parent);\n","// ----------------------------------------------------------------------------\n// markItUp! Universal MarkUp Engine, JQuery plugin\n// v 1.1.x\n// Dual licensed under the MIT and GPL licenses.\n// ----------------------------------------------------------------------------\n// Copyright (C) 2007-2012 Jay Salvat\n// http://markitup.jaysalvat.com/\n// ----------------------------------------------------------------------------\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n// ----------------------------------------------------------------------------\n(function($) {\n\t$.fn.markItUp = function(settings, extraSettings) {\n\t\tvar method, params, options, selection, ctrlKey, shiftKey, altKey; ctrlKey = shiftKey = altKey = false;\n\n\t\tif (typeof settings == 'string') {\n\t\t\tmethod = settings;\n\t\t\tparams = extraSettings;\n\t\t}\n\n\t\toptions = {\tid:\t\t\t\t\t\t'',\n\t\t\t\t\tnameSpace:\t\t\t\t'',\n\t\t\t\t\troot:\t\t\t\t\t'',\n\t\t\t\t\tpreviewHandler:\t\t\tfalse,\n\t\t\t\t\tpreviewInWindow:\t\t'', // 'width=800, height=600, resizable=yes, scrollbars=yes'\n\t\t\t\t\tpreviewInElement:\t\t'',\n\t\t\t\t\tpreviewAutoRefresh:\t\ttrue,\n\t\t\t\t\tpreviewPosition:\t\t'after',\n\t\t\t\t\tpreviewTemplatePath:\t'~/templates/preview.html',\n\t\t\t\t\tpreviewParser:\t\t\tfalse,\n\t\t\t\t\tpreviewParserPath:\t\t'',\n\t\t\t\t\tpreviewParserVar:\t\t'data',\n\t\t\t\t\tresizeHandle:\t\t\ttrue,\n\t\t\t\t\tbeforeInsert:\t\t\t'',\n\t\t\t\t\tafterInsert:\t\t\t'',\n\t\t\t\t\tonEnter:\t\t\t\t{},\n\t\t\t\t\tonShiftEnter:\t\t\t{},\n\t\t\t\t\tonCtrlEnter:\t\t\t{},\n\t\t\t\t\tonTab:\t\t\t\t\t{},\n\t\t\t\t\tmarkupSet:\t\t\t[\t{ /* set */ } ]\n\t\t\t\t};\n\t\t$.extend(options, settings, extraSettings);\n\n\t\t// compute markItUp! path\n\t\tif (!options.root) {\n\t\t\t$('script').each(function(a, tag) {\n\t\t\t\tvar miuScript;\n\t\t\t\tmiuScript = $(tag).get(0).src.match(/(.*)jquery\\.markitup(\\.pack)?\\.js$/);\n\t\t\t\tif (miuScript !== null) {\n\t\t\t\t\toptions.root = miuScript[1];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Quick patch to keep compatibility with jQuery 1.9\n\t\tvar uaMatch = function(ua) {\n\t\t\tua = ua.toLowerCase();\n\n\t\t\tvar match = /(chrome)[ \\/]([\\w.]+)/.exec(ua) ||\n\t\t\t\t/(webkit)[ \\/]([\\w.]+)/.exec(ua) ||\n\t\t\t\t/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) ||\n\t\t\t\t/(msie) ([\\w.]+)/.exec(ua) ||\n\t\t\t\tua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) ||\n\t\t\t\t[];\n\n\t\t\treturn {\n\t\t\t\tbrowser: match[ 1 ] || \"\",\n\t\t\t\tversion: match[ 2 ] || \"0\"\n\t\t\t};\n\t\t};\n\t\tvar matched = uaMatch( navigator.userAgent );\n\t\tvar browser = {};\n\n\t\tif (matched.browser) {\n\t\t\tbrowser[matched.browser] = true;\n\t\t\tbrowser.version = matched.version;\n\t\t}\n\t\tif (browser.chrome) {\n\t\t\tbrowser.webkit = true;\n\t\t} else if (browser.webkit) {\n\t\t\tbrowser.safari = true;\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar $$, textarea, levels, scrollPosition, caretPosition, caretOffset,\n\t\t\t\tclicked, hash, header, footer, previewWindow, template, iFrame, abort;\n\t\t\t$$ = $(this);\n\t\t\ttextarea = this;\n\t\t\tlevels = [];\n\t\t\tabort = false;\n\t\t\tscrollPosition = caretPosition = 0;\n\t\t\tcaretOffset = -1;\n\n\t\t\toptions.previewParserPath = localize(options.previewParserPath);\n\t\t\toptions.previewTemplatePath = localize(options.previewTemplatePath);\n\n\t\t\tif (method) {\n\t\t\t\tswitch(method) {\n\t\t\t\t\tcase 'remove':\n\t\t\t\t\t\tremove();\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'insert':\n\t\t\t\t\t\tmarkup(params);\n\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$.error('Method ' +  method + ' does not exist on jQuery.markItUp');\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// apply the computed path to ~/\n\t\t\tfunction localize(data, inText) {\n\t\t\t\tif (inText) {\n\t\t\t\t\treturn \tdata.replace(/(\"|')~\\//g, \"$1\"+options.root);\n\t\t\t\t}\n\t\t\t\treturn \tdata.replace(/^~\\//, options.root);\n\t\t\t}\n\n\t\t\t// init and build editor\n\t\t\tfunction init() {\n\t\t\t\tvar id = '', nameSpace = '', resizeHandle;\n\t\t\t\tif (options.id) {\n\t\t\t\t\tid = 'id=\"'+options.id+'\"';\n\t\t\t\t} else if ($$.attr(\"id\")) {\n\t\t\t\t\tid = 'id=\"markItUp'+($$.attr(\"id\").substr(0, 1).toUpperCase())+($$.attr(\"id\").substr(1))+'\"';\n\n\t\t\t\t}\n\t\t\t\tif (options.nameSpace) {\n\t\t\t\t\tnameSpace = 'class=\"'+options.nameSpace+'\"';\n\t\t\t\t}\n\t\t\t\t$$.wrap('<div '+nameSpace+'></div>');\n\t\t\t\t$$.wrap('<div '+id+' class=\"markItUp\"></div>');\n\t\t\t\t$$.wrap('<div class=\"markItUpContainer\"></div>');\n\t\t\t\t$$.addClass(\"markItUpEditor\");\n\n\t\t\t\t// add the header before the textarea\n\t\t\t\theader = $('<div class=\"markItUpHeader\"></div>').insertBefore($$);\n\t\t\t\t$(dropMenus(options.markupSet)).appendTo(header);\n\n\t\t\t\t// add the footer after the textarea\n\t\t\t\tfooter = $('<div class=\"markItUpFooter\"></div>').insertAfter($$);\n\n\t\t\t\t// add the resize handle after textarea\n\t\t\t\tif (options.resizeHandle === true && browser.safari !== true) {\n\t\t\t\t\tresizeHandle = $('<div class=\"markItUpResizeHandle\"></div>')\n\t\t\t\t\t\t.insertAfter($$)\n\t\t\t\t\t\t.bind(\"mousedown.markItUp\", function(e) {\n\t\t\t\t\t\t\tvar h = $$.height(), y = e.clientY, mouseMove, mouseUp;\n\t\t\t\t\t\t\tmouseMove = function(e) {\n\t\t\t\t\t\t\t\t$$.css(\"height\", Math.max(20, e.clientY+h-y)+\"px\");\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tmouseUp = function(e) {\n\t\t\t\t\t\t\t\t$(\"html\").unbind(\"mousemove.markItUp\", mouseMove).unbind(\"mouseup.markItUp\", mouseUp);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t$(\"html\").bind(\"mousemove.markItUp\", mouseMove).bind(\"mouseup.markItUp\", mouseUp);\n\t\t\t\t\t});\n\t\t\t\t\tfooter.append(resizeHandle);\n\t\t\t\t}\n\n\t\t\t\t// listen key events\n\t\t\t\t$$.bind('keydown.markItUp', keyPressed).bind('keyup', keyPressed);\n\n\t\t\t\t// bind an event to catch external calls\n\t\t\t\t$$.bind(\"insertion.markItUp\", function(e, settings) {\n\t\t\t\t\tif (settings.target !== false) {\n\t\t\t\t\t\tget();\n\t\t\t\t\t}\n\t\t\t\t\tif (textarea === $.markItUp.focused) {\n\t\t\t\t\t\tmarkup(settings);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// remember the last focus\n\t\t\t\t$$.bind('focus.markItUp', function() {\n\t\t\t\t\t$.markItUp.focused = this;\n\t\t\t\t});\n\n\t\t\t\tif (options.previewInElement) {\n\t\t\t\t\trefreshPreview();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// recursively build header with dropMenus from markupset\n\t\t\tfunction dropMenus(markupSet) {\n\t\t\t\tvar ul = $('<ul></ul>'), i = 0, li;\n\t\t\t\t$('li:hover > ul', ul).css('display', 'block');\n\t\t\t\t$.each(markupSet, function() {\n\t\t\t\t\tvar button = this, t = '', title, li, j;\n\t\t\t\t\ttitle = (button.key) ? (button.name||'')+' [Ctrl+'+button.key+']' : (button.name||'');\n\t\t\t\t\tvar key   = (button.key) ? 'accesskey=\"'+button.key+'\"' : '';\n\t\t\t\t\tif (button.separator) {\n\t\t\t\t\t\tli = $('<li class=\"markItUpSeparator\">'+(button.separator||'')+'</li>').appendTo(ul);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\tfor (j = levels.length -1; j >= 0; j--) {\n\t\t\t\t\t\t\tt += levels[j]+\"-\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tli = $('<li class=\"markItUpButton markItUpButton'+t+(i)+' '+(button.className||'')+'\"><a href=\"\" '+key+' title=\"'+title+'\">'+(button.name||'')+'</a></li>')\n\t\t\t\t\t\t.bind(\"contextmenu.markItUp\", function() { // prevent contextmenu on mac and allow ctrl+click\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).bind('click.markItUp', function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}).bind(\"focusin.markItUp\", function(){\n                            $$.focus();\n\t\t\t\t\t\t}).bind('mouseup', function() {\n\t\t\t\t\t\t\tif (button.call) {\n\t\t\t\t\t\t\t\teval(button.call)();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetTimeout(function() { markup(button) },1);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).bind('mouseenter.markItUp', function() {\n\t\t\t\t\t\t\t\t$('> ul', this).show();\n\t\t\t\t\t\t\t\t$(document).one('click', function() { // close dropmenu if click outside\n\t\t\t\t\t\t\t\t\t\t$('ul ul', header).hide();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}).bind('mouseleave.markItUp', function() {\n\t\t\t\t\t\t\t\t$('> ul', this).hide();\n\t\t\t\t\t\t}).appendTo(ul);\n\t\t\t\t\t\tif (button.dropMenu) {\n\t\t\t\t\t\t\tlevels.push(i);\n\t\t\t\t\t\t\t$(li).addClass('markItUpDropMenu').append(dropMenus(button.dropMenu));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlevels.pop();\n\t\t\t\treturn ul;\n\t\t\t}\n\n\t\t\t// markItUp! markups\n\t\t\tfunction magicMarkups(string) {\n\t\t\t\tif (string) {\n\t\t\t\t\tstring = string.toString();\n\t\t\t\t\tstring = string.replace(/\\(\\!\\(([\\s\\S]*?)\\)\\!\\)/g,\n\t\t\t\t\t\tfunction(x, a) {\n\t\t\t\t\t\t\tvar b = a.split('|!|');\n\t\t\t\t\t\t\tif (altKey === true) {\n\t\t\t\t\t\t\t\treturn (b[1] !== undefined) ? b[1] : b[0];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn (b[1] === undefined) ? \"\" : b[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\t// [![prompt]!], [![prompt:!:value]!]\n\t\t\t\t\tstring = string.replace(/\\[\\!\\[([\\s\\S]*?)\\]\\!\\]/g,\n\t\t\t\t\t\tfunction(x, a) {\n\t\t\t\t\t\t\tvar b = a.split(':!:');\n\t\t\t\t\t\t\tif (abort === true) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar value = prompt(b[0], (b[1]) ? b[1] : '');\n\t\t\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\t\t\tabort = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\treturn string;\n\t\t\t\t}\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\t// prepare action\n\t\t\tfunction prepare(action) {\n\t\t\t\tif ($.isFunction(action)) {\n\t\t\t\t\taction = action(hash);\n\t\t\t\t}\n\t\t\t\treturn magicMarkups(action);\n\t\t\t}\n\n\t\t\t// build block to insert\n\t\t\tfunction build(string) {\n\t\t\t\tvar openWith \t\t\t= prepare(clicked.openWith);\n\t\t\t\tvar placeHolder \t\t= prepare(clicked.placeHolder);\n\t\t\t\tvar replaceWith \t\t= prepare(clicked.replaceWith);\n\t\t\t\tvar closeWith \t\t\t= prepare(clicked.closeWith);\n\t\t\t\tvar openBlockWith \t\t= prepare(clicked.openBlockWith);\n\t\t\t\tvar closeBlockWith \t\t= prepare(clicked.closeBlockWith);\n\t\t\t\tvar multiline \t\t\t= clicked.multiline;\n\t\t\t\tvar block;\n\n\t\t\t\tif (replaceWith !== \"\") {\n\t\t\t\t\tblock = openWith + replaceWith + closeWith;\n\t\t\t\t} else if (selection === '' && placeHolder !== '') {\n\t\t\t\t\tblock = openWith + placeHolder + closeWith;\n\t\t\t\t} else {\n\t\t\t\t\tstring = string || selection;\n\n\t\t\t\t\tvar lines = [string], blocks = [];\n\n\t\t\t\t\tif (multiline === true) {\n\t\t\t\t\t\tlines = string.split(/\\r?\\n/);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var l = 0; l < lines.length; l++) {\n\t\t\t\t\t\tvar line = lines[l];\n\t\t\t\t\t\tvar trailingSpaces;\n\t\t\t\t\t\tif (trailingSpaces = line.match(/ *$/)) {\n\t\t\t\t\t\t\tblocks.push(openWith + line.replace(/ *$/g, '') + closeWith + trailingSpaces);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tblocks.push(openWith + line + closeWith);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tblock = blocks.join(\"\\n\");\n\t\t\t\t}\n\n\t\t\t\tblock = openBlockWith + block + closeBlockWith;\n\n\t\t\t\treturn {\tblock:block,\n\t\t\t\t\t\t\topenBlockWith:openBlockWith,\n\t\t\t\t\t\t\topenWith:openWith,\n\t\t\t\t\t\t\treplaceWith:replaceWith,\n\t\t\t\t\t\t\tplaceHolder:placeHolder,\n\t\t\t\t\t\t\tcloseWith:closeWith,\n\t\t\t\t\t\t\tcloseBlockWith:closeBlockWith\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\t// define markup to insert\n\t\t\tfunction markup(button) {\n\t\t\t\tvar len, j, n, i, lines, string, start;\n\t\t\t\thash = clicked = button;\n\t\t\t\tget();\n\t\t\t\t$.extend(hash, {\tline:\"\",\n\t\t\t\t\t\t \t\t\troot:options.root,\n\t\t\t\t\t\t\t\t\ttextarea:textarea,\n\t\t\t\t\t\t\t\t\tselection:(selection||''),\n\t\t\t\t\t\t\t\t\tcaretPosition:caretPosition,\n\t\t\t\t\t\t\t\t\tctrlKey:ctrlKey,\n\t\t\t\t\t\t\t\t\tshiftKey:shiftKey,\n\t\t\t\t\t\t\t\t\taltKey:altKey\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t// callbacks before insertion\n\t\t\t\tprepare(options.beforeInsert);\n\t\t\t\tprepare(clicked.beforeInsert);\n\t\t\t\tif ((ctrlKey === true && shiftKey === true) || button.multiline === true) {\n\t\t\t\t\tprepare(clicked.beforeMultiInsert);\n\t\t\t\t}\n\t\t\t\t$.extend(hash, { line:1 });\n\n\t\t\t\tif ((ctrlKey === true && shiftKey === true)) {\n\t\t\t\t\tlines = selection.split(/\\r?\\n/);\n\t\t\t\t\tfor (j = 0, n = lines.length, i = 0; i < n; i++) {\n\t\t\t\t\t\tif ($.trim(lines[i]) !== '') {\n\t\t\t\t\t\t\t$.extend(hash, { line:++j, selection:lines[i] } );\n\t\t\t\t\t\t\tlines[i] = build(lines[i]).block;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlines[i] = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tstring = { block:lines.join('\\n')};\n\t\t\t\t\tstart = caretPosition;\n\t\t\t\t\tlen = string.block.length + ((browser.opera) ? n-1 : 0);\n\t\t\t\t} else if (ctrlKey === true) {\n\t\t\t\t\tstring = build(selection);\n\t\t\t\t\tstart = caretPosition + string.openWith.length;\n\t\t\t\t\tlen = string.block.length - string.openWith.length - string.closeWith.length;\n\t\t\t\t\tlen = len - (string.block.match(/ $/) ? 1 : 0);\n\t\t\t\t\tlen -= fixIeBug(string.block);\n\t\t\t\t} else if (shiftKey === true) {\n\t\t\t\t\tstring = build(selection);\n\t\t\t\t\tstart = caretPosition;\n\t\t\t\t\tlen = string.block.length;\n\t\t\t\t\tlen -= fixIeBug(string.block);\n\t\t\t\t} else {\n\t\t\t\t\tstring = build(selection);\n\t\t\t\t\tstart = caretPosition + string.block.length ;\n\t\t\t\t\tlen = 0;\n\t\t\t\t\tstart -= fixIeBug(string.block);\n\t\t\t\t}\n\t\t\t\tif ((selection === '' && string.replaceWith === '')) {\n\t\t\t\t\tcaretOffset += fixOperaBug(string.block);\n\n\t\t\t\t\tstart = caretPosition + string.openBlockWith.length + string.openWith.length;\n\t\t\t\t\tlen = string.block.length - string.openBlockWith.length - string.openWith.length - string.closeWith.length - string.closeBlockWith.length;\n\n\t\t\t\t\tcaretOffset = $$.val().substring(caretPosition,  $$.val().length).length;\n\t\t\t\t\tcaretOffset -= fixOperaBug($$.val().substring(0, caretPosition));\n\t\t\t\t}\n\t\t\t\t$.extend(hash, { caretPosition:caretPosition, scrollPosition:scrollPosition } );\n\n\t\t\t\tif (string.block !== selection && abort === false) {\n\t\t\t\t\tinsert(string.block);\n\t\t\t\t\tset(start, len);\n\t\t\t\t} else {\n\t\t\t\t\tcaretOffset = -1;\n\t\t\t\t}\n\t\t\t\tget();\n\n\t\t\t\t$.extend(hash, { line:'', selection:selection });\n\n\t\t\t\t// callbacks after insertion\n\t\t\t\tif ((ctrlKey === true && shiftKey === true) || button.multiline === true) {\n\t\t\t\t\tprepare(clicked.afterMultiInsert);\n\t\t\t\t}\n\t\t\t\tprepare(clicked.afterInsert);\n\t\t\t\tprepare(options.afterInsert);\n\n\t\t\t\t// refresh preview if opened\n\t\t\t\tif (previewWindow && options.previewAutoRefresh) {\n\t\t\t\t\trefreshPreview();\n\t\t\t\t}\n\n\t\t\t\t// reinit keyevent\n\t\t\t\tshiftKey = altKey = ctrlKey = abort = false;\n\t\t\t}\n\n\t\t\t// Substract linefeed in Opera\n\t\t\tfunction fixOperaBug(string) {\n\t\t\t\tif (browser.opera) {\n\t\t\t\t\treturn string.length - string.replace(/\\n*/g, '').length;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\t// Substract linefeed in IE\n\t\t\tfunction fixIeBug(string) {\n\t\t\t\tif (browser.msie) {\n\t\t\t\t\treturn string.length - string.replace(/\\r*/g, '').length;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\t// add markup\n\t\t\tfunction insert(block) {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tvar newSelection = document.selection.createRange();\n\t\t\t\t\tnewSelection.text = block;\n\t\t\t\t} else {\n\t\t\t\t\ttextarea.value =  textarea.value.substring(0, caretPosition)  + block + textarea.value.substring(caretPosition + selection.length, textarea.value.length);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// set a selection\n\t\t\tfunction set(start, len) {\n\t\t\t\tif (textarea.createTextRange){\n\t\t\t\t\t// quick fix to make it work on Opera 9.5\n\t\t\t\t\tif (browser.opera && browser.version >= 9.5 && len == 0) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\trange = textarea.createTextRange();\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\trange.moveStart('character', start);\n\t\t\t\t\trange.moveEnd('character', len);\n\t\t\t\t\trange.select();\n\t\t\t\t} else if (textarea.setSelectionRange ){\n\t\t\t\t\ttextarea.setSelectionRange(start, start + len);\n\t\t\t\t}\n\t\t\t\ttextarea.scrollTop = scrollPosition;\n\t\t\t\ttextarea.focus();\n\t\t\t}\n\n\t\t\t// get the selection\n\t\t\tfunction get() {\n\t\t\t\ttextarea.focus();\n\n\t\t\t\tscrollPosition = textarea.scrollTop;\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tselection = document.selection.createRange().text;\n\t\t\t\t\tif (browser.msie) { // ie\n\t\t\t\t\t\tvar range = document.selection.createRange(), rangeCopy = range.duplicate();\n\t\t\t\t\t\trangeCopy.moveToElementText(textarea);\n\t\t\t\t\t\tcaretPosition = -1;\n\t\t\t\t\t\twhile(rangeCopy.inRange(range)) {\n\t\t\t\t\t\t\trangeCopy.moveStart('character');\n\t\t\t\t\t\t\tcaretPosition ++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // opera\n\t\t\t\t\t\tcaretPosition = textarea.selectionStart;\n\t\t\t\t\t}\n\t\t\t\t} else { // gecko & webkit\n\t\t\t\t\tcaretPosition = textarea.selectionStart;\n\n\t\t\t\t\tselection = textarea.value.substring(caretPosition, textarea.selectionEnd);\n\t\t\t\t}\n\t\t\t\treturn selection;\n\t\t\t}\n\n\t\t\t// open preview window\n\t\t\tfunction preview() {\n\t\t\t\tif (typeof options.previewHandler === 'function') {\n\t\t\t\t\tpreviewWindow = true;\n\t\t\t\t} else if (options.previewInElement) {\n\t\t\t\t\tpreviewWindow = $(options.previewInElement);\n\t\t\t\t} else if (!previewWindow || previewWindow.closed) {\n\t\t\t\t\tif (options.previewInWindow) {\n\t\t\t\t\t\tpreviewWindow = window.open('', 'preview', options.previewInWindow);\n\t\t\t\t\t\t$(window).unload(function() {\n\t\t\t\t\t\t\tpreviewWindow.close();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tiFrame = $('<iframe class=\"markItUpPreviewFrame\"></iframe>');\n\t\t\t\t\t\tif (options.previewPosition == 'after') {\n\t\t\t\t\t\t\tiFrame.insertAfter(footer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tiFrame.insertBefore(header);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpreviewWindow = iFrame[iFrame.length - 1].contentWindow || frame[iFrame.length - 1];\n\t\t\t\t\t}\n\t\t\t\t} else if (altKey === true) {\n\t\t\t\t\tif (iFrame) {\n\t\t\t\t\t\tiFrame.remove();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpreviewWindow.close();\n\t\t\t\t\t}\n\t\t\t\t\tpreviewWindow = iFrame = false;\n\t\t\t\t}\n\t\t\t\tif (!options.previewAutoRefresh) {\n\t\t\t\t\trefreshPreview();\n\t\t\t\t}\n\t\t\t\tif (options.previewInWindow) {\n\t\t\t\t\tpreviewWindow.focus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// refresh Preview window\n\t\t\tfunction refreshPreview() {\n \t\t\t\trenderPreview();\n\t\t\t}\n\n\t\t\tfunction renderPreview() {\n\t\t\t\tvar phtml;\n\t\t\t\tif (options.previewHandler && typeof options.previewHandler === 'function') {\n\t\t\t\t\toptions.previewHandler( $$.val() );\n\t\t\t\t} else if (options.previewParser && typeof options.previewParser === 'function') {\n\t\t\t\t\tvar data = options.previewParser( $$.val() );\n\t\t\t\t\twriteInPreview(localize(data, 1) );\n\t\t\t\t} else if (options.previewParserPath !== '') {\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdataType: 'text',\n\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\turl: options.previewParserPath,\n\t\t\t\t\t\tdata: options.previewParserVar+'='+encodeURIComponent($$.val()),\n\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\twriteInPreview( localize(data, 1) );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (!template) {\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: options.previewTemplatePath,\n\t\t\t\t\t\t\tdataType: 'text',\n\t\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\twriteInPreview( localize(data, 1).replace(/<!-- content -->/g, $$.val()) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfunction writeInPreview(data) {\n\t\t\t\tif (options.previewInElement) {\n\t\t\t\t\t$(options.previewInElement).html(data);\n\t\t\t\t} else if (previewWindow && previewWindow.document) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tsp = previewWindow.document.documentElement.scrollTop\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tsp = 0;\n\t\t\t\t\t}\n\t\t\t\t\tpreviewWindow.document.open();\n\t\t\t\t\tpreviewWindow.document.write(data);\n\t\t\t\t\tpreviewWindow.document.close();\n\t\t\t\t\tpreviewWindow.document.documentElement.scrollTop = sp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// set keys pressed\n\t\t\tfunction keyPressed(e) {\n\t\t\t\tshiftKey = e.shiftKey;\n\t\t\t\taltKey = e.altKey;\n\t\t\t\tctrlKey = (!(e.altKey && e.ctrlKey)) ? (e.ctrlKey || e.metaKey) : false;\n\n\t\t\t\tif (e.type === 'keydown') {\n\t\t\t\t\tif (ctrlKey === true) {\n\t\t\t\t\t\tli = $('a[accesskey=\"'+((e.keyCode == 13) ? '\\\\n' : String.fromCharCode(e.keyCode))+'\"]', header).parent('li');\n\t\t\t\t\t\tif (li.length !== 0) {\n\t\t\t\t\t\t\tctrlKey = false;\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tli.triggerHandler('mouseup');\n\t\t\t\t\t\t\t},1);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode === 13 || e.keyCode === 10) { // Enter key\n\t\t\t\t\t\tif (ctrlKey === true) {  // Enter + Ctrl\n\t\t\t\t\t\t\tctrlKey = false;\n\t\t\t\t\t\t\tmarkup(options.onCtrlEnter);\n\t\t\t\t\t\t\treturn options.onCtrlEnter.keepDefault;\n\t\t\t\t\t\t} else if (shiftKey === true) { // Enter + Shift\n\t\t\t\t\t\t\tshiftKey = false;\n\t\t\t\t\t\t\tmarkup(options.onShiftEnter);\n\t\t\t\t\t\t\treturn options.onShiftEnter.keepDefault;\n\t\t\t\t\t\t} else { // only Enter\n\t\t\t\t\t\t\tmarkup(options.onEnter);\n\t\t\t\t\t\t\treturn options.onEnter.keepDefault;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode === 9) { // Tab key\n\t\t\t\t\t\tif (shiftKey == true || ctrlKey == true || altKey == true) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (caretOffset !== -1) {\n\t\t\t\t\t\t\tget();\n\t\t\t\t\t\t\tcaretOffset = $$.val().length - caretOffset;\n\t\t\t\t\t\t\tset(caretOffset, 0);\n\t\t\t\t\t\t\tcaretOffset = -1;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmarkup(options.onTab);\n\t\t\t\t\t\t\treturn options.onTab.keepDefault;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction remove() {\n\t\t\t\t$$.unbind(\".markItUp\").removeClass('markItUpEditor');\n\t\t\t\t$$.parent('div').parent('div.markItUp').parent('div').replaceWith($$);\n\t\t\t\t$$.data('markItUp', null);\n\t\t\t}\n\n\t\t\tinit();\n\t\t});\n\t};\n\n\t$.fn.markItUpRemove = function() {\n\t\treturn this.each(function() {\n\t\t\t\t$(this).markItUp('remove');\n\t\t\t}\n\t\t);\n\t};\n\n\t$.markItUp = function(settings) {\n\t\tvar options = { target:false };\n\t\t$.extend(options, settings);\n\t\tif (options.target) {\n\t\t\treturn $(options.target).each(function() {\n\t\t\t\t$(this).focus();\n\t\t\t\t$(this).trigger('insertion', [options]);\n\t\t\t});\n\t\t} else {\n\t\t\t$('textarea').trigger('insertion', [options]);\n\t\t}\n\t};\n})(jQuery);\n"],"sourceRoot":""}