(self.webpackChunk=self.webpackChunk||[]).push([[301],{9850:(t,e,a)=>{"use strict";a.r(e),a.d(e,{isDataTableResponse:()=>l,initDataTable:()=>c,initOfflineDataTable:()=>d,fnUpdateDataTable:()=>u,fnGetSelection:()=>f,getApiFromSettings:()=>p,fnGetLastUpdate:()=>h,fnSetLastUpdate:()=>m,fnAjaxUpdateCallback:()=>b,replacePlaceholders:()=>g});var n=a(5404),r=a.n(n),o=a(4794),s=a(3548),i=a(527);function l(t){return"object"==typeof t&&"lastUpdate"in t&&"autoUpdate"in t&&"data"in t}async function c(t){await Promise.all([a.e(7820),a.e(5672)]).then(a.bind(a,3359));const e=r()(t),n=e.data("settings"),s=e.data("search");n.ajax&&(n.ajax.data.lastUpdate=h(e),n.ajax.dataSrc=b(e)),n.columns.forEach((t=>t.render=i.Z[t.render]));const l=e.DataTable(n);e.dataTable().api().search(s),l.on("page",(()=>l.rows({selected:!0}).deselect())),l.on("childRow.dt",((t,e)=>(0,o.S)(e.container.get(0))))}async function d(t){await Promise.all([a.e(7820),a.e(5672)]).then(a.bind(a,3359)),r()(t).DataTable((0,s.IR)(t))}function u(t,e){const a=r()(t).DataTable();e.data.forEach((t=>{const e=r()('tr[data-uuid="'+t.UUID+'"]');1===e.length?"remove"in t?a.row(e).remove():(a.row(e).data(t),(0,o.S)(e.get(0))):0===e.length?a.row.add(t):alert(e.length)})),a.draw(!1)}function f(t){const e=[];return r()(t+" tbody tr.selected").each((function(){const t=r()(this).attr("data-uuid");if(!t)throw new Error("Tablerow heeft geen uuid");e.push(t)})),e}function p(t){return new(r().fn.dataTable.Api)(t)}const h=t=>()=>Number(t.data("lastupdate")),m=t=>e=>t.data("lastupdate",e),b=t=>e=>{m(t)(e.lastUpdate);const a=t.DataTable();if(e.autoUpdate){const n=parseInt(e.autoUpdate,10);!isNaN(n)&&n<6e5&&setTimeout((()=>{r().post(a.ajax.url(),{lastUpdate:h(t)},(e=>{const a=t.attr("id");if(!a)throw new Error("Table heeft geen id");u(a,e),b(t)(e)}))}),n)}return function(t){const e=t.parent();if(e.hasClass("dataTables_scrollBody")){const t=e.scrollTop(),a=e.innerHeight();if(!t||!a)throw new Error("$scroll heeft geen top of height");t+a>=e[0].scrollHeight-20&&window.setTimeout((()=>{e.animate({scrollTop:e[0].scrollHeight},800)}),200)}}(t),e.data};function g(t,e){const a=/:(\w+)/g.exec(t);if(!a)return t;for(let n=1;n<a.length;n++)t=t.replace(":"+a[n],e[a[n]]);return t}},527:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});var n=a(9201),r=a.n(n),o=a(3548),s=a(9850);const i={default(t,e){if(null===t||"object"!=typeof t)return t;switch(e){case"sort":return t.sort;case"export":return t.export;default:return t.display}},bedrag:t=>(0,o.Mc)(t),check:t=>'<span class="ico '+(t?"tick":"cross")+'"></span>',aanmeldFilter:t=>t?`<span class="ico group_key" title="Aanmeld filter actief: '${t}'"></span>`:"",aanmeldingen:(t,e,a)=>a.aantal_aanmeldingen+" ("+a.aanmeld_limiet+")",totaalPrijs:(t,e,a)=>(0,o.Mc)(a.aantal_aanmeldingen*parseInt(a.prijs,10)),datetime:t=>Number(t)==t?r().unix(t).format("YYYY-MM-DD HH:mm"):t?"<time"===t.substr(0,5)?t:"-"===t.substr(0,1)?"Nooit":r()(t).format("YYYY-MM-DD HH:mm"):"",timeago(t,e,a,n){const r=(0,s.getApiFromSettings)(n.settings).cell(n.row,n.col).node().firstChild;switch(e){case"sort":case"export":return r.dateTime;default:return t}},filesize(t,e){switch(e){case"sort":return Number(t);default:return(0,o.D9)(t)}}}},4734:(t,e,a)=>{var n={"./nl":4273,"./nl.js":4273};function r(t){var e=o(t);return a(e)}function o(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id=4734}}]);
//# sourceMappingURL=datatable-api.c2997a5817b505621b3a.chunk.js.map