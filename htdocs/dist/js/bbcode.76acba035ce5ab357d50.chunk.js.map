{"version":3,"sources":["webpack:///./js/lib/bbcode.ts"],"names":["loadBbImage","el","content","getAttribute","onerror","setAttribute","style","width","height","classList","replace","src","Error","_a","_b","foto","indexOf","video","parentElement","contains","hasAnchor","$","closest","length","parent","replaceChild","targetUrl","link","appendChild"],"mappings":"0FAAA,8DACO,MAAMA,EAAeC,IACxB,MAAMC,EAAU,GAAK;;oBAELD,EAAGE,aAAa;sBACdF,EAAGE,aAAa;oBAClBF,EAAGE,aAAa,YAChCD,EAAQE,QAAU,KACdH,EAAGI,aAAa,QAAS,oDACzBJ,EAAGI,aAAa,MAAO,yCACvBJ,EAAGK,MAAMC,MAAQ,OACjBN,EAAGK,MAAME,OAAS,OAClBP,EAAGQ,UAAUC,QAAQ,iBAAkB,WAE3C,MAAMC,EAAMV,EAAGE,aAAa,OAC5B,IAAKQ,EACD,MAAM,IAAIC,MAAM,2BAEpB,YAAaD,EAAK,KACd,IAAIE,EAAIC,EACR,MAAMC,EAAOJ,EAAIK,QAAQ,yBAA2B,EAC9CC,EAAiG,QAAxFH,EAAiC,QAA3BD,EAAKZ,EAAGiB,qBAAkC,IAAPL,OAAgB,EAASA,EAAGK,qBAAkC,IAAPJ,OAAgB,EAASA,EAAGL,UAAUU,SAAS,oBACxJC,EAA0C,IAA9BC,EAAEpB,GAAIqB,QAAQ,KAAKC,OAC/BC,EAASvB,EAAGiB,cAClB,IAAKM,EACD,MAAM,IAAIZ,MAAM,8BAEpB,GAAIG,GAAQE,GAASG,EACjBI,EAAOC,aAAavB,EAASD,OAE5B,CACD,MAAMyB,EAA0C,MAA9BzB,EAAGE,aAAa,WAAqBF,EAAGE,aAAa,OAASF,EAAGE,aAAa,WAC1FwB,EAAO,GAAK,kCAAkCD,wCACpDC,EAAKC,YAAY1B,GACjBsB,EAAOC,aAAaE,EAAM1B","file":"js/bbcode.76acba035ce5ab357d50.chunk.js","sourcesContent":["import { html, preloadImage } from \"./util\";\nexport const loadBbImage = (el) => {\n    const content = html `<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bb-img\"\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"${el.getAttribute('title')}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"${el.getAttribute('style')}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"${el.getAttribute('src')}\"/>`;\n    content.onerror = () => {\n        el.setAttribute('title', 'Afbeelding bestaat niet of is niet toegankelijk!');\n        el.setAttribute('src', '/plaetjes/famfamafm/picture_error.png');\n        el.style.width = '16px';\n        el.style.height = '16px';\n        el.classList.replace('bb-img-loading', 'bb-img');\n    };\n    const src = el.getAttribute('src');\n    if (!src) {\n        throw new Error('Bb image heeft geen src');\n    }\n    preloadImage(src, () => {\n        var _a, _b;\n        const foto = src.indexOf('/plaetjes/fotoalbum/') >= 0;\n        const video = (_b = (_a = el.parentElement) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.classList.contains('bb-video-preview');\n        const hasAnchor = $(el).closest('a').length !== 0;\n        const parent = el.parentElement;\n        if (!parent) {\n            throw new Error(\"BBimage heeft geen parent.\");\n        }\n        if (foto || video || hasAnchor) {\n            parent.replaceChild(content, el);\n        }\n        else {\n            const targetUrl = el.getAttribute('bb-href') == null ? el.getAttribute('src') : el.getAttribute('bb-href');\n            const link = html `<a class=\"lightbox-link\" href=\"${targetUrl}\" data-lightbox=\"page-lightbox\"></a>`;\n            link.appendChild(content);\n            parent.replaceChild(link, el);\n        }\n    });\n};\n"],"sourceRoot":""}