"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1093],{550:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(7084),a=n.n(i),l=n(5056),s=n.n(l)()(a());s.push([e.id,"\n.left-col[data-v-4994458c] {\n  border-right: 1px solid rgba(0, 0, 0, 0.125);\n}\n.groep[data-v-4994458c] {\n  min-height: 300px;\n}\n.results[data-v-4994458c] {\n  overflow: auto;\n}\n","",{version:3,sources:["webpack://./js/components/groep/Groep.vue"],names:[],mappings:";AA6IA;EACE,4CAA4C;AAC9C;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,cAAc;AAChB",sourcesContent:['<template>\n  <div class="card groep">\n    <div class="card-body">\n      <h3 class="card-title">\n        {{ naam }}\n      </h3>\n      <div class="row">\n        <div v-if="!aangemeld && magAanmelden" class="left-col col-md-5">\n          <p class="card-text">\n            {{ samenvatting }}\n          </p>\n          <GroepAanmeldForm\n            :keuzes="keuzelijst2"\n            :opmerking="mijnOpmerking"\n            :aangemeld="aangemeld"\n            @aanmelden="aanmelden"\n          />\n        </div>\n        <div class="col results">\n          <table class="table table-sm">\n            <GroepHeaderRow :keuzes="keuzelijst2" />\n            <tbody>\n              <GroepLidRow\n                v-for="lid of leden"\n                :key="lid.uid"\n                :lid="lid"\n                :keuzes="keuzelijst2"\n              />\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport axios from \'axios\';\nimport type { PropType } from \'vue\';\nimport { defineComponent } from \'vue\';\nimport {\n  GroepInstance,\n  GroepKeuzeSelectie,\n  GroepLid,\n  GroepSettings,\n  KeuzeOptie,\n} from \'../../model/groep\';\nimport GroepAanmeldForm from \'./GroepAanmeldForm.vue\';\nimport GroepHeaderRow from \'./GroepHeaderRow.vue\';\nimport GroepLidRow from \'./GroepLidRow.vue\';\n\nexport default defineComponent({\n  components: { GroepAanmeldForm, GroepLidRow, GroepHeaderRow },\n  props: {\n    settings: {\n      required: true,\n      type: Object as PropType<GroepSettings>,\n    },\n    groep: {\n      required: true,\n      type: Object as PropType<GroepInstance>,\n    },\n  },\n  data: () => ({\n    id: 0,\n    naam: \'\',\n    familie: \'\',\n    beginMoment: new Date(),\n    eindMoment: new Date(),\n    status: \'\',\n    samenvatting: \'\',\n    omschrijving: \'\',\n    makerUid: \'\',\n    versie: \'\',\n    keuzelijst2: [] as KeuzeOptie[],\n    leden: [] as GroepLid[],\n    mijnUid: \'\',\n    mijnLink: \'\',\n    aanmeldUrl: \'\',\n    mijnOpmerking: [] as GroepKeuzeSelectie[],\n  }),\n  computed: {\n    mijnAanmelding() {\n      return this.leden.find((lid) => lid.uid === this.mijnUid);\n    },\n    aangemeld() {\n      return this.mijnAanmelding !== undefined;\n    },\n    magAanmelden() {\n      console.log(this.groep.aanmeldenTot, new Date());\n      if (this.groep.aanmeldenTot) {\n        return new Date(this.groep.aanmeldenTot) > new Date();\n      }\n\n      return true;\n    },\n  },\n  created() {\n    this.id = this.groep.id;\n    this.naam = this.groep.naam;\n    this.familie = this.groep.familie;\n    this.beginMoment = this.groep.beginMoment;\n    this.eindMoment = this.groep.eindMoment;\n    this.status = this.groep.status;\n    this.samenvatting = this.groep.samenvatting;\n    this.omschrijving = this.groep.omschrijving;\n    this.makerUid = this.groep.makerUid;\n    this.versie = this.groep.versie;\n    this.keuzelijst2 = this.groep.keuzelijst2;\n    this.leden = this.groep.leden;\n\n    this.mijnUid = this.settings.mijn_uid;\n    this.mijnLink = this.settings.mijn_link;\n    this.aanmeldUrl = this.settings.aanmeld_url;\n\n    if (this.aangemeld) {\n      this.mijnOpmerking = this.mijnAanmelding.opmerking2;\n    } else {\n      this.mijnOpmerking = this.keuzelijst2.map((value) => ({\n        selectie: value.default,\n        naam: value.naam,\n      }));\n    }\n  },\n  methods: {\n    aanmelden() {\n      if (!this.aangemeld) {\n        this.leden.push({\n          uid: this.mijnUid,\n          link: this.mijnLink,\n          opmerking2: this.mijnOpmerking,\n        });\n\n        axios.post(this.aanmeldUrl, { opmerking2: this.mijnOpmerking });\n      }\n    },\n  },\n});\n<\/script>\n\n<style scoped>\n.left-col {\n  border-right: 1px solid rgba(0, 0, 0, 0.125);\n}\n\n.groep {\n  min-height: 300px;\n}\n\n.results {\n  overflow: auto;\n}\n</style>\n'],sourceRoot:""}]);const o=s},3676:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(7084),a=n.n(i),l=n(5056),s=n.n(l),o=n(8521),r=n.n(o),d=new URL(n(7663),n.b),c=s()(a()),g=r()(d);c.push([e.id,"\n.progress[data-v-3da8cb3f] {\n  height: 20px;\n  width: 100%;\n  border-radius: 3px;\n  background: #adadad;\n}\n.progress div[data-v-3da8cb3f] {\n  float: left;\n  height: 100%;\n  transition: width ease-in-out 0.5s;\n}\n.progress div.correct[data-v-3da8cb3f] {\n  background: #2ecc71;\n}\n.progress div.again[data-v-3da8cb3f] {\n  background: #f1c40f;\n}\n.progress div.wrong[data-v-3da8cb3f] {\n  background: #c0392b;\n}\n.pasfotoContainer[data-v-3da8cb3f] {\n  width: 170px;\n  height: 255px;\n  margin: 15px auto;\n  background: url("+g+") no-repeat center center\n    white;\n  overflow: hidden;\n}\n.pasfotoContainer.onderkantVerbergen[data-v-3da8cb3f] {\n  height: 150px;\n}\n.pasfotoContainer .pasfoto[data-v-3da8cb3f] {\n  width: 170px;\n  height: 255px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n.laatste[data-v-3da8cb3f] {\n  border-radius: 6px;\n  background: #c0392b;\n  color: white;\n  overflow: hidden;\n  margin-top: 10px;\n}\n.laatste.goed[data-v-3da8cb3f] {\n  background: #2ecc71;\n}\n.laatste .fas[data-v-3da8cb3f] {\n  display: inline-block;\n  font-size: 26px;\n  line-height: 90px;\n  vertical-align: middle;\n  float: right;\n  margin: 0 18px 0 15px;\n}\n.laatste img[data-v-3da8cb3f] {\n  display: inline-block;\n  height: 90px;\n}\n.laatste .info[data-v-3da8cb3f] {\n  display: inline-block;\n  padding: 29px 0 0 15px;\n  vertical-align: top;\n  max-width: calc(100% - 123px);\n  box-sizing: border-box;\n}\n.laatste .info .naam[data-v-3da8cb3f] {\n  font-size: 19px;\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  line-height: 19px;\n}\n.laatste .info .naam .bold[data-v-3da8cb3f] {\n  font-weight: bold;\n}\n.laatste .info .tekst[data-v-3da8cb3f] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 24px;\n}\n.laatste .info .tekst span[data-v-3da8cb3f] {\n  margin-right: 6px;\n}\ninput[data-v-3da8cb3f] {\n  text-transform: capitalize;\n}\n.score-blok[data-v-3da8cb3f] {\n  background: #2ecc71;\n  padding: 20px;\n  text-align: center;\n  color: white;\n  border-radius: 6px;\n  margin-bottom: 20px;\n}\n.score-blok .titel[data-v-3da8cb3f] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 19px;\n  font-weight: bold;\n  text-align: center;\n}\n.score-blok .score-titel[data-v-3da8cb3f] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  margin-top: 18px;\n}\n.score-blok .score[data-v-3da8cb3f] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 50px;\n  line-height: 50px;\n  font-weight: 300;\n}\n","",{version:3,sources:["webpack://./js/components/namen-leren/NamenLeren.vue"],names:[],mappings:";AA6aA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,mBAAmB;AACrB;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kCAAkC;AACpC;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB;SACO;EACP,gBAAgB;AAClB;AAEA;EACE,aAAa;AACf;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,4BAA4B;EAC5B,kCAAkC;AACpC;AAEA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;AAClB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,iBAAiB;EACjB,sBAAsB;EACtB,YAAY;EACZ,qBAAqB;AACvB;AAEA;EACE,qBAAqB;EACrB,YAAY;AACd;AAEA;EACE,qBAAqB;EACrB,sBAAsB;EACtB,mBAAmB;EACnB,6BAA6B;EAC7B,sBAAsB;AACxB;AAEA;EACE,eAAe;EACf,4DAA4D;EAC5D,iBAAiB;AACnB;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;AACnB;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,0BAA0B;AAC5B;AAEA;EACE,mBAAmB;EACnB,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,mBAAmB;AACrB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;AAEA;EACE,4DAA4D;EAC5D,iBAAiB;EACjB,gBAAgB;AAClB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;EACjB,gBAAgB;AAClB",sourcesContent:['<template>\n  <div>\n    <div v-if="finished" class="score-blok">\n      <div class="titel">\n        {{ titel }}\n      </div>\n      <div class="score-titel">Jouw score:</div>\n      <div class="score">{{ Math.round(percentageGoed) }}%</div>\n    </div>\n    <div v-if="!started">\n      <div class="row">\n        <div class="col-sm-6">\n          <strong class="mb-1 block">Lichting(en)</strong>\n          <div>\n            <input\n              id="alleLichtingen"\n              v-model="alleLichtingen"\n              type="checkbox"\n            />\n            <label for="alleLichtingen">Alle lichtingen</label>\n          </div>\n          <div v-for="lichting in lichtingen" :key="lichting">\n            <input\n              v-if="!alleLichtingen"\n              :id="\'lichting\' + lichting"\n              v-model="lichtingSelectie"\n              type="checkbox"\n              :value="lichting"\n            />\n            <input\n              v-if="alleLichtingen"\n              type="checkbox"\n              :checked="alleLichtingen"\n              disabled\n            />\n            <label :for="\'lichting\' + lichting">{{ lichting }}</label>\n          </div>\n        </div>\n        <div class="col-sm-6">\n          <strong class="mb-1 block">Verticale(n)</strong>\n          <div>\n            <input\n              id="alleVerticalen"\n              v-model="alleVerticalen"\n              type="checkbox"\n            />\n            <label for="alleVerticalen">Alle verticalen</label>\n          </div>\n          <div v-for="verticale in verticalen" :key="verticale">\n            <input\n              v-if="!alleVerticalen"\n              :id="\'verticale\' + verticale"\n              v-model="verticaleSelectie"\n              type="checkbox"\n              :value="verticale"\n            />\n            <input\n              v-if="alleVerticalen"\n              type="checkbox"\n              :checked="alleVerticalen"\n              disabled\n            />\n            <label :for="\'verticale\' + verticale">{{ verticale }}</label>\n          </div>\n        </div>\n      </div>\n      <div>\n        <strong class="mb-1 block">Onderkant verbergen</strong>\n        <div>\n          <input\n            id="verbergOnderkant"\n            v-model="verbergOnderkant"\n            type="checkbox"\n          />\n          <label for="verbergOnderkant">Voorkom leesbare namen op foto\'s</label>\n        </div>\n      </div>\n      <strong class="mt-3 mb-1 block">Antwoordmethode</strong>\n      <select v-model="antwoordMethode" class="form-control">\n        <option value="voornaam">Voornaam</option>\n        <option value="achternaam">Achternaam</option>\n        <option value="combi">Voor- en achternaam</option>\n        <option value="civi">Achternaam en achtervoegsel</option>\n      </select>\n      <a\n        href="#"\n        class="btn btn-primary btn-block mt-3"\n        :class="{ disabled: !klaarVoorDeStart }"\n        @click.prevent="start"\n        >Start met {{ aantal }} {{ aantal === 1 ? \'lid\' : \'leden\' }}</a\n      >\n    </div>\n    <div v-else-if="!finished">\n      <div class="progress">\n        <div class="correct" :style="{ width: percentageGoed + \'%\' }" />\n        <div class="again" :style="{ width: percentageOpnieuw + \'%\' }" />\n        <div class="wrong" :style="{ width: percentageFout + \'%\' }" />\n      </div>\n      <div v-if="laatste" class="laatste" :class="{ goed: laatsteGoed }">\n        <img :src="\'/profiel/pasfoto/\' + laatste.uid + \'.jpg\'" alt="" />\n        <div class="info">\n          <div class="naam">\n            <span\n              :class="{\n                bold:\n                  antwoordMethode === \'voornaam\' || antwoordMethode === \'combi\',\n              }"\n              >{{ laatste.voornaam }}</span\n            >\n            <span\n              :class="{\n                bold:\n                  antwoordMethode === \'achternaam\' ||\n                  antwoordMethode === \'combi\' ||\n                  antwoordMethode === \'civi\',\n              }"\n              >{{ laatste.tussenvoegsel }} {{ laatste.achternaam }}</span\n            >\n            <span\n              v-if="laatste.postfix"\n              :class="{ bold: antwoordMethode === \'civi\' }"\n              >{{ laatste.postfix }}</span\n            >\n          </div>\n          <div class="tekst">\n            <span>{{ laatste.lichting }}</span>\n            <span v-if="laatste.verticale && laatste.verticale !== \'Geen\'">{{\n              laatste.verticale\n            }}</span>\n            <span>{{ laatste.studie }}</span>\n          </div>\n        </div>\n        <Icon icon="check" v-if="laatsteGoed" />\n        <Icon icon="xmark" v-else />\n      </div>\n      <div\n        class="pasfotoContainer"\n        :class="{ onderkantVerbergen: verbergOnderkant }"\n      >\n        <div\n          :style="{\n            \'background-image\': \'url(/profiel/pasfoto/\' + huidig.uid + \'.jpg)\',\n          }"\n          class="pasfoto"\n        />\n      </div>\n      <strong v-if="antwoordMethode === \'voornaam\'" class="mb-1 block"\n        >Voornaam:</strong\n      >\n      <strong v-if="antwoordMethode === \'achternaam\'" class="mb-1 block"\n        >Achternaam:</strong\n      >\n      <strong v-if="antwoordMethode === \'combi\'" class="mb-1 block"\n        >Voor- en achternaam:</strong\n      >\n      <strong v-if="antwoordMethode === \'civi\'" class="mb-1 block"\n        >Achternaam en achtervoegsel:</strong\n      >\n      <input\n        type="text"\n        class="form-control"\n        :value="ingevuld"\n        autofocus\n        @input="ingevuld = $event.target.value"\n        @keydown.enter="controleer"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport type { PropType } from \'vue\';\nimport { defineComponent } from \'vue\';\nimport Icon from \'../common/Icon.vue\';\n\nconst shuffle = <T>(array: T[]) => {\n  let currentIndex = array.length;\n  let temporaryValue;\n  let randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n};\n\nconst preloaded: string[] = [];\n\nconst preloadImage = (url: string) => {\n  if (preloaded.includes(url)) {\n    return;\n  }\n  preloaded.push(url);\n  const img = new Image();\n  img.src = url;\n};\n\nconst uniq: <T>(arr: T[]) => T[] = (arr) => {\n  return Array.from(new Set(arr));\n};\n\ninterface Lid {\n  uid: string;\n  lichting: string;\n  verticale: string;\n  tussenvoegsel: string;\n  achternaam: string;\n  voornaam: string;\n  postfix: string;\n}\n\nexport default defineComponent({\n  components: { Icon },\n  props: {\n    leden: {\n      required: true,\n      type: Array as PropType<Lid[]>,\n    },\n  },\n  data: () => ({\n    // Config\n    alleLichtingen: false,\n    alleVerticalen: true,\n    lichtingSelectie: [] as string[],\n    verticaleSelectie: [] as string[],\n    antwoordMethode: \'voornaam\',\n    aantalPerKeer: 5,\n\n    // Game state\n    verbergOnderkant: true,\n    started: false,\n    finished: false,\n    goed: [] as Lid[],\n    opnieuw: [] as Lid[],\n    fout: [] as Lid[],\n    todo: [] as Lid[],\n    laatste: null as Lid | null,\n    laatsteGoed: null as boolean | null,\n    huidig: null as Lid | null,\n    ingevuld: \'\',\n    titel: \'\',\n  }),\n  computed: {\n    aantal() {\n      return this.gefilterdeLeden.length;\n    },\n    gefilterdeLeden() {\n      return this.leden.filter(\n        (lid: Lid) =>\n          (this.alleLichtingen ||\n            this.lichtingSelectie.includes(lid.lichting)) &&\n          (this.alleVerticalen ||\n            this.verticaleSelectie.includes(lid.verticale))\n      );\n    },\n    lichtingen() {\n      return uniq(this.leden.map((lid) => lid.lichting)).sort();\n    },\n    verticalen() {\n      return uniq(this.leden.map((lid) => lid.verticale)).sort();\n    },\n    klaarVoorDeStart() {\n      return this.gefilterdeLeden.length > 0;\n    },\n    totaalAantal() {\n      return (\n        this.todo.length +\n        this.goed.length +\n        this.opnieuw.length +\n        this.fout.length\n      );\n    },\n    percentageGoed() {\n      return this.totaalAantal > 0\n        ? (this.goed.length / this.totaalAantal) * 100\n        : 0;\n    },\n    percentageOpnieuw() {\n      return this.totaalAantal > 0\n        ? (this.opnieuw.length / this.totaalAantal) * 100\n        : 0;\n    },\n    percentageFout() {\n      return this.totaalAantal > 0\n        ? (this.fout.length / this.totaalAantal) * 100\n        : 0;\n    },\n  },\n  methods: {\n    start() {\n      if (!this.klaarVoorDeStart) {\n        return;\n      }\n      this.started = true;\n      this.goed = [];\n      this.opnieuw = [];\n      this.fout = [];\n      this.todo = this.gefilterdeLeden;\n      shuffle(this.todo);\n      this.huidig = null;\n      this.laatste = null;\n      this.finished = false;\n      this.volgende();\n      this.titel = this.bouwTitel();\n      document.title = `C.S.R. Delft - Namen ${this.titel} leren`;\n      window.scrollTo(0, 0);\n    },\n    volgende() {\n      const choice = this.fout.concat(\n        this.todo.slice(0, Math.max(this.aantalPerKeer - this.fout.length, 0))\n      );\n      const pickable = choice.filter(\n        (lid) =>\n          choice.length === 1 || !this.huidig || lid.uid !== this.huidig.uid\n      );\n      if (pickable.length > 0) {\n        for (const lid of pickable) {\n          preloadImage(\'/profiel/pasfoto/\' + lid.uid + \'.jpg\');\n        }\n        this.huidig = pickable[Math.floor(Math.random() * pickable.length)];\n        this.ingevuld = \'\';\n      } else {\n        this.finished = true;\n        this.started = false;\n      }\n    },\n    controleer() {\n      if (this.huidig == null) {\n        throw new Error(\'huidig niet gezet\');\n      }\n      // Antwoord vormen\n      const onderdelen = [];\n      if (\n        this.antwoordMethode === \'voornaam\' ||\n        this.antwoordMethode === \'combi\'\n      ) {\n        onderdelen.push(this.huidig.voornaam);\n      }\n      if (\n        this.antwoordMethode === \'achternaam\' ||\n        this.antwoordMethode === \'combi\' ||\n        this.antwoordMethode === \'civi\'\n      ) {\n        if (this.huidig.tussenvoegsel) {\n          onderdelen.push(this.huidig.tussenvoegsel);\n        }\n        onderdelen.push(this.huidig.achternaam);\n      }\n      if (this.antwoordMethode === \'civi\') {\n        if (this.huidig.postfix) {\n          onderdelen.push(this.huidig.postfix);\n        }\n      }\n      const antwoord = onderdelen.map((s) => s.trim()).join(\' \');\n\n      // Antwoord checken\n      this.laatste = this.huidig;\n      this.laatsteGoed =\n        antwoord.toLowerCase().replace(\'.\', \'\') ===\n        this.ingevuld.toLowerCase().replace(\'.\', \'\');\n\n      // Verwijderen uit oude lijst en toevoegen aan nieuwe lijst\n      let index = this.todo.findIndex((lid) => lid.uid === this.huidig?.uid);\n      if (index === -1) {\n        // Fout lijst\n        if (this.laatsteGoed) {\n          index = this.fout.findIndex((lid) => lid.uid === this.huidig?.uid);\n          this.fout.splice(index, 1);\n          this.opnieuw.push(this.huidig);\n        }\n      } else {\n        // Te doen lijst\n        this.todo.splice(index, 1);\n        if (this.laatsteGoed) {\n          this.goed.push(this.huidig);\n        } else {\n          this.fout.push(this.huidig);\n        }\n      }\n\n      this.volgende();\n    },\n    bouwTitel() {\n      if (this.alleLichtingen && this.alleVerticalen) {\n        return \'Alle leden\';\n      }\n\n      let titel = \'\';\n      if (!this.alleLichtingen) {\n        this.lichtingSelectie.sort();\n        titel += \'Lichting \';\n        titel += this.lichtingSelectie\n          .slice(0, this.lichtingSelectie.length - 1)\n          .join(\', \');\n        if (this.lichtingSelectie.length > 1) {\n          titel += \' & \';\n        }\n        titel += this.lichtingSelectie[this.lichtingSelectie.length - 1];\n      }\n      if (!this.alleVerticalen) {\n        if (titel) {\n          titel += \', \';\n        }\n        this.verticaleSelectie.sort();\n        titel += this.verticaleSelectie\n          .slice(0, this.verticaleSelectie.length - 1)\n          .join(\', \');\n        if (this.verticaleSelectie.length > 1) {\n          titel += \' & \';\n        }\n        titel += this.verticaleSelectie[this.verticaleSelectie.length - 1];\n      }\n\n      return titel;\n    },\n  },\n});\n<\/script>\n\n<style scoped>\n.progress {\n  height: 20px;\n  width: 100%;\n  border-radius: 3px;\n  background: #adadad;\n}\n\n.progress div {\n  float: left;\n  height: 100%;\n  transition: width ease-in-out 0.5s;\n}\n\n.progress div.correct {\n  background: #2ecc71;\n}\n\n.progress div.again {\n  background: #f1c40f;\n}\n\n.progress div.wrong {\n  background: #c0392b;\n}\n\n.pasfotoContainer {\n  width: 170px;\n  height: 255px;\n  margin: 15px auto;\n  background: url(\'../../../images/loading-fb.gif\') no-repeat center center\n    white;\n  overflow: hidden;\n}\n\n.pasfotoContainer.onderkantVerbergen {\n  height: 150px;\n}\n\n.pasfotoContainer .pasfoto {\n  width: 170px;\n  height: 255px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n\n.laatste {\n  border-radius: 6px;\n  background: #c0392b;\n  color: white;\n  overflow: hidden;\n  margin-top: 10px;\n}\n\n.laatste.goed {\n  background: #2ecc71;\n}\n\n.laatste .fas {\n  display: inline-block;\n  font-size: 26px;\n  line-height: 90px;\n  vertical-align: middle;\n  float: right;\n  margin: 0 18px 0 15px;\n}\n\n.laatste img {\n  display: inline-block;\n  height: 90px;\n}\n\n.laatste .info {\n  display: inline-block;\n  padding: 29px 0 0 15px;\n  vertical-align: top;\n  max-width: calc(100% - 123px);\n  box-sizing: border-box;\n}\n\n.laatste .info .naam {\n  font-size: 19px;\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  line-height: 19px;\n}\n\n.laatste .info .naam .bold {\n  font-weight: bold;\n}\n\n.laatste .info .tekst {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 24px;\n}\n\n.laatste .info .tekst span {\n  margin-right: 6px;\n}\n\ninput {\n  text-transform: capitalize;\n}\n\n.score-blok {\n  background: #2ecc71;\n  padding: 20px;\n  text-align: center;\n  color: white;\n  border-radius: 6px;\n  margin-bottom: 20px;\n}\n\n.score-blok .titel {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 19px;\n  font-weight: bold;\n  text-align: center;\n}\n\n.score-blok .score-titel {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  margin-top: 18px;\n}\n\n.score-blok .score {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 50px;\n  line-height: 50px;\n  font-weight: 300;\n}\n</style>\n'],sourceRoot:""}]);const u=c},6450:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(7084),a=n.n(i),l=n(5056),s=n.n(l)()(a());s.push([e.id,"\n.bewerken[data-v-70daba20],\n.totaal[data-v-70daba20] {\n  float: right;\n}\n.footer[data-v-70daba20] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.pagination[data-v-70daba20] {\n  margin-top: 1.25rem;\n  margin-bottom: 0;\n}\n","",{version:3,sources:["webpack://./js/components/peilingen/Peiling.vue"],names:[],mappings:";AA0MA;;EAEE,YAAY;AACd;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,8BAA8B;AAChC;AAEA;EACE,mBAAmB;EACnB,gBAAgB;AAClB",sourcesContent:['<template>\n  <div class="card peiling">\n    <div class="card-body">\n      <a v-if="isMod" :href="beheerUrl" class="bewerken">\n        <Icon icon="pencil" />\n      </a>\n      <span class="totaal">{{ strAantalGestemd }}</span>\n      <h3 class="card-title">\n        {{ titel }}\n      </h3>\n      \x3c!-- eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line --\x3e\n      <p class="card-text pt-2" v-html="beschrijving" />\n    </div>\n    <div>\n      <div v-if="heeftGestemd && !resultaatZichtbaar">\n        <div class="card-body">Bedankt voor het stemmen!</div>\n      </div>\n      <div v-else class="card-body">\n        <div v-if="zoekbalkZichtbaar" class="pb-2">\n          <input\n            v-model="zoekterm"\n            type="text"\n            placeholder="Zoeken"\n            class="form-control"\n          />\n        </div>\n        <ul class="list-group list-group-flush">\n          <li\n            v-for="optie in optiesZichtbaar"\n            :key="optie.id"\n            class="list-group-item"\n          >\n            <PeilingOptie\n              :id="optie.id"\n              :key="optie.id"\n              v-model="optie.selected"\n              :peiling-id="id"\n              :titel="optie.titel"\n              :beschrijving="optie.beschrijving_formatted"\n              :stemmen="optie.stemmen"\n              :mag-stemmen="magStemmen"\n              :heeft-gestemd="heeftGestemd"\n              :aantal-gestemd="aantalGestemd"\n              :keuzes-over="keuzesOver"\n              :selected="optie.selected"\n            />\n          </li>\n        </ul>\n        <BPagination\n          v-if="optiesFiltered.length > paginaSize"\n          v-model="huidigePagina"\n          size="md"\n          align="center"\n          :limit="15"\n          :total-rows="optiesFiltered.length"\n          :per-page="paginaSize"\n        />\n      </div>\n    </div>\n\n    <div v-if="!heeftGestemd && magStemmen" class="card-footer footer">\n      <div>{{ strKeuzes }}</div>\n      <PeilingOptieToevoegen v-if="aantalVoorstellen > 0" :id="id" />\n\n      <input\n        type="button"\n        class="btn btn-primary"\n        value="Stem"\n        :disabled="selected.length === 0"\n        @click="stem"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport axios from \'axios\';\nimport { BPagination } from \'bootstrap-vue\';\nimport { defineComponent } from \'vue\';\nimport type { PropType } from \'vue\';\nimport Icon from \'../common/Icon.vue\';\nimport PeilingOptie from \'./PeilingOptie.vue\';\nimport PeilingOptieToevoegen from \'./PeilingOptieToevoegen.vue\';\n\ninterface PeilingSettings {\n  id: string;\n  titel: string;\n  beschrijving: string;\n  resultaat_zichtbaar: boolean;\n  aantal_voorstellen: number;\n  aantal_stemmen: number;\n  aantal_gestemd: number;\n  is_mod: boolean;\n  mag_stemmen: boolean;\n  heeft_gestemd: boolean;\n  opties: PeilingOptieSettings[];\n}\n\ninterface PeilingOptieSettings {\n  id: string;\n  titel: string;\n  beschrijving_formatted: string;\n  selected: boolean;\n  stemmen: number;\n}\n\nexport default defineComponent({\n  components: { Icon, PeilingOptie, PeilingOptieToevoegen, BPagination },\n  props: {\n    settings: {\n      default: () => ({}),\n      type: Object as PropType<PeilingSettings>,\n    },\n  },\n  data: () => ({\n    id: \'\',\n    titel: \'\',\n    beschrijving: \'\',\n    resultaatZichtbaar: false,\n    aantalVoorstellen: 0,\n    aantalStemmen: 0,\n    aantalGestemd: 0,\n    isMod: false,\n    heeftGestemd: false,\n    magStemmen: false,\n    opties: [] as PeilingOptieSettings[],\n    zoekterm: \'\',\n    huidigePagina: 1,\n    paginaSize: 10,\n  }),\n  computed: {\n    beheerUrl() {\n      return `/peilingen/beheer/${this.id}`;\n    },\n    selected() {\n      return this.opties.filter((o) => o.selected);\n    },\n    optiesFiltered() {\n      return this.opties.filter((o) =>\n        o.titel.toLowerCase().includes(this.zoekterm.toLowerCase())\n      );\n    },\n    optiesZichtbaar() {\n      const begin = (this.huidigePagina - 1) * this.paginaSize;\n      const eind = begin + this.paginaSize;\n\n      return this.optiesFiltered.slice(begin, eind);\n    },\n    keuzesOver() {\n      return this.aantalStemmen - this.selected.length > 0;\n    },\n    strKeuzes() {\n      return `${this.selected.length} van de ${this.aantalStemmen} geselecteerd`;\n    },\n    strAantalGestemd() {\n      return this.aantalGestemd > 0\n        ? `(${this.aantalGestemd} stem${this.aantalGestemd > 1 ? \'men\' : \'\'})`\n        : \'\';\n    },\n    zoekbalkZichtbaar() {\n      return this.opties.length > 10;\n    },\n  },\n  created() {\n    this.id = this.settings.id;\n    this.titel = this.settings.titel;\n    this.beschrijving = this.settings.beschrijving;\n    this.resultaatZichtbaar = this.settings.resultaat_zichtbaar;\n    this.aantalVoorstellen = this.settings.aantal_voorstellen;\n    this.aantalStemmen = this.settings.aantal_stemmen;\n    this.aantalGestemd = this.settings.aantal_gestemd;\n    this.isMod = this.settings.is_mod;\n    this.heeftGestemd = this.settings.heeft_gestemd;\n    this.magStemmen = this.settings.mag_stemmen;\n    this.opties = this.settings.opties;\n\n    // Als er op deze pagina een modal gesloten wordt is dat misschien die van\n    // de optie toevoegen modal. Dit is de enige manier om dit te weten op dit moment\n    document.addEventListener(\'modalClose\', () => this.reload());\n  },\n  methods: {\n    stem() {\n      axios\n        .post(`/peilingen/stem/${this.id}`, {\n          opties: this.selected.map((o) => o.id),\n        })\n        .then(() => {\n          this.heeftGestemd = true;\n          this.aantalGestemd = this.aantalGestemd + this.selected.length;\n          this.reload();\n        });\n    },\n    reload() {\n      axios.post(`/peilingen/opties/${this.id}`).then((response) => {\n        this.opties = response.data.data;\n      });\n    },\n  },\n});\n<\/script>\n\n<style scoped>\n.bewerken,\n.totaal {\n  float: right;\n}\n\n.footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.pagination {\n  margin-top: 1.25rem;\n  margin-bottom: 0;\n}\n</style>\n'],sourceRoot:""}]);const o=s},6217:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>domUpdate});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6859),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_ctx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3757),_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9577),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1364),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4222);function domUpdate(htmlString){if("string"!=typeof htmlString)return;if(htmlString=htmlString.trim(),"<!DOCTYPE"===htmlString.substring(0,9))throw alert("response error"),new Error(htmlString);const elements=(0,_util__WEBPACK_IMPORTED_MODULE_3__.QA)(htmlString);for(const element of elements){if(!(element instanceof HTMLElement))continue;const id=element.id,parentId=element.getAttribute("parentid");if(!id&&element instanceof HTMLScriptElement)return eval(element.innerText),void(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)();const target=id?document.querySelector(`#${id}`):null,targetParent=parentId?document.querySelector(`#${parentId}`):null;target?element.classList.contains("remove")?(0,_util__WEBPACK_IMPORTED_MODULE_3__.c7)(target,400):jquery__WEBPACK_IMPORTED_MODULE_0___default()(target).replaceWith(jquery__WEBPACK_IMPORTED_MODULE_0___default()(element)):targetParent?targetParent.append(element):element instanceof HTMLScriptElement?document.head.append(element):(0,_dom__WEBPACK_IMPORTED_MODULE_4__.Ys)("#maalcie-tabel tbody:visible:first").append(element),(0,_ctx__WEBPACK_IMPORTED_MODULE_1__.S)(element),"modal"===id?(0,_modal__WEBPACK_IMPORTED_MODULE_2__.O)():(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)()}}},9577:(e,t,n)=>{n.d(t,{I:()=>o,O:()=>s});var i=n(6859),a=n.n(i),l=n(8787);function s(e=""){var t,n;const i=document.getElementById("modal"),s=null!==(t=l.Modal.getInstance(i))&&void 0!==t?t:new l.Modal(i),o=a()(".modal-backdrop");return(""!==i.innerHTML||""!==e)&&(o.length&&o.remove(),""!==e&&(i.replaceWith(e),null===(n=Array.from(i.querySelectorAll("input")).find((e=>"none"!=window.getComputedStyle(e).display)))||void 0===n||n.dispatchEvent(new FocusEvent("focus"))),s.show(),document.dispatchEvent(new Event("modalOpen")),!0)}function o(){const e=l.Modal.getInstance(document.getElementById("modal"));e&&e.hide(),document.dispatchEvent(new Event("modalClose"))}},1093:(e,t,n)=>{n.r(t),n.d(t,{createDefaultApp:()=>aa,getVueComponent:()=>ia});var i=n(2325);const a=e=>((0,i.dD)("data-v-32deb887"),e=e(),(0,i.Cn)(),e),l={class:"declaratie"},s={class:"voortgang"},o=[a((()=>(0,i._)("span",{class:"status"},"Concept",-1)))],r=a((()=>(0,i._)("span",{class:"status"},"Ingediend",-1))),d={key:0,class:"datum"},c=a((()=>(0,i._)("span",{class:"status"},"Goedgekeurd",-1))),g={key:0,class:"datum"},u=a((()=>(0,i._)("span",{class:"status"},"Goedgekeurd",-1))),h={key:0,class:"datum"},m=a((()=>(0,i._)("span",{class:"status"},"Afgekeurd",-1))),p={key:0,class:"datum"},v=a((()=>(0,i._)("span",{class:"status"},"Uitbetaald",-1))),b={class:"datum"},f={key:0,class:"field"},k=a((()=>(0,i._)("label",{for:"datumDeclaratie"},"Datum declaratie",-1))),w=["disabled"],A={class:"field"},_=a((()=>(0,i._)("label",{for:"categorie"},"Categorie",-1))),y=["disabled"],D=a((()=>(0,i._)("option",{disabled:""},null,-1))),C=["value"],x={class:"field"},E=a((()=>(0,i._)("label",null,"Omschrijving declaratie",-1))),B=["disabled"],z={class:"field"},j=a((()=>(0,i._)("label",null,"Betaalwijze",-1))),S=["disabled"],O=a((()=>(0,i._)("label",{for:"C.S.R.-pas"},"Betaald met C.S.R.-pas",-1))),M=["disabled"],q=a((()=>(0,i._)("label",{for:"voorgeschoten"},"Voorgeschoten",-1))),L={key:1,class:"field"},V=a((()=>(0,i._)("label",null,"Terugstorten",-1))),P=["disabled"],U={for:"eigenRekening"},G=["disabled"],I=a((()=>(0,i._)("label",{for:"nietEigenRekening"},"Naar andere rekening",-1))),T={key:2,class:"field"},Z=a((()=>(0,i._)("label",{for:"rekening"},"IBAN",-1))),K=["disabled"],R={key:3,class:"field"},H={key:0,for:"tnv"},W={key:1,for:"tnv"},Y=["disabled"],$={key:4,class:"bonnen bon-upload"},F={class:"inhoud"},N=a((()=>(0,i._)("div",{class:"titel"},"Voeg je bonnen en facturen toe",-1))),Q=a((()=>(0,i._)("p",null," Upload je bon of factuur als PDF of goed leesbare foto. Neem daarna de bedragen van de bon of het factuur over. ",-1))),J={class:"buttons"},X={key:0,class:"loading blue",disabled:""},ee=a((()=>(0,i._)("label",{class:"blue",for:"fileUpload"}," Kies bestand ",-1))),te={key:5,class:"bonnen bonnen-weergave"},ne={class:"lijst"},ie=["onClick"],ae={class:"left"},le={class:"title"},se={class:"date"},oe={class:"right"},re={class:"title"},de=a((()=>(0,i._)("div",{class:"btw"},"incl. btw",-1))),ce={key:1,class:"bon-selected"},ge=["onClick"],ue={class:"title"},he={class:"field"},me=["for"],pe=["id","onUpdate:modelValue","disabled"],ve={class:"bon-regels"},be=a((()=>(0,i._)("div",{class:"regels-row"},[(0,i._)("label",null,"Omschrijving"),(0,i._)("label",null,"Bedrag"),(0,i._)("label",null,"Btw"),(0,i._)("div")],-1))),fe={class:"field"},ke=["onUpdate:modelValue","disabled"],we={class:"field"},Ae={class:"field"},_e=["onUpdate:modelValue","disabled"],ye=[(0,i.uE)('<option value="" disabled data-v-32deb887></option><option value="incl. 9%" data-v-32deb887>incl. 9%</option><option value="incl. 21%" data-v-32deb887>incl. 21%</option><option value="excl. 9%" data-v-32deb887>excl. 9%</option><option value="excl. 21%" data-v-32deb887>excl. 21%</option><option value="geen: 0%" data-v-32deb887>geen: 0%</option>',6)],De=["onClick"],Ce=["onClick"],xe=(0,i.uE)('<div class="field" data-v-32deb887><input type="text" disabled data-v-32deb887></div><div class="field" data-v-32deb887><input type="text" disabled data-v-32deb887></div><div class="field" data-v-32deb887><select disabled data-v-32deb887><option value="" data-v-32deb887></option></select></div>',3),Ee={class:"add"},Be={class:"regels-row totaal streep"},ze=a((()=>(0,i._)("div",{class:"onderdeel"},"Totaal excl. btw",-1))),je={class:"bedrag"},Se={key:1,class:"regels-row totaal"},Oe=a((()=>(0,i._)("div",{class:"onderdeel"},"Btw 9%",-1))),Me={class:"bedrag"},qe={key:2,class:"regels-row totaal"},Le=a((()=>(0,i._)("div",{class:"onderdeel"},"Btw 21%",-1))),Ve={class:"bedrag"},Pe={class:"regels-row totaal totaalBold"},Ue=a((()=>(0,i._)("div",{class:"onderdeel"},"Totaal incl. btw",-1))),Ge={class:"bedrag"},Ie={class:"voorbeeld"},Te=["src"],Ze=["src"],Ke={key:6,class:"totaal"},Re=a((()=>(0,i._)("div",{class:"left"},"Totaal",-1))),He={class:"right"},We={class:"title"},Ye=a((()=>(0,i._)("div",{class:"btw"},"incl. btw",-1))),$e={class:"field"},Fe=a((()=>(0,i._)("label",{for:"opmerkingen"},"Opmerkingen",-1))),Ne=["disabled"],Qe={key:7,class:"field"},Je=a((()=>(0,i._)("label",{for:"rekening"},"Nummer",-1))),Xe=["placeholder","disabled"],et={key:8,class:"save-buttons"},tt=["disabled"],nt=["disabled"],it=["disabled"],at={key:9,class:"save-buttons"},lt=["disabled"],st=["disabled"],ot={key:10,class:"save-buttons"},rt=["disabled"],dt=["disabled"],ct=["disabled"],gt=["disabled"],ut=["disabled"],ht=["disabled"],mt=a((()=>(0,i._)("span",{class:"divider"},null,-1))),pt=["href"],vt=[a((()=>(0,i._)("button",{class:"mail"},"Mail lid",-1)))],bt=["href"],ft=[a((()=>(0,i._)("button",{class:"confirm"},"Download",-1)))],kt={key:11,class:"opslaan"};var wt=n(1339),At=n.n(wt);const _t={toevoegen:"plus",bewerken:"pencil",verwijderen:"trash",goedkeuren:"circle-check",verjaardag:"cake-candles",vraagteken:"circle-question",tonen:"eye",verbergen:"eye-slash",sluiten:"xmark",kopieren:"clipboard",undo:"arrow-rotate-left",redo:"arrow-rotate-right",alert:"stop",stop:"ban","mime-onbekend":"file-circle-exclamation","mime-audio":"file-audio","mime-html":"file-code","mime-word":"file-word","mime-excel":"file-excel","mime-powerpoint":"file-powerpoint","mime-image":"file-image","mime-pdf":"file-pdf","mime-plain":"file-lines","mime-zip":"file-zipper",citeren:"quote-left",slotje:"lock",plakkerig:"note-sticky",belangrijk:"star",ruby:"gem",asterisk_orange:"star",flag_red:"flag",flag_orange:"flag",flag_green:"flag",flag_blue:"flag",stats:"chart-line",resetpassword:"user-lock",instellingen:"gear","alert-danger":"bell-exclamation","alert-info":"bell-on","alert-success":"circle-check","alert-warning":"bell",tabel:"table",log:"rectangle-terminal",prullenbak:"dumpster",opslaan:"floppy-disk",calendar:"calendar",forum:"comments",profiel:"user",fotoalbum:"images",document:"file",woonoord:"home",commissie:"users",ondervereniging:"users",kring:"circle-notch",boek:"book",wiki:"book-atlas",rechten:"key"},yt=(0,i.aZ)({props:{icon:{default:"",type:String}},computed:{iconClass(){return this.icon.includes("fab fa-")?this.icon:this.icon in _t?`fas fa-${_t[this.icon]}`:`fas fa-${this.icon}`}}});var Dt=n(4388);const Ct=(0,Dt.Z)(yt,[["render",function(e,t,n,a,l,s){return(0,i.wg)(),(0,i.iD)("i",{class:(0,i.C_)(e.iconClass),"aria-hidden":"true"},null,2)}]]),xt=(0,i.aZ)({components:{Icon:Ct},props:{type:{required:!0,type:String},categorieen:{required:!0,type:Object},declaratieinput:{default:{opmerkingen:"",eigenRekening:!0,status:"concept",statusData:{uitbetaaldOp:"",goedgekeurdOp:"",afgekeurdOp:"",ingediendOp:"",magBeoordelen:!1,magUitbetalen:!1},bonnen:[]},type:Object},iban:{required:!0,type:String},tenaamstelling:{required:!0,type:String},email:{required:!0,type:String}},data:()=>({declaratie:{opmerkingen:"",eigenRekening:!0,status:"concept",statusData:{uitbetaaldOp:"",goedgekeurdOp:"",afgekeurdOp:"",ingediendOp:"",magBeoordelen:!1,magUitbetalen:!1},bonnen:[]},bonUploaden:!1,uploading:!1,geselecteerdeBon:0,money:{precision:2,decimal:",",thousands:" ",prefix:"€ "},submitting:!1,editing:!1,errors:[],isZoomFit:!0}),computed:{veldenDisabled(){return this.submitting||"concept"!==this.declaratie.status&&!this.editing},heeftBonnen(){return this.declaratie.bonnen&&this.declaratie.bonnen.length>0},totaal(){let e=0;for(let t of this.declaratie.bonnen)e+=this.berekening(t).totaalIncl;return this.round(e)}},created(){var e;this.declaratieinput&&(this.declaratie=this.declaratieinput),this.bonUploaden=0===(null===(e=this.declaratie.bonnen)||void 0===e?void 0:e.length)},methods:{zoomFit(){this.isZoomFit=!this.isZoomFit},nieuweBon(e,t){var n;this.declaratie.bonnen.push(((e,t)=>({id:t,bestandsnaam:e,datum:"",regels:[{omschrijving:"",bedrag:0,btw:""}]}))(e,t)),this.geselecteerdeBon=(null===(n=this.declaratie.bonnen)||void 0===n?void 0:n.length)-1},bonVerwijderen(e){this.declaratie.bonnen.splice(e,1)},nieuweRegel(e){e.regels.push({omschrijving:"",bedrag:0,btw:""})},regelVerwijderen(e,t){e.regels.splice(t,1)},round:e=>Math.round(100*(e+Number.EPSILON))/100,berekening(e){const t={totaalExcl:0,totaalIncl:0,btw:{0:0,9:0,21:0}};for(const n of e.regels)if(n.btw&&n.bedrag){n.bedrag=parseFloat(n.bedrag.toString());const e="incl"===n.btw.substr(0,4),i=parseInt(n.btw.substr(6).replace("%",""),10),a=i/100;e?(t.totaalExcl+=n.bedrag/(1+a),t.btw[i]+=n.bedrag/(1+a)*a,t.totaalIncl+=n.bedrag):(t.totaalExcl+=n.bedrag,t.btw[i]+=n.bedrag*a,t.totaalIncl+=n.bedrag*(1+a))}return{totaalExcl:this.round(t.totaalExcl),totaalIncl:this.round(t.totaalIncl),btw:{0:this.round(t.btw[0]),9:this.round(t.btw[9]),21:this.round(t.btw[21])}}},uploadBon(e){const t=new FormData;1===e.length&&(this.uploading=!0,t.append("bon",e[0],e[0].name),At()({method:"post",url:"/declaratie/upload",data:t,headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.uploading=!1,this.bonUploaden=!1,this.nieuweBon(e.data.file,e.data.id)})).catch((e=>{var t,n,i;this.uploading=!1,alert(null!==(i=null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.detail)&&void 0!==i?i:e)})))},declaratieOpslaan(e){this.submitting=!0,this.errors=[],At().request({method:"post",url:"/declaratie/opslaan",data:{declaratie:this.declaratie,indienen:"concept"===this.declaratie.status&&!0===e}}).then(this.processAjaxResponse).catch((e=>{var t,n,i;this.submitting=!1,alert(null!==(i=null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.detail)&&void 0!==i?i:e)}))},setStatus(e){this.submitting=!0,this.errors=[],At().request({method:"post",url:"/declaratie/status/"+this.declaratie.id,data:{status:e,nummer:this.declaratie.nummer}}).then(this.processAjaxResponse).catch((e=>{var t,n,i;this.submitting=!1,alert(null!==(i=null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.detail)&&void 0!==i?i:e)}))},processAjaxResponse(e){const{data:t}=e;t.id&&(this.declaratie.id=t.id,this.declaratie.status=t.status,this.declaratie.statusData=t.statusData,this.declaratie.statusData.ingediendOp&&(this.declaratie.datum=this.declaratie.statusData.ingediendOp),window.location.pathname.endsWith("nieuw")&&window.history.pushState("Declaratie "+t.id,"Declaratie","/declaratie/"+t.id)),this.errors=t.messages,this.submitting=!1,this.editing=!1,t.success&&window.scrollTo(0,0)},reload(){window.location.reload()},declaratieBewerken(){this.editing=!0},vulNummer(e){this.declaratie.nummer||(this.declaratie.nummer=e)},removeNummer(e){this.declaratie.nummer===e&&(this.declaratie.nummer=void 0)},conceptVerwijderen(){window.confirm("Wil je deze declaratie verwijderen?")&&(this.submitting=!0,At().request({method:"post",url:"/declaratie/verwijderen/"+this.declaratie.id}).then((e=>{window.location.replace(e.data.redirect)})).catch((e=>{var t,n,i;this.submitting=!1,alert(null!==(i=null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.detail)&&void 0!==i?i:e)})))},bedrag(e){const t=e.toString(),n=t.split(".");return 1===n.length?t+",00":n[0]+","+n[1].padEnd(2,"0")}}}),Et=(0,Dt.Z)(xt,[["render",function(e,t,n,a,wt,At){const _t=(0,i.up)("Icon"),yt=(0,i.up)("money"),Dt=(0,i.Q2)("input-mask"),Ct=(0,i.Q2)("money");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("h2",null,"Declaratie "+(0,i.zw)(e.declaratie.nummer),1),(0,i._)("div",s,[(0,i._)("div",{class:(0,i.C_)(["fase concept",{active:"concept"===e.declaratie.status,done:"concept"!==e.declaratie.status}])},o,2),(0,i._)("div",{class:(0,i.C_)(["fase ingediend",{active:"ingediend"===e.declaratie.status,done:"goedgekeurd"===e.declaratie.status||"afgekeurd"===e.declaratie.status||"uitbetaald"===e.declaratie.status}])},[r,"concept"!==e.declaratie.status?((0,i.wg)(),(0,i.iD)("span",d,(0,i.zw)(e.declaratie.statusData.ingediendDoor)+", "+(0,i.zw)(e.declaratie.statusData.ingediendOp),1)):(0,i.kq)("v-if",!0)],2),"afgekeurd"!==e.declaratie.status&&"C.S.R.-pas"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,i.C_)(["fase goedgekeurd",{active:"goedgekeurd"===e.declaratie.status,done:"uitbetaald"===e.declaratie.status}])},[c,e.declaratie.statusData.beoordeeldDoor?((0,i.wg)(),(0,i.iD)("span",g,(0,i.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,i.zw)(e.declaratie.statusData.goedgekeurdOp),1)):(0,i.kq)("v-if",!0)],2)):(0,i.kq)("v-if",!0),"afgekeurd"!==e.declaratie.status&&"voorgeschoten"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,i.C_)(["fase uitbetaald",{active:"goedgekeurd"===e.declaratie.status,done:"uitbetaald"===e.declaratie.status}])},[u,e.declaratie.statusData.beoordeeldDoor?((0,i.wg)(),(0,i.iD)("span",h,(0,i.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,i.zw)(e.declaratie.statusData.goedgekeurdOp),1)):(0,i.kq)("v-if",!0)],2)):(0,i.kq)("v-if",!0),"afgekeurd"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("div",{key:2,class:(0,i.C_)(["fase afgekeurd",{active:"afgekeurd"===e.declaratie.status}])},[m,e.declaratie.statusData.beoordeeldDoor?((0,i.wg)(),(0,i.iD)("span",p,(0,i.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,i.zw)(e.declaratie.statusData.afgekeurdOp),1)):(0,i.kq)("v-if",!0)],2)):(0,i.kq)("v-if",!0),"afgekeurd"!==e.declaratie.status&&"voorgeschoten"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",{key:3,class:(0,i.C_)(["fase goedgekeurd",{active:"uitbetaald"===e.declaratie.status}])},[v,(0,i._)("span",b,(0,i.zw)(e.declaratie.statusData.uitbetaaldOp),1)],2)):(0,i.kq)("v-if",!0)]),e.declaratie.statusData.magBeoordelen&&"concept"!==e.declaratie.status?((0,i.wg)(),(0,i.iD)("div",f,[k,(0,i.wy)((0,i._)("input",{id:"datumDeclaratie","onUpdate:modelValue":t[0]||(t[0]=t=>e.declaratie.datum=t),"data-inputmask":"'alias': 'datetime', 'inputFormat': 'dd-mm-yyyy'",type:"text",disabled:e.veldenDisabled},null,8,w),[[i.nr,e.declaratie.datum],[Dt]])])):(0,i.kq)("v-if",!0),(0,i._)("div",A,[_,(0,i.wy)((0,i._)("select",{id:"categorie","onUpdate:modelValue":t[1]||(t[1]=t=>e.declaratie.categorie=t),disabled:e.veldenDisabled},[D,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.categorieen,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{key:"categorie-"+e,value:e},(0,i.zw)(t),9,C)))),128))],8,y),[[i.bM,e.declaratie.categorie]])]),(0,i._)("div",x,[E,(0,i.wy)((0,i._)("input",{id:"omschrijving","onUpdate:modelValue":t[2]||(t[2]=t=>e.declaratie.omschrijving=t),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,B),[[i.nr,e.declaratie.omschrijving]])]),(0,i._)("div",z,[j,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"C.S.R.-pas","onUpdate:modelValue":t[3]||(t[3]=t=>e.declaratie.betaalwijze=t),type:"radio",name:"betaalwijze",value:"C.S.R.-pas",disabled:e.veldenDisabled},null,8,S),[[i.G2,e.declaratie.betaalwijze]]),O]),(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"voorgeschoten","onUpdate:modelValue":t[4]||(t[4]=t=>e.declaratie.betaalwijze=t),type:"radio",name:"betaalwijze",value:"voorgeschoten",disabled:e.veldenDisabled},null,8,M),[[i.G2,e.declaratie.betaalwijze]]),q])]),"voorgeschoten"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",L,[V,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"eigenRekening","onUpdate:modelValue":t[5]||(t[5]=t=>e.declaratie.eigenRekening=t),type:"radio",value:!0,disabled:e.veldenDisabled},null,8,P),[[i.G2,e.declaratie.eigenRekening]]),(0,i._)("label",U,"Naar eigen rekening: "+(0,i.zw)(e.iban)+" t.n.v. "+(0,i.zw)(e.tenaamstelling),1)]),(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"nietEigenRekening","onUpdate:modelValue":t[6]||(t[6]=t=>e.declaratie.eigenRekening=t),type:"radio",value:!1,disabled:e.veldenDisabled},null,8,G),[[i.G2,e.declaratie.eigenRekening]]),I])])):(0,i.kq)("v-if",!0),"voorgeschoten"!==e.declaratie.betaalwijze||e.declaratie.eigenRekening?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",T,[Z,(0,i.wy)((0,i._)("input",{id:"rekening","onUpdate:modelValue":t[7]||(t[7]=t=>e.declaratie.rekening=t),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,K),[[i.nr,e.declaratie.rekening]])])),"voorgeschoten"===e.declaratie.betaalwijze&&!e.declaratie.eigenRekening||"C.S.R.-pas"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",R,["voorgeschoten"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("label",H,"Ten name van")):((0,i.wg)(),(0,i.iD)("label",W,"Bij bedrijf")),(0,i.wy)((0,i._)("input",{id:"tnv","onUpdate:modelValue":t[8]||(t[8]=t=>e.declaratie.tnv=t),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,Y),[[i.nr,e.declaratie.tnv]])])):(0,i.kq)("v-if",!0),e.bonUploaden||!e.heeftBonnen?((0,i.wg)(),(0,i.iD)("div",$,[(0,i._)("div",F,[N,Q,(0,i._)("div",J,[e.uploading?((0,i.wg)(),(0,i.iD)("button",X,[(0,i.Wm)(_t,{icon:"spinner fa-spin"})])):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[ee,(0,i._)("input",{id:"fileUpload",type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:t[9]||(t[9]=t=>e.uploadBon(t.target.files))},null,32),e.heeftBonnen?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"open",onClick:t[10]||(t[10]=t=>e.bonUploaden=!1)}," Annuleren ")):(0,i.kq)("v-if",!0)],64))])])])):(0,i.kq)("v-if",!0),!e.bonUploaden&&e.heeftBonnen?((0,i.wg)(),(0,i.iD)("div",te,[(0,i._)("div",ne,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.declaratie.bonnen,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{key:"bon-"+n,class:"bon"},[n!==e.geselecteerdeBon?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"bon-collapsed",onClick:t=>e.geselecteerdeBon=n},[(0,i._)("div",ae,[(0,i._)("div",le,"Bon "+(0,i.zw)(Number(n)+1),1),(0,i._)("div",se,(0,i.zw)(t.datum),1)]),(0,i._)("div",oe,[(0,i._)("div",re," € "+(0,i.zw)(e.bedrag(e.berekening(t).totaalIncl)),1),de])],8,ie)):((0,i.wg)(),(0,i.iD)("div",ce,[(e.declaratie.bonnen.length>1||"concept"===e.declaratie.status)&&!e.veldenDisabled?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"bonVerwijderen",onClick:t=>e.bonVerwijderen(n)},[(0,i.Wm)(_t,{icon:"verwijderen"})],8,ge)):(0,i.kq)("v-if",!0),(0,i._)("div",ue,"Bon "+(0,i.zw)(Number(n)+1),1),(0,i._)("div",he,[(0,i._)("label",{for:"bon"+n+"_datum"},"Datum",8,me),(0,i.wy)((0,i._)("input",{id:"bon"+n+"_datum","onUpdate:modelValue":e=>t.datum=e,"data-inputmask":"'alias': 'datetime', 'inputFormat': 'dd-mm-yyyy'",type:"text",disabled:e.veldenDisabled},null,8,pe),[[i.nr,t.datum],[Dt]])]),(0,i._)("div",ve,[be,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.regels,((a,l)=>((0,i.wg)(),(0,i.iD)("div",{key:"regel-"+n+"-"+l,class:"regels-row"},[(0,i._)("div",fe,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e=>a.omschrijving=e,type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,ke),[[i.nr,a.omschrijving]])]),(0,i._)("div",we,[(0,i.wy)((0,i.Wm)(yt,{modelValue:a.bedrag,"onUpdate:modelValue":e=>a.bedrag=e,style:{"text-align":"right"},disabled:e.veldenDisabled},null,8,["modelValue","onUpdate:modelValue","disabled"]),[[Ct,e.money]])]),(0,i._)("div",Ae,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>a.btw=e,disabled:e.veldenDisabled},ye,8,_e),[[i.bM,a.btw]])]),t.regels.length>1&&!e.veldenDisabled?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"trash",onClick:n=>e.regelVerwijderen(t,l)},[(0,i.Wm)(_t,{icon:"verwijderen"})],8,De)):(0,i.kq)("v-if",!0)])))),128)),e.veldenDisabled?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"regels-row nieuw",onClick:n=>e.nieuweRegel(t)},[xe,(0,i._)("div",Ee,[(0,i.Wm)(_t,{icon:"toevoegen"})])],8,Ce)),(0,i._)("div",Be,[ze,(0,i._)("div",je,(0,i.zw)(e.bedrag(e.berekening(t).totaalExcl)),1)]),0!==e.berekening(t).btw[9]?((0,i.wg)(),(0,i.iD)("div",Se,[Oe,(0,i._)("div",Me,(0,i.zw)(e.bedrag(e.berekening(t).btw[9])),1)])):(0,i.kq)("v-if",!0),0!==e.berekening(t).btw[21]?((0,i.wg)(),(0,i.iD)("div",qe,[Le,(0,i._)("div",Ve,(0,i.zw)(e.bedrag(e.berekening(t).btw[21])),1)])):(0,i.kq)("v-if",!0),(0,i._)("div",Pe,[Ue,(0,i._)("div",Ge,(0,i.zw)(e.bedrag(e.berekening(t).totaalIncl)),1)])])]))])))),128)),e.veldenDisabled?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"nieuwe-bon",onClick:t[11]||(t[11]=t=>e.bonUploaden=!0)},[(0,i.Wm)(_t,{icon:"toevoegen"}),(0,i.Uk)(" Nieuwe bon ")]))]),(0,i._)("div",Ie,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.declaratie.bonnen,((n,a)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:"voorbeeld-"+a},[n.bestandsnaam.toLowerCase().endsWith(".pdf")?((0,i.wg)(),(0,i.iD)("iframe",{key:0,src:n.bestandsnaam,title:"Bon"},null,8,Te)):((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,i.C_)(["imageContainer",{zoomFit:e.isZoomFit}])},[(0,i._)("img",{src:n.bestandsnaam,alt:"Bon",onClick:t[12]||(t[12]=t=>e.zoomFit())},null,8,Ze)],2))])),[[i.F8,e.geselecteerdeBon===a]]))),128))])])):(0,i.kq)("v-if",!0),e.totaal>0?((0,i.wg)(),(0,i.iD)("div",Ke,[Re,(0,i._)("div",He,[(0,i._)("div",We,"€ "+(0,i.zw)(e.bedrag(e.totaal)),1),Ye])])):(0,i.kq)("v-if",!0),(0,i._)("div",$e,[Fe,(0,i.wy)((0,i._)("textarea",{id:"opmerkingen","onUpdate:modelValue":t[13]||(t[13]=t=>e.declaratie.opmerkingen=t),disabled:e.veldenDisabled},null,8,Ne),[[i.nr,e.declaratie.opmerkingen]])]),"concept"!==e.declaratie.status&&"afgekeurd"!==e.declaratie.status&&e.declaratie.statusData.magBeoordelen?((0,i.wg)(),(0,i.iD)("div",Qe,[Je,(0,i.wy)((0,i._)("input",{id:"nummer","onUpdate:modelValue":t[14]||(t[14]=t=>e.declaratie.nummer=t),placeholder:"ingediend"!==e.declaratie.status&&!e.editing||e.submitting?"":e.declaratie.statusData.nummerPrefix+"000",type:"text",disabled:"ingediend"!==e.declaratie.status&&!e.editing||e.submitting,onFocus:t[15]||(t[15]=t=>e.vulNummer(e.declaratie.statusData.nummerPrefix)),onBlur:t[16]||(t[16]=t=>e.removeNummer(e.declaratie.statusData.nummerPrefix))},null,40,Xe),[[i.nr,e.declaratie.nummer]])])):(0,i.kq)("v-if",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.errors,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:"error-"+t,class:"field alert alert-warning",role:"alert"},(0,i.zw)(e),1)))),128)),e.veldenDisabled||e.submitting||e.editing?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",et,["concept"===e.declaratie.status&&e.declaratie.id?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"afkeuren",disabled:e.submitting,onClick:t[17]||(t[17]=t=>e.conceptVerwijderen())}," Concept verwijderen ",8,tt)):(0,i.kq)("v-if",!0),"concept"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"concept",disabled:e.submitting,onClick:t[18]||(t[18]=t=>e.declaratieOpslaan(!1))}," Concept opslaan en later afmaken ",8,nt)):(0,i.kq)("v-if",!0),(0,i._)("button",{class:"confirm",disabled:e.submitting,onClick:t[19]||(t[19]=t=>e.declaratieOpslaan(!0))}," Declaratie indienen ",8,it)])),e.editing&&!e.submitting?((0,i.wg)(),(0,i.iD)("div",at,[(0,i._)("button",{class:"afkeuren",disabled:e.submitting,onClick:t[20]||(t[20]=t=>e.reload())}," Wijzigingen annuleren ",8,lt),(0,i._)("button",{class:"confirm",disabled:e.submitting,onClick:t[21]||(t[21]=t=>e.declaratieOpslaan(!0))}," Opslaan ",8,st)])):(0,i.kq)("v-if",!0),"concept"===e.declaratie.status||!e.declaratie.statusData.magBeoordelen||e.editing||e.submitting?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",ot,["ingediend"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"concept",disabled:e.submitting,onClick:t[22]||(t[22]=t=>e.setStatus("concept"))}," Terug naar concept ",8,rt)):(0,i.kq)("v-if",!0),"goedgekeurd"===e.declaratie.status||"afgekeurd"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"ingediend",disabled:e.submitting,onClick:t[23]||(t[23]=t=>e.setStatus("ingediend"))}," Terug naar ingediend ",8,dt)):(0,i.kq)("v-if",!0),"ingediend"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:2,class:"goedkeuren",disabled:e.submitting,onClick:t[24]||(t[24]=t=>e.setStatus("goedgekeurd"))}," Goedkeuren ",8,ct)):(0,i.kq)("v-if",!0),"ingediend"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:3,class:"afkeuren",disabled:e.submitting,onClick:t[25]||(t[25]=t=>e.setStatus("afgekeurd"))}," Afkeuren ",8,gt)):(0,i.kq)("v-if",!0),e.declaratie.statusData.magUitbetalen&&"goedgekeurd"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:4,class:"uitbetaald",disabled:e.submitting,onClick:t[26]||(t[26]=t=>e.setStatus("uitbetaald"))}," Uitbetaald ",8,ut)):(0,i.kq)("v-if",!0),e.declaratie.statusData.magUitbetalen&&"uitbetaald"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:5,class:"goedkeuren",disabled:e.submitting,onClick:t[27]||(t[27]=t=>e.setStatus("goedgekeurd"))}," Uitbetaald ongedaan maken ",8,ht)):(0,i.kq)("v-if",!0),mt,(0,i._)("button",{class:"concept",onClick:t[28]||(t[28]=t=>e.declaratieBewerken())},"Bewerken"),(0,i._)("a",{href:"mailto:"+e.email,class:"no-mail"},vt,8,pt),"goedgekeurd"===e.declaratie.status||"uitbetaald"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("a",{key:6,href:"/declaratie/print/"+e.declaratie.id,class:"no-mail"},ft,8,bt)):(0,i.kq)("v-if",!0)])),e.submitting?((0,i.wg)(),(0,i.iD)("div",kt,[(0,i.Wm)(_t,{icon:"spinner fa-spin"})])):(0,i.kq)("v-if",!0)])}],["__scopeId","data-v-32deb887"]]),Bt={class:"card groep"},zt={class:"card-body"},jt={class:"card-title"},St={class:"row"},Ot={key:0,class:"left-col col-md-5"},Mt={class:"card-text"},qt={class:"col results"},Lt={class:"table table-sm"};const Vt="checkbox_1",Pt="dropdown_1",Ut="radios_1",Gt="text_1";const It={class:"mb-3"},Tt={class:"custom-control custom-checkbox"},Zt=["id","checked"],Kt=["for"];const Rt=(0,i.aZ)({props:{keuze:{required:!0,type:Object},value:Boolean}}),Ht=(0,Dt.Z)(Rt,[["render",function(e,t,n,a,l,s){return(0,i.wg)(),(0,i.iD)("div",It,[(0,i._)("div",Tt,[(0,i._)("input",{id:`customCheck${e.keuze.naam}`,type:"checkbox",class:"custom-control-input",checked:e.value,onInput:t[0]||(t[0]=t=>e.$emit("input",t.target.checked))},null,40,Zt),(0,i._)("label",{class:"custom-control-label",for:`customCheck${e.keuze.naam}`},(0,i.zw)(e.keuze.description),9,Kt)])])}]]),Wt={class:"mb-3"},Yt={class:"w-100"},$t=["name"],Ft=["value","selected"];const Nt=(0,i.aZ)({props:{keuze:{required:!0,type:Object},value:{required:!0,type:String}}}),Qt=(0,Dt.Z)(Nt,[["render",function(e,t,n,a,l,s){return(0,i.wg)(),(0,i.iD)("div",Wt,[(0,i._)("label",Yt,[(0,i.Uk)((0,i.zw)(e.keuze.description)+" ",1),(0,i._)("select",{class:"form-select",name:"DropDownKeuze-"+e.keuze.naam,onInput:t[0]||(t[0]=t=>e.$emit("input",t.target.value))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.keuze.opties,((t,n)=>((0,i.wg)(),(0,i.iD)("option",{key:n,value:t,selected:t===e.value},(0,i.zw)(t),9,Ft)))),128))],40,$t)])])}]]),Jt={class:"mb-3"},Xt={class:"w-100"},en={class:"btn-group"},tn=["name","value","checked"];const nn=(0,i.aZ)({props:{keuze:{required:!0,type:Object},value:{required:!0,type:String}}}),an=(0,Dt.Z)(nn,[["render",function(e,t,n,a,l,s){return(0,i.wg)(),(0,i.iD)("div",Jt,[(0,i._)("label",Xt,(0,i.zw)(e.keuze.description),1),(0,i._)("div",en,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.keuze.opties,((n,a)=>((0,i.wg)(),(0,i.iD)("label",{key:a,class:(0,i.C_)({"btn btn-outline-primary":!0,active:n===e.value})},[(0,i._)("input",{type:"radio",name:"MultiSelectKeuze-"+e.keuze.naam,class:"d-none",value:n,checked:n===e.value,onInput:t[0]||(t[0]=t=>e.$emit("input",t.target.value))},null,40,tn),(0,i.Uk)((0,i.zw)(n),1)],2)))),128))])])}]]),ln={class:"mb-3"},sn=["for"],on=["id","value"];const rn=(0,i.aZ)({props:{keuze:{required:!0,type:Object},value:{required:!0,type:String}}}),dn=(0,Dt.Z)(rn,[["render",function(e,t,n,a,l,s){return(0,i.wg)(),(0,i.iD)("div",ln,[(0,i._)("label",{for:"customCheck"+e.keuze.naam},(0,i.zw)(e.keuze.description),9,sn),(0,i._)("input",{id:"customCheck"+e.keuze.naam,type:"text",class:"form-control",value:e.value,onInput:t[0]||(t[0]=t=>e.$emit("input",t.target.value))},null,40,on)])}]]),cn=(0,i.aZ)({props:{keuzes:{required:!0,type:Array},opmerking:{required:!0,type:Array},aangemeld:{required:!0,type:Boolean}},data:()=>({opmerkingData:[]}),created(){this.opmerkingData=this.opmerking},methods:{getKeuze(e){return this.keuzes.find((t=>t.naam===e))},getComponent(e){const t=this.getKeuze(e).type;switch(t){case Vt:return Ht;case Gt:return dn;case Ut:return an;case Pt:return Qt;default:throw Error(`Kan component voor GroepKeuzeType '${t}' niet vinden.`)}}}}),gn=(0,Dt.Z)(cn,[["render",function(e,t,n,a,l,s){return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.opmerkingData,(t=>((0,i.wg)(),(0,i.j4)((0,i.LL)(e.getComponent(t.naam)),{key:t.naam,modelValue:t.selectie,"onUpdate:modelValue":e=>t.selectie=e,keuze:e.getKeuze(t.naam)},null,8,["modelValue","onUpdate:modelValue","keuze"])))),128)),(0,i._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=t=>e.$emit("aanmelden",e.opmerkingData))}," Aanmelden ")])}]]),un=(0,i._)("th",{scope:"col"},null,-1);const hn=(0,i.aZ)({props:{keuzes:{required:!0,type:Array}}}),mn=(0,Dt.Z)(hn,[["render",function(e,t,n,a,l,s){return(0,i.wg)(),(0,i.iD)("thead",null,[(0,i._)("tr",null,[un,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.keuzes,(e=>((0,i.wg)(),(0,i.iD)("th",{scope:"col",key:e.description},(0,i.zw)(e.description),1)))),128))])])}]]),pn=["innerHTML"],vn=["innerHTML"];var bn=n(1364);const fn=(0,i.aZ)({components:{Icon:Ct},props:{lid:{required:!0,type:Object},keuzes:{required:!0,type:Array}},methods:{getLidKeuze(e){return this.lid.opmerking2?this.lid.opmerking2.find((t=>t.naam===e.naam)):void 0},isKeuzeCheckbox:e=>e.type===Vt,renderSelectie:e=>(0,bn.Ak)(e.selectie)}}),kn=(0,Dt.Z)(fn,[["render",function(e,t,n,a,l,s){const o=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.kq)(" eslint-disable vue/no-v-html "),(0,i._)("tr",null,[(0,i._)("td",{class:"text-nowrap",innerHTML:e.lid.link},null,8,pn),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.keuzes,(t=>((0,i.wg)(),(0,i.iD)("td",{key:t.naam},[void 0===e.getLidKeuze(t)?((0,i.wg)(),(0,i.j4)(o,{key:0,icon:"ban"})):e.isKeuzeCheckbox(t)&&e.getLidKeuze(t).selectie?((0,i.wg)(),(0,i.j4)(o,{key:1,icon:"check"})):e.isKeuzeCheckbox(t)&&!e.getLidKeuze(t).selectie?((0,i.wg)(),(0,i.j4)(o,{key:2,icon:"xmark"})):((0,i.wg)(),(0,i.iD)("span",{key:3,innerHTML:e.renderSelectie(e.getLidKeuze(t))},null,8,vn))])))),128))])],2112)}]]),wn=(0,i.aZ)({components:{GroepAanmeldForm:gn,GroepLidRow:kn,GroepHeaderRow:mn},props:{settings:{required:!0,type:Object},groep:{required:!0,type:Object}},data:()=>({id:0,naam:"",familie:"",beginMoment:new Date,eindMoment:new Date,status:"",samenvatting:"",omschrijving:"",makerUid:"",versie:"",keuzelijst2:[],leden:[],mijnUid:"",mijnLink:"",aanmeldUrl:"",mijnOpmerking:[]}),computed:{mijnAanmelding(){return this.leden.find((e=>e.uid===this.mijnUid))},aangemeld(){return void 0!==this.mijnAanmelding},magAanmelden(){return console.log(this.groep.aanmeldenTot,new Date),!this.groep.aanmeldenTot||new Date(this.groep.aanmeldenTot)>new Date}},created(){this.id=this.groep.id,this.naam=this.groep.naam,this.familie=this.groep.familie,this.beginMoment=this.groep.beginMoment,this.eindMoment=this.groep.eindMoment,this.status=this.groep.status,this.samenvatting=this.groep.samenvatting,this.omschrijving=this.groep.omschrijving,this.makerUid=this.groep.makerUid,this.versie=this.groep.versie,this.keuzelijst2=this.groep.keuzelijst2,this.leden=this.groep.leden,this.mijnUid=this.settings.mijn_uid,this.mijnLink=this.settings.mijn_link,this.aanmeldUrl=this.settings.aanmeld_url,this.aangemeld?this.mijnOpmerking=this.mijnAanmelding.opmerking2:this.mijnOpmerking=this.keuzelijst2.map((e=>({selectie:e.default,naam:e.naam})))},methods:{aanmelden(){this.aangemeld||(this.leden.push({uid:this.mijnUid,link:this.mijnLink,opmerking2:this.mijnOpmerking}),At().post(this.aanmeldUrl,{opmerking2:this.mijnOpmerking}))}}});var An=n(5458),_n=n.n(An),yn=n(550),Dn={insert:"head",singleton:!1};_n()(yn.Z,Dn);yn.Z.locals;const Cn=(0,Dt.Z)(wn,[["render",function(e,t,n,a,l,s){const o=(0,i.up)("GroepAanmeldForm"),r=(0,i.up)("GroepHeaderRow"),d=(0,i.up)("GroepLidRow");return(0,i.wg)(),(0,i.iD)("div",Bt,[(0,i._)("div",zt,[(0,i._)("h3",jt,(0,i.zw)(e.naam),1),(0,i._)("div",St,[!e.aangemeld&&e.magAanmelden?((0,i.wg)(),(0,i.iD)("div",Ot,[(0,i._)("p",Mt,(0,i.zw)(e.samenvatting),1),(0,i.Wm)(o,{keuzes:e.keuzelijst2,opmerking:e.mijnOpmerking,aangemeld:e.aangemeld,onAanmelden:e.aanmelden},null,8,["keuzes","opmerking","aangemeld","onAanmelden"])])):(0,i.kq)("v-if",!0),(0,i._)("div",qt,[(0,i._)("table",Lt,[(0,i.Wm)(r,{keuzes:e.keuzelijst2},null,8,["keuzes"]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.leden,(t=>((0,i.wg)(),(0,i.j4)(d,{key:t.uid,lid:t,keuzes:e.keuzelijst2},null,8,["lid","keuzes"])))),128))])])])])])])}],["__scopeId","data-v-4994458c"]]),xn=e=>((0,i.dD)("data-v-3da8cb3f"),e=e(),(0,i.Cn)(),e),En={key:0,class:"score-blok"},Bn={class:"titel"},zn=xn((()=>(0,i._)("div",{class:"score-titel"},"Jouw score:",-1))),jn={class:"score"},Sn={key:1},On={class:"row"},Mn={class:"col-sm-6"},qn=xn((()=>(0,i._)("strong",{class:"mb-1 block"},"Lichting(en)",-1))),Ln=xn((()=>(0,i._)("label",{for:"alleLichtingen"},"Alle lichtingen",-1))),Vn=["id","value"],Pn=["checked"],Un=["for"],Gn={class:"col-sm-6"},In=xn((()=>(0,i._)("strong",{class:"mb-1 block"},"Verticale(n)",-1))),Tn=xn((()=>(0,i._)("label",{for:"alleVerticalen"},"Alle verticalen",-1))),Zn=["id","value"],Kn=["checked"],Rn=["for"],Hn=xn((()=>(0,i._)("strong",{class:"mb-1 block"},"Onderkant verbergen",-1))),Wn=xn((()=>(0,i._)("label",{for:"verbergOnderkant"},"Voorkom leesbare namen op foto's",-1))),Yn=xn((()=>(0,i._)("strong",{class:"mt-3 mb-1 block"},"Antwoordmethode",-1))),$n=[xn((()=>(0,i._)("option",{value:"voornaam"},"Voornaam",-1))),xn((()=>(0,i._)("option",{value:"achternaam"},"Achternaam",-1))),xn((()=>(0,i._)("option",{value:"combi"},"Voor- en achternaam",-1))),xn((()=>(0,i._)("option",{value:"civi"},"Achternaam en achtervoegsel",-1)))],Fn={key:2},Nn={class:"progress"},Qn=["src"],Jn={class:"info"},Xn={class:"naam"},ei={class:"tekst"},ti={key:0},ni={key:1,class:"mb-1 block"},ii={key:2,class:"mb-1 block"},ai={key:3,class:"mb-1 block"},li={key:4,class:"mb-1 block"},si=["value"];const oi=[],ri=e=>{if(oi.includes(e))return;oi.push(e);(new Image).src=e},di=e=>Array.from(new Set(e)),ci=(0,i.aZ)({components:{Icon:Ct},props:{leden:{required:!0,type:Array}},data:()=>({alleLichtingen:!1,alleVerticalen:!0,lichtingSelectie:[],verticaleSelectie:[],antwoordMethode:"voornaam",aantalPerKeer:5,verbergOnderkant:!0,started:!1,finished:!1,goed:[],opnieuw:[],fout:[],todo:[],laatste:null,laatsteGoed:null,huidig:null,ingevuld:"",titel:""}),computed:{aantal(){return this.gefilterdeLeden.length},gefilterdeLeden(){return this.leden.filter((e=>(this.alleLichtingen||this.lichtingSelectie.includes(e.lichting))&&(this.alleVerticalen||this.verticaleSelectie.includes(e.verticale))))},lichtingen(){return di(this.leden.map((e=>e.lichting))).sort()},verticalen(){return di(this.leden.map((e=>e.verticale))).sort()},klaarVoorDeStart(){return this.gefilterdeLeden.length>0},totaalAantal(){return this.todo.length+this.goed.length+this.opnieuw.length+this.fout.length},percentageGoed(){return this.totaalAantal>0?this.goed.length/this.totaalAantal*100:0},percentageOpnieuw(){return this.totaalAantal>0?this.opnieuw.length/this.totaalAantal*100:0},percentageFout(){return this.totaalAantal>0?this.fout.length/this.totaalAantal*100:0}},methods:{start(){this.klaarVoorDeStart&&(this.started=!0,this.goed=[],this.opnieuw=[],this.fout=[],this.todo=this.gefilterdeLeden,(e=>{let t,n,i=e.length;for(;0!==i;)n=Math.floor(Math.random()*i),i-=1,t=e[i],e[i]=e[n],e[n]=t})(this.todo),this.huidig=null,this.laatste=null,this.finished=!1,this.volgende(),this.titel=this.bouwTitel(),document.title=`C.S.R. Delft - Namen ${this.titel} leren`,window.scrollTo(0,0))},volgende(){const e=this.fout.concat(this.todo.slice(0,Math.max(this.aantalPerKeer-this.fout.length,0))),t=e.filter((t=>1===e.length||!this.huidig||t.uid!==this.huidig.uid));if(t.length>0){for(const e of t)ri("/profiel/pasfoto/"+e.uid+".jpg");this.huidig=t[Math.floor(Math.random()*t.length)],this.ingevuld=""}else this.finished=!0,this.started=!1},controleer(){if(null==this.huidig)throw new Error("huidig niet gezet");const e=[];"voornaam"!==this.antwoordMethode&&"combi"!==this.antwoordMethode||e.push(this.huidig.voornaam),"achternaam"!==this.antwoordMethode&&"combi"!==this.antwoordMethode&&"civi"!==this.antwoordMethode||(this.huidig.tussenvoegsel&&e.push(this.huidig.tussenvoegsel),e.push(this.huidig.achternaam)),"civi"===this.antwoordMethode&&this.huidig.postfix&&e.push(this.huidig.postfix);const t=e.map((e=>e.trim())).join(" ");this.laatste=this.huidig,this.laatsteGoed=t.toLowerCase().replace(".","")===this.ingevuld.toLowerCase().replace(".","");let n=this.todo.findIndex((e=>{var t;return e.uid===(null===(t=this.huidig)||void 0===t?void 0:t.uid)}));-1===n?this.laatsteGoed&&(n=this.fout.findIndex((e=>{var t;return e.uid===(null===(t=this.huidig)||void 0===t?void 0:t.uid)})),this.fout.splice(n,1),this.opnieuw.push(this.huidig)):(this.todo.splice(n,1),this.laatsteGoed?this.goed.push(this.huidig):this.fout.push(this.huidig)),this.volgende()},bouwTitel(){if(this.alleLichtingen&&this.alleVerticalen)return"Alle leden";let e="";return this.alleLichtingen||(this.lichtingSelectie.sort(),e+="Lichting ",e+=this.lichtingSelectie.slice(0,this.lichtingSelectie.length-1).join(", "),this.lichtingSelectie.length>1&&(e+=" & "),e+=this.lichtingSelectie[this.lichtingSelectie.length-1]),this.alleVerticalen||(e&&(e+=", "),this.verticaleSelectie.sort(),e+=this.verticaleSelectie.slice(0,this.verticaleSelectie.length-1).join(", "),this.verticaleSelectie.length>1&&(e+=" & "),e+=this.verticaleSelectie[this.verticaleSelectie.length-1]),e}}});var gi=n(3676),ui={insert:"head",singleton:!1};_n()(gi.Z,ui);gi.Z.locals;const hi=(0,Dt.Z)(ci,[["render",function(e,t,n,a,l,s){const o=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)("div",null,[e.finished?((0,i.wg)(),(0,i.iD)("div",En,[(0,i._)("div",Bn,(0,i.zw)(e.titel),1),zn,(0,i._)("div",jn,(0,i.zw)(Math.round(e.percentageGoed))+"%",1)])):(0,i.kq)("v-if",!0),e.started?e.finished?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",Fn,[(0,i._)("div",Nn,[(0,i._)("div",{class:"correct",style:(0,i.j5)({width:e.percentageGoed+"%"})},null,4),(0,i._)("div",{class:"again",style:(0,i.j5)({width:e.percentageOpnieuw+"%"})},null,4),(0,i._)("div",{class:"wrong",style:(0,i.j5)({width:e.percentageFout+"%"})},null,4)]),e.laatste?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,i.C_)(["laatste",{goed:e.laatsteGoed}])},[(0,i._)("img",{src:"/profiel/pasfoto/"+e.laatste.uid+".jpg",alt:""},null,8,Qn),(0,i._)("div",Jn,[(0,i._)("div",Xn,[(0,i._)("span",{class:(0,i.C_)({bold:"voornaam"===e.antwoordMethode||"combi"===e.antwoordMethode})},(0,i.zw)(e.laatste.voornaam),3),(0,i._)("span",{class:(0,i.C_)({bold:"achternaam"===e.antwoordMethode||"combi"===e.antwoordMethode||"civi"===e.antwoordMethode})},(0,i.zw)(e.laatste.tussenvoegsel)+" "+(0,i.zw)(e.laatste.achternaam),3),e.laatste.postfix?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,i.C_)({bold:"civi"===e.antwoordMethode})},(0,i.zw)(e.laatste.postfix),3)):(0,i.kq)("v-if",!0)]),(0,i._)("div",ei,[(0,i._)("span",null,(0,i.zw)(e.laatste.lichting),1),e.laatste.verticale&&"Geen"!==e.laatste.verticale?((0,i.wg)(),(0,i.iD)("span",ti,(0,i.zw)(e.laatste.verticale),1)):(0,i.kq)("v-if",!0),(0,i._)("span",null,(0,i.zw)(e.laatste.studie),1)])]),e.laatsteGoed?((0,i.wg)(),(0,i.j4)(o,{key:0,icon:"check"})):((0,i.wg)(),(0,i.j4)(o,{key:1,icon:"xmark"}))],2)):(0,i.kq)("v-if",!0),(0,i._)("div",{class:(0,i.C_)(["pasfotoContainer",{onderkantVerbergen:e.verbergOnderkant}])},[(0,i._)("div",{style:(0,i.j5)({"background-image":"url(/profiel/pasfoto/"+e.huidig.uid+".jpg)"}),class:"pasfoto"},null,4)],2),"voornaam"===e.antwoordMethode?((0,i.wg)(),(0,i.iD)("strong",ni,"Voornaam:")):(0,i.kq)("v-if",!0),"achternaam"===e.antwoordMethode?((0,i.wg)(),(0,i.iD)("strong",ii,"Achternaam:")):(0,i.kq)("v-if",!0),"combi"===e.antwoordMethode?((0,i.wg)(),(0,i.iD)("strong",ai,"Voor- en achternaam:")):(0,i.kq)("v-if",!0),"civi"===e.antwoordMethode?((0,i.wg)(),(0,i.iD)("strong",li,"Achternaam en achtervoegsel:")):(0,i.kq)("v-if",!0),(0,i._)("input",{type:"text",class:"form-control",value:e.ingevuld,autofocus:"",onInput:t[7]||(t[7]=t=>e.ingevuld=t.target.value),onKeydown:t[8]||(t[8]=(0,i.D2)(((...t)=>e.controleer&&e.controleer(...t)),["enter"]))},null,40,si)])):((0,i.wg)(),(0,i.iD)("div",Sn,[(0,i._)("div",On,[(0,i._)("div",Mn,[qn,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"alleLichtingen","onUpdate:modelValue":t[0]||(t[0]=t=>e.alleLichtingen=t),type:"checkbox"},null,512),[[i.e8,e.alleLichtingen]]),Ln]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.lichtingen,(n=>((0,i.wg)(),(0,i.iD)("div",{key:n},[e.alleLichtingen?(0,i.kq)("v-if",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,id:"lichting"+n,"onUpdate:modelValue":t[1]||(t[1]=t=>e.lichtingSelectie=t),type:"checkbox",value:n},null,8,Vn)),[[i.e8,e.lichtingSelectie]]),e.alleLichtingen?((0,i.wg)(),(0,i.iD)("input",{key:1,type:"checkbox",checked:e.alleLichtingen,disabled:""},null,8,Pn)):(0,i.kq)("v-if",!0),(0,i._)("label",{for:"lichting"+n},(0,i.zw)(n),9,Un)])))),128))]),(0,i._)("div",Gn,[In,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"alleVerticalen","onUpdate:modelValue":t[2]||(t[2]=t=>e.alleVerticalen=t),type:"checkbox"},null,512),[[i.e8,e.alleVerticalen]]),Tn]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.verticalen,(n=>((0,i.wg)(),(0,i.iD)("div",{key:n},[e.alleVerticalen?(0,i.kq)("v-if",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,id:"verticale"+n,"onUpdate:modelValue":t[3]||(t[3]=t=>e.verticaleSelectie=t),type:"checkbox",value:n},null,8,Zn)),[[i.e8,e.verticaleSelectie]]),e.alleVerticalen?((0,i.wg)(),(0,i.iD)("input",{key:1,type:"checkbox",checked:e.alleVerticalen,disabled:""},null,8,Kn)):(0,i.kq)("v-if",!0),(0,i._)("label",{for:"verticale"+n},(0,i.zw)(n),9,Rn)])))),128))])]),(0,i._)("div",null,[Hn,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"verbergOnderkant","onUpdate:modelValue":t[4]||(t[4]=t=>e.verbergOnderkant=t),type:"checkbox"},null,512),[[i.e8,e.verbergOnderkant]]),Wn])]),Yn,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.antwoordMethode=t),class:"form-control"},$n,512),[[i.bM,e.antwoordMethode]]),(0,i._)("a",{href:"#",class:(0,i.C_)(["btn btn-primary btn-block mt-3",{disabled:!e.klaarVoorDeStart}]),onClick:t[6]||(t[6]=(0,i.iM)(((...t)=>e.start&&e.start(...t)),["prevent"]))},"Start met "+(0,i.zw)(e.aantal)+" "+(0,i.zw)(1===e.aantal?"lid":"leden"),3)]))])}],["__scopeId","data-v-3da8cb3f"]]),mi={class:"card peiling"},pi={class:"card-body"},vi=["href"],bi={class:"totaal"},fi={class:"card-title"},ki=["innerHTML"],wi={key:0},Ai=[(e=>((0,i.dD)("data-v-70daba20"),e=e(),(0,i.Cn)(),e))((()=>(0,i._)("div",{class:"card-body"},"Bedankt voor het stemmen!",-1)))],_i={key:1,class:"card-body"},yi={key:0,class:"pb-2"},Di={class:"list-group list-group-flush"},Ci={key:0,class:"card-footer footer"},xi=["disabled"];var Ei=n(8098);const Bi={key:0,class:"row"},zi={class:"col-md-4"},ji={class:"col-md-6"},Si={class:"col-md-2"},Oi=["innerHTML"],Mi={key:1,class:"row"},qi={class:"col-md-12"},Li={class:"form-check"},Vi=["id","value","disabled","checked"],Pi=["for"],Ui=["innerHTML"];var Gi=n(3757);const Ii={class:"progress"};const Ti=(0,i.aZ)({props:{progress:{default:0,type:[Number,String]}}}),Zi=(0,Dt.Z)(Ti,[["render",function(e,t,n,a,l,s){return(0,i.wg)(),(0,i.iD)("div",Ii,[(0,i._)("div",{class:"progress-bar",style:(0,i.j5)({width:e.progress+"%"})},[(0,i.WI)(e.$slots,"default")],4)])}]]),Ki=(0,i.aZ)({components:{ProgressBar:Zi},props:{id:{default:0,type:Number},peilingId:{default:0,type:Number},titel:{default:"",type:String},beschrijving:{default:"",type:String},stemmen:{default:0,type:Number},magStemmen:Boolean,aantalGestemd:{default:0,type:Number},heeftGestemd:Boolean,keuzesOver:Boolean,selected:Boolean},computed:{kanStemmen(){return this.magStemmen&&!this.heeftGestemd},progress(){return(this.stemmen/this.aantalGestemd*100).toFixed(2)},progressText(){return`${this.progress}% (${this.stemmen})`},isDisabled(){return!this.selected&&!this.keuzesOver}},watch:{kanStemmen(){this.initBeschrijvingContext()}},mounted(){this.initBeschrijvingContext()},methods:{initBeschrijvingContext(){setTimeout((()=>{this.kanStemmen?(0,Gi.S)(this.$refs.beschrijving):(0,Gi.S)(this.$refs.beschrijving_gestemd)}))}}}),Ri=(0,Dt.Z)(Ki,[["render",function(e,t,n,a,l,s){const o=(0,i.up)("ProgressBar");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.kq)(" eslint-disable vue/no-v-html "),e.kanStemmen?((0,i.wg)(),(0,i.iD)("div",Mi,[(0,i._)("div",qi,[(0,i._)("div",Li,[(0,i._)("input",{id:"PeilingOptie"+e.id,type:"checkbox",class:"form-check-input",name:"optie",value:e.id,disabled:e.isDisabled,checked:e.selected,onChange:t[0]||(t[0]=t=>e.$emit("input",t.target.checked))},null,40,Vi),(0,i._)("label",{for:"PeilingOptie"+e.id,class:"form-check-label"},(0,i.zw)(e.titel),9,Pi)])]),(0,i._)("div",{ref:"beschrijving",class:"col-md-12 pt-2",innerHTML:e.beschrijving},null,8,Ui)])):((0,i.wg)(),(0,i.iD)("div",Bi,[(0,i._)("div",zi,(0,i.zw)(e.titel),1),(0,i._)("div",ji,[(0,i.Wm)(o,{progress:e.progress},null,8,["progress"])]),(0,i._)("div",Si,(0,i.zw)(e.progressText),1),(0,i._)("div",{ref:"beschrijving_gestemd",class:"col text-muted pt-2",innerHTML:e.beschrijving},null,8,Oi)]))],2112)}]]);var Hi=n(6217);const Wi=(0,i.aZ)({components:{Icon:Ct},props:{id:{default:0,type:Number}},data:()=>({icon:"plus",text:"Optie toevoegen"}),computed:{optieToevoegenUrl(){return`/peilingen/opties/${this.id}/toevoegen`}},methods:{toevoegen(e){e.preventDefault(),this.icon="spinner fa-spin",At().post(this.optieToevoegenUrl.toString()).then((e=>{(0,Hi.q)(e.data),this.icon="plus"})).catch((()=>{this.icon="ban",this.text="Mag geen optie meer toevoegen"}))}}}),Yi=(0,Dt.Z)(Wi,[["render",function(e,t,n,a,l,s){const o=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("a",{onClick:t[0]||(t[0]=(...t)=>e.toevoegen&&e.toevoegen(...t))},[(0,i.Wm)(o,{icon:e.icon},null,8,["icon"]),(0,i.Uk)(" "+(0,i.zw)(e.text),1)])])}]]),$i=(0,i.aZ)({components:{Icon:Ct,PeilingOptie:Ri,PeilingOptieToevoegen:Yi,BPagination:Ei.c},props:{settings:{default:()=>({}),type:Object}},data:()=>({id:"",titel:"",beschrijving:"",resultaatZichtbaar:!1,aantalVoorstellen:0,aantalStemmen:0,aantalGestemd:0,isMod:!1,heeftGestemd:!1,magStemmen:!1,opties:[],zoekterm:"",huidigePagina:1,paginaSize:10}),computed:{beheerUrl(){return`/peilingen/beheer/${this.id}`},selected(){return this.opties.filter((e=>e.selected))},optiesFiltered(){return this.opties.filter((e=>e.titel.toLowerCase().includes(this.zoekterm.toLowerCase())))},optiesZichtbaar(){const e=(this.huidigePagina-1)*this.paginaSize,t=e+this.paginaSize;return this.optiesFiltered.slice(e,t)},keuzesOver(){return this.aantalStemmen-this.selected.length>0},strKeuzes(){return`${this.selected.length} van de ${this.aantalStemmen} geselecteerd`},strAantalGestemd(){return this.aantalGestemd>0?`(${this.aantalGestemd} stem${this.aantalGestemd>1?"men":""})`:""},zoekbalkZichtbaar(){return this.opties.length>10}},created(){this.id=this.settings.id,this.titel=this.settings.titel,this.beschrijving=this.settings.beschrijving,this.resultaatZichtbaar=this.settings.resultaat_zichtbaar,this.aantalVoorstellen=this.settings.aantal_voorstellen,this.aantalStemmen=this.settings.aantal_stemmen,this.aantalGestemd=this.settings.aantal_gestemd,this.isMod=this.settings.is_mod,this.heeftGestemd=this.settings.heeft_gestemd,this.magStemmen=this.settings.mag_stemmen,this.opties=this.settings.opties,document.addEventListener("modalClose",(()=>this.reload()))},methods:{stem(){At().post(`/peilingen/stem/${this.id}`,{opties:this.selected.map((e=>e.id))}).then((()=>{this.heeftGestemd=!0,this.aantalGestemd=this.aantalGestemd+this.selected.length,this.reload()}))},reload(){At().post(`/peilingen/opties/${this.id}`).then((e=>{this.opties=e.data.data}))}}});var Fi=n(6450),Ni={insert:"head",singleton:!1};_n()(Fi.Z,Ni);Fi.Z.locals;const Qi=(0,Dt.Z)($i,[["render",function(e,t,n,a,l,s){const o=(0,i.up)("Icon"),r=(0,i.up)("PeilingOptie"),d=(0,i.up)("BPagination"),c=(0,i.up)("PeilingOptieToevoegen");return(0,i.wg)(),(0,i.iD)("div",mi,[(0,i._)("div",pi,[e.isMod?((0,i.wg)(),(0,i.iD)("a",{key:0,href:e.beheerUrl,class:"bewerken"},[(0,i.Wm)(o,{icon:"pencil"})],8,vi)):(0,i.kq)("v-if",!0),(0,i._)("span",bi,(0,i.zw)(e.strAantalGestemd),1),(0,i._)("h3",fi,(0,i.zw)(e.titel),1),(0,i.kq)(" eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line "),(0,i._)("p",{class:"card-text pt-2",innerHTML:e.beschrijving},null,8,ki)]),(0,i._)("div",null,[e.heeftGestemd&&!e.resultaatZichtbaar?((0,i.wg)(),(0,i.iD)("div",wi,Ai)):((0,i.wg)(),(0,i.iD)("div",_i,[e.zoekbalkZichtbaar?((0,i.wg)(),(0,i.iD)("div",yi,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.zoekterm=t),type:"text",placeholder:"Zoeken",class:"form-control"},null,512),[[i.nr,e.zoekterm]])])):(0,i.kq)("v-if",!0),(0,i._)("ul",Di,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.optiesZichtbaar,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.id,class:"list-group-item"},[((0,i.wg)(),(0,i.j4)(r,{id:t.id,key:t.id,modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e,"peiling-id":e.id,titel:t.titel,beschrijving:t.beschrijving_formatted,stemmen:t.stemmen,"mag-stemmen":e.magStemmen,"heeft-gestemd":e.heeftGestemd,"aantal-gestemd":e.aantalGestemd,"keuzes-over":e.keuzesOver,selected:t.selected},null,8,["id","modelValue","onUpdate:modelValue","peiling-id","titel","beschrijving","stemmen","mag-stemmen","heeft-gestemd","aantal-gestemd","keuzes-over","selected"]))])))),128))]),e.optiesFiltered.length>e.paginaSize?((0,i.wg)(),(0,i.j4)(d,{key:1,modelValue:e.huidigePagina,"onUpdate:modelValue":t[1]||(t[1]=t=>e.huidigePagina=t),size:"md",align:"center",limit:15,"total-rows":e.optiesFiltered.length,"per-page":e.paginaSize},null,8,["modelValue","total-rows","per-page"])):(0,i.kq)("v-if",!0)]))]),!e.heeftGestemd&&e.magStemmen?((0,i.wg)(),(0,i.iD)("div",Ci,[(0,i._)("div",null,(0,i.zw)(e.strKeuzes),1),e.aantalVoorstellen>0?((0,i.wg)(),(0,i.j4)(c,{key:0,id:e.id},null,8,["id"])):(0,i.kq)("v-if",!0),(0,i._)("input",{type:"button",class:"btn btn-primary",value:"Stem",disabled:0===e.selected.length,onClick:t[2]||(t[2]=(...t)=>e.stem&&e.stem(...t))},null,8,xi)])):(0,i.kq)("v-if",!0)])}],["__scopeId","data-v-70daba20"]]);var Ji=n(9633),Xi=n.n(Ji),ea=n(9825),ta=n.n(ea);const na={peiling:Qi,groep:Cn,namenleren:hi,declaratie:Et},ia=e=>na[e],aa=(e,t)=>{const n=(0,i.ri)(e,t);return n.directive("input-mask",{beforeMount:function(e){(new(Xi())).mask(e)}}),n.use(ta(),{precision:2,decimal:",",thousands:" ",prefix:"€ "}),n}},7663:(e,t,n)=>{e.exports=n.p+"images/7708997ef1f5564db44e.gif"}}]);
//# sourceMappingURL=1093.ad467764bef74c67c598.bundle.js.map