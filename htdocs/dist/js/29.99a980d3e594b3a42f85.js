(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{282:function(n,e,o){"use strict";o.r(e),o.d(e,"FotoAlbum",function(){return l});var t,a=o(0),f=o.n(a),i=o(55),u=o(4),s=(o(283),t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a])})(n,e)},function(n,e){function a(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),l=function(e){function n(n){var a=e.call(this)||this;return a.wrapper=n,a.isLoggedIn=n.data("isLoggedIn"),a.magAanpassen=n.data("magAanpassen"),a.slideshowInterval=n.data("slideshowInterval"),a.root=n.data("root"),a.itemsJson=n.data("fotos"),n.find(".gallery").jGallery({width:"100%",height:"897px",mode:"standard",canChangeMode:!0,swipeEvents:!1,browserHistory:!0,disabledOnIE8AndOlder:!0,preloadAll:!1,maxMobileWidth:767,draggableZoomHideNavigationOnMobile:!0,autostart:!0,autostartAtAlbum:1,canZoom:!0,draggableZoom:!0,zoomSize:"fit","zoomSize:":"original",backgroundColor:"fff",textColor:"193b61",thumbnails:!0,thumbType:"image",thumbWidth:150,thumbHeight:150,thumbWidthOnFullScreen:150,thumbHeightOnFullScreen:150,thumbnailsPosition:"bottom",hideThumbnailsOnInit:!1,canMinimalizeThumbnails:!0,thumbnailsHideOnMobile:!1,transition:"moveToLeft_scaleUp",transitionBackward:"moveToRight_scaleUp",transitionTimingFunction:"cubic-bezier(0,1,1,1)",transitionDuration:"0.7s",transitionCols:"1",transitionRows:"1",title:a.isLoggedIn,titleExpanded:!1,tooltips:!0,tooltipZoom:"Zoom",tooltipToggleThumbnails:"Toggle thumbnails",tooltipSeeAllPhotos:"Grid",tooltipSeeOtherAlbums:"Toon sub-albums",tooltipSlideshow:"Slideshow",slideshowInterval:a.slideshowInterval,slideshow:!0,slideshowAutostart:!1,slideshowRandom:!1,slideshowCanRandom:!0,tooltipRandom:"Random",tooltipFullScreen:"Full screen",tooltipClose:"Close",canClose:!1,afterLoadPhoto:function(){a.container=f()("div.jgallery"),a.isLoggedIn&&a.updateContextMenu(),"fit"!==a.container.find("div.zoom-container").attr("data-size")&&a.showFullRes(),a.emit("afterLoadPhoto")},items:a.itemsJson}),a.container=f()("div.jgallery"),a.container.addClass("noselect"),f()(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){document.fullscreenEnabled||a.container.hasClass("jgallery-full-screen")&&f()("span.change-mode").trigger("click")}),a.isLoggedIn&&(a.container.find("div.title").off().on("click",function(){Object(u.i)(this)}).addClass("select-text"),f()('<span class="fa fa-level-up jgallery-btn jgallery-btn-small" tooltip="Open parent album"></span>').on("click",function(){var n=a.getUrl(),e="";a.container.hasClass("jgallery-full-screen")&&(e="?fullscreen"),window.location.href=Object(u.b)(Object(u.b)(n)).replace("plaetjes/","")+e}).prependTo(a.container.find("div.icons"))),a.container.find(".fa-list-ul").removeClass("fa-list-ul").addClass("fa-folder-open-o"),f()("span.resize.jgallery-btn").on("click",function(){"fit"!==a.container.find("div.zoom-container").attr("data-size")?(a.showFullRes(),f()("div.fototag").addClass("verborgen")):f()("div.fototag").removeClass("verborgen")}).appendTo(a.container.find("div.icons")),a.container.find("span.change-mode").on("click",function(){return a.toggleFullScreen()}).appendTo(a.container.find("div.icons")),0<window.location.href.indexOf("?fullscreen")&&!a.container.hasClass("jgallery-full-screen")&&f()("span.change-mode").trigger("click"),a.isLoggedIn&&a.container.find("div.zoom").contextMenu({menuSelector:"#contextMenu",menuSelected:function(){}}),a.container.find("div.icons .jgallery-btn.change-album").appendTo(a.container.find("div.icons")),a}return s(n,e),n.requestFullscreen=function(){var n=document.querySelector(".jgallery");n&&n.requestFullscreen()},n.exitFullScreen=function(){document.exitFullscreen()},n.prototype.getFullUrl=function(){return decodeURI(this.container.find("div.nav-bottom div.title").html())},n.prototype.getUrl=function(){return this.getFullUrl().replace(this.root,"")},n.prototype.toggleFullScreen=function(){this.container.hasClass("jgallery-full-screen")?n.requestFullscreen():n.exitFullScreen()},n.prototype.showFullRes=function(){var n,e=this.container.find("div.zoom-container"),a=e.find("img.active"),t=a.get(0);t.src!==this.getFullUrl()&&(t.src=this.getFullUrl()),"original"===e.attr("data-size")&&(n=t,"original"===e.attr("data-size")&&(a.css({"max-width":"","max-height":"",width:n.naturalWidth,height:n.naturalHeight,"margin-left":-n.naturalWidth/2,"margin-top":-n.naturalHeight/2}),a.attr("data-width",n.naturalWidth),a.attr("data-height",n.naturalHeight),f()(window).trigger("resize"))),"fill"===e.attr("data-size")&&f()("span.resize.jgallery-btn").removeClass("fa-search-minus").addClass("fa-search-plus")},n.prototype.updateContextMenu=function(){var e=this,a=f()("#contextMenu").empty(),n=function(n,e){e&&f()('<div class="dropdown-divider"></div>').appendTo(a),f()(n).appendTo(a),n.hasClass("disabled")&&n.parent().addClass("disabled")},t=f()('<a id="btnDown" class="dropdown-item" tabindex="-1"><span class="fa fa-download"></span> &nbsp; Downloaden</a>');t.on("click",function(){return window.location.href="/fotoalbum/download"+e.getUrl()}),n(t);var o=f()('<a id="btnTag" class="dropdown-item" tabindex="-1"><span class="fa fa-smile-o"></span> &nbsp; Leden etiketteren</a>');o.on("click",function(){return e.container.find("span.fa-smile-o.jgallery-btn").click()}),n(o);var i=f()('<a id="btnFS" class="dropdown-item" tabindex="-1"><span class="fa"></span> &nbsp; Volledig scherm</a>');i.on("click",function(){var n=e.container.find("span.change-mode");n.click(),n.hasClass("fa-expand")?i.find("span.fa").removeClass("fa-compress").addClass("fa-expand"):i.find("span.fa").addClass("fa-compress").removeClass("fa-expand")}),n(i),this.container.find("span.change-mode").hasClass("fa-expand")?i.find("span.fa").addClass("fa-expand"):i.find("span.fa").addClass("fa-compress");var s=f()('<a id="btnZoom" class="dropdown-item" tabindex="-1"><span class="fa"></span> &nbsp; Zoomen</a>');if(s.on("click",function(){var n=e.container.find("span.resize.jgallery-btn");n.click(),n.hasClass("fa-search-minus")?s.find("span.fa").removeClass("fa-search-minus").addClass("fa-search-plus"):s.find("span.fa").addClass("fa-search-minus").removeClass("fa-search-plus")}),n(s),this.container.find("span.resize.jgallery-btn").hasClass("fa-search-plus")?s.find("span.fa").addClass("fa-search-plus"):s.find("span.fa").addClass("fa-search-minus"),this.magAanpassen){var l=f()('<a id="btnRight" class="dropdown-item" tabindex="-1"><span class="fa fa-repeat"></span> &nbsp; Draai met de klok mee</a>');l.on("click",function(){var n=e.getUrl();f.a.post("/fotoalbum/roteren"+Object(u.b)(n),{foto:Object(u.a)(n),rotation:90},u.g)}),n(l,!0);var r=f()('<a id="btnLeft" class="dropdown-item" tabindex="-1"><span class="fa fa-undo"></span> &nbsp; Draai tegen de klok in</a>');r.on("click",function(){var n=e.getUrl();f.a.post("/fotoalbum/roteren"+Object(u.b)(n),{foto:Object(u.a)(n),rotation:-90},u.g)}),n(r);var d=f()('<a id="btnCover" class="dropdown-item" tabindex="-1"><span class="fa fa-folder"></span> &nbsp; Instellen als albumcover</a>');d.on("click",function(){var n=e.getUrl();f.a.post("/fotoalbum/albumcover"+Object(u.b)(n),{foto:Object(u.a)(n)},u.f)}),n(d);var c=f()('<a id="btnDel" class="dropdown-item" tabindex="-1"><span class="fa fa-times"></span> &nbsp; Verwijderen</a>');c.on("click",function(){if(!confirm("Foto definitief verwijderen. Weet u het zeker?"))return!1;var n=e.getUrl();f.a.post("/fotoalbum/verwijderen"+Object(u.b)(n),{foto:decodeURI(Object(u.a)(n))},u.g)}),n(c,!0)}},n}(i.EventEmitter);f()(".fotoalbum").each(function(n,e){var a=f()(e),t=new l(a);a.data("isLoggedIn")&&Promise.all([o.e(26),o.e(30)]).then(o.bind(null,284)).then(function(n){return new n.FotoAlbumTags(t)})})}}]);