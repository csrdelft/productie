(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{229:function(e,t,n){"use strict";n.r(t);var a=n(224),o=n.n(a),s=n(189),r=n(182),l=n(186);var i=e=>class extends e{constructor(e,t){super(e,t);const n=Object(l.a)(Object(r.a)('<span class="j-gallery-icon"><i class="fa fa-download"></i></span>'),{style:{color:t.backgroundColor,background:t.textColor,transform:"translateY(-8px)"},content:"Downloaden"});n.addEventListener("click",()=>window.location.href=this.getFullUrl()+"?download"),this.appendControlsElements([n])}goToItem(e){return this.currentItem=e,super.goToItem(e)}getFullUrl(){return this.currentItem.fullUrl}},c=n(188);var d=e=>class extends e{constructor(e,t){super(e,t);const n=this.preview.setSize.bind(this.preview);this.preview.setSize=e=>(this.updateImage(e),n(e))}async updateImage(e){const t=this.preview.getElement().querySelector(".j-gallery-preview-content");if(!t)throw new Error("Geen content gevonden");if(e===s.a.auto){await Object(c.a)(this.currentItem.fullUrl);const e=new Image;e.src=this.currentItem.fullUrl,t.style.backgroundImage=`url(${this.currentItem.fullUrl})`,t.style.backgroundSize=Math.min(3e3,e.width)+"px"}else t.style.backgroundImage=`url(${this.currentItem.url})`}};var u=e=>class extends e{constructor(e,t){super(e,t);const n=Object(r.a)('<i class="fa fa-expand"></i>'),a=Object(l.a)(Object(r.a)('<span class="j-gallery-icon change-mode"></span>',{children:[n]}),{style:{color:t.backgroundColor,background:t.textColor,transform:"translateY(-8px)"},content:"Volledig scherm"});a.addEventListener("click",()=>this.toggleFullscreen()),this.appendControlsElements([a]),document.addEventListener("fullscreenchange",()=>{document.fullscreenElement?n.classList.replace("fa-expand","fa-compress"):n.classList.replace("fa-compress","fa-expand")})}async toggleFullscreen(){document.fullscreenElement?await document.exitFullscreen():await this.previewElement.requestFullscreen()}};var p=e=>class extends e{constructor(e,t){super(e,t),document.addEventListener("keydown",e=>{switch(e.key){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next()}})}};var m=e=>class extends e{goToItem(e){const{items:t}=this.album,n=t[t.indexOf(e)+1];if(n)n.url&&Object(c.a)(n.url);else{const e=t[0];e.url&&Object(c.a)(e.url)}const a=t[t.indexOf(e)+1];if(a)a.url&&Object(c.a)(a.url);else{const e=t[t.length-1];e.url&&Object(c.a)(e.url)}return super.goToItem(e)}};var f=n(13),h=n(12),g=n.n(h),w=n(54),b=n.n(w),v=n(9),y=n(3);(async()=>{const e=document.querySelectorAll(".fotoalbum");for(const t of e){const{isLoggedIn:e,magAanpassen:a,root:r,fotos:l}=t.dataset;if(!l||!r)throw new Error("Album heeft geen foto's of geen root");const c=[u,i,p,m,d];if("true"===e){const e=await n.e(28).then(n.bind(null,236));c.push(e.default)}if("true"===a){const e=await n.e(27).then(n.bind(null,237));c.push(e.default)}t.appendChild(o.a.create(JSON.parse(l),{decorators:c,root:r,previewSize:s.a.contain,tooltipThumbnailsToggle:"Thumbnails weergeven",tooltipChangeSize:"Grootte veranderen",tooltipSeeAllItems:"Alle foto's weergeven",tooltipSeeOtherAlbums:"Andere albums weergeven",tooltipSlideShowPause:"Voorstelling pauzeren",tooltipSlideShowStart:"Voorstelling starten"}).getElement())}})(),f.a.addHandler("form.dropzone",e=>{const{naam:t,accept:n,deleteUrl:a,maxsize:o,coverUrl:s,existingUrl:r}=e.dataset,l=new b.a(e,{paramName:t,url:e.action,acceptedFiles:n,addRemoveLinks:!0,removedfile:async function(e){try{await g.a.post(a,"foto="+e.name),e.previewElement.remove()}catch(e){throw new Error(e)}},maxFilesize:Number(o),maxFiles:500,dictDefaultMessage:"Sleep hier bestanden om te uploaden",dictFallbackMessage:"Je browser ondersteund niet het slepen van bestanden.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"Te groot bestand: ({{filesize}}MiB). Maximum: {{maxFilesize}}MiB.",dictInvalidFileType:"Bestanden van dit type zijn niet toegestaan.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Annuleren",dictCancelUploadConfirmation:"Toevoegen annuleren. Weet u het zeker?",dictRemoveFile:"X",dictRemoveFileConfirmation:"Bestand verwijderen. Weet u het zeker?",dictMaxFilesExceeded:"You can not upload any more files.",init:function(){this.on("addedfile",(function(e){const t=b.a.createElement('<a class="btn" title="Stel deze foto in als omslag voor het album">Omslag</a>');e.previewElement.appendChild(t),t.addEventListener("click",(async function(n){n.preventDefault(),n.stopPropagation();try{await g.a.post(s,"foto="+e.name),t.replaceWith(y.g`<span><span class="fa fa-check"></span> Omslag</span>`)}catch(n){throw new Error(n)}})),Object(v.c)(".dz-remove").forEach(e=>e.className="btn")}))}}),i=y.g`<a href="#"><span class="ico photos"></span> Toon bestaande foto's in dit album</a>`;e.appendChild(i),i.addEventListener("click",(async function(e){e.preventDefault(),i.remove();const t=await g.a.post(r);for(const e of Object.values(t.data)){const t={name:e.name,size:e.size,type:e.type};l.emit("addedfile",t),void 0!==e.thumbnail&&l.emit("thumbnail",t,e.thumbnail),l.emit("complete",t)}}))})}}]);
//# sourceMappingURL=fotoalbum.d30f357dde94db71aa83.chunk.js.map