{"version":3,"sources":["webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/events/events.js","webpack:////home/travis/build/csrdelft/csrdelft.nl/node_modules/jgallery/dist/js/jgallery.js"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","that","_addListener","type","listener","prepend","m","events","existing","warning","TypeError","create","newListener","emit","unshift","push","length","warned","w","Error","String","name","emitter","count","console","warn","onceWrapper","i","arguments","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","unwrapListeners","arrayClone","listenerCount","n","copy","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","len","listeners","addListener","on","prependListener","once","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","$","defaults","autostart","autostartAtImage","autostartAtAlbum","backgroundColor","browserHistory","canChangeMode","canClose","canMinimalizeThumbnails","canZoom","disabledOnIE8AndOlder","draggableZoom","draggableZoomHideNavigationOnMobile","height","hideThumbnailsOnInit","items","maxMobileWidth","mode","preloadAll","slideshow","slideshowAutostart","slideshowCanRandom","slideshowInterval","slideshowRandom","swipeEvents","textColor","thumbnails","thumbHeight","thumbHeightOnFullScreen","thumbnailsFullScreen","thumbnailsHideOnMobile","thumbnailsPosition","thumbType","thumbWidth","thumbWidthOnFullScreen","title","titleExpanded","tooltipClose","tooltipFullScreen","tooltipRandom","tooltips","tooltipSeeAllPhotos","tooltipSeeOtherAlbums","tooltipSlideshow","tooltipToggleThumbnails","tooltipZoom","transition","transitionBackward","transitionCols","transitionDuration","transitionRows","transitionTimingFunction","transitionWaveDirection","width","zoomSize","afterLoadPhoto","beforeLoadPhoto","closeGallery","initGallery","showGallery","showPhoto","jGalleryTransitions","moveToLeft_moveFromRight","moveToRight_moveFromLeft","moveToTop_moveFromBottom","moveToBottom_moveFromTop","fade_moveFromRight","fade_moveFromLeft","fade_moveFromBottom","fade_moveFromTop","moveToLeftFade_moveFromRightFade","moveToRightFade_moveFromLeftFade","moveToTopFade_moveFromBottomFade","moveToBottomFade_moveFromTopFade","moveToLeftEasing_moveFromRight","moveToRightEasing_moveFromLeft","moveToTopEasing_moveFromBottom","moveToBottomEasing_moveFromTop","scaleDown_moveFromRight","scaleDown_moveFromLeft","scaleDown_moveFromBottom","scaleDown_moveFromTop","scaleDown_scaleUpDown","scaleDownUp_scaleUp","moveToLeft_scaleUp","moveToRight_scaleUp","moveToTop_scaleUp","moveToBottom_scaleUp","scaleDownCenter_scaleUpCenter","rotateRightSideFirst_moveFromRight","rotateLeftSideFirst_moveFromLeft","rotateTopSideFirst_moveFromTop","rotateBottomSideFirst_moveFromBottom","flipOutRight_flipInLeft","flipOutLeft_flipInRight","flipOutTop_flipInBottom","flipOutBottom_flipInTop","rotateFall_scaleUp","rotateOutNewspaper_rotateInNewspaper","rotatePushLeft_moveFromRight","rotatePushRight_moveFromLeft","rotatePushTop_moveFromBottom","rotatePushBottom_moveFromTop","rotatePushLeft_rotatePullRight","rotatePushRight_rotatePullLeft","rotatePushTop_rotatePullBottom","rotatePushBottom_page","rotateFoldLeft_moveFromRightFade","rotateFoldRight_moveFromLeftFade","rotateFoldTop_moveFromBottomFade","rotateFoldBottom_moveFromTopFade","moveToRightFade_rotateUnfoldLeft","moveToLeftFade_rotateUnfoldRight","moveToBottomFade_rotateUnfoldTop","moveToTopFade_rotateUnfoldBottom","rotateRoomLeftOut_rotateRoomLeftIn","rotateRoomRightOut_rotateRoomRightIn","rotateRoomTopOut_rotateRoomTopIn","rotateRoomBottomOut_rotateRoomBottomIn","rotateCubeLeftOut_rotateCubeLeftIn","rotateCubeRightOut_rotateCubeRightIn","rotateCubeTopOut_rotateCubeTopIn","rotateCubeBottomOut_rotateCubeBottomIn","rotateCarouselLeftOut_rotateCarouselLeftIn","rotateCarouselRightOut_rotateCarouselRightIn","rotateCarouselTopOut_rotateCarouselTopIn","rotateCarouselBottomOut_rotateCarouselBottomIn","rotateSidesOut_rotateSidesInDelay","rotateSlideOut_rotateSlideIn","jGalleryArrayTransitions","jQuery","each","outerHtml","outerHTML","el","div","document","createElement","appendChild","cloneNode","contents","innerHTML","overlay","options","extend","$overlay","$imageLoader","$progress","$spinner","$this","is","addClass","append","afterInit","children","find","resetProgress","html","showProgress","show","hide","hideProgress","removeClass","stop","fadeIn","fadeOut","showLoader","fadeInLoader","not","hideLoader","fadeOutLoader","filter","jLoader","fn","interval","skip","start","success","progress","timeout","$tmp","$images","intCount","add","strBackgroundUrl","css","exec","replace","parseInt","check","intPercent","boolComplete","intComplete","complete","naturalWidth","percent","clearTimeout","remove","setTimeout","historyPushState","$title","stateObj","path","window","history","pushState","location","href","split","isInternetExplorer8AndOlder","rv","navigator","appName","ua","userAgent","RegExp","parseFloat","$1","refreshHTMLClasses","$html","AdvancedAnimation","$head","intAdvancedAnimationLastId","cols","rows","direction","animation","$element","attr","wrap","wrapInner","generateHtml","_showParts","next","$next","eq","$new","intPtPageNumber","prevAll","_waveJumpToEnd","_runWave","intPrevPtPageNumber","setQuantityParts","intCols","intRows","setAnimationProperties","intId","$stylesheet","duration","setHideEffect","hideEffect","prevHideEffect","test","setShowEffect","showEffect","prevShowEffect","setDirection","_showNextPart","showPartsTimeout","self","$part","Math","max","hideActive","intI","intJ","$content","setPositionParts","intWidth","outerWidth","intHeight","outerHeight","intPartWidth","intPartHeight","left","top","IconChangeAlbum","jGallery","bindEvents","getElement","click","event","menuToggle","stopPropagation","getItemsOfMenu","setActiveAlbum","$albums","menuHide","setTitle","strTitle","getTitle","getListOfAlbums","appendToMenu","strHtml","toggleClass","clearMenu","refreshMenuHeight","zoom","$container","Progress","clear","animate","parent","pause","Thumb","data","photoId","number","url","link","thumbUrl","bgColor","generateImgTag","img","$newImg","src","alt","preload","render","Thumbnails","$window","$a","$img","$btnNext","$btnPrev","intJgalleryId","isJgalleryInitialized","$iconToggleThumbsVisibility","initSwipeEvents","isVertical","isHorizontal","_initImages","_initSquare","_initNumber","swipe","canScrollToPrev","canScrollToNext","translate","distance","isFullScreen","swipeStatus","phase","_scrollToPrev","_scrollToNext","isMobile","_showNextThumb","showThumbsForActiveAlbum","hideEachThumb","toggle","setActiveThumb","$album","center","refreshNavigation","_horizontalCenter","_verticalCenter","reload","slideshowPause","changeViewToFullScreen","changeViewToBar","refreshSize","booIsAlbums","iconChangeAlbum","slideshowStop","$css","strCss","$nextThumb","scrollLeft","scrollTop","ThumbnailsGenerator","thumbsHidden","isSlider","intNo","$thumbnailsContainerInner","$jgallery","processOptions","processHtml","refreshThumbsSize","processImage","item","thumb","forEach","album","images","selector","insertAlbum","insertImages","insertImage","$parent","$image","image","Image","Zoom","jGalleryBackwardTransitions","$body","$jGallery","$resize","$dragNav","$dragNavCrop","$dragNavCropImg","$changeMode","$random","$slideshow","intJGalleryId","booSlideshowPlayed","booLoadingInProgress","booLoadedAll","update","enableDrag","initAdvancedAnimation","advancedAnimation","setThumbnails","showDragNav","hideDragNav","refreshDragNavVisibility","startMarginLeft","startMarginTop","startX","startY","point","startDrag","pageX","pageY","mousemove","move","touchmove","mouseleave","stopDrag","touchend","drag","draggedX","moveX","showNextPhoto","showPrevPhoto","x","originalEvent","touches","y","dragged","abs","preventDefault","marginLeft","marginTop","firstPosition","firstPositionLeft","firstPositionTop","$last","lastPosition","$lastParent","dragNavCropPosition","canDrag","refreshDragNavCropSize","refreshCursor","addEventListener","mousedown","touchstart","mouseup","style","cursor","container","querySelector","clientWidth","clientHeight","refreshContainerSize","intNavBottomHeight","isThumbnailsVisible","strThumbnailsPosition","original","fill","fit","cropPositionLeft","cropPositionTop","changeSize","toString","setImgSizeForOriginal","setImgSizeForFit","setImgSizeForFill","getCanvasRatioWidthToHeight","isAddedToLoad","isLoaded","imgIsLoaded","refreshNav","$thumbActive","prev","slideshowPlay","slideshowSetTimeout","slideshowPlayPause","showRandomPhoto","showNextPhotoLoop","slideshowRandomToggle","$thumbnailsANotActive","floor","random","$prev","showPhotoInit","booIsLoaded","albumTitle","transitionName","$imgThumb","$nexta","appendPhoto","$preva","initialized","nextAll","setRandomTransition","parents","siblings","setJGalleryColoursForActiveThumb","removeAttr","appendAllPhotos","loadPhoto","showPhotoSuccess","appendInitPhoto","$zoom","$ptPart","$active","visibility","showPhotoByPath","setColours","strBg","strText","setTransition","rand","unmarkActive","changeMode","currentMode","goToFullScreenMode","goToStandardMode","overflow","refreshDimensions","JGallery","isInternetExplorer","defaultsFullScreenMode","defaultsSliderMode","requiredFullScreenMode","requiredSliderMode","jGalleryId","overrideOptions","keydown","which","isFullScreenMode","template","done","setUserOptions","reloadThumbnails","modeIsDefined","generateAlbumsDropdown","setVariables","windowOnResize","bodyOverflowBeforeShow","showPhotoTimeout","$thumb","trigger","windowOnPopState","onpopstate","callActionByUrl","hash","refreshCssClassJGalleryMobile","refreshThumbnailsVisibility","intCanvasWidth","intCanvasHeight","hideThumbnailsBar","showThumbnailsBar","refreshAttrClasses","getCssForColours","after","objOptions","arrText","arrBg","arrBgAlt","tinycolor","toRgb","r","g","b","darken","lighten","jGalleryCollection","userOptions","isPlainObject","getDefaults","getTransitions","restoreDefaults","getOptions","destroy","id"],"mappings":"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","file":"js/2.35351567d1c51f3dc461.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","/*!\n* jgallery 1.6.3\n* http://jgallery.jakubkowalczyk.pl/\n*\n* Released under the MIT license\n*\n* Date: 2017-11-05\n*/\n( function() {\n    \"use strict\";\nvar defaults = {\n    autostart: true, // Boolean; If set as 'true' jGallery will be started automatically after loading the document(only for full-screen or standard mode).; [ true, false ]\n    autostartAtImage: 1, // Number; Number of image which will be loaded by autostart(only when 'autostart' parameter set as 'true').; ; [ 1, 2, 3 ]\n    autostartAtAlbum: 1, // Number; Number of album which will be loaded by autostart(only when 'autostart' parameter set as 'true').; ; [ 1, 2, 3 ]\n    backgroundColor: '#fff', // String; Background color for jGallery container.; ; [ '#ffffff', 'silver' ]\n    browserHistory: true, // Boolean; If set as 'true', changes of active image will be saved in browser history.; [ true, false ]\n    canChangeMode: true, // Boolean; If set as 'true' you can change display mode(only for full-screen or standard mode).; [ true, false ]\n    canClose: false, // Boolean; If set as 'true' you can close jGallery(only for full-screen or standard mode).; [ true, false ]\n    canMinimalizeThumbnails: true, // Boolean; If set as 'true', you can minimalize thumbnails(only when 'thumbnails' parameter set as 'true').; [ true, false ]\n    canZoom: true, // Boolean; If set as 'true' you can zoom photos.; [ true, false ]\n    disabledOnIE8AndOlder: true, // Boolean; If set as 'true', jGallery will be blocked for Internet Explorer 8 and older.; [ true, false ]\n    draggableZoom: true, // Boolean; If set as 'true' you can drag active image.; [ true, false ]\n    draggableZoomHideNavigationOnMobile: true, // Boolean; If set as 'true' navigation of draggable zoom will be hidden when width of window <= 'maxMobileWidth' parameter (default value - 767px); [ true, false ]\n    height: '600px', // String; Height of jGallery container(only for standard or slider mode).\n    hideThumbnailsOnInit: false, // Boolean; If set as 'true', thumbnails will be minimized by default, when jGallery will be started(only when 'thumbnails' parameter set as 'true').; [ true, false ]\n    items: null, // Array | null; You can pass images as array (you don't have to create HTML elements).\n    maxMobileWidth: 767, // Number; Maximum width(px) for jGallery shows a view for mobile device.\n    mode: 'standard', // String; Display mode.; [ 'full-screen', 'standard', 'slider' ]\n    preloadAll: false, // Boolean; If set as 'true', all photos will be loaded before first shown photo.; [ true, false ]\n    slideshow: true, // Boolean; If set as 'true', option slideshow is enabled.; [ true, false ]\n    slideshowAutostart: false, // Boolean; If set as 'true', slideshow will be started immediately after initializing jGallery(only when 'slideshow' has been set as true).; [ true, false ]\n    slideshowCanRandom: true, // Boolean; If set as 'true', you can enable random change photos for slideshow(only when 'slideshow' has been set as true).; [ true, false ]\n    slideshowInterval: '8s', // String; Time between change of photos for slideshow(only when 'slideshow' has been set as true).; [ '3s', '6s', '10s' ] \n    slideshowRandom: false, // Boolean; If set as 'true', photos in slideshow will be changing random(only when 'slideshow' has been set as true and 'slideshowCanRandom' has been set as true).; [ true, false ]\n    swipeEvents: true, // Boolean; If set as 'true', you can switch to next/prev photo and thumbnails using swipe events.; [ true, false ]\n    textColor: '#000', // String; Color of text and icons.; ; [ '#000000', 'rgb(0,153,221)' ]\n    thumbnails: true, // Boolean; If set as 'true', thumbnails will be displayed.; [ true, false ]\n    thumbHeight: 75, // Number; Height(pixels) of thumbnails.; ; [ 50, 75, 125 ]\n    thumbHeightOnFullScreen: 100, // Number; Height(pixels) of thumbnails for thumbnails displayed in full-screen.; ; [ 125, 160, 200 ]\n    thumbnailsFullScreen: true, // Boolean; If set as 'true', thumbnails will be displayed in full-screen.; [ true, false ]\n    thumbnailsHideOnMobile: true, // Boolean; If set as 'true', thumbnails will be hidden when width of window <= 'maxMobileWidth' parameter (default value - 767px).; [ true, false ]\n    thumbnailsPosition: 'bottom', // String; Thumbnails position(only when 'thumbnails' parameter set as 'true').; [ 'top',  'bottom', 'left', 'right' ]\n    thumbType: 'image', // String; Thumbnails type(only when 'thumbnails' parameter set as 'true').; [ 'image', 'square', 'number' ]\n    thumbWidth: 75, // Number; Width(pixels) of thumbnails.; ; [ 50, 75, 125 ]\n    thumbWidthOnFullScreen: 100, // Number; Width(pixels) of thumbnails for thumbnails displayed in full-screen.; ; [ 125, 160, 200 ]\n    title: true, // Boolean; If set as 'true', near photo will be shown title from alt attribute of img.; [ true, false ]\n    titleExpanded: false, // Boolean; If set as 'true', in bottom area of zoomed photo will be shown title from alt attribute of img(only when 'title' has been set as true).; [ true, false ]\n    tooltipClose: 'Close', // String; Text of tooltip which will be displayed next to icon for close jgallery(if you set canClose parameter as true).; ; [ 'Close', 'Zamknij' ]\n    tooltipFullScreen: 'Full screen', // String; Text of tooltip which will be displayed next to icon for change display mode.; ; [ 'Full screen', 'Tryb penoekranowy' ]\n    tooltipRandom: 'Random', // String; Text of tooltip which will be displayed next to icon for random slideshow toggling.; ; [ 'Random', 'Kolejno losowa' ]\n    tooltips: true, // Boolean; If set as 'true', tooltips will be displayed next to icons.; [ true, false ]\n    tooltipSeeAllPhotos: 'See all photos', // String; Text of tooltip which will be displayed next to icon for change thumbnails view.; ; [ 'See all photos', 'Zobacz wszystkie zdjcia' ]\n    tooltipSeeOtherAlbums: 'See other albums', // String; Text of tooltip which will be displayed next to icon for change album(if your jGallery has more than one album).; ; [ 'See other albums', 'Zobacz pozostae albumy' ]\n    tooltipSlideshow: 'Slideshow', // String; Text of tooltip which will be displayed next to icon for play/pause slideshow.; ; [ 'Slideshow', 'Pokaz slajdw' ]\n    tooltipToggleThumbnails: 'Toggle thumbnails', // String; Text of tooltip which will be displayed next to icon for toggle thumbnails.; ; [ 'Toggle thumbnails', 'Poka/ukryj miniatury' ]\n    tooltipZoom: 'Zoom', // String; Text of tooltip which will be displayed next to icon for zoom photo.; ; [ 'Zoom', 'Powikszenie' ]\n    transition: 'moveToLeft_moveFromRight', // String; Transition effect for change active image.; [ 'moveToLeft_moveFromRight', 'moveToRight_moveFromLeft', 'moveToTop_moveFromBottom', 'moveToBottom_moveFromTop', 'fade_moveFromRight', 'fade_moveFromLeft', 'fade_moveFromBottom', 'fade_moveFromTop', 'moveToLeftFade_moveFromRightFade', 'moveToRightFade_moveFromLeftFade', 'moveToTopFade_moveFromBottomFade', 'moveToBottomFade_moveFromTopFade', 'moveToLeftEasing_moveFromRight', 'moveToRightEasing_moveFromLeft', 'moveToTopEasing_moveFromBottom', 'moveToBottomEasing_moveFromTop', 'scaleDown_moveFromRight', 'scaleDown_moveFromLeft', 'scaleDown_moveFromBottom', 'scaleDown_moveFromTop', 'scaleDown_scaleUpDown', 'scaleDownUp_scaleUp', 'moveToLeft_scaleUp', 'moveToRight_scaleUp', 'moveToTop_scaleUp', 'moveToBottom_scaleUp', 'scaleDownCenter_scaleUpCenter', 'rotateRightSideFirst_moveFromRight', 'rotateLeftSideFirst_moveFromLeft', 'rotateTopSideFirst_moveFromTop', 'rotateBottomSideFirst_moveFromBottom', 'flipOutRight_flipInLeft', 'flipOutLeft_flipInRight', 'flipOutTop_flipInBottom', 'flipOutBottom_flipInTop', 'rotateFall_scaleUp', 'rotateOutNewspaper_rotateInNewspaper', 'rotatePushLeft_moveFromRight', 'rotatePushRight_moveFromLeft', 'rotatePushTop_moveFromBottom', 'rotatePushBottom_moveFromTop', 'rotatePushLeft_rotatePullRight', 'rotatePushRight_rotatePullLeft', 'rotatePushTop_rotatePullBottom', 'rotatePushBottom_page', 'rotateFoldLeft_moveFromRightFade', 'rotateFoldRight_moveFromLeftFade', 'rotateFoldTop_moveFromBottomFade', 'rotateFoldBottom_moveFromTopFade', 'moveToRightFade_rotateUnfoldLeft', 'moveToLeftFade_rotateUnfoldRight', 'moveToBottomFade_rotateUnfoldTop', 'moveToTopFade_rotateUnfoldBottom', 'rotateRoomLeftOut_rotateRoomLeftIn', 'rotateRoomRightOut_rotateRoomRightIn', 'rotateRoomTopOut_rotateRoomTopIn', 'rotateRoomBottomOut_rotateRoomBottomIn', 'rotateCubeLeftOut_rotateCubeLeftIn', 'rotateCubeRightOut_rotateCubeRightIn', 'rotateCubeTopOut_rotateCubeTopIn', 'rotateCubeBottomOut_rotateCubeBottomIn', 'rotateCarouselLeftOut_rotateCarouselLeftIn', 'rotateCarouselRightOut_rotateCarouselRightIn', 'rotateCarouselTopOut_rotateCarouselTopIn', 'rotateCarouselBottomOut_rotateCarouselBottomIn', 'rotateSidesOut_rotateSidesInDelay', 'rotateSlideOut_rotateSlideIn', 'random' ]\n    transitionBackward: 'auto', // String; Transition effect for change active image(when user selected one of previous images).; [ 'auto', 'moveToLeft_moveFromRight', 'moveToRight_moveFromLeft', 'moveToTop_moveFromBottom', 'moveToBottom_moveFromTop', 'fade_moveFromRight', 'fade_moveFromLeft', 'fade_moveFromBottom', 'fade_moveFromTop', 'moveToLeftFade_moveFromRightFade', 'moveToRightFade_moveFromLeftFade', 'moveToTopFade_moveFromBottomFade', 'moveToBottomFade_moveFromTopFade', 'moveToLeftEasing_moveFromRight', 'moveToRightEasing_moveFromLeft', 'moveToTopEasing_moveFromBottom', 'moveToBottomEasing_moveFromTop', 'scaleDown_moveFromRight', 'scaleDown_moveFromLeft', 'scaleDown_moveFromBottom', 'scaleDown_moveFromTop', 'scaleDown_scaleUpDown', 'scaleDownUp_scaleUp', 'moveToLeft_scaleUp', 'moveToRight_scaleUp', 'moveToTop_scaleUp', 'moveToBottom_scaleUp', 'scaleDownCenter_scaleUpCenter', 'rotateRightSideFirst_moveFromRight', 'rotateLeftSideFirst_moveFromLeft', 'rotateTopSideFirst_moveFromTop', 'rotateBottomSideFirst_moveFromBottom', 'flipOutRight_flipInLeft', 'flipOutLeft_flipInRight', 'flipOutTop_flipInBottom', 'flipOutBottom_flipInTop', 'rotateFall_scaleUp', 'rotateOutNewspaper_rotateInNewspaper', 'rotatePushLeft_moveFromRight', 'rotatePushRight_moveFromLeft', 'rotatePushTop_moveFromBottom', 'rotatePushBottom_moveFromTop', 'rotatePushLeft_rotatePullRight', 'rotatePushRight_rotatePullLeft', 'rotatePushTop_rotatePullBottom', 'rotatePushBottom_page', 'rotateFoldLeft_moveFromRightFade', 'rotateFoldRight_moveFromLeftFade', 'rotateFoldTop_moveFromBottomFade', 'rotateFoldBottom_moveFromTopFade', 'moveToRightFade_rotateUnfoldLeft', 'moveToLeftFade_rotateUnfoldRight', 'moveToBottomFade_rotateUnfoldTop', 'moveToTopFade_rotateUnfoldBottom', 'rotateRoomLeftOut_rotateRoomLeftIn', 'rotateRoomRightOut_rotateRoomRightIn', 'rotateRoomTopOut_rotateRoomTopIn', 'rotateRoomBottomOut_rotateRoomBottomIn', 'rotateCubeLeftOut_rotateCubeLeftIn', 'rotateCubeRightOut_rotateCubeRightIn', 'rotateCubeTopOut_rotateCubeTopIn', 'rotateCubeBottomOut_rotateCubeBottomIn', 'rotateCarouselLeftOut_rotateCarouselLeftIn', 'rotateCarouselRightOut_rotateCarouselRightIn', 'rotateCarouselTopOut_rotateCarouselTopIn', 'rotateCarouselBottomOut_rotateCarouselBottomIn', 'rotateSidesOut_rotateSidesInDelay', 'rotateSlideOut_rotateSlideIn', 'random' ]\n    transitionCols: 1, // Number; Number of columns in the image divided into columns.; ; [ 1, 2, 3, 4, 5, 6 ]\n    transitionDuration: '0.7s', // String; Duration of transition between photos.; [ '0.2s', '0.5s', '1s' ] \n    transitionRows: 1, // Number; Number of columns in the image divided into rows.; ; [ 1, 2, 3, 4, 5, 6 ]\n    transitionTimingFunction: 'cubic-bezier(0,1,1,1)', // String; Timig function for showing photo.; [ 'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out', 'cubic-bezier(0.5,-0.5,0.5,1.5)', 'cubic-bezier(0,1,1,1)' ]\n    transitionWaveDirection: 'forward', // String; Direction of animation(only when 'transitionCols' > 1 or 'transitionRows' > 1).; [ 'forward', 'backward' ]\n    width: '100%', // String; Width of jGallery container(only for standard or slider mode).\n    zoomSize: 'fit', // String; Size of zoomed photo(only for full-screen or standard mode).; [ 'fit', 'original', 'fill' ]\n    afterLoadPhoto: function() {}, // Function; Custom function that will be called after loading photo.; ; [ function(link,thumbnail) { console.log( link,thumbnail ) } ]\n    beforeLoadPhoto: function() {}, // Function; Custom function that will be called before loading photo.; ; [ function(link,thumbnail) { console.log( link,thumbnail ) } ]\n    closeGallery: function() {}, // Function; Custom function that will be called after hiding jGallery.; ; [ function() { alert( 'closeGallery' ) } ]\n    initGallery: function() {}, // Function; Custom function that will be called before initialization of jGallery.; ; [ function() { alert( 'initGallery' ) } ]\n    showGallery: function() {}, // Function; Custom function that will be called after showing jGallery.; ; [ function() { alert( 'showGallery' ) } ]\n    showPhoto: function() {} // Function; Custom function that will be called before showing photo.; ; [ function(link,thumbnail) { console.log( link,thumbnail ) } ]\n};\n\nvar defaultsFullScreenMode = {};\nvar defaultsSliderMode = {\n    width: '940px',\n    height: '360px',\n    canZoom: false,\n    draggableZoom: false,\n    browserHistory: false,\n    thumbnailsFullScreen: false,\n    thumbType: 'square',\n    thumbWidth: 20, //px\n    thumbHeight: 20, //px\n    canMinimalizeThumbnails: false,\n    transition: 'rotateCubeRightOut_rotateCubeRightIn',\n    transitionBackward: 'rotateCubeRightOut_rotateCubeRightIn',\n    transitionCols: 6,\n    transitionRows: 1,\n    slideshow: true,\n    slideshowAutostart: true,\n    zoomSize: 'fill'\n};\nvar requiredFullScreenMode = {};\nvar requiredSliderMode = {\n    autostart: true,\n    canClose: false,\n    zoomSize: 'fill',\n    canChangeMode: false\n};\nvar jGalleryTransitions = {\n    moveToLeft_moveFromRight: [\"pt-page-moveToLeft\",\"pt-page-moveFromRight\"],\n    moveToRight_moveFromLeft: [\"pt-page-moveToRight\",\"pt-page-moveFromLeft\"],\n    moveToTop_moveFromBottom: [\"pt-page-moveToTop\",\"pt-page-moveFromBottom\"],\n    moveToBottom_moveFromTop: [\"pt-page-moveToBottom\",\"pt-page-moveFromTop\"],\n    fade_moveFromRight: [\"pt-page-fade\",\"pt-page-moveFromRight pt-page-ontop\"],\n    fade_moveFromLeft: [\"pt-page-fade\",\"pt-page-moveFromLeft pt-page-ontop\"],\n    fade_moveFromBottom: [\"pt-page-fade\",\"pt-page-moveFromBottom pt-page-ontop\"],\n    fade_moveFromTop: [\"pt-page-fade\",\"pt-page-moveFromTop pt-page-ontop\"],\n    moveToLeftFade_moveFromRightFade: [\"pt-page-moveToLeftFade\",\"pt-page-moveFromRightFade\"],\n    moveToRightFade_moveFromLeftFade: [\"pt-page-moveToRightFade\",\"pt-page-moveFromLeftFade\"],\n    moveToTopFade_moveFromBottomFade: [\"pt-page-moveToTopFade\",\"pt-page-moveFromBottomFade\"],\n    moveToBottomFade_moveFromTopFade: [\"pt-page-moveToBottomFade\",\"pt-page-moveFromTopFade\"],\n    moveToLeftEasing_moveFromRight: [\"pt-page-moveToLeftEasing pt-page-ontop\",\"pt-page-moveFromRight\"],\n    moveToRightEasing_moveFromLeft: [\"pt-page-moveToRightEasing pt-page-ontop\",\"pt-page-moveFromLeft\"],\n    moveToTopEasing_moveFromBottom: [\"pt-page-moveToTopEasing pt-page-ontop\",\"pt-page-moveFromBottom\"],\n    moveToBottomEasing_moveFromTop: [\"pt-page-moveToBottomEasing pt-page-ontop\",\"pt-page-moveFromTop\"],\n    scaleDown_moveFromRight: [\"pt-page-scaleDown\",\"pt-page-moveFromRight pt-page-ontop\"],\n    scaleDown_moveFromLeft: [\"pt-page-scaleDown\",\"pt-page-moveFromLeft pt-page-ontop\"],\n    scaleDown_moveFromBottom: [\"pt-page-scaleDown\",\"pt-page-moveFromBottom pt-page-ontop\"],\n    scaleDown_moveFromTop: [\"pt-page-scaleDown\",\"pt-page-moveFromTop pt-page-ontop\"],\n    scaleDown_scaleUpDown: [\"pt-page-scaleDown\",\"pt-page-scaleUpDown pt-page-delay300\"],\n    scaleDownUp_scaleUp: [\"pt-page-scaleDownUp\",\"pt-page-scaleUp pt-page-delay300\"],\n    moveToLeft_scaleUp: [\"pt-page-moveToLeft pt-page-ontop\",\"pt-page-scaleUp\"],\n    moveToRight_scaleUp: [\"pt-page-moveToRight pt-page-ontop\",\"pt-page-scaleUp\"],\n    moveToTop_scaleUp: [\"pt-page-moveToTop pt-page-ontop\",\"pt-page-scaleUp\"],\n    moveToBottom_scaleUp: [\"pt-page-moveToBottom pt-page-ontop\",\"pt-page-scaleUp\"],\n    scaleDownCenter_scaleUpCenter: [\"pt-page-scaleDownCenter\",\"pt-page-scaleUpCenter pt-page-delay400\"],\n    rotateRightSideFirst_moveFromRight: [\"pt-page-rotateRightSideFirst\",\"pt-page-moveFromRight pt-page-delay200 pt-page-ontop\"],\n    rotateLeftSideFirst_moveFromLeft: [\"pt-page-rotateLeftSideFirst\",\"pt-page-moveFromLeft pt-page-delay200 pt-page-ontop\"],\n    rotateTopSideFirst_moveFromTop: [\"pt-page-rotateTopSideFirst\",\"pt-page-moveFromTop pt-page-delay200 pt-page-ontop\"],\n    rotateBottomSideFirst_moveFromBottom: [\"pt-page-rotateBottomSideFirst\",\"pt-page-moveFromBottom pt-page-delay200 pt-page-ontop\"],\n    flipOutRight_flipInLeft: [\"pt-page-flipOutRight\",\"pt-page-flipInLeft pt-page-delay500\"],\n    flipOutLeft_flipInRight: [\"pt-page-flipOutLeft\",\"pt-page-flipInRight pt-page-delay500\"],\n    flipOutTop_flipInBottom: [\"pt-page-flipOutTop\",\"pt-page-flipInBottom pt-page-delay500\"],\n    flipOutBottom_flipInTop: [\"pt-page-flipOutBottom\",\"pt-page-flipInTop pt-page-delay500\"],\n    rotateFall_scaleUp: [\"pt-page-rotateFall pt-page-ontop\",\"pt-page-scaleUp\"],\n    rotateOutNewspaper_rotateInNewspaper: [\"pt-page-rotateOutNewspaper\",\"pt-page-rotateInNewspaper pt-page-delay500\"],\n    rotatePushLeft_moveFromRight: [\"pt-page-rotatePushLeft\",\"pt-page-moveFromRight\"],\n    rotatePushRight_moveFromLeft: [\"pt-page-rotatePushRight\",\"pt-page-moveFromLeft\"],\n    rotatePushTop_moveFromBottom: [\"pt-page-rotatePushTop\",\"pt-page-moveFromBottom\"],\n    rotatePushBottom_moveFromTop: [\"pt-page-rotatePushBottom\",\"pt-page-moveFromTop\"],\n    rotatePushLeft_rotatePullRight: [\"pt-page-rotatePushLeft\",\"pt-page-rotatePullRight pt-page-delay180\"],\n    rotatePushRight_rotatePullLeft: [\"pt-page-rotatePushRight\",\"pt-page-rotatePullLeft pt-page-delay180\"],\n    rotatePushTop_rotatePullBottom: [\"pt-page-rotatePushTop\",\"pt-page-rotatePullBottom pt-page-delay180\"],\n    rotatePushBottom_page: [\"pt-page-rotatePushBottom\",\"pt-page-rotatePullTop pt-page-delay180\"],\n    rotateFoldLeft_moveFromRightFade: [\"pt-page-rotateFoldLeft\",\"pt-page-moveFromRightFade\"],\n    rotateFoldRight_moveFromLeftFade: [\"pt-page-rotateFoldRight\",\"pt-page-moveFromLeftFade\"],\n    rotateFoldTop_moveFromBottomFade: [\"pt-page-rotateFoldTop\",\"pt-page-moveFromBottomFade\"],\n    rotateFoldBottom_moveFromTopFade: [\"pt-page-rotateFoldBottom\",\"pt-page-moveFromTopFade\"],\n    moveToRightFade_rotateUnfoldLeft: [\"pt-page-moveToRightFade\",\"pt-page-rotateUnfoldLeft\"],\n    moveToLeftFade_rotateUnfoldRight: [\"pt-page-moveToLeftFade\",\"pt-page-rotateUnfoldRight\"],\n    moveToBottomFade_rotateUnfoldTop: [\"pt-page-moveToBottomFade\",\"pt-page-rotateUnfoldTop\"],\n    moveToTopFade_rotateUnfoldBottom: [\"pt-page-moveToTopFade\",\"pt-page-rotateUnfoldBottom\"],\n    rotateRoomLeftOut_rotateRoomLeftIn: [\"pt-page-rotateRoomLeftOut pt-page-ontop\",\"pt-page-rotateRoomLeftIn\"],\n    rotateRoomRightOut_rotateRoomRightIn: [\"pt-page-rotateRoomRightOut pt-page-ontop\",\"pt-page-rotateRoomRightIn\"],\n    rotateRoomTopOut_rotateRoomTopIn: [\"pt-page-rotateRoomTopOut pt-page-ontop\",\"pt-page-rotateRoomTopIn\"],\n    rotateRoomBottomOut_rotateRoomBottomIn: [\"pt-page-rotateRoomBottomOut pt-page-ontop\",\"pt-page-rotateRoomBottomIn\"],\n    rotateCubeLeftOut_rotateCubeLeftIn: [\"pt-page-rotateCubeLeftOut pt-page-ontop\",\"pt-page-rotateCubeLeftIn\"],\n    rotateCubeRightOut_rotateCubeRightIn: [\"pt-page-rotateCubeRightOut pt-page-ontop\",\"pt-page-rotateCubeRightIn\"],\n    rotateCubeTopOut_rotateCubeTopIn: [\"pt-page-rotateCubeTopOut pt-page-ontop\",\"pt-page-rotateCubeTopIn\"],\n    rotateCubeBottomOut_rotateCubeBottomIn: [\"pt-page-rotateCubeBottomOut pt-page-ontop\",\"pt-page-rotateCubeBottomIn\"],\n    rotateCarouselLeftOut_rotateCarouselLeftIn: [\"pt-page-rotateCarouselLeftOut pt-page-ontop\",\"pt-page-rotateCarouselLeftIn\"],\n    rotateCarouselRightOut_rotateCarouselRightIn: [\"pt-page-rotateCarouselRightOut pt-page-ontop\",\"pt-page-rotateCarouselRightIn\"],\n    rotateCarouselTopOut_rotateCarouselTopIn: [\"pt-page-rotateCarouselTopOut pt-page-ontop\",\"pt-page-rotateCarouselTopIn\"],\n    rotateCarouselBottomOut_rotateCarouselBottomIn: [\"pt-page-rotateCarouselBottomOut pt-page-ontop\",\"pt-page-rotateCarouselBottomIn\"],\n    rotateSidesOut_rotateSidesInDelay: [\"pt-page-rotateSidesOut\",\"pt-page-rotateSidesIn pt-page-delay200\"],\n    rotateSlideOut_rotateSlideIn: [\"pt-page-rotateSlideOut\",\"pt-page-rotateSlideIn\"]\n};\nvar jGalleryArrayTransitions = ( function( jGalleryTransitions ) {\n    var $ = jQuery;\n    var jGalleryArrayTransitions = [];\n    \n    $.each( jGalleryTransitions, function( index, value ) {\n        jGalleryArrayTransitions.push( value );\n    } );\n    \n    return jGalleryArrayTransitions;\n} )( jGalleryTransitions );\nvar jGalleryBackwardTransitions = {\n    moveToLeft_moveFromRight: 'moveToRight_moveFromLeft',\n    moveToRight_moveFromLeft: 'moveToLeft_moveFromRight',\n    moveToTop_moveFromBottom: 'moveToBottom_moveFromTop',\n    moveToBottom_moveFromTop: 'moveToTop_moveFromBottom',\n    fade_moveFromRight: 'fade_moveFromLeft',\n    fade_moveFromLeft: 'fade_moveFromRight',\n    fade_moveFromBottom: 'fade_moveFromTop',\n    fade_moveFromTop: 'fade_moveFromBottom',\n    moveToLeftFade_moveFromRightFade: 'moveToRightFade_moveFromLeftFade',\n    moveToRightFade_moveFromLeftFade: 'moveToLeftFade_moveFromRightFade',\n    moveToTopFade_moveFromBottomFade: 'moveToBottomFade_moveFromTopFade',\n    moveToBottomFade_moveFromTopFade: 'moveToTopFade_moveFromBottomFade',\n    moveToLeftEasing_moveFromRight: 'moveToRightEasing_moveFromLeft',\n    moveToRightEasing_moveFromLeft: 'moveToLeftEasing_moveFromRight',\n    moveToTopEasing_moveFromBottom: 'moveToBottomEasing_moveFromTop',\n    moveToBottomEasing_moveFromTop: 'moveToTopEasing_moveFromBottom',\n    scaleDown_moveFromRight: 'scaleDown_moveFromLeft',\n    scaleDown_moveFromLeft: 'scaleDown_moveFromRight',\n    scaleDown_moveFromBottom: 'scaleDown_moveFromTop',\n    scaleDown_moveFromTop: 'scaleDown_moveFromBottom',\n    scaleDown_scaleUpDown: 'scaleDownUp_scaleUp',\n    scaleDownUp_scaleUp: 'scaleDown_scaleUpDown',\n    moveToLeft_scaleUp: 'moveToRight_scaleUp',\n    moveToRight_scaleUp: 'moveToLeft_scaleUp',\n    moveToTop_scaleUp: 'moveToBottom_scaleUp',\n    moveToBottom_scaleUp: 'moveToTop_scaleUp',\n    scaleDownCenter_scaleUpCenter: 'scaleDownCenter_scaleUpCenter',\n    rotateRightSideFirst_moveFromRight: 'rotateLeftSideFirst_moveFromLeft',\n    rotateLeftSideFirst_moveFromLeft: 'rotateRightSideFirst_moveFromRight',\n    rotateTopSideFirst_moveFromTop: 'rotateBottomSideFirst_moveFromBottom',\n    rotateBottomSideFirst_moveFromBottom: 'rotateTopSideFirst_moveFromTop',\n    flipOutRight_flipInLeft: 'flipOutLeft_flipInRight',\n    flipOutLeft_flipInRight: 'flipOutRight_flipInLeft',\n    flipOutTop_flipInBottom: 'flipOutBottom_flipInTop',\n    flipOutBottom_flipInTop: 'flipOutTop_flipInBottom',\n    rotateFall_scaleUp: 'rotateFall_scaleUp',\n    rotateOutNewspaper_rotateInNewspaper: 'rotateOutNewspaper_rotateInNewspaper',\n    rotatePushLeft_moveFromRight: 'rotatePushRight_moveFromLeft',\n    rotatePushRight_moveFromLeft: 'rotatePushLeft_moveFromRight',\n    rotatePushTop_moveFromBottom: 'rotatePushBottom_moveFromTop',\n    rotatePushBottom_moveFromTop: 'rotatePushTop_moveFromBottom',\n    rotatePushLeft_rotatePullRight: 'rotatePushRight_rotatePullLeft',\n    rotatePushRight_rotatePullLeft: 'rotatePushLeft_rotatePullRight',\n    rotatePushTop_rotatePullBottom: 'rotatePushTop_rotatePullBottom',\n    rotatePushBottom_page: 'rotatePushBottom_page',\n    rotateFoldLeft_moveFromRightFade: 'rotateFoldRight_moveFromLeftFade',\n    rotateFoldRight_moveFromLeftFade: 'rotateFoldLeft_moveFromRightFade',\n    rotateFoldTop_moveFromBottomFade: 'rotateFoldBottom_moveFromTopFade',\n    rotateFoldBottom_moveFromTopFade: 'rotateFoldTop_moveFromBottomFade',\n    moveToRightFade_rotateUnfoldLeft: 'moveToLeftFade_rotateUnfoldRight',\n    moveToLeftFade_rotateUnfoldRight: 'moveToRightFade_rotateUnfoldLeft',\n    moveToBottomFade_rotateUnfoldTop: 'moveToTopFade_rotateUnfoldBottom',\n    moveToTopFade_rotateUnfoldBottom: 'moveToBottomFade_rotateUnfoldTop',\n    rotateRoomLeftOut_rotateRoomLeftIn: 'rotateRoomRightOut_rotateRoomRightIn',\n    rotateRoomRightOut_rotateRoomRightIn: 'rotateRoomLeftOut_rotateRoomLeftIn',\n    rotateRoomTopOut_rotateRoomTopIn: 'rotateRoomBottomOut_rotateRoomBottomIn',\n    rotateRoomBottomOut_rotateRoomBottomIn: 'rotateRoomTopOut_rotateRoomTopIn',\n    rotateCubeLeftOut_rotateCubeLeftIn: 'rotateCubeRightOut_rotateCubeRightIn',\n    rotateCubeRightOut_rotateCubeRightIn: 'rotateCubeLeftOut_rotateCubeLeftIn',\n    rotateCubeTopOut_rotateCubeTopIn: 'rotateCubeBottomOut_rotateCubeBottomIn',\n    rotateCubeBottomOut_rotateCubeBottomIn: 'rotateCubeTopOut_rotateCubeTopIn',\n    rotateCarouselLeftOut_rotateCarouselLeftIn: 'rotateCarouselRightOut_rotateCarouselRightIn',\n    rotateCarouselRightOut_rotateCarouselRightIn: 'rotateCarouselLeftOut_rotateCarouselLeftIn',\n    rotateCarouselTopOut_rotateCarouselTopIn: 'rotateCarouselBottomOut_rotateCarouselBottomIn',\n    rotateCarouselBottomOut_rotateCarouselBottomIn: 'rotateCarouselTopOut_rotateCarouselTopIn',\n    rotateSidesOut_rotateSidesInDelay: 'rotateSidesOut_rotateSidesInDelay',\n    rotateSlideOut_rotateSlideIn: 'rotateSlideOut_rotateSlideIn'\n};\nvar outerHtml = function(){\n    return (!this.length) ? this : (this[0].outerHTML || (\n      function(el){\n          var div = document.createElement('div');\n          div.appendChild(el.cloneNode(true));\n          var contents = div.innerHTML;\n          div = null;\n          return contents;\n    })(this[0]));\n};\nvar overlay = ( function() {\n    var $ = jQuery;\n    \n    return function( options ) {\n        var defaults = {\n            'show': false,\n            'hide': false,\n            'showLoader': false,\n            'hideLoader': false,\n            'showProgress': false,\n            'hideProgress': false,\n            'resetProgress': false,\n            'fadeIn': true,\n            'fadeOut': true,\n            'fadeInLoader': true,\n            'fadeOutLoader': true,\n            'afterInit': function() {}\n        };\n        options = $.extend( {}, defaults, options );\n        this.each( function() {\n            var\n                $this = $( this ),\n                $overlay,\n                $imageLoader,\n                $progress,\n                $spinner,\n                boolInitialized = $this.is( '.overlayContainer:has(.overlay)' ),\n                showOverlay = function() {\n                    options.fadeIn ? $overlay.fadeIn( 500 ) : $overlay.show();\n                },\n                hideOverlay = function() {\n                    options.fadeOut ? $overlay.fadeOut( 500 ) : $overlay.hide();\n                },\n                showLoader = function() {\n                    options.fadeInLoader ? $imageLoader.not( ':visible' ).fadeIn( 500 ) : $imageLoader.not( ':visible' ).show();\n                },\n                hideLoader = function() {\n                    options.fadeOutLoader ? $imageLoader.filter( ':visible' ).fadeOut( 500 ) : $imageLoader.filter( ':visible' ).hide();\n                };\n\n            //init\n            if ( ! boolInitialized ) {\n                $this.addClass( 'overlayContainer' );\n                $this.append( '<span class=\"overlay\" style=\"display: none;\"><span class=\"imageLoaderPositionAbsolute\" style=\"display: none;\"><span class=\"fa fa-spin fa-spinner\"></span><span class=\"progress-value\" style=\"display: none;\">0</span></span></span>' );\n                options.afterInit();\n            }\n\n            $overlay = $this.children( '.overlay' );\n            $imageLoader = $this.find( '.imageLoaderPositionAbsolute' );\n            \n            $progress = $imageLoader.find( '.progress-value' );\n            $spinner = $imageLoader.find( '.fa-spinner' );\n            if ( options.resetProgress ) {\n                $progress.html( '0' );\n            }\n            if ( options.showProgress ) {\n                $imageLoader.addClass( 'preloadAll' );\n                $progress.show();\n                $spinner.hide();\n            }\n            else if ( options.hideProgress ) {\n                $imageLoader.removeClass( 'preloadAll' );\n                $progress.hide(); \n                $spinner.show();               \n            }\n\n            $overlay.stop( false, true );\n            $imageLoader.stop( false, true );\n            if ( options.show ) {\n                showOverlay();\n            }\n            else if ( options.hide ) {\n                hideOverlay();\n            }\n            if ( options.showLoader ) {\n                showLoader();\n            }\n            else if ( options.hideLoader ) {\n                hideLoader();\n            }\n            //endinit\n        } );\n    };\n} )();\nvar jLoader = ( function( overlay ) {\n    var $ = jQuery;\n    \n    $.fn.overlay = overlay;\n    \n    return function( options ) {\n        options = $.extend( {\n             interval: 1000,\n             skip: ':not(*)',\n             start: function() {\n                 $( 'body' ).overlay( {\n                     'fadeIn': false,\n                     'fadeOut': false,\n                     'show': true,\n                     'showLoader': true\n                 } );\n                 $( 'body' ).show();\n             },\n             success: function() {\n                 $( 'body' ).overlay( {\n                     'hide': true\n                 } );\n             },\n             progress: function() {\n\n             }\n        }, options );\n\n        this.each( function() {\n            var $this = $( this );\n            var $tmp = $();\n            var $images = $();\n            var timeout;\n            var intCount = 0;\n\n            function check() {\n                var boolComplete = true;\n                var intComplete = 0;\n                var intPercent;\n\n                $images.each( function() {\n                     if ( $( this )[0].complete && $( this )[0].naturalWidth > 0 ) {\n                         intComplete++;\n                     }\n                     else {\n                         boolComplete = false;\n                     }\n                } );\n                intPercent = parseInt( intComplete * 100 / intCount );\n                options.progress( {\n                    percent: intPercent\n                } );\n                if ( boolComplete ) {\n                    clearTimeout( timeout );\n                    $tmp.remove();\n                    options.success();\n                }\n                else {\n                    timeout = setTimeout( check, options.interval );\n                }\n            }\n\n            $this.append( '<div class=\"jLoaderTmp\" style=\"position: absolute; width: 0; height: 0; line-height: 0; font-size: 0; visibility: hidden; overflow: hidden; z-index: -1;\"></div>' );\n            $tmp = $this.children( '.jLoaderTmp:last-child' );\n\n            $( $this ).add( $this.find( '*' ) ).not( options.skip ).each( function() {\n                var strBackgroundUrl;\n\n                if ( $( this ).css( 'background-image' ) !== 'none' ) {\n                     strBackgroundUrl = $( this ).css( 'background-image' );\n                     if ( /url/.exec( strBackgroundUrl ) ) {\n                          strBackgroundUrl = strBackgroundUrl.replace( '\"', '' ).replace( \"'\", '' ).replace( ' ', '' ).replace( 'url(', '' ).replace( ')', '' );\n                          $tmp.append( '<img src=\"' + strBackgroundUrl + '\">' );\n                     }\n                }\n            } );\n            $images = $this.find( 'img:not( ' + options.skip + ')' );\n            if ( $this.is( 'img' ) ) {\n                if ( ! $this.is( options.skip ) ) {\n                    $images = $images.add( $this );\n                }\n            }\n            intCount = parseInt( $images.length );\n            options.start();\n            check();\n        } );\n     };\n} )( overlay );\nvar historyPushState = ( function() {\n    var $ = jQuery;\n    var $title = $( 'title' );\n    \n    return function( options ) {\n        options = $.extend( {}, {\n            stateObj: {},\n            title: $title.html(),\n            path: ''\n        }, options );\n        window.history.pushState( options.stateObj, options.title, document.location.href.split('#')[0] + '#' + options.path );\n    };\n} )();\nvar isInternetExplorer = function() {\n    var rv = false;\n\n    if ( navigator.appName === 'Microsoft Internet Explorer' ) {\n        var ua = navigator.userAgent;\n        var re  = new RegExp( \"MSIE ([0-9]{1,}[\\.0-9]{0,})\" );\n        if ( re.exec(ua) !== null ) {\n            rv = true;\n        }\n    }\n    return rv;\n};\nvar isInternetExplorer8AndOlder = function() {\n    var rv = false;\n\n    if ( navigator.appName === 'Microsoft Internet Explorer' ) {\n        var ua = navigator.userAgent;\n        var re  = new RegExp( \"MSIE ([0-9]{1,}[\\.0-9]{0,})\" );\n        if ( re.exec(ua) !== null ) {\n            rv = parseFloat( RegExp.$1 );\n            rv = rv < 9;\n        }\n    }\n    return rv;\n};\nvar refreshHTMLClasses = function() {\n    var $ = jQuery;\n    var $html = $( 'html' );\n    \n    return function() {\n        $html.find( '.jgallery' ).length === 0 ? $html.removeClass( 'has-jgallery' ) : $html.addClass( 'has-jgallery' );\n        $html.find( '.jgallery.hidden' ).length === 0 ? $html.removeClass( 'has-hidden-jgallery' ) : $html.addClass( 'has-hidden-jgallery' );\n        $html.find( '.jgallery:not(.hidden)' ).length === 0 ? $html.removeClass( 'has-visible-jgallery' ) : $html.addClass( 'has-visible-jgallery' );\n    };\n};\nvar AdvancedAnimation = ( function( isInternetExplorer8AndOlder ) {\n    var $ = jQuery;\n    var $head = $( 'head' );\n    var intAdvancedAnimationLastId = 0;\n\n    var AdvancedAnimation = function( $this ) {\n        if ( $this.is( '[data-advanced-animation-id]') ) {\n            return;\n        }\n        this.cols = 1;\n        this.rows = 1;\n        this.direction = 'forward';\n        this.animation = true;\n        this.$element = $this;\n        this.$element.filter( ':not( [data-advanced-animation-id] )' ).attr( 'data-advanced-animation-id', ++intAdvancedAnimationLastId );\n        this.$element.find( '.pt-item' ).wrap( '<div class=\"pt-page\" />' );\n        this.$element.wrapInner( '<div class=\"pt-part\" />' );\n        this.generateHtml();\n        this._showParts( this.$element.find( '.pt-part' ), 1 );\n    };\n\n    AdvancedAnimation.prototype = {\n        next: function() {\n            var $next = this.$element.find( '.pt-part' ).eq( this.direction === 'backward' ? -1 : 0 ).find( '.pt-page-current:not(.pt-page-prev)' ).next();\n\n            if ( $next.length ) {\n                this.show( $next );\n            }\n            else {\n                this.show( this.$element.find( '.pt-part' ).eq( this.direction === 'backward' ? -1 : 0 ).find( '.pt-page' ).eq( 0 ) );\n            }\n        },\n\n        show: function( $new, options ) {\n            var intPtPageNumber = $new.prevAll().length + 1;\n\n            if ( $new.is( '.pt-page-current:not(.pt-page-prev)' ) ) {\n                return;\n            }\n            options = $.extend( {}, {\n                animation: true\n            }, options );\n            this.animation = options.animation;\n            this._waveJumpToEnd();\n            if ( this.animation ) {\n                this._runWave( intPtPageNumber );\n            } else {\n                this._showParts( this.$element.find( '.pt-part' ), intPtPageNumber );\n            }\n            this.intPrevPtPageNumber = intPtPageNumber;\n        },\n\n        setQuantityParts: function( intCols, intRows ) {\n            this.cols = intCols;\n            this.rows = intRows;\n            this.generateHtml();\n        },\n\n        setAnimationProperties: function( options ) {\n            var intId = this.$element.attr( 'data-advanced-animation-id' );\n            var $stylesheet = $head.find( 'style[data-advanced-animation-id=\"' + intId + '\"]' );\n\n            this.duration = options.duration;\n            if ( isInternetExplorer8AndOlder() ) {\n                return;\n            }\n            if ( $stylesheet.length === 0 ) {\n                $stylesheet = $head.append( '<style type=\"text/css\" data-advanced-animation-id=\"' + intId + '\" />' ).children( ':last-child' );\n            }\n            $stylesheet.html('\\\n                [data-advanced-animation-id=\"' + intId + '\"] .pt-page {\\\n                    -webkit-animation-duration: ' + options.duration + ';\\\n                    -moz-animation-duration: ' + options.duration + ';\\\n                    animation-duration: ' + options.duration + ';\\\n                    -webkit-animation-timing-function: ' + options.transitionTimingFunction + ';\\\n                    -moz-animation-timing-function: ' + options.transitionTimingFunction + ';\\\n                    animation-timing-function: ' + options.transitionTimingFunction + ';\\\n                }\\\n            ');\n        },\n\n        setHideEffect: function( hideEffect ) {\n            this.prevHideEffect = this.hideEffect;\n            this.hideEffect = hideEffect;\n            if ( /moveTo|rotateRoom|rotateCarousel|rotateSlideOut/.test( hideEffect ) ) {\n                this.$element.find( '.pt-part' ).addClass( 'hide-overflow' );\n            }\n            else {\n                this.$element.find( '.pt-part' ).removeClass( 'hide-overflow' );                \n            }\n        },\n\n        setShowEffect: function( showEffect ) {\n            this.prevShowEffect = this.showEffect;\n            this.showEffect = showEffect;\n        },\n\n        setDirection: function( direction ) {\n            this.direction = direction;\n        },\n\n        _runWave: function( intPtPageNumber ) {\n            this.$element.find( '.pt-part' ).addClass( 'in-queue' );\n            this._showNextPart( intPtPageNumber );\n        },\n\n        _waveJumpToEnd: function() {\n            clearTimeout( this.showPartsTimeout );\n            if ( typeof this.intPrevPtPageNumber !== 'undefined' ) {\n                this._showParts( this.$element.find( '.pt-part.in-queue' ).removeClass( 'in-queue' ), this.intPrevPtPageNumber );\n            }\n        },\n\n        _showNextPart: function( intPtPageNumber ) {\n            var self = this;\n            var $part = this.$element.find( '.pt-part.in-queue' ).eq( this.direction === 'backward' ? -1 : 0 );\n\n            if ( $part.length === 0 ) {\n                return;\n            }\n            this._showParts( $part.removeClass( 'in-queue' ), intPtPageNumber );\n            if ( $part.length === 0 ) {\n                return;\n            }\n            clearTimeout( this.showPartsTimeout );\n            this.showPartsTimeout = setTimeout( function() {\n                self._showNextPart( intPtPageNumber );\n            }, parseFloat( this.duration ) * 1000 * 0.25 / Math.max( 1, this.$element.find( '.pt-part' ).length - 1 ) );\n        },\n\n        _showParts: function( $this, intPtPageNumber ) {\n            $this.find( '.pt-page-current.pt-page-prev' ).removeClass( 'pt-page-prev' ).removeClass( 'pt-page-current' );\n            $this.find( '.pt-page-current' ).addClass( 'pt-page-prev' );\n            $this.find( '.pt-page:nth-child(' + intPtPageNumber + ')' ).addClass( 'pt-page-current' );\n            $this.find( '.pt-page' ).removeClass( this.hideEffect ).removeClass( this.showEffect );\n            if ( typeof this.prevHideEffect !== 'undefined' ) {\n                $this.find( '.pt-page' ).removeClass( this.prevHideEffect );\n            }\n            if ( typeof this.prevShowEffect !== 'undefined' ) {\n                $this.find( '.pt-page' ).removeClass( this.prevShowEffect );\n            }\n            if ( this.animation ) {\n                $this.find( '.pt-page-prev' ).addClass( this.hideEffect );\n                $this.find( '.pt-page-current:not(.pt-page-prev)' ).addClass( this.showEffect );\n            }\n        },\n\n        hideActive: function() {\n            this.$element.find( '.pt-page-current' ).addClass( 'pt-page-prev' ).addClass( this.hideEffect );\n        },\n\n        generateHtml: function() {\n            var intI;\n            var intJ;\n            var $content;\n\n            this.$element.html( this.$element.find( '.pt-part' ).eq( 0 ).html() );\n            $content = this.$element.html();\n            this.$element.children( '.pt-part' ).remove();\n            for ( intJ = 0; intJ < this.rows; intJ++ ) {\n                for ( intI = 0; intI < this.cols; intI++ ) {\n                    this.$element\n                        .append( '<div class=\"pt-part pt-perspective\" data-col-no=\"' + intI + '\" data-row-no=\"' + intJ + '\" style=\"position: absolute;\"></div>' )\n                        .children( ':last-child' )\n                        .html( $content )\n                        .find( '.pt-item' );\n                }\n            }\n            this.setPositionParts();\n            this.$element.children( ':not(.pt-part)' ).remove();\n        },\n\n        setPositionParts: function() {\n            var self = this;\n            var intWidth = this.$element.outerWidth();\n            var intHeight = this.$element.outerHeight();\n            var intPartWidth = intWidth / this.cols;\n            var intPartHeight = intHeight / this.rows;\n\n            this.$element.find( '.pt-part' ).each( function() {\n                var $this = $( this );\n                var intI = $this.attr( 'data-col-no' );\n                var intJ = $this.attr( 'data-row-no' );\n\n                $this\n                .css( {\n                    left: self.$element.outerWidth() * ( 100 / self.cols * intI ) / 100 + 'px',\n                    top: self.$element.outerHeight() * ( 100 / self.rows * intJ ) / 100 + 'px',\n                    width: self.$element.outerWidth() * ( 100 / self.cols ) / 100 + 1 + 'px',\n                    height: self.$element.outerHeight() * ( 100 / self.rows ) / 100 + 1 + 'px'                   \n                } )\n                .find( '.pt-item' )\n                .css( {\n                    width: intWidth,\n                    height: intHeight,\n                    left: - intPartWidth * intI,\n                    top: - intPartHeight * intJ\n                } );\n            } );          \n        }\n    };\n    \n    return AdvancedAnimation;\n} )( isInternetExplorer8AndOlder );\nvar IconChangeAlbum = ( function() {\n    var $ = jQuery;\n    var $html = $( 'html' );\n    \n    var IconChangeAlbum = function( $this, jGallery ) {        \n        this.$element = $this;\n        this.jGallery = jGallery;\n        this.$title = this.$element.find( '.title' );\n    };\n\n    IconChangeAlbum.prototype = {\n        bindEvents: function( jGallery ) {\n            var self = this;\n\n            this.getElement().on( {\n                click: function( event ) {\n                    self.menuToggle();\n                    event.stopPropagation();\n                }\n            } );\n            this.getItemsOfMenu().on( {\n                click: function() {\n                    var $this = $( this );\n\n                    if ( $this.is( '.active' ) ) {\n                        return;\n                    }\n                    jGallery.thumbnails.setActiveAlbum( jGallery.thumbnails.$albums.filter( '[data-jgallery-album-title=\"' + $this.attr( 'data-jgallery-album-title' ) + '\"]' ) );\n                }\n            } );\n            $html.on( 'click', function(){ self.menuHide(); } );  \n        },\n\n        setTitle: function( strTitle ) {\n            this.$title.html( strTitle );\n        },\n\n        getTitle: function() {\n            return this.$title.html();\n        },\n\n        getListOfAlbums: function() {\n            return this.getElement().find( '.menu' );\n        },\n\n        getElement: function() {\n            return this.$element;\n        },\n\n        getItemsOfMenu: function() {\n            return this.getListOfAlbums().find( '.item' );\n        },\n\n        appendToMenu: function( strHtml ) {\n            this.getListOfAlbums().append( strHtml );\n        },\n\n        menuToggle: function() {\n            this.getElement().toggleClass( 'active' );\n        },\n\n        menuHide: function() {\n            this.getElement().removeClass( 'active' );\n        },\n\n        clearMenu: function() {\n            this.getListOfAlbums().html( '' );\n        },\n\n        refreshMenuHeight: function() {\n            this.getListOfAlbums().css( 'max-height', this.jGallery.zoom.$container.outerHeight() - 8 );\n        }\n    };\n    \n    return IconChangeAlbum;\n} )();\nvar Progress = ( function() {\n    var Progress = function( $this, jGallery ) {\n        this.jGallery = jGallery;\n        this.$element = $this;\n    };\n\n    Progress.prototype = {\n        clear: function() {            \n            this.$element.stop( false, true ).css( {width: 0} );\n            return this;         \n        },\n\n        start: function( intWidth, success ) {            \n            var interval = parseInt( this.jGallery.options.slideshowInterval ) * 1000;\n            var $element = this.$element;\n\n            $element.animate( {\n                width: intWidth\n            }, interval - interval * ( $element.width() / $element.parent().width() ), 'linear', success );\n            return this;    \n        },\n\n        pause: function() {\n            this.$element.stop();\n            return this;\n        }        \n    };\n    \n    return Progress;\n} )();\nvar Thumb = (function() {\n    var $ = jQuery;\n    \n    var Thumb = function(data) {\n        $.extend(this, {\n            photoId: 0,\n            number: 0,\n            url: '',\n            link: '',\n            target: '',\n            thumbUrl: '',\n            title: '',\n            bgColor: '',\n            textColor: ''\n        }, data);\n    };\n    \n    Thumb.prototype = {\n        generateImgTag: function( img ) {\n            var $newImg = $( '<img src=\"' + img.src + '\" />' );\n\n            if ( img.alt ) {\n                $newImg.attr( 'alt', img.alt );\n            }\n            if ( img.bgColor ) {\n                $newImg.attr( 'data-jgallery-bg-color', img.bgColor );\n            }\n            if ( img.textColor ) {\n                $newImg.attr( 'data-jgallery-text-color', img.textColor );\n            }\n\n            return $newImg;\n        },\n        \n        preload: function() {\n            var $element = this.$element;\n            \n            $element.jLoader( {\n                start: function() {\n                    $element.overlay( {\n                        fadeIn: false,\n                        fadeOut: false,\n                        show: true,\n                        showLoader: true\n                    } );\n                },\n                success: function() {\n                    $element.overlay( {\n                        hide: true\n                    } );\n                }\n            } );\n        },\n        \n        render: function() {\n            var $element = this.$element = $('<a href=\"' + this.url + '\">' + this.generateImgTag({\n                src: this.thumbUrl,\n                bgColor: this.bgColor,\n                textColor: this.textColor,\n                alt: this.title\n            }).outerHtml() + '</a>');\n            \n            if (this.target) {\n                $element.attr('target', this.target);\n            }\n            \n            if (this.link) {\n                $element.attr('link', this.link);\n            }\n            \n            $element.attr( 'data-jgallery-photo-id', this.photoId ).attr( 'data-jgallery-number', this.number );\n            \n            return $element;\n        }\n    };\n    \n    return Thumb;\n})();\nvar Thumbnails = ( function( jLoader ) {\n    var $ = jQuery;\n    var $head = $( 'head' );\n    var $window = $( window );\n    \n    $.fn.jLoader = jLoader;\n    \n    var Thumbnails = function( jGallery ) {\n        this.$element = jGallery.$element.find( '.jgallery-thumbnails' );\n        this.$a = this.getElement().find( 'a' );\n        this.$img = this.getElement().find( 'img' );\n        this.$container = this.getElement().find( '.jgallery-container' );\n        this.$albums = this.getElement().find( '.album' ).length ? this.getElement().find( '.album' ) : this.getElement().find( '.jgallery-container-inner' ).addClass( 'active' );\n        this.$btnNext = this.getElement().children( '.next' );\n        this.$btnPrev = this.getElement().children( '.prev' );\n        this.intJgalleryId = jGallery.$element.attr( 'data-jgallery-id' );\n        this.isJgalleryInitialized = jGallery.$element.is( '[data-jgallery-id]' );\n        this.zoom = jGallery.zoom;\n        this.$iconToggleThumbsVisibility = this.zoom.$container.find( '.minimalize-thumbnails' );\n        this.jGallery = jGallery;\n        if ( this.jGallery.options.swipeEvents ) {\n            this.initSwipeEvents();\n        }\n    };\n\n    Thumbnails.prototype = {\n        getElement: function() {\n            return this.$element;\n        },\n\n        init: function() {\n            this.getElement().removeClass( 'square number images jgallery-thumbnails-left jgallery-thumbnails-right jgallery-thumbnails-top jgallery-thumbnails-bottom jgallery-thumbnails-horizontal jgallery-thumbnails-vertical' );\n            this.getElement().addClass( 'jgallery-thumbnails-' + this.jGallery.options.thumbnailsPosition );\n            if ( this.isVertical() ) {\n                this.getElement().addClass( 'jgallery-thumbnails-vertical' );                    \n            }\n            if ( this.isHorizontal() ) {\n                this.getElement().addClass( 'jgallery-thumbnails-horizontal' );                    \n            }   \n            if ( this.jGallery.options.thumbType === 'image' ) {\n                this._initImages();\n            }\n            if ( this.jGallery.options.thumbType === 'square' ) {\n                this._initSquare();\n            }\n            if ( this.jGallery.options.thumbType === 'number' ) {\n                this._initNumber();\n            }\n        },\n        \n        initSwipeEvents: function() {\n            if ( ! $.fn.swipe ) {\n                return;\n            }\n            \n            var $container = this.$container;\n            var self = this;\n            var canScrollToPrev;\n            var canScrollToNext;\n            var translate = function( distance ) {\n                if ( self.isVertical() || self.isFullScreen() ) {\n                    $container.css( {\n                        \"-webkit-transform\": 'translateY(' + distance +  'px)',\n                        \"transform\": 'translateY(' + distance +  'px)'\n                    } );  \n                }\n                else {    \n                    $container.css( {\n                        \"-webkit-transform\": 'translateX(' + distance +  'px)',\n                        \"transform\": 'translateX(' + distance +  'px)'\n                    } );              \n                }\n            };\n            \n            $container.swipe( {\n                swipeStatus: function ( event, phase, direction, distance ) {\n                    if ( phase === \"start\" ) {\n                        canScrollToPrev = self.canScrollToPrev();\n                        canScrollToNext = self.canScrollToNext();\n                    } \n                    else if ( phase === \"move\" ) {\n                        if ( canScrollToNext && ( direction === \"left\" || direction === \"down\" ) ) {\n                            translate( - distance );\n                        } else if ( canScrollToPrev ) {\n                            translate( distance );\n                        }\n                    } else if ( phase === \"end\" ) {\n                        if ( canScrollToNext && ( direction === \"left\" || direction === \"down\" ) ) {\n                            self._scrollToNext();\n                            translate( 0 );\n                        } else if ( canScrollToPrev ) {\n                            self._scrollToPrev();\n                            translate( 0 );\n                        }\n                    } else {\n                        translate( 0 );\n                    }\n                }\n            } );\n        },\n\n        show: function() {\n            var self = this;\n\n            if ( ! this.getElement().is( '.hidden' ) ) {\n                return;\n            }\n            if ( ! ( this.jGallery.isMobile() && this.jGallery.options.thumbnailsHideOnMobile ) ) {\n                this.getElement().removeClass( 'hidden' );\n            }\n            if ( ! this.getElement().is( '.loaded' ) ) {\n                this.getElement().jLoader( {\n                    start: function() {},\n                    success: function(){\n                        self._showNextThumb();\n                        self.$a.parent( '.album:not(.active)' ).children( '.hidden' ).removeClass( 'hidden' );\n                        self.getElement().addClass( 'loaded' );\n                    }\n                } );\n            }\n            else {\n                this._showNextThumb();\n                this.$a.parent( '.album:not(.active)' ).children( '.hidden' ).removeClass( 'hidden' );\n            }\n            this.$iconToggleThumbsVisibility.removeClass( 'inactive' );\n        },\n\n        showThumbsForActiveAlbum: function() {\n            this.$a.addClass( 'hidden' );\n            this._showNextThumb();\n        },\n\n        hide: function( options ) {\n            options = $.extend( { hideEachThumb: true }, options );\n            this.getElement().addClass( 'hidden' );\n            if ( options.hideEachThumb ) {\n                this.$a.addClass( 'hidden' );\n            }\n            this.$iconToggleThumbsVisibility.addClass( 'inactive' );\n        },\n\n        toggle: function() {                    \n            this.getElement().is( '.hidden' ) ? this.show() : this.hide( { hideEachThumb: false } );\n        },\n\n        setActiveThumb: function( $a ) {\n            var $img = $a.find( 'img' );\n            var $album = this.$albums.filter( '.active' );\n            var $a = $album.find( 'img[src=\"' + $img.attr( 'src' ) + '\"]' ).parent( 'a' ).eq( 0 );\n\n            this.getElement().find( 'a' ).removeClass( 'active' );\n            $a.addClass( 'active' );\n            if ( $album.find( 'a.active' ).length === 0 ) {\n                $album.find( 'a:first-child' ).eq( 0 ).addClass( 'active' );\n            }\n            this.center( $a );\n        },\n\n        isHorizontal: function() {\n            return this.jGallery.options.thumbnailsPosition === 'top' || this.jGallery.options.thumbnailsPosition === 'bottom';\n        },\n\n        isVertical: function() {\n            return this.jGallery.options.thumbnailsPosition === 'left' || this.jGallery.options.thumbnailsPosition === 'right';\n        },\n\n        isFullScreen: function() {\n            return this.getElement().is( '.full-screen' );\n        },\n\n        refreshNavigation: function() {\n            this.canScrollToPrev() ? this.$btnPrev.addClass( 'visible' ) : this.$btnPrev.removeClass( 'visible' );\n            this.canScrollToNext() ? this.$btnNext.addClass( 'visible' ) : this.$btnNext.removeClass( 'visible' );\n        },\n\n        center: function( $a ) {\n            if ( this.isHorizontal() ) {\n                this._horizontalCenter( $a );\n            }\n            if ( this.isVertical() ) {\n                this._verticalCenter( $a );\n            }\n        },\n\n        reload: function() {\n            this.$a = this.getElement().find( 'a' );\n            this.$img = this.getElement().find( 'img' );\n            this.$albums = this.getElement().find( '.album' ).length ? this.getElement().find( '.album' ) : this.getElement().find( '.jgallery-container-inner' );\n            this.zoom.showPhoto( this.$albums.find( 'a' ).eq( 0 ) );\n        },\n\n        bindEvents: function() {\n            var self = this;\n\n            this.$btnNext.on( 'click', function() { self._scrollToNext(); } );\n            this.$btnPrev.on( 'click', function() { self._scrollToPrev(); } );\n            this.zoom.$container.find( '.full-screen' ).on( {\n                click: function() {\n                    self.zoom.slideshowPause();\n                    self.changeViewToFullScreen();\n                }\n            } );\n            this.getElement().find( '.jgallery-close' ).on( {\n                click: function() {\n                    self.changeViewToBar();\n                    self.zoom.refreshSize();\n                }\n            } );\n        },\n\n        changeViewToBar: function() {\n            this.getElement().removeClass( 'full-screen' );\n            if ( this.isHorizontal() ) {\n                this.getElement().addClass( 'jgallery-thumbnails-horizontal' ).removeClass( 'jgallery-thumbnails-vertical' );                    \n            }\n            this.refreshNavigation();\n        },\n\n        changeViewToFullScreen: function() {\n            this.getElement().addClass( 'full-screen' );\n            if ( this.isHorizontal() ) {\n                this.getElement().addClass( 'jgallery-thumbnails-vertical' ).removeClass( 'jgallery-thumbnails-horizontal' );                    \n            }\n            this.refreshNavigation();\n        },\n\n        setActiveAlbum: function( $album ) {\n            if ( ! this.jGallery.booIsAlbums || $album.is( '.active' ) ) {\n                return;\n            }\n            this.$albums.not( $album.get( 0 ) ).removeClass( 'active' );\n            $album.addClass( 'active' );\n            this.jGallery.iconChangeAlbum.getListOfAlbums().find( '.item' ).removeClass( 'active' ).filter( '[data-jgallery-album-title=\"' + $album.attr( 'data-jgallery-album-title' ) + '\"]' ).addClass( 'active' );\n            this.jGallery.iconChangeAlbum.setTitle( $album.attr( 'data-jgallery-album-title' ) );\n            this.refreshNavigation();\n            if ( ! this.getElement().is( '.full-screen' ) && this.jGallery.$element.is( ':visible' ) ) {\n                this.zoom.showPhoto( $album.find( 'a' ).eq( 0 ) );\n            }\n            this.showThumbsForActiveAlbum();\n            this.zoom.slideshowStop();\n        },\n\n        _initSquare: function() {\n            this.getElement().addClass( 'square' );\n        },\n\n        _initNumber: function() {\n            this.getElement().addClass( 'number' );\n            this._initSquare();\n        },\n\n        _initImages: function() {\n            var $css = $head.find( 'style.jgallery-thumbnails[data-jgallery-id=\"' + this.intJgalleryId + '\"]' );\n            var strCss = '\\\n                    .jgallery[data-jgallery-id=\"' + this.intJgalleryId + '\"] .jgallery-thumbnails a {\\n\\\n                        width: ' + this.jGallery.options.thumbWidth + 'px;\\n\\\n                        height: ' + this.jGallery.options.thumbHeight + 'px;\\n\\\n                        font-size: ' + this.jGallery.options.thumbHeight + 'px;\\n\\\n                    }\\n\\\n                    .jgallery[data-jgallery-id=\"' + this.intJgalleryId + '\"] .jgallery-thumbnails.full-screen a {\\n\\\n                        width: ' + this.jGallery.options.thumbWidthOnFullScreen + 'px;\\n\\\n                        height: ' + this.jGallery.options.thumbHeightOnFullScreen + 'px;\\n\\\n                        font-size: ' + this.jGallery.options.thumbHeightOnFullScreen + 'px;\\n\\\n                    }\\n\\\n                    .jgallery[data-jgallery-id=\"' + this.intJgalleryId + '\"] .jgallery-thumbnails-horizontal {\\n\\\n                        height: ' + parseInt( this.jGallery.options.thumbHeight + 2 ) + 'px;\\n\\\n                    }\\n\\\n                    .jgallery[data-jgallery-id=\"' + this.intJgalleryId + '\"] .jgallery-thumbnails-vertical {\\n\\\n                        width: ' + parseInt( this.jGallery.options.thumbWidth + 2 ) + 'px;\\n\\\n                    }\\n\\\n            ';\n\n            this.getElement().addClass( 'images' );\n            $css.length ? $css.html( strCss ) : $head.append( '\\\n                <style type=\"text/css\" class=\"jgallery-thumbnails\" data-jgallery-id=\"' + this.intJgalleryId + '\">\\\n                    ' + strCss + '\\\n                </style>\\\n            ');\n            if ( this.isHorizontal() ) {\n                this.jGallery.zoom.$container.find( '.minimalize-thumbnails' ).addClass( 'fa-ellipsis-h' ).removeClass( 'fa-ellipsis-v' );\n            }\n            else {\n                this.jGallery.zoom.$container.find( '.minimalize-thumbnails' ).addClass( 'fa-ellipsis-v' ).removeClass( 'fa-ellipsis-h' );                \n            }\n            if ( this.isJgalleryInitialized ) {\n                return;\n            }\n            this.hide();\n        }, \n\n        _showNextThumb: function() {\n            var self = this;\n            var $nextThumb = this.$a.parent( '.active' ).children( '.hidden' ).eq( 0 );\n\n            setTimeout( function() {\n                $nextThumb.removeClass( 'hidden' );\n                if ( $nextThumb.length ) {\n                    self._showNextThumb();\n                }\n            }, 70 );\n        },\n\n        _horizontalCenter: function( $a ) {\n            var self = this;\n\n            if ( $a.length !== 1 ) {\n                return;\n            }            \n            this.$container.stop( false, true ).animate( {\n                'scrollLeft': $a.position().left - this.$container.scrollLeft() * -1 - $a.outerWidth() / -2 - this.$container.outerWidth() / 2\n            }, function() {\n                self.refreshNavigation();\n            } );\n        },\n\n        _verticalCenter: function( $a ) {\n            var self = this;\n\n            if ( $a.length !== 1 ) {\n                return;\n            }\n            this.$container.stop( false, true ).animate( {\n                'scrollTop': $a.position().top - this.$container.scrollTop() * -1 - $a.outerHeight() / -2 - this.$container.outerHeight() / 2\n            }, function() {\n                self.refreshNavigation();\n            } );\n        },\n        \n        canScrollToPrev: function() {\n            if ( this.isVertical() || this.isFullScreen() ) {\n                return this.$container.scrollTop() > 0;\n            }\n            else {\n                return this.$container.scrollLeft() > 0;\n            }\n        },\n        \n        canScrollToNext: function() {\n            if ( this.isVertical() || this.isFullScreen() ) {\n                return this.$container.find( '.jgallery-container-inner' ).height() > this.$container.height() + this.$container.scrollTop();\n            }\n            else {\n                var $album = this.getElement().find( 'div.active' );\n                var intThumbsWidth = this.jGallery.options.thumbType === 'image' ? this.$a.outerWidth( true ) * $album.find( 'img' ).length : this.$a.outerWidth( true ) * $album.find( 'a' ).length;\n                \n                return intThumbsWidth > this.$container.width() + this.$container.scrollLeft();\n            }\n        },\n\n        _scrollToPrev: function() {\n            var self = this;\n\n            if ( this.isVertical() || this.isFullScreen() ) {\n                this.$container.stop( false, true ).animate( {\n                    'scrollTop': \"-=\" + $window.height() * 0.7\n                }, function() {\n                    self.refreshNavigation();\n                } );\n            } \n            else if ( this.isHorizontal() ) {\n                this.$container.stop( false, true ).animate( {\n                    'scrollLeft': \"-=\" + $window.width() * 0.7\n                }, function() {\n                    self.refreshNavigation();\n                } );\n            }\n        },\n\n        _scrollToNext: function() {\n            var self = this;\n\n            if ( this.isVertical() || this.isFullScreen() ) {\n                this.$container.stop( false, true ).animate( {\n                    'scrollTop': \"+=\" + $window.height() * 0.7\n                }, function() {\n                    self.refreshNavigation();\n                } );                \n            }\n            else if ( this.isHorizontal() ) {\n                this.$container.stop( false, true ).animate( {\n                    'scrollLeft': \"+=\" + $window.width() * 0.7\n                }, function() {\n                    self.refreshNavigation();\n                } );\n            }\n        }\n    };\n    \n    return Thumbnails;\n} )( jLoader );\nvar ThumbnailsGenerator = ( function( outerHtml, jLoader ) {\n    var $ = jQuery;\n    \n    $.fn.outerHtml = outerHtml;\n    $.fn.jLoader = jLoader;\n    \n    var ThumbnailsGenerator = function( jGallery, options ) {\n        this.options = $.extend( {}, {\n            thumbsHidden: true\n        }, options );\n        this.jGallery = jGallery;\n        this.isSlider = jGallery.isSlider();\n        this.$element = jGallery.$this;\n        this.booIsAlbums = jGallery.booIsAlbums;\n        this.$tmp;\n        this.intI = 1;\n        this.intJ = 1;\n        this.intNo;\n        this.$thumbnailsContainerInner = this.jGallery.$jgallery.find( '.jgallery-thumbnails .jgallery-container-inner' );\n        this.start();\n    };\n\n    ThumbnailsGenerator.prototype = {\n        start: function() {\n            this.$thumbnailsContainerInner.html( '' );\n            if (this.jGallery.options.items) {\n                this.processOptions();\n            }\n            else {\n                this.processHtml();\n            }\n            this.refreshThumbsSize();\n        },\n        \n        processOptions: function() {\n            if ( this.booIsAlbums ) {\n                this.jGallery.options.items.forEach(function(album) {\n                    var $album = this.$thumbnailsContainerInner.append( '<div class=\"album\" data-jgallery-album-title=\"' + album.title + '\"></div>' ).children( ':last-child' );\n                    \n                    this.intNo = 1;\n                    album.images.forEach(function(item) {\n                        processImage.call(this, item, $album);\n                    }, this);\n                }, this);\n            }\n            else {\n                this.intNo = 1;\n                this.jGallery.options.items.forEach(function(item) {\n                    processImage.call(this, item, this.$thumbnailsContainerInner);\n                }, this);\n            }\n            \n            function processImage(item, $container) {\n                var thumb = new Thumb($.extend({\n                    photoId: this.intI++,\n                    number: this.intNo++\n                }, item));\n\n                $container.append( thumb.render() );\n                thumb.preload();\n            }\n        },\n        \n        processHtml: function() {\n            var self = this;\n            var selector = this.jGallery.isSlider() ? '.album:has(img)' : '.album:has(a:has(img))';\n            \n            $( 'body' ).append( '<div id=\"jGalleryTmp\" style=\"position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: -1; overflow: hidden;\">' + this.$element.html() + '</div>' );\n            this.$tmp = $( '#jGalleryTmp' );\n            if ( this.booIsAlbums ) {\n                this.$tmp.find( selector ).each( function() {\n                    self.insertAlbum( $( this ) );\n                } );\n            }\n            else {\n                this.insertImages( this.$tmp, this.$thumbnailsContainerInner );                    \n            }\n            this.$tmp.remove();\n        },\n\n        insertAlbum: function( $this ) {\n            var strTitle = $this.is( '[data-jgallery-album-title]' ) ? $this.attr( 'data-jgallery-album-title' ) : 'Album ' + this.intJ;\n            var $album = this.$thumbnailsContainerInner.append( '<div class=\"album\" data-jgallery-album-title=\"' + strTitle + '\"></div>' ).children( ':last-child' );\n\n            if ( this.intJ === 1 ) {\n                $album.addClass( 'active' );\n            }\n            this.insertImages( $this, $album );\n            this.intJ++;\n        },\n\n        insertImages: function( $images, $container ) {\n            var self = this;\n            var selector = this.jGallery.isSlider() ? 'img' : 'a:has(img)';\n\n            this.intNo = 1;\n            $images.find( selector ).each( function() {\n                self.insertImage( $( this ), $container );\n            } );            \n        },\n\n        insertImage: function( $this, $container ) {\n            var $parent = $this.parent();\n            var $img = $this.is( 'img' ) ? $this : $this.find( 'img' ).eq( 0 );\n            var thumb = new Thumb({\n                photoId: this.intI++,\n                number: this.intNo++,\n                url: $this.is( 'img' ) && this.isSlider ? $this.attr( 'src' ) : $this.attr( 'href' ),\n                link: $this.is( 'img' ) && this.isSlider && $parent.is( 'a' ) ? $parent.attr( 'href' ) : undefined,\n                target: $this.is( 'img' ) && this.isSlider && $parent.is( 'a' ) && $parent.is( '[target]' ) ? $parent.attr( 'target' ) : undefined,\n                thumbUrl: $img.attr( 'src' ),\n                title: $img.attr( 'alt' ),\n                bgColor: $img.attr( 'data-jgallery-bg-color' ),\n                textColor: $img.attr( 'data-jgallery-text-color' )\n            });\n            \n            $container.append( thumb.render() );\n            thumb.preload();\n        },\n\n        refreshThumbsSize: function() {\n            var options = this.jGallery.options;\n\n            this.$thumbnailsContainerInner.find( 'img' ).each( function() {\n                var $image = $( this );\n                var image = new Image();\n\n                image.src = $image.attr( 'src' );          \n                if ( ( image.width / image.height ) < ( options.thumbWidth / options.thumbHeight ) ) {\n                    $image.addClass( 'thumb-vertical' ).removeClass( 'thumb-horizontal' );\n                }\n                else {\n                    $image.addClass( 'thumb-horizontal' ).removeClass( 'thumb-vertical' );                \n                }\n                if ( ( image.width / image.height ) < ( options.thumbWidthOnFullScreen / options.thumbHeightOnFullScreen ) ) {\n                    $image.addClass( 'thumb-on-full-screen-vertical' ).removeClass( 'thumb-on-full-screen-horizontal' );\n                }\n                else {\n                    $image.addClass( 'thumb-on-full-screen-horizontal' ).removeClass( 'thumb-on-full-screen-vertical' );                \n                }\n            } );\n        }\n    };\n    \n    return ThumbnailsGenerator;\n} )( outerHtml, jLoader );\nvar Zoom = ( function( jLoader, overlay, historyPushState, jGalleryTransitions, jGalleryArrayTransitions, jGalleryBackwardTransitions, AdvancedAnimation, IconChangeAlbum ) {\n    var $ = jQuery;\n    var $body = $( 'body' );\n    \n    $.fn.jLoader = jLoader;\n    $.fn.overlay = overlay;\n    \n    var Zoom = function( jGallery ) {\n        this.$container = jGallery.$element.children( '.zoom-container' );\n        this.$element = this.$container.children( '.zoom' );\n        this.$title = this.$container.find( '.nav-bottom > .title' );\n        this.$btnPrev = this.$container.children( '.prev' );\n        this.$btnNext = this.$container.children( '.next' );\n        this.thumbnails = jGallery.thumbnails;\n        this.$jGallery = jGallery.$element;\n        this.jGallery = jGallery;\n        this.$resize = this.$container.find( '.resize' );\n        this.$dragNav = this.$container.find( '.drag-nav' );\n        this.$dragNavCrop = $();\n        this.$dragNavCropImg = $();\n        this.$changeMode = this.$container.find( '.fa.change-mode' );\n        this.$random = this.$container.find( '.random' );\n        this.$slideshow = this.$container.find( '.slideshow' );\n        this.intJGalleryId = this.$jGallery.attr( 'data-jgallery-id' );\n        this.booSlideshowPlayed = false;\n        this.booLoadingInProgress = false;\n        this.booLoadedAll = false;\n        this.$title.on( 'click', function() {\n            $( this ).toggleClass( 'expanded' );\n        } );\n        this.update();\n        this.enableDrag();\n    };\n\n    Zoom.prototype = {\n        update: function() {\n            var transition = jGalleryTransitions[ this.jGallery.options.transition ];\n\n            this.$container.attr( 'data-size', this.jGallery.options.zoomSize );\n            this.$element.find( '.pt-page' )\n                .removeClass( this.jGallery.options.hideEffect )\n                .removeClass( this.jGallery.options.showEffect );\n            if ( typeof transition !== 'undefined' ) {\n                this.jGallery.options.hideEffect = transition[ 0 ];\n                this.jGallery.options.showEffect = transition[ 1 ];\n            }\n            this.initAdvancedAnimation();  \n        },\n\n        initAdvancedAnimation: function() {\n            if ( typeof this.advancedAnimation === 'undefined' ) {\n                this.advancedAnimation = new AdvancedAnimation( this.$element );\n            }\n            this.advancedAnimation.setAnimationProperties( { \n                duration: this.jGallery.options.transitionDuration,\n                transitionTimingFunction: this.jGallery.options.transitionTimingFunction\n            } );\n            this.advancedAnimation.setDirection( this.jGallery.options.transitionWaveDirection );\n            this.advancedAnimation.setQuantityParts( this.jGallery.options.transitionCols, this.jGallery.options.transitionRows );\n            this.advancedAnimation.setHideEffect( this.jGallery.options.hideEffect );\n            this.advancedAnimation.setShowEffect( this.jGallery.options.showEffect );\n        },\n\n        setThumbnails: function( thumbnails ) {\n            this.thumbnails = thumbnails;\n        },\n        \n        showDragNav: function() {\n            this.$dragNav.removeClass( 'hide' ).addClass( 'show' );  \n        },\n        \n        hideDragNav: function() {\n            this.$dragNav.removeClass( 'show' ).addClass( 'hide' );  \n        },\n        \n        refreshDragNavVisibility: function() {\n            var $img = this.$element.find( 'img.active' );\n            \n            if ( $img.width() <= this.$element.outerWidth() || $img.height() <= this.$element.outerHeight() ) {\n                this.hideDragNav();\n            }\n            else {\n                this.showDragNav();\n            }\n        },\n\n        enableDrag: function() {\n            var self = this;\n            var startMarginLeft;\n            var startMarginTop;\n            var startX;\n            var startY;\n            var point;\n            var $img;\n            \n            var calcDraggedX = function() {\n                return parseInt( startMarginLeft ) - parseInt( $img.css( 'margin-left' ) );\n            };\n\n            var startDrag = function( event ) {\n                startX = event.pageX;\n                startY = event.pageY;\n                point = event;\n                $img = self.$element.find( 'img.active' );\n                startMarginLeft = $img.css( 'margin-left' );\n                startMarginTop = $img.css( 'margin-top' );\n                self.$element.on( {\n                    mousemove: move,\n                    touchmove: move,\n                    mouseleave: stopDrag,\n                    touchend: stopDrag\n                } );\n                if ( self.jGallery.options.zoomSize === 'fill' ) {\n                    self.$dragNav.removeClass( 'hide' ).addClass( 'show' );\n                }\n                drag( 0, 0 );\n            };\n\n            var stopDrag = function() {\n                var draggedX = calcDraggedX();\n                var moveX = startX - point.pageX;\n                \n                self.$element.off( 'mousemove touchmove mouseleave touchend' );\n                if ( self.jGallery.options.zoomSize === 'fill' ) {\n                    self.$dragNav.removeClass( 'show' ).addClass( 'hide' );\n                }\n                if ( self.jGallery.options.swipeEvents && draggedX === 0 ) {\n                    if ( moveX > 0 ) {\n                        self.showNextPhoto();\n                    }\n                    else if ( moveX < 0 ) {\n                        self.showPrevPhoto();\n                    }\n                }\n            };\n            \n            var move = function( event ) {\n                point = event.type === 'touchmove' ? event.originalEvent.touches[0] : event;\n                var distance = {\n                    x: point.pageX - startX,\n                    y: point.pageY - startY\n                };\n                var dragged = {};\n\n                if ( self.jGallery.options.draggableZoom ) {\n                    dragged = drag( distance.x, distance.y );\n                }\n                if ( (Math.abs(distance.y) > Math.abs(distance.x)) && dragged.y ) {\n                    event.preventDefault();\n                }\n                else if ( (Math.abs(distance.x) >= Math.abs(distance.y)) && dragged.x ) {\n                    event.preventDefault();\n                }\n            };\n\n            /**\n             * \n             * @param {number} x\n             * @param {number} y\n             * @returns {{ x: boolean, y: boolean }}\n             */\n            var drag = function( x, y ) {\n                var marginLeft = parseFloat( parseFloat( startMarginLeft ) + x );\n                var marginTop = parseFloat( parseFloat( startMarginTop ) + y );\n                var $img = self.$element.find( 'img.active' );\n                var $first = $img.eq( 0 );\n                var firstPosition = $first.position();\n                var firstPositionLeft = firstPosition.left;\n                var firstPositionTop = firstPosition.top;\n                var $last = $img.eq( -1 );\n                var lastPosition = $last.position();\n                var $lastParent = $last.parent();\n                var $dragNavCrop = self.$dragNavCrop;\n                var dragNavCropPosition = $dragNavCrop.position();\n                var canDrag = {\n                    x: firstPositionLeft + marginLeft < 0 && lastPosition.left + $last.width() + marginLeft > $lastParent.outerWidth(),\n                    y: firstPositionTop + marginTop < 0 && lastPosition.top + $last.height() + marginTop > $lastParent.outerHeight()\n                };\n\n                if ( canDrag.x ) {\n                    $img.css( {\n                        'margin-left': marginLeft\n                    } );\n                    $dragNavCrop.css( {\n                        left: - ( firstPositionLeft + marginLeft ) / $img.width() * 100 + '%'\n                    } );\n                }\n                if ( canDrag.y ) {\n                    $img.css( {\n                        'margin-top': marginTop\n                    } );\n                    $dragNavCrop.css( {\n                        top: - ( firstPositionTop + marginTop ) / $img.height() * 100 + '%'\n                    } );\n                }\n                if ( dragNavCropPosition ) {\n                    self.$dragNavCropImg.css( {\n                        'margin-left': - dragNavCropPosition.left,\n                        'margin-top': - dragNavCropPosition.top\n                    } );\n                }\n                \n                return canDrag;\n            };\n\n            this.refreshDragNavCropSize();\n            if (this.jGallery.options.draggableZoom) {\n                this.refreshCursor();\n                window.addEventListener('resize', this.refreshCursor.bind(this));\n            }\n            this.$element.on( {\n                mousedown: function( event ) {\n                    startDrag( event );\n                    self.slideshowPause();\n                },\n                touchstart: function( event ) {\n                    startDrag( event.originalEvent.touches[0] );\n                    self.slideshowPause();\n                },\n                mouseup: function() {\n                    stopDrag();\n                },\n                touchend: function() {\n                    stopDrag();\n                }\n            } );\n        },\n        \n        refreshCursor: function() {            \n            this.$element.get(0).style.cursor = this.canDrag() ? 'move' : 'default';\n        },\n        \n        canDrag: function() {\n            var container = this.$element.get(0);\n            var img = container.querySelector('img.active');\n            \n            return (\n                img &&\n                this.jGallery.options.draggableZoom &&\n                (\n                    img.clientWidth > container.clientWidth ||\n                    img.clientHeight > container.clientHeight\n                )\n            );\n        },\n\n        refreshContainerSize: function () {\n            var intNavBottomHeight = this.jGallery.isSlider() ? 0 : this.$container.find( '.nav-bottom' ).outerHeight();\n            var isThumbnailsVisible = ! this.jGallery.isSlider() && ! this.thumbnails.getElement().is( '.hidden' );\n            var strThumbnailsPosition = isThumbnailsVisible ? this.jGallery.options.thumbnailsPosition : '';\n\n            this.$container.css( {\n                'width': isThumbnailsVisible && this.thumbnails.isVertical() ? this.$jGallery.width() - this.thumbnails.getElement().outerWidth( true ) : 'auto',\n                'height': isThumbnailsVisible && this.thumbnails.isHorizontal() ? this.$jGallery.height() - this.thumbnails.getElement().outerHeight( true ) - intNavBottomHeight : this.$jGallery.height() - intNavBottomHeight,\n                'margin-top': strThumbnailsPosition === 'top' ? this.thumbnails.getElement().outerHeight( true ) : 0,\n                'margin-left': strThumbnailsPosition === 'left' ? this.thumbnails.getElement().outerWidth( true ) : 0,\n                'margin-right': strThumbnailsPosition === 'right' ? this.thumbnails.getElement().outerWidth( true ) : 0\n            } );\n            if ( this.jGallery.options.draggableZoom ) {\n                this.refreshDragNavCropSize();\n            }\n        },\n\n        refreshSize: function() {\n            if ( this.thumbnails.isFullScreen() ) {\n                return;\n            }\n            this.refreshContainerSize();\n            if ( this.jGallery.options.zoomSize === 'original' ) {\n                this.original();\n            }\n            else if ( this.jGallery.options.zoomSize === 'fill' ) {\n                this.fill();\n            }\n            else {\n                this.fit();\n            }\n            if ( this.jGallery.options.draggableZoom ) {\n                this.refreshDragNavCropSize();\n                this.refreshDragNavVisibility();\n            }\n            this.$element.addClass( 'visible' );\n            this.refreshCursor();\n        },\n\n        refreshDragNavCropSize: function() { \n            var $img = this.$element.find( 'img.active' );\n            var cropPositionLeft;\n            var cropPositionTop;\n\n            this.$dragNavCrop.css( {\n                width: this.$element.width() / $img.width() * 100 + '%',\n                height: this.$element.height() / $img.height() * 100 + '%'\n            } );\n            if ( $img.attr( 'data-width' ) < this.$container.outerWidth() ) {\n                cropPositionLeft = 0;\n            }\n            else {\n                cropPositionLeft = ( this.$dragNav.width() - this.$dragNavCrop.width() ) / 2;                \n            }\n            if ( $img.attr( 'data-height' ) < this.$container.outerHeight() ) {\n                cropPositionTop = 0;\n            }\n            else {\n                cropPositionTop = ( this.$dragNav.height() - this.$dragNavCrop.height() ) / 2;              \n            }\n            this.$dragNavCrop.css( {\n                left: cropPositionLeft,\n                top: cropPositionTop\n            } );\n            if ( this.$dragNavCropImg.length ) {\n                this.$dragNavCropImg.css( {\n                    'margin-left': - cropPositionLeft,\n                    'margin-top':  - cropPositionTop\n                } );\n            }\n        },\n\n        changeSize: function() {\n            if ( this.jGallery.options.zoomSize === 'fit' ) {\n                this.jGallery.options.zoomSize = 'fill';\n            }\n            else if ( this.jGallery.options.zoomSize === 'fill' ) {\n                var $img = this.$element.find( 'img.active' ).eq( 0 );\n\n                if ( this.$element.outerWidth().toString() === $img.attr( 'data-width' ) ) {\n                    this.jGallery.options.zoomSize = 'fit';\n                }\n                else {        \n                    this.jGallery.options.zoomSize = 'original';        \n                }\n            }\n            else if ( this.jGallery.options.zoomSize === 'original' ) {\n                this.jGallery.options.zoomSize = 'fit';\n            }\n            this.refreshSize();\n            this.$container.attr( 'data-size', this.jGallery.options.zoomSize );\n        },\n\n        original: function() {\n            var $img = this.$element.find( 'img.active' );\n\n            this.advancedAnimation.setPositionParts();\n            this.setImgSizeForOriginal( $img );\n            this.setImgSizeForOriginal( this.$element.find( '.pt-page.init img' ) );\n            if ( $img.attr( 'data-width' ) <= this.$element.outerWidth() && $img.attr( 'data-height' ) <= this.$element.outerHeight() ) {\n                this.$resize.addClass( 'fa-search-plus' ).removeClass( 'fa-search-minus' );  \n            }\n            else {\n                this.$resize.addClass( 'fa-search-minus' ).removeClass( 'fa-search-plus' );\n            }\n        },\n\n        fit: function() {\n            var $img = this.$element.find( 'img.active' ).add( this.$element.find( '.pt-page.init img' ) );\n\n            this.advancedAnimation.setPositionParts();\n            this.setImgSizeForFit( $img.filter( '.active' ) );\n            this.setImgSizeForFit( $img.filter( ':not( .active )' ) );\n            this.$resize.addClass( 'fa-search-plus' ).removeClass( 'fa-search-minus' );\n        },\n\n        fill: function() {\n            var $img = this.$element.find( 'img.active' );\n\n            this.setImgSizeForFill( $img );\n            this.setImgSizeForFill( this.$element.find( '.pt-page.init img' ) );\n            this.advancedAnimation.setPositionParts();\n            if ( $img.attr( 'data-width' ) > $img.width() && $img.attr( 'data-height' ) > $img.height() ) {\n                this.$resize.addClass( 'fa-search-plus' ).removeClass( 'fa-search-minus' );                \n            }\n            else {\n                this.$resize.addClass( 'fa-search-minus' ).removeClass( 'fa-search-plus' );\n            }\n        },\n\n        setImgSizeForOriginal: function( $img ) {\n            $img.css( {\n                'width': $img.attr( 'data-width' ),\n                'height': $img.attr( 'data-height' ),\n                'min-width': 0,\n                'min-height': 0,\n                'max-width': 'none',\n                'max-height': 'none'\n            } );       \n            $img.css( {\n                'margin-top': - $img.height() / 2,\n                'margin-left': - $img.width() / 2\n            } );            \n        },\n\n        setImgSizeForFit: function( $img ) {\n            var intNavBottomHeight = this.jGallery.isSlider() ? 0 : this.$container.find( '.nav-bottom' ).outerHeight();\n            var isThumbnailsVisible = ! this.jGallery.isSlider() && ! this.thumbnails.getElement().is( '.hidden' );\n\n            $img.css( {\n                'width': 'auto',\n                'height': 'auto',\n                'min-width': 0,\n                'min-height': 0,\n                'max-width': isThumbnailsVisible && this.thumbnails.isVertical() ? this.$jGallery.width() - this.thumbnails.getElement().outerWidth( true ) : this.$jGallery.width(),\n                'max-height': isThumbnailsVisible && this.thumbnails.isHorizontal() ? this.$jGallery.height() - this.thumbnails.getElement().outerHeight( true ) - intNavBottomHeight : this.$jGallery.height() - intNavBottomHeight\n            } );   \n            if ( $img.width() / $img.height() / this.jGallery.getCanvasRatioWidthToHeight() < 1 ) {\n                $img.css( {\n                    'width': 'auto',\n                    'height': isThumbnailsVisible && this.thumbnails.isHorizontal() ? this.$jGallery.height() - this.thumbnails.getElement().outerHeight( true ) - intNavBottomHeight : this.$jGallery.height() - intNavBottomHeight\n                } );                        \n            }\n            else {\n                $img.css( {\n                    'width': isThumbnailsVisible && this.thumbnails.isVertical() ? this.$jGallery.width() - this.thumbnails.getElement().outerWidth( true ) : this.$jGallery.width(),\n                    'height': 'auto'\n                } );\n            }             \n            $img.css( {\n                'margin-top': - $img.height() / 2,\n                'margin-left': - $img.width() / 2\n            } );\n        },\n\n        setImgSizeForFill: function( $img ) {\n            var intNavBottomHeight = this.jGallery.isSlider() ? 0 : this.$container.find( '.nav-bottom' ).outerHeight();\n            var isThumbnailsVisible = ! this.jGallery.isSlider() && ! this.thumbnails.getElement().is( '.hidden' );\n\n            $img.css( {\n                'width': 'auto',\n                'height': 'auto',\n                'max-width': 'none',\n                'max-height': 'none',                    \n                'min-width': 0,\n                'min-height': 0\n            } );\n            if ( $img.width() / $img.height() / this.jGallery.getCanvasRatioWidthToHeight() > 1 ) {\n                $img.css( {\n                    'width': 'auto',\n                    'height': isThumbnailsVisible && this.thumbnails.isHorizontal() ? this.$jGallery.height() - this.thumbnails.getElement().outerHeight( true ) - intNavBottomHeight : this.$jGallery.height() - intNavBottomHeight\n                } );                        \n            }\n            else {\n                $img.css( {\n                    'width': isThumbnailsVisible && this.thumbnails.isVertical() ? this.$jGallery.width() - this.thumbnails.getElement().outerWidth( true ) : this.$jGallery.width(),\n                    'height': 'auto'\n                } );\n            }\n            $img.css( {                   \n                'min-width': isThumbnailsVisible && this.thumbnails.isVertical() ? this.$jGallery.width() - this.thumbnails.getElement().outerWidth( true ) : this.$jGallery.width(),\n                'min-height': isThumbnailsVisible && this.thumbnails.isHorizontal() ? this.$jGallery.height() - this.thumbnails.getElement().outerHeight( true ) - intNavBottomHeight : this.$jGallery.height() - intNavBottomHeight\n            } );\n            $img.css( {\n                'margin-top': - $img.height() / 2,\n                'margin-left': - $img.width() / 2\n            } );\n        },\n\n        isAddedToLoad: function( $a ) {\n            return this.$element.find( 'img' ).filter( '[src=\"' + $a.attr( 'href' ) + '\"]' ).length > 0;\n        },\n\n        isLoaded: function( $a ) {\n            var img = this.$element.find( 'img' ).filter( '[src=\"' + $a.attr( 'href' ) + '\"]' ).get( 0 );\n            \n            if ( img ) {\n                return this.imgIsLoaded( img );               \n            }\n        },\n\n        imgIsLoaded: function( img ) {\n            return img.complete && img.naturalWidth > 0;         \n        },\n\n        refreshNav: function() {\n            var $thumbActive = this.thumbnails.getElement().find( 'div.active a.active' );\n\n            $thumbActive.prev( 'a' ).length === 1 ? this.$btnPrev.removeClass( 'hidden' ) : this.$btnPrev.addClass( 'hidden' );\n            $thumbActive.next( 'a' ).length === 1 ? this.$btnNext.removeClass( 'hidden' ) : this.$btnNext.addClass( 'hidden' );\n        },\n\n        slideshowStop: function () {\n            this.slideshowPause();\n            this.jGallery.progress.clear();\n        },\n\n        slideshowPause: function () {\n            this.jGallery.progress.pause();\n            this.$slideshow.removeClass( 'fa-pause' ).addClass( 'fa-play' );\n            this.booSlideshowPlayed = false;\n            if ( this.jGallery.options.slideshowCanRandom ) {\n                this.$random.hide();\n            }\n        },\n\n        slideshowPlay: function() {\n            if ( this.booLoadingInProgress || this.booSlideshowPlayed ) {\n                return;\n            }\n            this.booSlideshowPlayed = true;\n            this.$slideshow.removeClass( 'fa-play' ).addClass( 'fa-pause' );\n            this.slideshowSetTimeout();\n            if ( this.jGallery.options.slideshowCanRandom ) {\n                this.$random.show();\n            }\n        },\n\n        slideshowPlayPause: function() {\n            this.$slideshow.is( '.fa-play' ) ? this.slideshowPlay() : this.slideshowPause();\n        },\n\n        slideshowSetTimeout: function() {\n            var self = this;\n\n            this.jGallery.progress.start( this.$container.width(), function() {\n                self.jGallery.progress.clear();\n                self.jGallery.options.slideshowRandom ? self.showRandomPhoto() : self.showNextPhotoLoop();\n            } );\n        },\n\n        slideshowRandomToggle: function() {\n            if ( this.jGallery.options.slideshowRandom ) {\n                this.$random.removeClass( 'active' );\n                this.jGallery.options.slideshowRandom = false;\n            }\n            else {\n                this.$random.addClass( 'active' );\n                this.jGallery.options.slideshowRandom = true;                    \n            }\n        },\n\n        showNextPhotoLoop: function() {\n            var $next = this.thumbnails.$a.filter( '.active' ).next( 'a' );\n\n            if ( $next.length === 0 ) {\n                $next = this.thumbnails.$albums.filter( '.active' ).find( 'a' ).eq( 0 );\n            }\n            this.showPhoto( $next );\n        },\n\n        showRandomPhoto: function() {\n            var $thumbnailsANotActive = this.thumbnails.$albums.filter( '.active' ).find( 'a:not(.active)' );\n\n            this.showPhoto( $thumbnailsANotActive.eq( Math.floor( Math.random() * $thumbnailsANotActive.length ) ) );\n        },\n\n        showPrevPhoto: function() {\n            var $prev = this.thumbnails.$a.filter( '.active' ).prev( 'a' );\n            if ( $prev.length === 1 ) {\n                this.showPhoto( $prev );\n            } \n        },\n\n        showNextPhoto: function() {\n            var $next = this.thumbnails.$a.filter( '.active' ).next( 'a' );\n            if ( $next.length === 1 ) {\n                this.showPhoto( $next );\n            }\n        },\n\n        showPhotoInit: function() {\n            this.jGallery.init();\n        },\n\n\n        showPhoto: function( $a, options ) {\n            var self = this;\n            var $imgThumb = $a.children( 'img' );\n            var booIsLoaded;\n            var albumTitle;\n            var transition;\n            var transitionName;\n            \n            //preload images next prev\n            var $nexta=$a.next();\n            if ($nexta.length>0){\n                if ( ! self.isAddedToLoad( $nexta ) ) {\n                    this.appendPhoto( $nexta );\n                }\n            }\n            var $preva=$a.prev();\n            if ($preva.length>0){\n                if ( ! self.isAddedToLoad( $preva ) ) {\n                    this.appendPhoto( $preva );\n                }\n            }\n            //preload images next prev\n\n            if ( ! this.jGallery.initialized() ) {\n                this.showPhotoInit();\n            }\n            if ( this.booLoadingInProgress ) {\n                return;\n            }\n            this.booLoadingInProgress = true;\n            transitionName = this.jGallery.options[ $a.nextAll( '.active' ).length > 0 ? 'transitionBackward' : 'transition' ];\n            if ( transitionName === 'random' ) {\n                this.setRandomTransition();\n            }\n            else if ( transitionName === 'auto' ) {\n                transition = jGalleryTransitions[ jGalleryBackwardTransitions[ this.jGallery.options[ 'transition' ] ] ];\n                this.advancedAnimation.setHideEffect( transition[0] );\n                this.advancedAnimation.setShowEffect( transition[1] );\n            }\n            else {\n                transition = jGalleryTransitions[ transitionName ];\n                this.advancedAnimation.setHideEffect( transition[0] );\n                this.advancedAnimation.setShowEffect( transition[1] );\n            }\n            this.$element.find( '.pt-page.init' ).remove();\n            this.jGallery.options.showPhoto( $a, $imgThumb );\n            if ( this.jGallery.$element.is( ':not(:visible)' ) ) {\n                this.jGallery.show();\n            }\n            this.thumbnails.changeViewToBar();\n            if ( this.jGallery.booIsAlbums ) {\n                if ( this.jGallery.iconChangeAlbum.getTitle() === '' ) {\n                    albumTitle = $a.parents( '.album' ).eq( 0 ).attr( 'data-jgallery-album-title' );\n                    this.jGallery.iconChangeAlbum.setTitle( albumTitle );\n                    this.jGallery.iconChangeAlbum.$element.find( '[data-jgallery-album-title=\"' + albumTitle + '\"]' ).addClass( 'active' );\n                    $a.parents( '.album' ).addClass( 'active' ).siblings( '.album' ).removeClass( 'active' );\n                }\n            }\n            this.thumbnails.setActiveAlbum( this.thumbnails.$albums.filter( '[data-jgallery-album-title=\"' + $a.parents( '[data-jgallery-album-title]' ).attr( 'data-jgallery-album-title' ) + '\"]' ) );\n            this.thumbnails.setActiveThumb( $a );\n            if ( this.$element.find( 'img.active' ).attr( 'src' ) === $a.attr( 'href' ) ) {\n                this.booLoadingInProgress = false;\n                this.setJGalleryColoursForActiveThumb();\n                return;\n            }\n            if ( $a.is( '[link]' ) ) {\n                this.$element.addClass( 'is-link' );\n                if ( $a.is( '[target=\"_blank\"]') ) {\n                    this.$element.attr( 'onclick', 'window.open(\"' + $a.attr( 'link' ) + '\")' );\n                }\n                else {\n                    this.$element.attr( 'onclick', 'window.location=\"' + $a.attr( 'link' ) + '\"' );                    \n                }\n            }\n            else {\n                this.$element.removeClass( 'is-link' );\n                this.$element.removeAttr( 'onclick' );                \n            }\n            this.refreshNav();\n            if ( this.jGallery.options.title ) {\n                this.$title.addClass( 'after fade' );\n            }\n            booIsLoaded = self.isLoaded( $a );\n            if ( ! booIsLoaded ) {\n                if ( self.jGallery.options.preloadAll && ! self.booLoadedAll ) {\n                    this.appendAllPhotos();\n                }\n                else if ( ! this.isAddedToLoad( $a ) ) {\n                    this.appendPhoto( $a );\n                }\n            }\n            this.$element.find( 'img.active' ).addClass( 'prev-img' );\n            self.$container.find( 'img.active' ).removeClass( 'active' );\n            self.$container.find( '[src=\"' + $a.attr( 'href' ) + '\"]' ).addClass( 'active' );\n            if ( self.jGallery.options.title && $imgThumb.is( '[alt]' ) ) {\n                self.$title.removeClass( 'after' ).addClass( 'before' );\n            }\n            if ( ! booIsLoaded || ( self.jGallery.options.preloadAll && ! self.booLoadedAll ) ) {\n                self.booLoadedAll = true;\n                self.$container.overlay( {'show': true, 'showLoader': true, 'showProgress': self.jGallery.options.preloadAll, 'resetProgress': self.jGallery.options.preloadAll } );\n                self.jGallery.options.beforeLoadPhoto( $a, $imgThumb );\n                self.loadPhoto( self.$element, $a, options );\n            }\n            else {\n                self.showPhotoSuccess( $a, $imgThumb, options );\n            }\n        },\n\n        appendPhoto: function ( $a ) {\n            this.$element.find( '.pt-part' ).append( '\\\n                <div class=\"jgallery-container pt-page\">\\\n                    <div class=\"pt-item\"><img src=\"' + $a.attr( 'href' ) + '\" /></div>\\\n                </div>' );\n        },\n\n        appendAllPhotos: function() {       \n            var self = this;\n\n            if ( ! this.jGallery.options.preloadAll ) {\n                return;\n            }                \n            this.thumbnails.$a.each( function() {\n                var $a = $( this );\n                if ( ! self.isAddedToLoad( $a ) ) {\n                    self.$element.find( '.pt-part' ).append( '<div class=\"jgallery-container pt-page\"><div class=\"pt-item\"><img src=\"' + $a.attr( 'href' ) + '\" /></div></div>' );\n                }\n            } );\n            this.appendInitPhoto( this.thumbnails.$a.eq( -1 ) );\n        },\n\n        appendInitPhoto: function( $a ) {\n            if ( $a.length !== 1 ) {\n                return;\n            }\n            this.$element.find( '.pt-part' ).append( '\\\n                <div class=\"jgallery-container pt-page pt-page-current pt-page-ontop init\" style=\"visibility: hidden;\">\\\n                    <div class=\"pt-item\"><img src=\"' + $a.attr( 'href' ) + '\" class=\"active loaded\" /></div>\\\n                </div>' );\n        },\n\n        loadPhoto: function( $zoom, $a, options ) {\n            var self = this;\n            var $imgThumb = $a.children( 'img' );\n            var intPercent = 0;\n            var $ptPart = $zoom.find( '.pt-part' ).eq( 0 );\n            var $toLoading = this.jGallery.options.preloadAll ? $ptPart : $ptPart.find( 'img.active' );\n\n            $toLoading.jLoader( {\n                interval: 500,\n                skip: '.loaded',\n                start: function() {\n                },\n                success: function() {\n                    $zoom.find( 'img' ).each( function() {\n                        var $this = $( this );\n                        \n                        if ( self.imgIsLoaded( $this.get( 0 ) ) ) {\n                            $this.addClass( 'loaded' );\n                        }\n                    } );\n                    self.$container.overlay( {'hide': true, 'hideLoader': true} );\n                    self.showPhotoSuccess( $a, $imgThumb, options );\n                },\n                progress: function( data ) {\n                    if ( ! self.jGallery.options.preloadAll ) {\n                        return;\n                    }\n                    intPercent = data.percent;\n                    self.$container.find( '.overlay .imageLoaderPositionAbsolute' ).find( '.progress-value' ).html( intPercent );\n                }\n            } );\n        },\n\n        showPhotoSuccess: function( $a, $imgThumb, options ) {\n            var image;\n            var $active = this.$element.find( 'img.active' );\n\n            options = $.extend( {}, {\n                historyPushState: true\n            }, options );            \n            if ( $active.is( ':not([data-width])' ) ) {\n                image = new Image();\n                image.src = $active.attr( 'src' );\n                $active.attr( 'data-width', image.width );\n                $active.attr( 'data-height', image.height );\n            }\n            if ( this.jGallery.options.title && $imgThumb.attr( 'alt' ) ) {\n                this.$title.html( $imgThumb.attr( 'alt' ) ).removeClass( 'before' ).removeClass( 'after' );\n                this.jGallery.$element.addClass( 'has-title' );\n            }\n            else {\n                this.jGallery.$element.removeClass( 'has-title' );\n            }\n            this.setJGalleryColoursForActiveThumb();\n            this.$element.find( '.pt-page.init' ).css( {\n                visibility: 'visible'\n            } );\n            this.$element.find( 'img.prev-img' ).removeClass( 'prev-img' );\n            this.advancedAnimation.show( $active.eq( 0 ).parent().parent(), {\n                animation: this.$element.find( '.pt-part' ).eq( 0 ).find( '.pt-page-current:not(.pt-page-prev)' ).length === 1\n            } );\n            this.refreshSize();\n            this.thumbnails.refreshNavigation();\n            if ( this.booSlideshowPlayed ) {\n                this.slideshowSetTimeout();\n            }\n            this.jGallery.options.afterLoadPhoto( $a, $imgThumb );\n            this.booLoadingInProgress = false;\n            if ( this.jGallery.options.autostart && this.jGallery.options.slideshowAutostart && this.jGallery.options.slideshow ) {\n                this.jGallery.options.slideshowAutostart = false;\n                this.slideshowPlay();\n            }\n            if ( this.jGallery.options.draggableZoom ) {\n                this.$dragNav.html( '<img src=\"' + $active.attr( 'src' ) + '\" class=\"bg\">\\\n                    <div class=\"crop\"><img src=\"' + $active.attr( 'src' ) + '\"></div>' );\n                this.$dragNavCrop = this.$dragNav.find( '.crop' );\n                this.$dragNavCropImg = this.$dragNavCrop.find( 'img' );   \n                this.refreshDragNavCropSize();\n            }\n            if ( options.historyPushState && this.jGallery.options.browserHistory ) {\n                historyPushState( {\n                    path: $active.attr( 'src' )\n                } );\n            }\n        },\n\n        showPhotoByPath: function( path ) {\n            var $a = this.thumbnails.$albums.filter( '.active' ).find( 'a[href=\"' + path + '\"]' );\n\n            if ( $a.length === 0 ) {\n                $a = this.thumbnails.$a.filter( 'a[href=\"' + path + '\"]' ).eq( 0 );\n            }\n            if ( $a.length === 0 ) {\n                return;\n            }\n            this.showPhoto( $a, {\n                historyPushState: false\n            } );\n        },\n\n        setJGalleryColoursForActiveThumb: function() {\n            var $imgThumb = this.thumbnails.$a.filter( '.active' ).find( 'img' );\n\n            this.jGallery.setColours( {\n                strBg: $imgThumb.is( '[data-jgallery-bg-color]' ) ? $imgThumb.attr( 'data-jgallery-bg-color' ) : this.jGallery.options.backgroundColor,\n                strText: $imgThumb.is( '[data-jgallery-bg-color]' ) ? $imgThumb.attr( 'data-jgallery-text-color' ) : this.jGallery.options.textColor\n            } );\n        },\n\n        setTransition: function( transition ) {\n            this.jGallery.options.hideEffect = jGalleryTransitions[ transition ][ 0 ];\n            this.jGallery.options.showEffect = jGalleryTransitions[ transition ][ 1 ];\n            this.advancedAnimation.setHideEffect( this.jGallery.options.hideEffect );\n            this.advancedAnimation.setShowEffect( this.jGallery.options.showEffect );    \n        },\n\n        setRandomTransition: function() {\n            var rand;\n\n            this.$element.find( '.pt-page' )\n                .removeClass( this.jGallery.options.hideEffect )\n                .removeClass( this.jGallery.options.showEffect );\n            rand = Math.floor( ( Math.random() * jGalleryArrayTransitions.length ) );\n            this.jGallery.options.hideEffect = jGalleryArrayTransitions[ rand ][ 0 ];\n            this.jGallery.options.showEffect = jGalleryArrayTransitions[ rand ][ 1 ];\n            this.advancedAnimation.setHideEffect( this.jGallery.options.hideEffect );\n            this.advancedAnimation.setShowEffect( this.jGallery.options.showEffect ); \n        },\n\n        unmarkActive: function() {\n            this.$element.find( 'img.active' ).removeClass( 'active' );\n        },\n\n        changeMode: function() {\n            var currentMode = this.jGallery.options.mode;\n\n            if ( currentMode === 'slider' ) {\n                return;\n            }\n            if ( currentMode === 'standard' ) {\n                this.goToFullScreenMode();\n            }\n            else if ( currentMode === 'full-screen' ) {\n                this.goToStandardMode();\n            }\n            if ( this.jGallery.iconChangeAlbum instanceof IconChangeAlbum ) {\n                this.jGallery.iconChangeAlbum.refreshMenuHeight();\n            }\n        },\n\n        goToFullScreenMode: function() {\n            $body.css( {\n                overflow: 'hidden'\n            } );\n            this.jGallery.$element.removeClass( 'jgallery-standard' ).addClass( 'jgallery-full-screen' ).css( {\n                width: 'auto',\n                height: 'auto'\n            } );\n            this.$changeMode.removeClass( 'fa-expand' ).addClass( 'fa-compress' );\n            this.jGallery.options.mode = 'full-screen';\n            this.jGallery.refreshDimensions();\n        },\n\n        goToStandardMode: function() {\n            $body.css( {\n                overflow: 'visible'\n            } );\n            this.jGallery.$element.removeClass( 'jgallery-full-screen' ).addClass( 'jgallery-standard' ).css( {\n                width: this.jGallery.options.width,\n                height: this.jGallery.options.height\n            } );\n            this.$changeMode.removeClass( 'fa-compress' ).addClass( 'fa-expand' );\n            this.jGallery.options.mode = 'standard';\n            this.jGallery.refreshDimensions();\n        }\n    };\n    \n    return Zoom;\n} )( jLoader, overlay, historyPushState, jGalleryTransitions, jGalleryArrayTransitions, jGalleryBackwardTransitions, AdvancedAnimation, IconChangeAlbum );\nvar JGallery = ( function( outerHtml, historyPushState, isInternetExplorer, isInternetExplorer8AndOlder, refreshHTMLClasses, defaults, defaultsFullScreenMode, defaultsSliderMode, requiredFullScreenMode, requiredSliderMode, IconChangeAlbum, Progress, Thumbnails, ThumbnailsGenerator, Zoom ) {\n    var $ = jQuery;\n    var $html = $( 'html' );\n    var $head = $( 'head' );\n    var $body = $( 'body' );\n    var $window = $( window );\n    \n    $.fn.outerHtml = outerHtml;\n    \n    var JGallery = function( $this, jGalleryId, options ) {\n        var self = this;\n        \n        if ( ! jGalleryId || $this.is( '[data-jgallery-id]' ) ) {\n            return;\n        }     \n        this.$this = $this;   \n        this.intId = jGalleryId;\n        this.$this.attr( 'data-jgallery-id', this.intId );\n        this.overrideOptions( options ); \n        this.booIsAlbums = (this.options.items && this.options.items[0].images) ||\n                $this.find( '.album:has(a:has(img))' ).length > 1;\n        if ( this.options.disabledOnIE8AndOlder && isInternetExplorer8AndOlder() ) {\n            return;\n        }\n        this.init( {\n            success: function() {\n                if ( self.options.browserHistory ) {\n                    self.browserHistory();\n                }\n                if ( self.options.autostart ) {\n                    self.autostart();\n                }\n                refreshHTMLClasses();\n                $html.on( {\n                    keydown: function( event ) {\n                        if ( self.$element.is( ':visible' ) ) {\n                            if ( event.which === 27 ) {\n                                event.preventDefault();\n                                if ( self.thumbnails.getElement().is( '.full-screen' ) ) {\n                                    self.thumbnails.changeViewToBar();\n                                    self.zoom.refreshSize();\n                                    return;\n                                }\n                                else if (self.isFullScreenMode() && !self.canClose()) {\n                                    self.zoom.changeMode();\n                                }\n                                self.hide();\n                            }\n                            if ( event.which === 37 ) {\n                                event.preventDefault();\n                                self.zoom.slideshowStop();\n                                self.zoom.showPrevPhoto();\n                            }\n                            if ( event.which === 39 ) {\n                                event.preventDefault();\n                                self.zoom.slideshowStop();\n                                self.zoom.showNextPhoto();\n                            }\n                        }\n                    }\n                } );\n            }\n        } );\n    };\n\n    JGallery.prototype = {\n        isFullScreenMode: function() {\n            return this.options.mode === 'full-screen';\n        },\n        \n        canClose: function() {\n            return this.options.canClose;\n        },\n        \n        template: {\n            html: '<div class=\"jgallery\" style=\"display: none;\">\\\n                        <div class=\"jgallery-thumbnails hidden\">\\\n                            <div class=\"jgallery-container\"><div class=\"jgallery-container-inner\"></div></div>\\\n                            <span class=\"prev jgallery-btn\"><span class=\"fa fa-chevron-left ico\"></span></span>\\\n                            <span class=\"next jgallery-btn\"><span class=\"fa fa-chevron-right ico\"></span></span>\\\n                        </div>\\\n                        <div class=\"zoom-container\">\\\n                            <div class=\"zoom before pt-perspective\"></div>\\\n                            <div class=\"drag-nav hide\"></div>\\\n                            <div class=\"left\"></div>\\\n                            <div class=\"right\"></div>\\\n                            <span class=\"fa fa-chevron-left prev jgallery-btn jgallery-btn-large\"></span>\\\n                            <span class=\"fa fa-chevron-right next jgallery-btn jgallery-btn-large\"></span>\\\n                            <span class=\"progress\"></span>\\\n                            <div class=\"nav\">\\\n                                <span class=\"fa resize jgallery-btn jgallery-btn-small\" tooltip-position=\"bottom right\"></span>\\\n                                <span class=\"fa change-mode jgallery-btn jgallery-btn-small\" tooltip-position=\"bottom right\"></span>\\\n                                <span class=\"fa fa-times jgallery-close jgallery-btn jgallery-btn-small\" tooltip-position=\"bottom right\"></span>\\\n                            </div>\\\n                            <div class=\"nav-bottom\">\\\n                                <div class=\"icons\">\\\n                                    <span class=\"fa fa-play slideshow jgallery-btn jgallery-btn-small\"></span>\\\n                                    <span class=\"fa fa-random random jgallery-btn jgallery-btn-small inactive\"></span>\\\n                                    <span class=\"fa fa-th full-screen jgallery-btn jgallery-btn-small\"></span>\\\n                                    <span class=\"fa fa-ellipsis-h minimalize-thumbnails jgallery-btn jgallery-btn-small\"></span>\\\n                                </div>\\\n                                <div class=\"title before\"></div>\\\n                            </div>\\\n                        </div>\\\n                    </div>',\n            \n            done: function( fn ) {\n                fn( this.html );\n            }\n        },\n        \n        initialized: function() {\n            return this.$this.is( '[data-jgallery-id]' );\n        },\n\n        update: function( options ) {\n            var self = this;\n            \n            this.template.done( function() {\n                self.overrideOptions( options ); \n                if ( self.options.disabledOnIE8AndOlder && isInternetExplorer8AndOlder() ) {\n                    return;\n                }\n                self.booIsAlbums = self.$this.find( '.album:has(a:has(img))' ).length > 1;\n                self.zoom.update();\n                self.thumbnails.init();\n                self.setUserOptions();\n                self.reloadThumbnails();\n                self.refreshDimensions();\n            } );\n        },\n        \n        overrideOptions: function( options ) {\n            var modeIsDefined = typeof options !== 'undefined' && typeof options.mode !== 'undefined';\n        \n            this.options = $.extend( {}, defaults, this.options );\n            if ( modeIsDefined && options.mode === 'full-screen' ) {\n                this.options = $.extend( {}, this.options, defaultsFullScreenMode, options, requiredFullScreenMode );\n            }\n            else if ( modeIsDefined && options.mode === 'slider' ) {\n                this.options = $.extend( {}, this.options, defaultsSliderMode, options, requiredSliderMode );\n            }\n            else {\n                this.options = $.extend( {}, this.options, options );\n            }\n        },\n\n        reloadThumbnails: function() {\n            new ThumbnailsGenerator( this, {\n                thumbsHidden: false\n            } );\n            this.generateAlbumsDropdown();\n            this.thumbnails.reload();\n        },\n\n        setVariables: function() {\n            this.$element = $( '.jgallery' ).filter( '[data-jgallery-id=\"' + this.intId + '\"]' );\n            this.progress = new Progress( this.$element.find( '.zoom-container' ).children( '.progress' ), this );\n            this.zoom = new Zoom( this );\n            this.thumbnails = new Thumbnails( this );\n            this.zoom.setThumbnails( this.thumbnails );\n        },\n\n        show: function() {\n            if (!this.options.items) {\n                this.$this.hide();\n            }\n            $window.on( 'resize', { jGallery: this }, this.windowOnResize );\n            if ( this.options.mode === 'full-screen' ) {\n                this.bodyOverflowBeforeShow = $body.css( 'overflow' );\n                $body.css( {\n                    'overflow': 'hidden'\n                } );\n            }\n            this.$element.not( ':visible' ).removeClass( 'hidden' ).stop( false, true ).fadeIn( 500 );\n            this.zoom.refreshContainerSize();\n            this.zoom.$title.removeClass( 'hidden' );  \n            this.options.showGallery();\n            if ( this.iconChangeAlbum instanceof IconChangeAlbum ) {\n                this.iconChangeAlbum.refreshMenuHeight();\n            }\n            refreshHTMLClasses();\n        },\n\n        hide: function( options ) {\n            var self = this;\n\n            if ( ! this.options.canClose ) {\n                return;\n            }\n            options = $.extend( {}, {\n                historyPushState: true\n            }, options );  \n            this.$element.filter( ':visible' ).stop( false, true ).addClass( 'hidden' ).fadeOut( 500, function() {\n                if ( self.options.mode === 'full-screen' ) {   \n                    $body.css( {\n                        'overflow': self.bodyOverflowBeforeShow\n                    } );\n                }\n                refreshHTMLClasses();\n            } );\n            this.zoom.booLoadingInProgress = false;\n            clearTimeout( this.zoom.showPhotoTimeout );\n            this.zoom.$title.addClass( 'hidden' );\n            this.zoom.$btnPrev.addClass( 'hidden' );\n            this.zoom.$btnNext.addClass( 'hidden' );\n            this.zoom.slideshowPause();\n            this.zoom.advancedAnimation.hideActive();\n            this.zoom.unmarkActive();\n            $window.off( 'resize', this.windowOnResize );\n            this.$this.show();\n            if ( options.historyPushState && this.options.browserHistory ) {\n                historyPushState();\n            }\n            this.options.closeGallery();\n        },\n\n        autostart: function() {\n            var $album;\n            var $thumb;\n\n            if ( this.$element.is( ':visible' ) ) {\n                return;\n            }\n            if ( this.booIsAlbums ) {\n                $album = this.thumbnails.getElement().find( '.album' ).eq( this.options.autostartAtAlbum - 1 );\n                if ( $album.length === 0 ) {\n                    $album = this.thumbnails.getElement().find( '.album' ).eq( 0 );\n                }\n            }\n            else {\n                $album = this.thumbnails.getElement();\n            }\n            $thumb = $album.find( 'a' ).eq( this.options.autostartAtImage - 1 );\n            if ( $thumb.length === 0 ) {\n                $thumb = $album.find( 'a' ).eq( 0 );\n            }\n            $thumb.trigger( 'click' );\n        },\n\n        browserHistory: function() {\n            var self = this;\n            var windowOnPopState = window.onpopstate;\n\n            function callActionByUrl() {\n                var hash;\n\n                if ( ! document.location.hash ) { \n                    return;\n                }\n                hash = document.location.hash.replace( '#', '' );\n                switch ( hash ) {\n                    case '':\n                        self.hide( {\n                            historyPushState: false\n                        } );\n                        break;\n                    default:\n                        self.zoom.showPhotoByPath( hash );\n                }\n            }\n\n            window.onpopstate = function() {\n                if ( typeof windowOnPopState === 'function' ) {\n                    windowOnPopState();\n                }\n                callActionByUrl();\n            };\n            if ( this.options.autostart ) {\n                callActionByUrl();\n            }\n        },\n\n        generateAlbumsDropdown: function() {\n            var self = this;\n\n            this.$element.find( '.change-album' ).remove();\n            if ( ! this.booIsAlbums ) {\n                return;\n            }\n            this.zoom.$container.find( '.nav-bottom > .icons' ).append( '\\\n                <span class=\"fa fa-list-ul change-album jgallery-btn jgallery-btn-small\" tooltip=\"' + self.options.tooltipSeeOtherAlbums + '\">\\\n                    <span class=\"menu jgallery-btn\"></span>\\\n                    <span class=\"title\"></span>\\\n                </span>\\\n            ' );\n            this.iconChangeAlbum = new IconChangeAlbum( self.zoom.$container.find( '.change-album' ), this );\n            this.iconChangeAlbum.clearMenu();\n            this.thumbnails.$albums.each( function() {\n                var strTitle = $( this ).attr( 'data-jgallery-album-title' );\n\n                self.iconChangeAlbum.appendToMenu( '<span class=\"item\" data-jgallery-album-title=\"' + strTitle + '\">' + strTitle + '</span>' );\n            } );\n            this.thumbnails.getElement().append( this.iconChangeAlbum.getElement().outerHtml() );\n            this.iconChangeAlbum = new IconChangeAlbum( this.iconChangeAlbum.getElement().add( this.thumbnails.getElement().children( ':last-child' ) ), this );\n            this.iconChangeAlbum.bindEvents( this );\n        },\n\n        init: function( options ) {\n            var self = this;\n            \n            options = $.extend( {\n                success: function(){}\n            }, options );\n            $head.append( '<style type=\"text/css\" class=\"colours\" data-jgallery-id=\"' + this.intId + '\"></style>' );\n            this.options.initGallery();\n            this.generateHtml( {\n                success: function() { \n                    new ThumbnailsGenerator( self );\n                    self.setVariables();\n                    self.thumbnails.init();\n                    self.thumbnails.getElement().append( '<span class=\"fa fa-times jgallery-btn jgallery-close jgallery-btn-small\"></span>' );\n                    self.generateAlbumsDropdown();\n                    self.setUserOptions();\n                    if ( self.options.zoomSize === 'fit' || self.options.zoomSize === 'original' ) {\n                        self.zoom.$resize.addClass( 'fa-search-plus' );\n                    }\n                    if ( self.options.zoomSize === 'fill' ) {\n                        self.zoom.$resize.addClass( 'fa-search-minus' );\n                    }\n                    if ( ! isInternetExplorer() ) {\n                        self.$element.addClass( 'text-shadow' );\n                    }\n                    self.thumbnails.refreshNavigation();\n                    self.zoom.refreshNav();\n                    self.zoom.refreshSize();\n                    self.$this.on( 'click', 'a:has(img)', function( event ) {\n                        var $this = $( this );\n\n                        event.preventDefault();\n                        self.zoom.showPhoto( $this );\n                    } );\n\n                    self.thumbnails.$element.on( 'click', 'a', function( event ) {\n                        var $this = $( this );\n\n                        event.preventDefault();\n                        if ( $this.is( ':not(.active)' ) ) {\n                            self.zoom.slideshowStop();\n                            self.zoom.showPhoto( $this );\n                        }\n                        else if ( self.thumbnails.isFullScreen() ) {\n                            self.thumbnails.changeViewToBar();\n                            self.zoom.refreshSize();\n                        }\n                    } ); \n\n                    self.zoom.$btnPrev.add( self.zoom.$container.find( '.left' ) ).on( {\n                        click: function() {\n                            self.zoom.slideshowStop();\n                            self.zoom.showPrevPhoto();\n                        }\n                    } );\n\n                    self.zoom.$btnNext.add( self.zoom.$container.find( '.right' ) ).on( {\n                        click: function() {\n                            self.zoom.slideshowStop();\n                            self.zoom.showNextPhoto();\n                        }\n                    } );\n\n                    self.zoom.$container.find( '.jgallery-close' ).on( {\n                        click: function() {\n                            self.hide();\n                        }\n                    } );\n\n                    self.zoom.$random.on( {\n                        click: function() {\n                            self.zoom.slideshowRandomToggle();\n                        }\n                    } );\n\n                    self.zoom.$resize.on( {\n                        click: function() {\n                            self.zoom.changeSize();\n                            self.zoom.slideshowPause();\n                        }\n                    } ); \n\n                    self.zoom.$changeMode.on( {\n                        click: function() {\n                            self.zoom.changeMode();\n                        }\n                    } ); \n\n                    self.zoom.$slideshow.on( {\n                        click: function() {\n                            self.zoom.slideshowPlayPause();\n                        }\n                    } );   \n\n                    self.zoom.$container.find( '.minimalize-thumbnails' ).on( {\n                        click: function() {\n                            self.thumbnails.toggle();\n                            self.zoom.refreshSize();\n                        }\n                    } );  \n\n                    self.thumbnails.bindEvents();      \n                    options.success();\n                    if ( self.options.hideThumbnailsOnInit ) {\n                        self.zoom.$container.find( '.minimalize-thumbnails' ).addClass( 'inactive' );\n                    }\n                }\n            } );\n            this.refreshCssClassJGalleryMobile();\n        },\n\n        isSlider: function() {\n            return this.options.mode === 'slider';\n        },\n\n        windowOnResize: function( event ) {\n            var jGallery = event.data.jGallery;\n            \n            jGallery.refreshThumbnailsVisibility();\n            jGallery.refreshCssClassJGalleryMobile();\n        },\n        \n        refreshCssClassJGalleryMobile: function() {\n            this.isMobile() ? this.$jgallery.addClass( 'jgallery-mobile' ) : this.$jgallery.removeClass( 'jgallery-mobile' );\n        },\n\n        refreshDimensions: function() {\n            this.zoom.refreshSize();\n            if ( this.iconChangeAlbum instanceof IconChangeAlbum ) {\n                this.iconChangeAlbum.refreshMenuHeight();\n            }\n            this.thumbnails.refreshNavigation();\n        },\n\n        getCanvasRatioWidthToHeight: function() {\n            var intCanvasWidth;\n            var intCanvasHeight;\n\n            if ( this.thumbnails.isHorizontal() ) {\n                intCanvasWidth = this.$element.width();\n                intCanvasHeight = this.$element.height() - this.thumbnails.getElement().outerHeight( true );\n            }\n            else if ( this.thumbnails.isVertical() ) {\n                intCanvasWidth = this.$element.width() - this.thumbnails.getElement().outerWidth( true );\n                intCanvasHeight = this.$element.height();\n            }\n            else {\n                intCanvasWidth = this.$element.width();\n                intCanvasHeight = this.$element.height();                    \n            }\n            return intCanvasWidth / intCanvasHeight;\n        },\n        \n        hideThumbnailsBar: function() {\n            this.thumbnails.getElement().addClass( 'hidden' );\n            this.zoom.$container.find( '.minimalize-thumbnails' ).hide();\n        },\n        \n        showThumbnailsBar: function() {\n            this.thumbnails.getElement().removeClass( 'hidden' );\n            this.options.canMinimalizeThumbnails && this.options.thumbnails ? this.zoom.$container.find( '.minimalize-thumbnails' ).show() : this.zoom.$container.find( '.minimalize-thumbnails' ).hide();\n        },\n        \n        refreshThumbnailsVisibility: function() {\n            if ( ! this.isMobile() ) {\n                if ( ! this.options.thumbnails ) {\n                    this.hideThumbnailsBar();\n                }\n                else {\n                    this.showThumbnailsBar();\n                } \n            }\n            else {\n                if( this.options.thumbnailsHideOnMobile ) {\n                    this.hideThumbnailsBar();\n                }\n            } \n            this.refreshDimensions();\n        },\n        \n        isMobile: function() {\n            return $window.width() <= this.options.maxMobileWidth;\n        },\n\n        setUserOptions: function() {\n            var options = this.options;\n            var mode = options.mode;\n            var width = mode === 'full-screen' ? 'auto' : options.width;\n            var height = mode === 'full-screen' ? 'auto' : options.height;\n\n            this.refreshAttrClasses();\n            this.options.canZoom ? this.zoom.$resize.show() : this.zoom.$resize.hide();\n            this.options.canChangeMode ? this.zoom.$changeMode.show() : this.zoom.$changeMode.hide();\n            this.options.mode === 'standard' ? this.zoom.$changeMode.removeClass( 'fa-compress' ).addClass( 'fa-expand' ) : this.zoom.$changeMode.removeClass( 'fa-expand' ).addClass( 'fa-compress' );\n            this.options.canClose ? this.zoom.$container.find( '.jgallery-close' ).show() : this.zoom.$container.find( '.jgallery-close' ).hide();\n            this.refreshThumbnailsVisibility();\n            this.zoom.refreshSize();\n            this.options.slideshow ? this.zoom.$slideshow.show() : this.zoom.$slideshow.hide();\n            this.options.slideshow && this.options.slideshowCanRandom && this.options.slideshowAutostart ? this.zoom.$random.show(): this.zoom.$random.hide();\n            this.options.slideshow && this.options.slideshowCanRandom && this.options.slideshowRandom ? this.zoom.$random.addClass( 'active' ) : this.zoom.$random.removeClass( 'active' );\n\n            this.options.thumbnailsFullScreen && this.options.thumbnails ? this.zoom.$container.find( '.full-screen' ).show() : this.zoom.$container.find( '.full-screen' ).hide();\n            this.options.hideThumbnailsOnInit && this.options.thumbnails ? this.thumbnails.hide() : this.thumbnails.show();\n            this.options.titleExpanded ? this.zoom.$title.addClass( 'expanded' ) : this.zoom.$title.removeClass( 'expanded' );\n            this.setColours( {\n                strBg: this.options.backgroundColor,\n                strText: this.options.textColor\n            } );\n            this.options.tooltips ? this.$jgallery.addClass( 'jgallery-tooltips' ) : this.$jgallery.removeClass( 'jgallery-tooltips' );\n            this.$jgallery.css( {\n                width: width,\n                height: height\n            } );\n            this.options.draggableZoomHideNavigationOnMobile ? this.$jgallery.addClass( 'jgallery-hide-draggable-navigation-on-mobile' ) : this.$jgallery.removeClass( 'jgallery-hide-draggable-navigation-on-mobile' );\n        },\n\n        refreshAttrClasses: function() {\n            var self = this;\n            var modes = [ 'standard', 'full-screen', 'slider' ];\n\n            $.each( modes, function( key, value ) {\n                self.$jgallery.removeClass( 'jgallery-' + value );\n            } );\n            this.$jgallery.addClass( 'jgallery-' + this.options.mode );\n        },\n\n        setColours: function( options ) {\n            $head.find( 'style[data-jgallery-id=\"' + this.intId + '\"].colours' ).html( this.getCssForColours( options ) );\n        },\n\n        generateHtml: function( options ) {\n            var self = this;\n            \n            options = $.extend( {}, {\n                success: function(){}\n            }, options );\n            this.template.done( function( html ) {   \n                ( function() {\n                    var options = self.options; \n                    var mode = options.mode;     \n\n                    if ( options.items ) {\n                        self.$jgallery = self.$this.append( html ).children(':last-child');                        \n                    }\n                    else if ( mode === 'full-screen' ) {\n                        self.$jgallery = self.$this.after( html ).next();\n                    }\n                    else {\n                        if ( options.autostart ) {\n                            self.$this.hide();\n                        }\n                        self.$jgallery = self.$this.after( html ).next();\n                    }\n                    self.$jgallery.addClass( 'jgallery-' + mode ).attr( 'data-jgallery-id', self.intId );\n                    self.$jgallery.find( '.fa.slideshow' ).attr( 'tooltip', options.tooltipSlideshow );\n                    self.$jgallery.find( '.fa.resize' ).attr( 'tooltip', options.tooltipZoom );\n                    self.$jgallery.find( '.fa.change-mode' ).attr( 'tooltip', options.tooltipFullScreen );\n                    self.$jgallery.find( '.fa.jgallery-close' ).attr( 'tooltip', options.tooltipClose );\n                    self.$jgallery.find( '.fa.random' ).attr( 'tooltip', options.tooltipRandom );\n                    self.$jgallery.find( '.fa.full-screen' ).attr( 'tooltip', options.tooltipSeeAllPhotos );\n                    self.$jgallery.find( '.fa.minimalize-thumbnails' ).attr( 'tooltip', options.tooltipToggleThumbnails );\n                } )();\n                options.success();\n            } );\n        },\n\n        getCssForColours: function( objOptions ) {\n            objOptions = $.extend( {\n                strBg: 'rgb( 0, 0, 0 )',\n                strText: 'rgb( 255, 255, 255 )'\n            }, objOptions );\n\n            var arrText;\n            var arrBg;\n            var arrBgAlt;\n\n            if ( typeof tinycolor === 'function' ) {\n                arrText = tinycolor( objOptions.strText ).toRgb();\n                arrBg = tinycolor( objOptions.strBg ).toRgb();\n                if ( arrBg.r + arrBg.g + arrBg.b > 375 ) {\n                    arrBg = tinycolor.darken( objOptions.strBg ).toRgb();\n                    arrBgAlt = tinycolor( objOptions.strBg ).toRgb();\n                }\n                else {\n                    arrBg = tinycolor( objOptions.strBg ).toRgb();\n                    arrBgAlt = tinycolor.lighten( objOptions.strBg ).toRgb();                \n                }\n            }\n            else {\n                arrBg = {\n                    r: 230,\n                    g: 230,\n                    b: 230\n                };\n                arrBgAlt = {\n                    r: 255,\n                    g: 255,\n                    b: 255\n                };\n                arrText = {\n                    r: 0,\n                    g: 0,\n                    b: 0\n                };\n            }\n\n            return '\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] {\\\n                  background: rgb(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] [tooltip]:after {\\\n                  background: rgba(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ', .9);\\\n                  color: rgb(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-btn {\\\n                  color: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                  text-shadow: 0 0 1px rgb(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-btn.active {\\\n                  color: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-btn:hover {\\\n                  text-shadow: none;\\\n                  text-shadow: 0 0 .15em rgba(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ',.75), 0 0 .45em rgba(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ',.5);\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .change-album .menu {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom .change-album > .title {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                  box-shadow: 4px 0 4px rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ')\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .full-screen .change-album .menu {\\\n                  background: rgb(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .change-album .menu .item {\\\n                  border-color: rgb(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ');\\\n                  color: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .full-screen .change-album .menu .item {\\\n                  border-color: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                  background: rgb(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .change-album .menu .item.active,\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .change-album .menu .item:hover {\\\n                  background: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                  color: rgb(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .zoom-container:not([data-size=\"fill\"]) .jgallery-container {\\\n                  background: rgb(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                  -webkit-box-shadow: 0 -3px rgba(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', .5);\\\n                  box-shadow: 0 -3px rgba(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', .5);\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom .icons,\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom .icons .fa {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom > .title {\\\n                  color: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom > .title.expanded {\\\n                  background: rgba(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ',.7);\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .drag-nav {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                  -webkit-box-shadow: 0 0 0 3px rgba(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', .5);\\\n                  box-shadow: 0 0 0 3px rgba(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', .5);\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .drag-nav .crop {\\\n                  -webkit-box-shadow: 0 0 0 3px rgba(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ', .5);\\\n                  box-shadow: 0 0 0 3px rgba(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ', .5);\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails .ico {\\\n                  color: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails .jgallery-container {\\\n                  -webkit-box-shadow: 0 0 0 3px rgba(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', .5);\\\n                  box-shadow: 0 0 0 3px rgba(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', .5);\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails.full-screen .prev:before {\\\n                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 )),to(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0)));\\\n                  background-image: -webkit-linear-gradient(top,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ),0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0),100%);\\\n                  background-image: -moz-linear-gradient(top,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0) 100%);\\\n                  background-image: linear-gradient(to bottom,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0) 100%);\\\n                  background-repeat: repeat-x;\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails.full-screen .next:before {\\\n                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0)),to(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1)));\\\n                  background-image: -webkit-linear-gradient(top,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0),0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1),100%);\\\n                  background-image: -moz-linear-gradient(top,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1) 100%);\\\n                  background-image: linear-gradient(to bottom,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1) 100%);\\\n                  background-repeat: repeat-x;\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails.images a:after {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails.full-screen .prev,\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails.full-screen .next {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails.square:not(.full-screen) a {\\\n                  background: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                  color: rgb(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .overlayContainer .overlay {\\\n                  background: rgba(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ',.8);\\\n                  color: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .overlayContainer .imageLoaderPositionAbsolute:after {\\\n                  border-color: rgba(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ', .5 );\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails .overlayContainer .overlay {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails-horizontal .prev {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails-horizontal .prev:before {\\\n                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 )),to(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 )));\\\n                  background-image: -webkit-linear-gradient(left,color-stop(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 0%),color-stop(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 100%));\\\n                  background-image: -moz-linear-gradient(left,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 100%);\\\n                  background-image: linear-gradient(to right,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 100%);\\\n                  background-repeat: repeat-x;\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails-horizontal .next {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails-horizontal .next:before {\\\n                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 )),to(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 )));\\\n                  background-image: -webkit-linear-gradient(left,color-stop(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 0%),color-stop(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 100%));\\\n                  background-image: -moz-linear-gradient(left,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 100%);\\\n                  background-image: linear-gradient(to right,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 100%);\\\n                  background-repeat: repeat-x;\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails-vertical .prev {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails-vertical .prev:before {\\\n                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 )),to(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 )));\\\n                  background-image: -webkit-linear-gradient(top,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ),0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ),100%);\\\n                  background-image: -moz-linear-gradient(top,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 100%);\\\n                  background-image: linear-gradient(to bottom,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 100%);\\\n                  background-repeat: repeat-x;\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails-vertical .next {\\\n                  background: rgb(' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ');\\\n                }\\\n                .jgallery[data-jgallery-id=\"' + this.intId + '\"] .jgallery-thumbnails-vertical .next:before {\\\n                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 )),to(rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 )));\\\n                  background-image: -webkit-linear-gradient(top,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ),0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ),100%);\\\n                  background-image: -moz-linear-gradient(top,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 100%);\\\n                  background-image: linear-gradient(to bottom,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 0 ) 0%,rgba( ' + arrBgAlt.r + ',' + arrBgAlt.g + ', ' + arrBgAlt.b + ', 1 ) 100%);\\\n                  background-repeat: repeat-x;\\\n                }\\\n                .jgallery.jgallery-slider[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom,\\\n                .jgallery.jgallery-slider[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom > .title.expanded {\\\n                  background: none;\\\n                }\\\n                .jgallery.has-title.jgallery-slider[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom,\\\n                .jgallery.has-title.jgallery-slider[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom > .title.expanded {\\\n                  background: rgba(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ',.7);\\\n                  color: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                }\\\n                .jgallery.jgallery-slider[data-jgallery-id=\"' + this.intId + '\"] .zoom-container .nav-bottom .jgallery-btn {\\\n                  background: rgba(' + arrBg.r + ',' + arrBg.g + ', ' + arrBg.b + ',.8);\\\n                  color: rgb(' + arrText.r + ',' + arrText.g + ', ' + arrText.b + ');\\\n                }\\\n            ';\n        }\n    };\n    \n    return JGallery;\n} )( outerHtml, historyPushState, isInternetExplorer, isInternetExplorer8AndOlder, refreshHTMLClasses, defaults, defaultsFullScreenMode, defaultsSliderMode, requiredFullScreenMode, requiredSliderMode, IconChangeAlbum, Progress, Thumbnails, ThumbnailsGenerator, Zoom );\n( function( refreshHTMLClasses, defaults, jGalleryTransitions, JGallery ) {\n    var jGalleryCollection = [ '' ];\n    var $ = jQuery;\n    var $html = $( 'html' );\n    var jGalleryId = 0;\n\n    $.fn.jGallery = function( userOptions ) {\n        var self = this;\n\n        this.each( function() {\n            var $this = $( this );\n\n            if ( ! $this.is( '[data-jgallery-id]' ) ) {\n                jGalleryCollection[ ++jGalleryId ] = new JGallery( $this, jGalleryId, userOptions );\n            }\n            else if( $.isPlainObject( userOptions ) ) {\n                jGalleryCollection[ $this.attr( 'data-jgallery-id' ) ].update( userOptions );\n            }\n        } );   \n        $.extend( self, {\n            getDefaults: function() {\n                return defaults;\n            },\n\n            getTransitions: function() {\n                return jGalleryTransitions;\n            },\n\n            restoreDefaults: function() {\n                return self.each( function() {\n                    $( this ).jGallery( defaults );\n                } );\n            },\n\n            getOptions: function() {\n                return jGalleryCollection[$( self ).eq( 0 ).attr( 'data-jgallery-id' )].options;\n            },\n\n            destroy: function() {\n                return self.each( function() {\n                    var $this = $( this );\n                    var id = $this.attr( 'data-jgallery-id' );\n\n                    jGalleryCollection[ id ] = '';\n                    $this.removeAttr( 'data-jgallery-id' ).show();\n                    $html.find( '.jgallery[data-jgallery-id=\"' + id + '\"]' ).remove();\n                    refreshHTMLClasses();\n                } );                    \n            }\n        } );\n\n        return this;\n    };\n} )( refreshHTMLClasses, defaults, jGalleryTransitions, JGallery );\n} )();"],"sourceRoot":""}