"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2806],{3554:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(7084),a=t.n(i),l=t(5056),s=t.n(l)()(a());s.push([e.id,"\n.left-col[data-v-4994458c] {\n  border-right: 1px solid rgba(0, 0, 0, 0.125);\n}\n.groep[data-v-4994458c] {\n  min-height: 300px;\n}\n.results[data-v-4994458c] {\n  overflow: auto;\n}\n","",{version:3,sources:["webpack://./js/components/groep/Groep.vue"],names:[],mappings:";AA6IA;EACE,4CAA4C;AAC9C;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,cAAc;AAChB",sourcesContent:['<template>\n  <div class="card groep">\n    <div class="card-body">\n      <h3 class="card-title">\n        {{ naam }}\n      </h3>\n      <div class="row">\n        <div v-if="!aangemeld && magAanmelden" class="left-col col-md-5">\n          <p class="card-text">\n            {{ samenvatting }}\n          </p>\n          <GroepAanmeldForm\n            :keuzes="keuzelijst2"\n            :opmerking="mijnOpmerking"\n            :aangemeld="aangemeld"\n            @aanmelden="aanmelden"\n          />\n        </div>\n        <div class="col results">\n          <table class="table table-sm">\n            <GroepHeaderRow :keuzes="keuzelijst2" />\n            <tbody>\n              <GroepLidRow\n                v-for="lid of leden"\n                :key="lid.uid"\n                :lid="lid"\n                :keuzes="keuzelijst2"\n              />\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport axios from \'axios\';\nimport type { PropType } from \'vue\';\nimport { defineComponent } from \'vue\';\nimport {\n  GroepInstance,\n  GroepKeuzeSelectie,\n  GroepLid,\n  GroepSettings,\n  KeuzeOptie,\n} from \'../../model/groep\';\nimport GroepAanmeldForm from \'./GroepAanmeldForm.vue\';\nimport GroepHeaderRow from \'./GroepHeaderRow.vue\';\nimport GroepLidRow from \'./GroepLidRow.vue\';\n\nexport default defineComponent({\n  components: { GroepAanmeldForm, GroepLidRow, GroepHeaderRow },\n  props: {\n    settings: {\n      required: true,\n      type: Object as PropType<GroepSettings>,\n    },\n    groep: {\n      required: true,\n      type: Object as PropType<GroepInstance>,\n    },\n  },\n  data: () => ({\n    id: 0,\n    naam: \'\',\n    familie: \'\',\n    beginMoment: new Date(),\n    eindMoment: new Date(),\n    status: \'\',\n    samenvatting: \'\',\n    omschrijving: \'\',\n    makerUid: \'\',\n    versie: \'\',\n    keuzelijst2: [] as KeuzeOptie[],\n    leden: [] as GroepLid[],\n    mijnUid: \'\',\n    mijnLink: \'\',\n    aanmeldUrl: \'\',\n    mijnOpmerking: [] as GroepKeuzeSelectie[],\n  }),\n  computed: {\n    mijnAanmelding() {\n      return this.leden.find((lid) => lid.uid === this.mijnUid);\n    },\n    aangemeld() {\n      return this.mijnAanmelding !== undefined;\n    },\n    magAanmelden() {\n      console.log(this.groep.aanmeldenTot, new Date());\n      if (this.groep.aanmeldenTot) {\n        return new Date(this.groep.aanmeldenTot) > new Date();\n      }\n\n      return true;\n    },\n  },\n  created() {\n    this.id = this.groep.id;\n    this.naam = this.groep.naam;\n    this.familie = this.groep.familie;\n    this.beginMoment = this.groep.beginMoment;\n    this.eindMoment = this.groep.eindMoment;\n    this.status = this.groep.status;\n    this.samenvatting = this.groep.samenvatting;\n    this.omschrijving = this.groep.omschrijving;\n    this.makerUid = this.groep.makerUid;\n    this.versie = this.groep.versie;\n    this.keuzelijst2 = this.groep.keuzelijst2;\n    this.leden = this.groep.leden;\n\n    this.mijnUid = this.settings.mijn_uid;\n    this.mijnLink = this.settings.mijn_link;\n    this.aanmeldUrl = this.settings.aanmeld_url;\n\n    if (this.aangemeld) {\n      this.mijnOpmerking = this.mijnAanmelding.opmerking2;\n    } else {\n      this.mijnOpmerking = this.keuzelijst2.map((value) => ({\n        selectie: value.default,\n        naam: value.naam,\n      }));\n    }\n  },\n  methods: {\n    aanmelden() {\n      if (!this.aangemeld) {\n        this.leden.push({\n          uid: this.mijnUid,\n          link: this.mijnLink,\n          opmerking2: this.mijnOpmerking,\n        });\n\n        axios.post(this.aanmeldUrl, { opmerking2: this.mijnOpmerking });\n      }\n    },\n  },\n});\n<\/script>\n\n<style scoped>\n.left-col {\n  border-right: 1px solid rgba(0, 0, 0, 0.125);\n}\n\n.groep {\n  min-height: 300px;\n}\n\n.results {\n  overflow: auto;\n}\n</style>\n'],sourceRoot:""}]);const o=s},298:(e,n,t)=>{t.d(n,{Z:()=>g});var i=t(7084),a=t.n(i),l=t(5056),s=t.n(l),o=t(8521),d=t.n(o),r=new URL(t(7663),t.b),c=s()(a()),u=d()(r);c.push([e.id,"\n.progress[data-v-41bcf2c9] {\n  height: 20px;\n  width: 100%;\n  border-radius: 3px;\n  background: #adadad;\n}\n.progress div[data-v-41bcf2c9] {\n  float: left;\n  height: 100%;\n  transition: width ease-in-out 0.5s;\n}\n.progress div.correct[data-v-41bcf2c9] {\n  background: #2ecc71;\n}\n.progress div.again[data-v-41bcf2c9] {\n  background: #f1c40f;\n}\n.progress div.wrong[data-v-41bcf2c9] {\n  background: #c0392b;\n}\n.pasfotoContainer[data-v-41bcf2c9] {\n  width: 170px;\n  height: 255px;\n  margin: 15px auto;\n  background: url("+u+") no-repeat center center\n    white;\n  overflow: hidden;\n}\n.pasfotoContainer.onderkantVerbergen[data-v-41bcf2c9] {\n  height: 150px;\n}\n.pasfotoContainer .pasfoto[data-v-41bcf2c9] {\n  width: 170px;\n  height: 255px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n.laatste[data-v-41bcf2c9] {\n  border-radius: 6px;\n  background: #c0392b;\n  color: white;\n  overflow: hidden;\n  margin-top: 10px;\n}\n.laatste.goed[data-v-41bcf2c9] {\n  background: #2ecc71;\n}\n.laatste .fas[data-v-41bcf2c9] {\n  display: inline-block;\n  font-size: 26px;\n  line-height: 90px;\n  vertical-align: middle;\n  float: right;\n  margin: 0 18px 0 15px;\n}\n.laatste img[data-v-41bcf2c9] {\n  display: inline-block;\n  height: 90px;\n}\n.laatste .info[data-v-41bcf2c9] {\n  display: inline-block;\n  padding: 29px 0 0 15px;\n  vertical-align: top;\n  max-width: calc(100% - 123px);\n  box-sizing: border-box;\n}\n.laatste .info .naam[data-v-41bcf2c9] {\n  font-size: 19px;\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  line-height: 19px;\n}\n.laatste .info .naam .bold[data-v-41bcf2c9] {\n  font-weight: bold;\n}\n.laatste .info .tekst[data-v-41bcf2c9] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 24px;\n}\n.laatste .info .tekst span[data-v-41bcf2c9] {\n  margin-right: 6px;\n}\ninput[data-v-41bcf2c9] {\n  text-transform: capitalize;\n}\n.score-blok[data-v-41bcf2c9] {\n  background: #2ecc71;\n  padding: 20px;\n  text-align: center;\n  color: white;\n  border-radius: 6px;\n  margin-bottom: 20px;\n}\n.score-blok .titel[data-v-41bcf2c9] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 19px;\n  font-weight: bold;\n  text-align: center;\n}\n.score-blok .score-titel[data-v-41bcf2c9] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  margin-top: 18px;\n}\n.score-blok .score[data-v-41bcf2c9] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 50px;\n  line-height: 50px;\n  font-weight: 300;\n}\n","",{version:3,sources:["webpack://./js/components/namen-leren/NamenLeren.vue"],names:[],mappings:";AA6aA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,mBAAmB;AACrB;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kCAAkC;AACpC;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB;SACO;EACP,gBAAgB;AAClB;AAEA;EACE,aAAa;AACf;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,4BAA4B;EAC5B,kCAAkC;AACpC;AAEA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;AAClB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,iBAAiB;EACjB,sBAAsB;EACtB,YAAY;EACZ,qBAAqB;AACvB;AAEA;EACE,qBAAqB;EACrB,YAAY;AACd;AAEA;EACE,qBAAqB;EACrB,sBAAsB;EACtB,mBAAmB;EACnB,6BAA6B;EAC7B,sBAAsB;AACxB;AAEA;EACE,eAAe;EACf,4DAA4D;EAC5D,iBAAiB;AACnB;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;AACnB;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,0BAA0B;AAC5B;AAEA;EACE,mBAAmB;EACnB,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,mBAAmB;AACrB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;AAEA;EACE,4DAA4D;EAC5D,iBAAiB;EACjB,gBAAgB;AAClB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;EACjB,gBAAgB;AAClB",sourcesContent:['<template>\n  <div>\n    <div v-if="finished" class="score-blok">\n      <div class="titel">\n        {{ titel }}\n      </div>\n      <div class="score-titel">Jouw score:</div>\n      <div class="score">{{ Math.round(percentageGoed) }}%</div>\n    </div>\n    <div v-if="!started">\n      <div class="row">\n        <div class="col-sm-6">\n          <strong class="mb-1 block">Lichting(en)</strong>\n          <div>\n            <input\n              id="alleLichtingen"\n              v-model="alleLichtingen"\n              type="checkbox"\n            />\n            <label for="alleLichtingen">Alle lichtingen</label>\n          </div>\n          <div v-for="lichting in lichtingen" :key="lichting">\n            <input\n              v-if="!alleLichtingen"\n              :id="\'lichting\' + lichting"\n              v-model="lichtingSelectie"\n              type="checkbox"\n              :value="lichting"\n            />\n            <input\n              v-if="alleLichtingen"\n              type="checkbox"\n              :checked="alleLichtingen"\n              disabled\n            />\n            <label :for="\'lichting\' + lichting">{{ lichting }}</label>\n          </div>\n        </div>\n        <div class="col-sm-6">\n          <strong class="mb-1 block">Verticale(n)</strong>\n          <div>\n            <input\n              id="alleVerticalen"\n              v-model="alleVerticalen"\n              type="checkbox"\n            />\n            <label for="alleVerticalen">Alle verticalen</label>\n          </div>\n          <div v-for="verticale in verticalen" :key="verticale">\n            <input\n              v-if="!alleVerticalen"\n              :id="\'verticale\' + verticale"\n              v-model="verticaleSelectie"\n              type="checkbox"\n              :value="verticale"\n            />\n            <input\n              v-if="alleVerticalen"\n              type="checkbox"\n              :checked="alleVerticalen"\n              disabled\n            />\n            <label :for="\'verticale\' + verticale">{{ verticale }}</label>\n          </div>\n        </div>\n      </div>\n      <div>\n        <strong class="mb-1 block">Onderkant verbergen</strong>\n        <div>\n          <input\n            id="verbergOnderkant"\n            v-model="verbergOnderkant"\n            type="checkbox"\n          />\n          <label for="verbergOnderkant">Voorkom leesbare namen op foto\'s</label>\n        </div>\n      </div>\n      <strong class="mt-3 mb-1 block">Antwoordmethode</strong>\n      <select v-model="antwoordMethode" class="form-control">\n        <option value="voornaam">Voornaam</option>\n        <option value="achternaam">Achternaam</option>\n        <option value="combi">Voor- en achternaam</option>\n        <option value="civi">Achternaam en achtervoegsel</option>\n      </select>\n      <a\n        href="#"\n        class="btn btn-primary btn-block mt-3"\n        :class="{ disabled: !klaarVoorDeStart }"\n        @click.prevent="start"\n        >Start met {{ aantal }} {{ aantal === 1 ? \'lid\' : \'leden\' }}</a\n      >\n    </div>\n    <div v-else-if="!finished">\n      <div class="progress">\n        <div class="correct" :style="{ width: percentageGoed + \'%\' }" />\n        <div class="again" :style="{ width: percentageOpnieuw + \'%\' }" />\n        <div class="wrong" :style="{ width: percentageFout + \'%\' }" />\n      </div>\n      <div v-if="laatste" class="laatste" :class="{ goed: laatsteGoed }">\n        <img :src="\'/profiel/pasfoto/\' + laatste.uid + \'.jpg\'" alt="" />\n        <div class="info">\n          <div class="naam">\n            <span\n              :class="{\n                bold:\n                  antwoordMethode === \'voornaam\' || antwoordMethode === \'combi\',\n              }"\n              >{{ laatste.voornaam }}</span\n            >\n            <span\n              :class="{\n                bold:\n                  antwoordMethode === \'achternaam\' ||\n                  antwoordMethode === \'combi\' ||\n                  antwoordMethode === \'civi\',\n              }"\n              >{{ laatste.tussenvoegsel }} {{ laatste.achternaam }}</span\n            >\n            <span\n              v-if="laatste.postfix"\n              :class="{ bold: antwoordMethode === \'civi\' }"\n              >{{ laatste.postfix }}</span\n            >\n          </div>\n          <div class="tekst">\n            <span>{{ laatste.lichting }}</span>\n            <span v-if="laatste.verticale && laatste.verticale !== \'Geen\'">{{\n              laatste.verticale\n            }}</span>\n            <span>{{ laatste.studie }}</span>\n          </div>\n        </div>\n        <Icon v-if="laatsteGoed" icon="check" />\n        <Icon v-else icon="xmark" />\n      </div>\n      <div\n        class="pasfotoContainer"\n        :class="{ onderkantVerbergen: verbergOnderkant }"\n      >\n        <div\n          :style="{\n            \'background-image\': \'url(/profiel/pasfoto/\' + huidig.uid + \'.jpg)\',\n          }"\n          class="pasfoto"\n        />\n      </div>\n      <strong v-if="antwoordMethode === \'voornaam\'" class="mb-1 block"\n        >Voornaam:</strong\n      >\n      <strong v-if="antwoordMethode === \'achternaam\'" class="mb-1 block"\n        >Achternaam:</strong\n      >\n      <strong v-if="antwoordMethode === \'combi\'" class="mb-1 block"\n        >Voor- en achternaam:</strong\n      >\n      <strong v-if="antwoordMethode === \'civi\'" class="mb-1 block"\n        >Achternaam en achtervoegsel:</strong\n      >\n      <input\n        type="text"\n        class="form-control"\n        :value="ingevuld"\n        autofocus\n        @input="ingevuld = $event.target.value"\n        @keydown.enter="controleer"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport type { PropType } from \'vue\';\nimport { defineComponent } from \'vue\';\nimport Icon from \'../common/Icon.vue\';\n\nconst shuffle = <T>(array: T[]) => {\n  let currentIndex = array.length;\n  let temporaryValue;\n  let randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n};\n\nconst preloaded: string[] = [];\n\nconst preloadImage = (url: string) => {\n  if (preloaded.includes(url)) {\n    return;\n  }\n  preloaded.push(url);\n  const img = new Image();\n  img.src = url;\n};\n\nconst uniq: <T>(arr: T[]) => T[] = (arr) => {\n  return Array.from(new Set(arr));\n};\n\ninterface Lid {\n  uid: string;\n  lichting: string;\n  verticale: string;\n  tussenvoegsel: string;\n  achternaam: string;\n  voornaam: string;\n  postfix: string;\n}\n\nexport default defineComponent({\n  components: { Icon },\n  props: {\n    leden: {\n      required: true,\n      type: Array as PropType<Lid[]>,\n    },\n  },\n  data: () => ({\n    // Config\n    alleLichtingen: false,\n    alleVerticalen: true,\n    lichtingSelectie: [] as string[],\n    verticaleSelectie: [] as string[],\n    antwoordMethode: \'voornaam\',\n    aantalPerKeer: 5,\n\n    // Game state\n    verbergOnderkant: true,\n    started: false,\n    finished: false,\n    goed: [] as Lid[],\n    opnieuw: [] as Lid[],\n    fout: [] as Lid[],\n    todo: [] as Lid[],\n    laatste: null as Lid | null,\n    laatsteGoed: null as boolean | null,\n    huidig: null as Lid | null,\n    ingevuld: \'\',\n    titel: \'\',\n  }),\n  computed: {\n    aantal() {\n      return this.gefilterdeLeden.length;\n    },\n    gefilterdeLeden() {\n      return this.leden.filter(\n        (lid: Lid) =>\n          (this.alleLichtingen ||\n            this.lichtingSelectie.includes(lid.lichting)) &&\n          (this.alleVerticalen ||\n            this.verticaleSelectie.includes(lid.verticale))\n      );\n    },\n    lichtingen() {\n      return uniq(this.leden.map((lid) => lid.lichting)).sort();\n    },\n    verticalen() {\n      return uniq(this.leden.map((lid) => lid.verticale)).sort();\n    },\n    klaarVoorDeStart() {\n      return this.gefilterdeLeden.length > 0;\n    },\n    totaalAantal() {\n      return (\n        this.todo.length +\n        this.goed.length +\n        this.opnieuw.length +\n        this.fout.length\n      );\n    },\n    percentageGoed() {\n      return this.totaalAantal > 0\n        ? (this.goed.length / this.totaalAantal) * 100\n        : 0;\n    },\n    percentageOpnieuw() {\n      return this.totaalAantal > 0\n        ? (this.opnieuw.length / this.totaalAantal) * 100\n        : 0;\n    },\n    percentageFout() {\n      return this.totaalAantal > 0\n        ? (this.fout.length / this.totaalAantal) * 100\n        : 0;\n    },\n  },\n  methods: {\n    start() {\n      if (!this.klaarVoorDeStart) {\n        return;\n      }\n      this.started = true;\n      this.goed = [];\n      this.opnieuw = [];\n      this.fout = [];\n      this.todo = this.gefilterdeLeden;\n      shuffle(this.todo);\n      this.huidig = null;\n      this.laatste = null;\n      this.finished = false;\n      this.volgende();\n      this.titel = this.bouwTitel();\n      document.title = `C.S.R. Delft - Namen ${this.titel} leren`;\n      window.scrollTo(0, 0);\n    },\n    volgende() {\n      const choice = this.fout.concat(\n        this.todo.slice(0, Math.max(this.aantalPerKeer - this.fout.length, 0))\n      );\n      const pickable = choice.filter(\n        (lid) =>\n          choice.length === 1 || !this.huidig || lid.uid !== this.huidig.uid\n      );\n      if (pickable.length > 0) {\n        for (const lid of pickable) {\n          preloadImage(\'/profiel/pasfoto/\' + lid.uid + \'.jpg\');\n        }\n        this.huidig = pickable[Math.floor(Math.random() * pickable.length)];\n        this.ingevuld = \'\';\n      } else {\n        this.finished = true;\n        this.started = false;\n      }\n    },\n    controleer() {\n      if (this.huidig == null) {\n        throw new Error(\'huidig niet gezet\');\n      }\n      // Antwoord vormen\n      const onderdelen = [];\n      if (\n        this.antwoordMethode === \'voornaam\' ||\n        this.antwoordMethode === \'combi\'\n      ) {\n        onderdelen.push(this.huidig.voornaam);\n      }\n      if (\n        this.antwoordMethode === \'achternaam\' ||\n        this.antwoordMethode === \'combi\' ||\n        this.antwoordMethode === \'civi\'\n      ) {\n        if (this.huidig.tussenvoegsel) {\n          onderdelen.push(this.huidig.tussenvoegsel);\n        }\n        onderdelen.push(this.huidig.achternaam);\n      }\n      if (this.antwoordMethode === \'civi\') {\n        if (this.huidig.postfix) {\n          onderdelen.push(this.huidig.postfix);\n        }\n      }\n      const antwoord = onderdelen.map((s) => s.trim()).join(\' \');\n\n      // Antwoord checken\n      this.laatste = this.huidig;\n      this.laatsteGoed =\n        antwoord.toLowerCase().replace(\'.\', \'\') ===\n        this.ingevuld.toLowerCase().replace(\'.\', \'\');\n\n      // Verwijderen uit oude lijst en toevoegen aan nieuwe lijst\n      let index = this.todo.findIndex((lid) => lid.uid === this.huidig?.uid);\n      if (index === -1) {\n        // Fout lijst\n        if (this.laatsteGoed) {\n          index = this.fout.findIndex((lid) => lid.uid === this.huidig?.uid);\n          this.fout.splice(index, 1);\n          this.opnieuw.push(this.huidig);\n        }\n      } else {\n        // Te doen lijst\n        this.todo.splice(index, 1);\n        if (this.laatsteGoed) {\n          this.goed.push(this.huidig);\n        } else {\n          this.fout.push(this.huidig);\n        }\n      }\n\n      this.volgende();\n    },\n    bouwTitel() {\n      if (this.alleLichtingen && this.alleVerticalen) {\n        return \'Alle leden\';\n      }\n\n      let titel = \'\';\n      if (!this.alleLichtingen) {\n        this.lichtingSelectie.sort();\n        titel += \'Lichting \';\n        titel += this.lichtingSelectie\n          .slice(0, this.lichtingSelectie.length - 1)\n          .join(\', \');\n        if (this.lichtingSelectie.length > 1) {\n          titel += \' & \';\n        }\n        titel += this.lichtingSelectie[this.lichtingSelectie.length - 1];\n      }\n      if (!this.alleVerticalen) {\n        if (titel) {\n          titel += \', \';\n        }\n        this.verticaleSelectie.sort();\n        titel += this.verticaleSelectie\n          .slice(0, this.verticaleSelectie.length - 1)\n          .join(\', \');\n        if (this.verticaleSelectie.length > 1) {\n          titel += \' & \';\n        }\n        titel += this.verticaleSelectie[this.verticaleSelectie.length - 1];\n      }\n\n      return titel;\n    },\n  },\n});\n<\/script>\n\n<style scoped>\n.progress {\n  height: 20px;\n  width: 100%;\n  border-radius: 3px;\n  background: #adadad;\n}\n\n.progress div {\n  float: left;\n  height: 100%;\n  transition: width ease-in-out 0.5s;\n}\n\n.progress div.correct {\n  background: #2ecc71;\n}\n\n.progress div.again {\n  background: #f1c40f;\n}\n\n.progress div.wrong {\n  background: #c0392b;\n}\n\n.pasfotoContainer {\n  width: 170px;\n  height: 255px;\n  margin: 15px auto;\n  background: url(\'../../../images/loading-fb.gif\') no-repeat center center\n    white;\n  overflow: hidden;\n}\n\n.pasfotoContainer.onderkantVerbergen {\n  height: 150px;\n}\n\n.pasfotoContainer .pasfoto {\n  width: 170px;\n  height: 255px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n\n.laatste {\n  border-radius: 6px;\n  background: #c0392b;\n  color: white;\n  overflow: hidden;\n  margin-top: 10px;\n}\n\n.laatste.goed {\n  background: #2ecc71;\n}\n\n.laatste .fas {\n  display: inline-block;\n  font-size: 26px;\n  line-height: 90px;\n  vertical-align: middle;\n  float: right;\n  margin: 0 18px 0 15px;\n}\n\n.laatste img {\n  display: inline-block;\n  height: 90px;\n}\n\n.laatste .info {\n  display: inline-block;\n  padding: 29px 0 0 15px;\n  vertical-align: top;\n  max-width: calc(100% - 123px);\n  box-sizing: border-box;\n}\n\n.laatste .info .naam {\n  font-size: 19px;\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  line-height: 19px;\n}\n\n.laatste .info .naam .bold {\n  font-weight: bold;\n}\n\n.laatste .info .tekst {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 24px;\n}\n\n.laatste .info .tekst span {\n  margin-right: 6px;\n}\n\ninput {\n  text-transform: capitalize;\n}\n\n.score-blok {\n  background: #2ecc71;\n  padding: 20px;\n  text-align: center;\n  color: white;\n  border-radius: 6px;\n  margin-bottom: 20px;\n}\n\n.score-blok .titel {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 19px;\n  font-weight: bold;\n  text-align: center;\n}\n\n.score-blok .score-titel {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  margin-top: 18px;\n}\n\n.score-blok .score {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 50px;\n  line-height: 50px;\n  font-weight: 300;\n}\n</style>\n'],sourceRoot:""}]);const g=c},6351:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(7084),a=t.n(i),l=t(5056),s=t.n(l)()(a());s.push([e.id,"\n.bewerken[data-v-fcb43970],\n.totaal[data-v-fcb43970] {\n  float: right;\n}\n.footer[data-v-fcb43970] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.pagination[data-v-fcb43970] {\n  margin-top: 1.25rem;\n  margin-bottom: 0;\n}\n","",{version:3,sources:["webpack://./js/components/peilingen/Peiling.vue"],names:[],mappings:";AA+LA;;EAEE,YAAY;AACd;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,8BAA8B;AAChC;AAEA;EACE,mBAAmB;EACnB,gBAAgB;AAClB",sourcesContent:['<template>\n  <div class="card peiling">\n    <div class="card-body">\n      <a v-if="data.isMod" :href="beheerUrl" class="bewerken">\n        <Icon icon="pencil" />\n      </a>\n      <span class="totaal">{{ strAantalGestemd }}</span>\n      <h3 class="card-title">\n        {{ data.titel }}\n      </h3>\n      \x3c!-- eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line --\x3e\n      <p class="card-text pt-2" v-html="data.beschrijving" />\n    </div>\n    <div>\n      <div v-if="data.heeftGestemd && !data.resultaatZichtbaar">\n        <div class="card-body">Bedankt voor het stemmen!</div>\n      </div>\n      <div v-else class="card-body">\n        <div v-if="zoekbalkZichtbaar" class="pb-2">\n          <input\n            v-model="data.zoekterm"\n            type="text"\n            placeholder="Zoeken"\n            class="form-control"\n          />\n        </div>\n        <ul class="list-group list-group-flush">\n          <li\n            v-for="optie in optiesZichtbaar"\n            :key="optie.id"\n            class="list-group-item"\n          >\n            <PeilingOptie\n              :id="optie.id"\n              :key="optie.id"\n              v-model="optie.selected"\n              :titel="optie.titel"\n              :beschrijving="optie.beschrijving_formatted"\n              :stemmen="optie.stemmen"\n              :mag-stemmen="data.magStemmen"\n              :heeft-gestemd="data.heeftGestemd"\n              :aantal-gestemd="data.aantalGestemd"\n              :keuzes-over="keuzesOver"\n            />\n          </li>\n        </ul>\n        <paginate\n          v-if="optiesFiltered.length > data.paginaSize"\n          v-model="data.huidigePagina"\n          :page-count="Math.ceil(optiesFiltered.length / data.paginaSize)"\n          :prev-text="\'Vorige\'"\n          :next-text="\'Volgende\'"\n          :click-handler="zetHuidigePagina"\n          size="md"\n          align="center"\n          :limit="15"\n          :total-rows="optiesFiltered.length"\n          :per-page="data.paginaSize"\n        />\n      </div>\n    </div>\n\n    <div\n      v-if="!data.heeftGestemd && data.magStemmen"\n      class="card-footer footer"\n    >\n      <div>{{ strKeuzes }}</div>\n      <PeilingOptieToevoegen v-if="data.aantalVoorstellen > 0" :id="data.id" />\n\n      <input\n        type="button"\n        class="btn btn-primary"\n        value="Stem"\n        :disabled="selected.length === 0"\n        @click="stem"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport axios from \'axios\';\nimport Paginate from \'vuejs-paginate-next\';\nimport { computed, onMounted, reactive } from \'vue\';\nimport Icon from \'../common/Icon.vue\';\nimport PeilingOptie from \'./PeilingOptie.vue\';\nimport PeilingOptieToevoegen from \'./PeilingOptieToevoegen.vue\';\n\ninterface PeilingSettings {\n  id: string;\n  titel: string;\n  beschrijving: string;\n  resultaat_zichtbaar: boolean;\n  aantal_voorstellen: number;\n  aantal_stemmen: number;\n  aantal_gestemd: number;\n  is_mod: boolean;\n  mag_stemmen: boolean;\n  heeft_gestemd: boolean;\n  opties: PeilingOptieSettings[];\n}\n\ninterface PeilingOptieSettings {\n  id: string;\n  titel: string;\n  beschrijving_formatted: string;\n  selected: boolean;\n  stemmen: number;\n}\n\nconst props = defineProps<{ settings: PeilingSettings }>();\n\nconst data = reactive({\n  id: \'\',\n  titel: \'\',\n  beschrijving: \'\',\n  resultaatZichtbaar: false,\n  aantalVoorstellen: 0,\n  aantalStemmen: 0,\n  aantalGestemd: 0,\n  isMod: false,\n  heeftGestemd: false,\n  magStemmen: false,\n  opties: [] as PeilingOptieSettings[],\n  zoekterm: \'\',\n  huidigePagina: 1,\n  paginaSize: 10,\n});\n\nconst beheerUrl = computed(() => `/peilingen/beheer/${data.id}`);\nconst selected = computed(() => data.opties.filter((o) => o.selected));\nconst optiesFiltered = computed(() =>\n  data.opties.filter((o) =>\n    o.titel.toLowerCase().includes(data.zoekterm.toLowerCase())\n  )\n);\nconst optiesZichtbaar = computed(() => {\n  const begin = (data.huidigePagina - 1) * data.paginaSize;\n  const eind = begin + data.paginaSize;\n\n  return optiesFiltered.value.slice(begin, eind);\n});\nconst keuzesOver = computed(\n  () => data.aantalStemmen - selected.value.length > 0\n);\nconst strKeuzes = computed(\n  () => `${selected.value.length} van de ${data.aantalStemmen} geselecteerd`\n);\nconst strAantalGestemd = computed(() =>\n  data.aantalGestemd > 0\n    ? `(${data.aantalGestemd} stem${data.aantalGestemd > 1 ? \'men\' : \'\'})`\n    : \'\'\n);\nconst zoekbalkZichtbaar = computed(() => data.opties.length > 10);\n\nconst stem = () =>\n  axios\n    .post(`/peilingen/stem/${data.id}`, {\n      opties: selected.value.map((o) => o.id),\n    })\n    .then(() => {\n      data.heeftGestemd = true;\n      data.aantalGestemd = data.aantalGestemd + selected.value.length;\n      reload();\n    });\nconst reload = () =>\n  axios.post(`/peilingen/opties/${data.id}`).then((response) => {\n    data.opties = response.data.data;\n  });\nconst zetHuidigePagina = (paginaNum) => (data.huidigePagina = paginaNum);\n\nonMounted(() => {\n  data.id = props.settings.id;\n  data.titel = props.settings.titel;\n  data.beschrijving = props.settings.beschrijving;\n  data.resultaatZichtbaar = props.settings.resultaat_zichtbaar;\n  data.aantalVoorstellen = props.settings.aantal_voorstellen;\n  data.aantalStemmen = props.settings.aantal_stemmen;\n  data.aantalGestemd = props.settings.aantal_gestemd;\n  data.isMod = props.settings.is_mod;\n  data.heeftGestemd = props.settings.heeft_gestemd;\n  data.magStemmen = props.settings.mag_stemmen;\n  data.opties = props.settings.opties;\n\n  // Als er op deze pagina een modal gesloten wordt is dat misschien die van\n  // de optie toevoegen modal. Dit is de enige manier om dit te weten op dit moment\n  document.addEventListener(\'modalClose\', () => reload());\n});\n<\/script>\n\n<style scoped>\n.bewerken,\n.totaal {\n  float: right;\n}\n\n.footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.pagination {\n  margin-top: 1.25rem;\n  margin-bottom: 0;\n}\n</style>\n'],sourceRoot:""}]);const o=s},9809:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>domUpdate});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6859),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_ctx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5303),_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(988),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5946),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1518);function domUpdate(htmlString){if("string"!=typeof htmlString)return;if(htmlString=htmlString.trim(),"<!DOCTYPE"===htmlString.substring(0,9))throw alert("response error"),new Error(htmlString);const elements=(0,_util__WEBPACK_IMPORTED_MODULE_3__.QA)(htmlString);for(const element of elements){if(!(element instanceof HTMLElement))continue;const id=element.id,parentId=element.getAttribute("parentid");if(!id&&element instanceof HTMLScriptElement)return eval(element.innerText),void(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)();const target=id?document.querySelector(`#${id}`):null,targetParent=parentId?document.querySelector(`#${parentId}`):null;target?element.classList.contains("remove")?(0,_util__WEBPACK_IMPORTED_MODULE_3__.c7)(target,400):jquery__WEBPACK_IMPORTED_MODULE_0___default()(target).replaceWith(jquery__WEBPACK_IMPORTED_MODULE_0___default()(element)):targetParent?targetParent.append(element):element instanceof HTMLScriptElement?document.head.append(element):(0,_dom__WEBPACK_IMPORTED_MODULE_4__.Ys)("#maalcie-tabel tbody:visible:first").append(element),(0,_ctx__WEBPACK_IMPORTED_MODULE_1__.S)(element),"modal"===id?(0,_modal__WEBPACK_IMPORTED_MODULE_2__.O)():(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)()}}},988:(e,n,t)=>{t.d(n,{I:()=>o,O:()=>s});var i=t(6859),a=t.n(i),l=t(7221);function s(e=""){var n,t;const i=document.getElementById("modal"),s=null!==(n=l.Modal.getInstance(i))&&void 0!==n?n:new l.Modal(i),o=a()(".modal-backdrop");return(""!==i.innerHTML||""!==e)&&(o.length&&o.remove(),""!==e&&(i.replaceWith(e),null===(t=Array.from(i.querySelectorAll("input")).find((e=>"none"!=window.getComputedStyle(e).display)))||void 0===t||t.dispatchEvent(new FocusEvent("focus"))),s.show(),document.dispatchEvent(new Event("modalOpen")),!0)}function o(){const e=l.Modal.getInstance(document.getElementById("modal"));e&&e.hide(),document.dispatchEvent(new Event("modalClose"))}},2806:(e,n,t)=>{t.r(n),t.d(n,{createDefaultApp:()=>na,getVueComponent:()=>ea});var i=t(8365),a=t(3114),l=t(7811);const s=e=>((0,a.dD)("data-v-a9135194"),e=e(),(0,a.Cn)(),e),o={class:"declaratie"},d={class:"voortgang"},r=[s((()=>(0,a._)("span",{class:"status"},"Concept",-1)))],c=s((()=>(0,a._)("span",{class:"status"},"Ingediend",-1))),u={key:0,class:"datum"},g=s((()=>(0,a._)("span",{class:"status"},"Goedgekeurd",-1))),m={key:0,class:"datum"},p=s((()=>(0,a._)("span",{class:"status"},"Goedgekeurd",-1))),h={key:0,class:"datum"},v=s((()=>(0,a._)("span",{class:"status"},"Afgekeurd",-1))),b={key:0,class:"datum"},f=s((()=>(0,a._)("span",{class:"status"},"Uitbetaald",-1))),k={class:"datum"},w={key:0,class:"field"},A=s((()=>(0,a._)("label",{for:"datumDeclaratie"},"Datum declaratie",-1))),_=["disabled"],y={class:"field"},D=s((()=>(0,a._)("label",{for:"categorie"},"Categorie",-1))),C=["disabled"],x=s((()=>(0,a._)("option",{disabled:""},null,-1))),E=["value"],z={class:"field"},B=s((()=>(0,a._)("label",null,"Omschrijving declaratie",-1))),j=["disabled"],S={class:"field"},M=s((()=>(0,a._)("label",null,"Betaalwijze",-1))),V=["disabled"],O=s((()=>(0,a._)("label",{for:"C.S.R.-pas"},"Betaald met C.S.R.-pas",-1))),q=["disabled"],L=s((()=>(0,a._)("label",{for:"voorgeschoten"},"Voorgeschoten",-1))),U={key:1,class:"field"},P=s((()=>(0,a._)("label",null,"Terugstorten",-1))),G=["disabled"],I={for:"eigenRekening"},T=["disabled"],Z=s((()=>(0,a._)("label",{for:"nietEigenRekening"},"Naar andere rekening",-1))),R={key:2,class:"field"},K=s((()=>(0,a._)("label",{for:"rekening"},"IBAN",-1))),H=["disabled"],F={key:3,class:"field"},W={key:0,for:"tnv"},Y={key:1,for:"tnv"},$=["disabled"],N={key:4,class:"bonnen bon-upload"},J={class:"inhoud"},Q=s((()=>(0,a._)("div",{class:"titel"},"Voeg je bonnen en facturen toe",-1))),X=s((()=>(0,a._)("p",null," Upload je bon of factuur als PDF of goed leesbare foto. Neem daarna de bedragen van de bon of het factuur over. ",-1))),ee={class:"buttons"},ne={key:0,class:"loading blue",disabled:""},te=s((()=>(0,a._)("label",{class:"blue",for:"fileUpload"}," Kies bestand ",-1))),ie={key:5,class:"bonnen bonnen-weergave"},ae={class:"lijst"},le=["onClick"],se={class:"left"},oe={class:"title"},de={class:"date"},re={class:"right"},ce={class:"title"},ue=s((()=>(0,a._)("div",{class:"btw"},"incl. btw",-1))),ge={key:1,class:"bon-selected"},me=["onClick"],pe={class:"title"},he={class:"field"},ve=["for"],be=["id","onUpdate:modelValue","disabled"],fe={class:"bon-regels"},ke=s((()=>(0,a._)("div",{class:"regels-row"},[(0,a._)("label",null,"Omschrijving"),(0,a._)("label",null,"Bedrag"),(0,a._)("label",null,"Btw"),(0,a._)("div")],-1))),we={class:"field"},Ae=["onUpdate:modelValue","disabled"],_e={class:"field"},ye={class:"field"},De=["onUpdate:modelValue","disabled"],Ce=[(0,a.uE)('<option value="" disabled data-v-a9135194></option><option value="incl. 9%" data-v-a9135194>incl. 9%</option><option value="incl. 21%" data-v-a9135194>incl. 21%</option><option value="excl. 9%" data-v-a9135194>excl. 9%</option><option value="excl. 21%" data-v-a9135194>excl. 21%</option><option value="geen: 0%" data-v-a9135194>geen: 0%</option>',6)],xe=["onClick"],Ee=["onClick"],ze=(0,a.uE)('<div class="field" data-v-a9135194><input type="text" disabled data-v-a9135194></div><div class="field" data-v-a9135194><input type="text" disabled data-v-a9135194></div><div class="field" data-v-a9135194><select disabled data-v-a9135194><option value="" data-v-a9135194></option></select></div>',3),Be={class:"add"},je={class:"regels-row totaal streep"},Se=s((()=>(0,a._)("div",{class:"onderdeel"},"Totaal excl. btw",-1))),Me={class:"bedrag"},Ve={key:1,class:"regels-row totaal"},Oe=s((()=>(0,a._)("div",{class:"onderdeel"},"Btw 9%",-1))),qe={class:"bedrag"},Le={key:2,class:"regels-row totaal"},Ue=s((()=>(0,a._)("div",{class:"onderdeel"},"Btw 21%",-1))),Pe={class:"bedrag"},Ge={class:"regels-row totaal totaalBold"},Ie=s((()=>(0,a._)("div",{class:"onderdeel"},"Totaal incl. btw",-1))),Te={class:"bedrag"},Ze={class:"voorbeeld"},Re=["src"],Ke=["src"],He={key:6,class:"totaal"},Fe=s((()=>(0,a._)("div",{class:"left"},"Totaal",-1))),We={class:"right"},Ye={class:"title"},$e=s((()=>(0,a._)("div",{class:"btw"},"incl. btw",-1))),Ne={class:"field"},Je=s((()=>(0,a._)("label",{for:"opmerkingen"},"Opmerkingen",-1))),Qe=["disabled"],Xe={key:7,class:"field"},en=s((()=>(0,a._)("label",{for:"rekening"},"Nummer",-1))),nn=["placeholder","disabled"],tn={key:8,class:"save-buttons"},an=["disabled"],ln=["disabled"],sn=["disabled"],on={key:9,class:"save-buttons"},dn=["disabled"],rn=["disabled"],cn={key:10,class:"save-buttons"},un=["disabled"],gn=["disabled"],mn=["disabled"],pn=["disabled"],hn=["disabled"],vn=["disabled"],bn=s((()=>(0,a._)("span",{class:"divider"},null,-1))),fn=["href"],kn=[s((()=>(0,a._)("button",{class:"mail"},"Mail lid",-1)))],wn=["href"],An=[s((()=>(0,a._)("button",{class:"confirm"},"Download",-1)))],_n={key:11,class:"opslaan"};var yn=t(1339),Dn=t.n(yn),Cn=t(9644);const xn=(0,a.aZ)({__name:"Icon",props:{icon:null},setup(e){const n=e,t={toevoegen:"plus",bewerken:"pencil",verwijderen:"trash",goedkeuren:"circle-check",verjaardag:"cake-candles",vraagteken:"circle-question",tonen:"eye",verbergen:"eye-slash",sluiten:"xmark",kopieren:"clipboard",undo:"arrow-rotate-left",redo:"arrow-rotate-right",alert:"stop",stop:"ban","mime-onbekend":"file-circle-exclamation","mime-audio":"file-audio","mime-html":"file-code","mime-word":"file-word","mime-excel":"file-excel","mime-powerpoint":"file-powerpoint","mime-image":"file-image","mime-pdf":"file-pdf","mime-plain":"file-lines","mime-zip":"file-zipper",citeren:"quote-left",slotje:"lock",plakkerig:"note-sticky",belangrijk:"star",ruby:"gem",asterisk_orange:"star",flag_red:"flag",flag_orange:"flag",flag_green:"flag",flag_blue:"flag",stats:"chart-line",resetpassword:"user-lock",instellingen:"gear","alert-danger":"bell-exclamation","alert-info":"bell-on","alert-success":"circle-check","alert-warning":"bell",tabel:"table",log:"rectangle-terminal",prullenbak:"dumpster",opslaan:"floppy-disk",calendar:"calendar",forum:"comments",profiel:"user",fotoalbum:"images",document:"file",woonoord:"home",commissie:"users",ondervereniging:"users",kring:"circle-notch",boek:"book",wiki:"book-atlas",rechten:"key"},i=(0,a.Fl)((()=>n.icon.includes("fab fa-")?n.icon:n.icon in t?`fas fa-${t[n.icon]}`:`fas fa-${n.icon}`));return(e,n)=>((0,a.wg)(),(0,a.iD)("i",{class:(0,l.C_)((0,Cn.SU)(i)),"aria-hidden":"true"},null,2))}});var En=t(259);const zn=(0,a.aZ)({components:{Icon:xn,money3:En.Cz},props:{type:{required:!0,type:String},categorieen:{required:!0,type:Object},declaratieinput:{default:{opmerkingen:"",eigenRekening:!0,status:"concept",statusData:{uitbetaaldOp:"",goedgekeurdOp:"",afgekeurdOp:"",ingediendOp:"",magBeoordelen:!1,magUitbetalen:!1},bonnen:[]},type:Object},iban:{required:!0,type:String},tenaamstelling:{required:!0,type:String},email:{required:!0,type:String}},data:()=>({declaratie:{opmerkingen:"",eigenRekening:!0,status:"concept",statusData:{uitbetaaldOp:"",goedgekeurdOp:"",afgekeurdOp:"",ingediendOp:"",magBeoordelen:!1,magUitbetalen:!1},bonnen:[]},bonUploaden:!1,uploading:!1,geselecteerdeBon:0,money:{precision:2,decimal:",",thousands:" ",prefix:"€ "},submitting:!1,editing:!1,errors:[],isZoomFit:!0}),computed:{veldenDisabled(){return this.submitting||"concept"!==this.declaratie.status&&!this.editing},heeftBonnen(){return this.declaratie.bonnen&&this.declaratie.bonnen.length>0},totaal(){let e=0;for(let n of this.declaratie.bonnen)e+=this.berekening(n).totaalIncl;return this.round(e)}},created(){var e;this.declaratieinput&&(this.declaratie=this.declaratieinput),this.bonUploaden=0===(null===(e=this.declaratie.bonnen)||void 0===e?void 0:e.length)},methods:{zoomFit(){this.isZoomFit=!this.isZoomFit},nieuweBon(e,n){var t;this.declaratie.bonnen.push(((e,n)=>({id:n,bestandsnaam:e,datum:"",regels:[{omschrijving:"",bedrag:0,btw:""}]}))(e,n)),this.geselecteerdeBon=(null===(t=this.declaratie.bonnen)||void 0===t?void 0:t.length)-1},bonVerwijderen(e){this.declaratie.bonnen.splice(e,1)},nieuweRegel(e){e.regels.push({omschrijving:"",bedrag:0,btw:""})},regelVerwijderen(e,n){e.regels.splice(n,1)},round:e=>Math.round(100*(e+Number.EPSILON))/100,berekening(e){const n={totaalExcl:0,totaalIncl:0,btw:{0:0,9:0,21:0}};for(const t of e.regels)if(t.btw&&t.bedrag){t.bedrag=parseFloat(t.bedrag.toString());const e="incl"===t.btw.substr(0,4),i=parseInt(t.btw.substr(6).replace("%",""),10),a=i/100;e?(n.totaalExcl+=t.bedrag/(1+a),n.btw[i]+=t.bedrag/(1+a)*a,n.totaalIncl+=t.bedrag):(n.totaalExcl+=t.bedrag,n.btw[i]+=t.bedrag*a,n.totaalIncl+=t.bedrag*(1+a))}return{totaalExcl:this.round(n.totaalExcl),totaalIncl:this.round(n.totaalIncl),btw:{0:this.round(n.btw[0]),9:this.round(n.btw[9]),21:this.round(n.btw[21])}}},uploadBon(e){const n=new FormData;1===e.length&&(this.uploading=!0,n.append("bon",e[0],e[0].name),Dn()({method:"post",url:"/declaratie/upload",data:n,headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.uploading=!1,this.bonUploaden=!1,this.nieuweBon(e.data.file,e.data.id)})).catch((e=>{var n,t,i;this.uploading=!1,alert(null!==(i=null===(t=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===t?void 0:t.detail)&&void 0!==i?i:e)})))},declaratieOpslaan(e){this.submitting=!0,this.errors=[],Dn().request({method:"post",url:"/declaratie/opslaan",data:{declaratie:this.declaratie,indienen:"concept"===this.declaratie.status&&!0===e}}).then(this.processAjaxResponse).catch((e=>{var n,t,i;this.submitting=!1,alert(null!==(i=null===(t=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===t?void 0:t.detail)&&void 0!==i?i:e)}))},setStatus(e){this.submitting=!0,this.errors=[],Dn().request({method:"post",url:"/declaratie/status/"+this.declaratie.id,data:{status:e,nummer:this.declaratie.nummer}}).then(this.processAjaxResponse).catch((e=>{var n,t,i;this.submitting=!1,alert(null!==(i=null===(t=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===t?void 0:t.detail)&&void 0!==i?i:e)}))},processAjaxResponse(e){const{data:n}=e;n.id&&(this.declaratie.id=n.id,this.declaratie.status=n.status,this.declaratie.statusData=n.statusData,this.declaratie.statusData.ingediendOp&&(this.declaratie.datum=this.declaratie.statusData.ingediendOp),window.location.pathname.endsWith("nieuw")&&window.history.pushState("Declaratie "+n.id,"Declaratie","/declaratie/"+n.id)),this.errors=n.messages,this.submitting=!1,this.editing=!1,n.success&&window.scrollTo(0,0)},reload(){window.location.reload()},declaratieBewerken(){this.editing=!0},vulNummer(e){this.declaratie.nummer||(this.declaratie.nummer=e)},removeNummer(e){this.declaratie.nummer===e&&(this.declaratie.nummer=void 0)},conceptVerwijderen(){window.confirm("Wil je deze declaratie verwijderen?")&&(this.submitting=!0,Dn().request({method:"post",url:"/declaratie/verwijderen/"+this.declaratie.id}).then((e=>{window.location.replace(e.data.redirect)})).catch((e=>{var n,t,i;this.submitting=!1,alert(null!==(i=null===(t=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===t?void 0:t.detail)&&void 0!==i?i:e)})))},bedrag(e){const n=e.toString(),t=n.split(".");return 1===t.length?n+",00":t[0]+","+t[1].padEnd(2,"0")}}});var Bn=t(4388);const jn=(0,Bn.Z)(zn,[["render",function(e,n,t,s,yn,Dn){const Cn=(0,a.up)("Icon"),xn=(0,a.up)("money3"),En=(0,a.Q2)("input-mask");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("h2",null,"Declaratie "+(0,l.zw)(e.declaratie.nummer),1),(0,a._)("div",d,[(0,a._)("div",{class:(0,l.C_)(["fase concept",{active:"concept"===e.declaratie.status,done:"concept"!==e.declaratie.status}])},r,2),(0,a._)("div",{class:(0,l.C_)(["fase ingediend",{active:"ingediend"===e.declaratie.status,done:"goedgekeurd"===e.declaratie.status||"afgekeurd"===e.declaratie.status||"uitbetaald"===e.declaratie.status}])},[c,"concept"!==e.declaratie.status?((0,a.wg)(),(0,a.iD)("span",u,(0,l.zw)(e.declaratie.statusData.ingediendDoor)+", "+(0,l.zw)(e.declaratie.statusData.ingediendOp),1)):(0,a.kq)("v-if",!0)],2),"afgekeurd"!==e.declaratie.status&&"C.S.R.-pas"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,l.C_)(["fase goedgekeurd",{active:"goedgekeurd"===e.declaratie.status,done:"uitbetaald"===e.declaratie.status}])},[g,e.declaratie.statusData.beoordeeldDoor?((0,a.wg)(),(0,a.iD)("span",m,(0,l.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,l.zw)(e.declaratie.statusData.goedgekeurdOp),1)):(0,a.kq)("v-if",!0)],2)):(0,a.kq)("v-if",!0),"afgekeurd"!==e.declaratie.status&&"voorgeschoten"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,l.C_)(["fase uitbetaald",{active:"goedgekeurd"===e.declaratie.status,done:"uitbetaald"===e.declaratie.status}])},[p,e.declaratie.statusData.beoordeeldDoor?((0,a.wg)(),(0,a.iD)("span",h,(0,l.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,l.zw)(e.declaratie.statusData.goedgekeurdOp),1)):(0,a.kq)("v-if",!0)],2)):(0,a.kq)("v-if",!0),"afgekeurd"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("div",{key:2,class:(0,l.C_)(["fase afgekeurd",{active:"afgekeurd"===e.declaratie.status}])},[v,e.declaratie.statusData.beoordeeldDoor?((0,a.wg)(),(0,a.iD)("span",b,(0,l.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,l.zw)(e.declaratie.statusData.afgekeurdOp),1)):(0,a.kq)("v-if",!0)],2)):(0,a.kq)("v-if",!0),"afgekeurd"!==e.declaratie.status&&"voorgeschoten"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",{key:3,class:(0,l.C_)(["fase goedgekeurd",{active:"uitbetaald"===e.declaratie.status}])},[f,(0,a._)("span",k,(0,l.zw)(e.declaratie.statusData.uitbetaaldOp),1)],2)):(0,a.kq)("v-if",!0)]),e.declaratie.statusData.magBeoordelen&&"concept"!==e.declaratie.status?((0,a.wg)(),(0,a.iD)("div",w,[A,(0,a.wy)((0,a._)("input",{id:"datumDeclaratie","onUpdate:modelValue":n[0]||(n[0]=n=>e.declaratie.datum=n),"data-inputmask":"'alias': 'datetime', 'inputFormat': 'dd-mm-yyyy'",type:"text",disabled:e.veldenDisabled},null,8,_),[[i.nr,e.declaratie.datum],[En]])])):(0,a.kq)("v-if",!0),(0,a._)("div",y,[D,(0,a.wy)((0,a._)("select",{id:"categorie","onUpdate:modelValue":n[1]||(n[1]=n=>e.declaratie.categorie=n),disabled:e.veldenDisabled},[x,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categorieen,((e,n)=>((0,a.wg)(),(0,a.iD)("option",{key:"categorie-"+e,value:e},(0,l.zw)(n),9,E)))),128))],8,C),[[i.bM,e.declaratie.categorie]])]),(0,a._)("div",z,[B,(0,a.wy)((0,a._)("input",{id:"omschrijving","onUpdate:modelValue":n[2]||(n[2]=n=>e.declaratie.omschrijving=n),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,j),[[i.nr,e.declaratie.omschrijving]])]),(0,a._)("div",S,[M,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"C.S.R.-pas","onUpdate:modelValue":n[3]||(n[3]=n=>e.declaratie.betaalwijze=n),type:"radio",name:"betaalwijze",value:"C.S.R.-pas",disabled:e.veldenDisabled},null,8,V),[[i.G2,e.declaratie.betaalwijze]]),O]),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"voorgeschoten","onUpdate:modelValue":n[4]||(n[4]=n=>e.declaratie.betaalwijze=n),type:"radio",name:"betaalwijze",value:"voorgeschoten",disabled:e.veldenDisabled},null,8,q),[[i.G2,e.declaratie.betaalwijze]]),L])]),"voorgeschoten"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",U,[P,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"eigenRekening","onUpdate:modelValue":n[5]||(n[5]=n=>e.declaratie.eigenRekening=n),type:"radio",value:!0,disabled:e.veldenDisabled},null,8,G),[[i.G2,e.declaratie.eigenRekening]]),(0,a._)("label",I,"Naar eigen rekening: "+(0,l.zw)(e.iban)+" t.n.v. "+(0,l.zw)(e.tenaamstelling),1)]),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"nietEigenRekening","onUpdate:modelValue":n[6]||(n[6]=n=>e.declaratie.eigenRekening=n),type:"radio",value:!1,disabled:e.veldenDisabled},null,8,T),[[i.G2,e.declaratie.eigenRekening]]),Z])])):(0,a.kq)("v-if",!0),"voorgeschoten"!==e.declaratie.betaalwijze||e.declaratie.eigenRekening?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",R,[K,(0,a.wy)((0,a._)("input",{id:"rekening","onUpdate:modelValue":n[7]||(n[7]=n=>e.declaratie.rekening=n),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,H),[[i.nr,e.declaratie.rekening]])])),"voorgeschoten"===e.declaratie.betaalwijze&&!e.declaratie.eigenRekening||"C.S.R.-pas"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("div",F,["voorgeschoten"===e.declaratie.betaalwijze?((0,a.wg)(),(0,a.iD)("label",W,"Ten name van")):((0,a.wg)(),(0,a.iD)("label",Y,"Bij bedrijf")),(0,a.wy)((0,a._)("input",{id:"tnv","onUpdate:modelValue":n[8]||(n[8]=n=>e.declaratie.tnv=n),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,$),[[i.nr,e.declaratie.tnv]])])):(0,a.kq)("v-if",!0),e.bonUploaden||!e.heeftBonnen?((0,a.wg)(),(0,a.iD)("div",N,[(0,a._)("div",J,[Q,X,(0,a._)("div",ee,[e.uploading?((0,a.wg)(),(0,a.iD)("button",ne,[(0,a.Wm)(Cn,{icon:"spinner fa-spin"})])):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[te,(0,a._)("input",{id:"fileUpload",type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:n[9]||(n[9]=n=>e.uploadBon(n.target.files))},null,32),e.heeftBonnen?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"open",onClick:n[10]||(n[10]=n=>e.bonUploaden=!1)}," Annuleren ")):(0,a.kq)("v-if",!0)],64))])])])):(0,a.kq)("v-if",!0),!e.bonUploaden&&e.heeftBonnen?((0,a.wg)(),(0,a.iD)("div",ie,[(0,a._)("div",ae,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.declaratie.bonnen,((n,t)=>((0,a.wg)(),(0,a.iD)("div",{key:"bon-"+t,class:"bon"},[t!==e.geselecteerdeBon?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"bon-collapsed",onClick:n=>e.geselecteerdeBon=t},[(0,a._)("div",se,[(0,a._)("div",oe,"Bon "+(0,l.zw)(Number(t)+1),1),(0,a._)("div",de,(0,l.zw)(n.datum),1)]),(0,a._)("div",re,[(0,a._)("div",ce," € "+(0,l.zw)(e.bedrag(e.berekening(n).totaalIncl)),1),ue])],8,le)):((0,a.wg)(),(0,a.iD)("div",ge,[(e.declaratie.bonnen.length>1||"concept"===e.declaratie.status)&&!e.veldenDisabled?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"bonVerwijderen",onClick:n=>e.bonVerwijderen(t)},[(0,a.Wm)(Cn,{icon:"verwijderen"})],8,me)):(0,a.kq)("v-if",!0),(0,a._)("div",pe,"Bon "+(0,l.zw)(Number(t)+1),1),(0,a._)("div",he,[(0,a._)("label",{for:"bon"+t+"_datum"},"Datum",8,ve),(0,a.wy)((0,a._)("input",{id:"bon"+t+"_datum","onUpdate:modelValue":e=>n.datum=e,"data-inputmask":"'alias': 'datetime', 'inputFormat': 'dd-mm-yyyy'",type:"text",disabled:e.veldenDisabled},null,8,be),[[i.nr,n.datum],[En]])]),(0,a._)("div",fe,[ke,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.regels,((l,s)=>((0,a.wg)(),(0,a.iD)("div",{key:"regel-"+t+"-"+s,class:"regels-row"},[(0,a._)("div",we,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e=>l.omschrijving=e,type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,Ae),[[i.nr,l.omschrijving]])]),(0,a._)("div",_e,[(0,a.Wm)(xn,(0,a.dG)(e.money,{modelValue:l.bedrag,"onUpdate:modelValue":e=>l.bedrag=e,style:{"text-align":"right"},disabled:e.veldenDisabled}),null,16,["modelValue","onUpdate:modelValue","disabled"])]),(0,a._)("div",ye,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e=>l.btw=e,disabled:e.veldenDisabled},Ce,8,De),[[i.bM,l.btw]])]),n.regels.length>1&&!e.veldenDisabled?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"trash",onClick:t=>e.regelVerwijderen(n,s)},[(0,a.Wm)(Cn,{icon:"verwijderen"})],8,xe)):(0,a.kq)("v-if",!0)])))),128)),e.veldenDisabled?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:"regels-row nieuw",onClick:t=>e.nieuweRegel(n)},[ze,(0,a._)("div",Be,[(0,a.Wm)(Cn,{icon:"toevoegen"})])],8,Ee)),(0,a._)("div",je,[Se,(0,a._)("div",Me,(0,l.zw)(e.bedrag(e.berekening(n).totaalExcl)),1)]),0!==e.berekening(n).btw[9]?((0,a.wg)(),(0,a.iD)("div",Ve,[Oe,(0,a._)("div",qe,(0,l.zw)(e.bedrag(e.berekening(n).btw[9])),1)])):(0,a.kq)("v-if",!0),0!==e.berekening(n).btw[21]?((0,a.wg)(),(0,a.iD)("div",Le,[Ue,(0,a._)("div",Pe,(0,l.zw)(e.bedrag(e.berekening(n).btw[21])),1)])):(0,a.kq)("v-if",!0),(0,a._)("div",Ge,[Ie,(0,a._)("div",Te,(0,l.zw)(e.bedrag(e.berekening(n).totaalIncl)),1)])])]))])))),128)),e.veldenDisabled?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:"nieuwe-bon",onClick:n[11]||(n[11]=n=>e.bonUploaden=!0)},[(0,a.Wm)(Cn,{icon:"toevoegen"}),(0,a.Uk)(" Nieuwe bon ")]))]),(0,a._)("div",Ze,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.declaratie.bonnen,((t,s)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:"voorbeeld-"+s},[t.bestandsnaam.toLowerCase().endsWith(".pdf")?((0,a.wg)(),(0,a.iD)("iframe",{key:0,src:t.bestandsnaam,title:"Bon"},null,8,Re)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,l.C_)(["imageContainer",{zoomFit:e.isZoomFit}])},[(0,a._)("img",{src:t.bestandsnaam,alt:"Bon",onClick:n[12]||(n[12]=n=>e.zoomFit())},null,8,Ke)],2))])),[[i.F8,e.geselecteerdeBon===s]]))),128))])])):(0,a.kq)("v-if",!0),e.totaal>0?((0,a.wg)(),(0,a.iD)("div",He,[Fe,(0,a._)("div",We,[(0,a._)("div",Ye,"€ "+(0,l.zw)(e.bedrag(e.totaal)),1),$e])])):(0,a.kq)("v-if",!0),(0,a._)("div",Ne,[Je,(0,a.wy)((0,a._)("textarea",{id:"opmerkingen","onUpdate:modelValue":n[13]||(n[13]=n=>e.declaratie.opmerkingen=n),disabled:e.veldenDisabled},null,8,Qe),[[i.nr,e.declaratie.opmerkingen]])]),"concept"!==e.declaratie.status&&"afgekeurd"!==e.declaratie.status&&e.declaratie.statusData.magBeoordelen?((0,a.wg)(),(0,a.iD)("div",Xe,[en,(0,a.wy)((0,a._)("input",{id:"nummer","onUpdate:modelValue":n[14]||(n[14]=n=>e.declaratie.nummer=n),placeholder:"ingediend"!==e.declaratie.status&&!e.editing||e.submitting?"":e.declaratie.statusData.nummerPrefix+"000",type:"text",disabled:"ingediend"!==e.declaratie.status&&!e.editing||e.submitting,onFocus:n[15]||(n[15]=n=>e.vulNummer(e.declaratie.statusData.nummerPrefix)),onBlur:n[16]||(n[16]=n=>e.removeNummer(e.declaratie.statusData.nummerPrefix))},null,40,nn),[[i.nr,e.declaratie.nummer]])])):(0,a.kq)("v-if",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.errors,((e,n)=>((0,a.wg)(),(0,a.iD)("div",{key:"error-"+n,class:"field alert alert-warning",role:"alert"},(0,l.zw)(e),1)))),128)),e.veldenDisabled||e.submitting||e.editing?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",tn,["concept"===e.declaratie.status&&e.declaratie.id?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"afkeuren",disabled:e.submitting,onClick:n[17]||(n[17]=n=>e.conceptVerwijderen())}," Concept verwijderen ",8,an)):(0,a.kq)("v-if",!0),"concept"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"concept",disabled:e.submitting,onClick:n[18]||(n[18]=n=>e.declaratieOpslaan(!1))}," Concept opslaan en later afmaken ",8,ln)):(0,a.kq)("v-if",!0),(0,a._)("button",{class:"confirm",disabled:e.submitting,onClick:n[19]||(n[19]=n=>e.declaratieOpslaan(!0))}," Declaratie indienen ",8,sn)])),e.editing&&!e.submitting?((0,a.wg)(),(0,a.iD)("div",on,[(0,a._)("button",{class:"afkeuren",disabled:e.submitting,onClick:n[20]||(n[20]=n=>e.reload())}," Wijzigingen annuleren ",8,dn),(0,a._)("button",{class:"confirm",disabled:e.submitting,onClick:n[21]||(n[21]=n=>e.declaratieOpslaan(!0))}," Opslaan ",8,rn)])):(0,a.kq)("v-if",!0),"concept"===e.declaratie.status||!e.declaratie.statusData.magBeoordelen||e.editing||e.submitting?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",cn,["ingediend"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"concept",disabled:e.submitting,onClick:n[22]||(n[22]=n=>e.setStatus("concept"))}," Terug naar concept ",8,un)):(0,a.kq)("v-if",!0),"goedgekeurd"===e.declaratie.status||"afgekeurd"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"ingediend",disabled:e.submitting,onClick:n[23]||(n[23]=n=>e.setStatus("ingediend"))}," Terug naar ingediend ",8,gn)):(0,a.kq)("v-if",!0),"ingediend"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:2,class:"goedkeuren",disabled:e.submitting,onClick:n[24]||(n[24]=n=>e.setStatus("goedgekeurd"))}," Goedkeuren ",8,mn)):(0,a.kq)("v-if",!0),"ingediend"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:3,class:"afkeuren",disabled:e.submitting,onClick:n[25]||(n[25]=n=>e.setStatus("afgekeurd"))}," Afkeuren ",8,pn)):(0,a.kq)("v-if",!0),e.declaratie.statusData.magUitbetalen&&"goedgekeurd"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:4,class:"uitbetaald",disabled:e.submitting,onClick:n[26]||(n[26]=n=>e.setStatus("uitbetaald"))}," Uitbetaald ",8,hn)):(0,a.kq)("v-if",!0),e.declaratie.statusData.magUitbetalen&&"uitbetaald"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("button",{key:5,class:"goedkeuren",disabled:e.submitting,onClick:n[27]||(n[27]=n=>e.setStatus("goedgekeurd"))}," Uitbetaald ongedaan maken ",8,vn)):(0,a.kq)("v-if",!0),bn,(0,a._)("button",{class:"concept",onClick:n[28]||(n[28]=n=>e.declaratieBewerken())},"Bewerken"),(0,a._)("a",{href:"mailto:"+e.email,class:"no-mail"},kn,8,fn),"goedgekeurd"===e.declaratie.status||"uitbetaald"===e.declaratie.status?((0,a.wg)(),(0,a.iD)("a",{key:6,href:"/declaratie/print/"+e.declaratie.id,class:"no-mail"},An,8,wn)):(0,a.kq)("v-if",!0)])),e.submitting?((0,a.wg)(),(0,a.iD)("div",_n,[(0,a.Wm)(Cn,{icon:"spinner fa-spin"})])):(0,a.kq)("v-if",!0)])}],["__scopeId","data-v-a9135194"]]),Sn={class:"card groep"},Mn={class:"card-body"},Vn={class:"card-title"},On={class:"row"},qn={key:0,class:"left-col col-md-5"},Ln={class:"card-text"},Un={class:"col results"},Pn={class:"table table-sm"};const Gn="checkbox_1",In="dropdown_1",Tn="radios_1",Zn="text_1";const Rn={class:"mb-3"},Kn={class:"custom-control custom-checkbox"},Hn=["id","checked"],Fn=["for"];const Wn=(0,a.aZ)({props:{keuze:{required:!0,type:Object},modelValue:Boolean},emits:["update:modelValue"]}),Yn=(0,Bn.Z)(Wn,[["render",function(e,n,t,i,s,o){return(0,a.wg)(),(0,a.iD)("div",Rn,[(0,a._)("div",Kn,[(0,a._)("input",{id:`customCheck${e.keuze.naam}`,type:"checkbox",class:"custom-control-input",checked:e.modelValue,onInput:n[0]||(n[0]=n=>e.$emit("update:modelValue",n.target.checked))},null,40,Hn),(0,a._)("label",{class:"custom-control-label",for:`customCheck${e.keuze.naam}`},(0,l.zw)(e.keuze.description),9,Fn)])])}]]),$n={class:"mb-3"},Nn={class:"w-100"},Jn=["name"],Qn=["value","selected"];const Xn=(0,a.aZ)({props:{keuze:{required:!0,type:Object},modelValue:{required:!0,type:String}},emits:["update:modelValue"]}),et=(0,Bn.Z)(Xn,[["render",function(e,n,t,i,s,o){return(0,a.wg)(),(0,a.iD)("div",$n,[(0,a._)("label",Nn,[(0,a.Uk)((0,l.zw)(e.keuze.description)+" ",1),(0,a._)("select",{class:"form-select",name:"DropDownKeuze-"+e.keuze.naam,onInput:n[0]||(n[0]=n=>e.$emit("update:modelValue",n.target.value))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.keuze.opties,((n,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,value:n,selected:n===e.modelValue},(0,l.zw)(n),9,Qn)))),128))],40,Jn)])])}]]),nt={class:"mb-3"},tt={class:"w-100"},it={class:"btn-group"},at=["name","value","checked"];const lt=(0,a.aZ)({props:{keuze:{required:!0,type:Object},modelValue:{required:!0,type:String}},emits:["update:modelValue"]}),st=(0,Bn.Z)(lt,[["render",function(e,n,t,i,s,o){return(0,a.wg)(),(0,a.iD)("div",nt,[(0,a._)("label",tt,(0,l.zw)(e.keuze.description),1),(0,a._)("div",it,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.keuze.opties,((t,i)=>((0,a.wg)(),(0,a.iD)("label",{key:i,class:(0,l.C_)({"btn btn-outline-primary":!0,active:t===e.modelValue})},[(0,a._)("input",{type:"radio",name:"MultiSelectKeuze-"+e.keuze.naam,class:"d-none",value:t,checked:t===e.modelValue,onInput:n[0]||(n[0]=n=>e.$emit("update:modelValue",n.target.value))},null,40,at),(0,a.Uk)((0,l.zw)(t),1)],2)))),128))])])}]]),ot={class:"mb-3"},dt=["for"],rt=["id","value"];const ct=(0,a.aZ)({props:{keuze:{required:!0,type:Object},modelValue:{required:!0,type:String}},emits:["update:modelValue"]}),ut=(0,Bn.Z)(ct,[["render",function(e,n,t,i,s,o){return(0,a.wg)(),(0,a.iD)("div",ot,[(0,a._)("label",{for:"customCheck"+e.keuze.naam},(0,l.zw)(e.keuze.description),9,dt),(0,a._)("input",{id:"customCheck"+e.keuze.naam,type:"text",class:"form-control",value:e.modelValue,onInput:n[0]||(n[0]=n=>e.$emit("update:modelValue",n.target.value))},null,40,rt)])}]]),gt=(0,a.aZ)({props:{keuzes:{required:!0,type:Array},opmerking:{required:!0,type:Array},aangemeld:{required:!0,type:Boolean}},emits:["aanmelden"],data:()=>({opmerkingData:[]}),created(){this.opmerkingData=this.opmerking},methods:{getKeuze(e){return this.keuzes.find((n=>n.naam===e))},getComponent(e){const n=this.getKeuze(e).type;switch(n){case Gn:return Yn;case Zn:return ut;case Tn:return st;case In:return et;default:throw Error(`Kan component voor GroepKeuzeType '${n}' niet vinden.`)}}}}),mt=(0,Bn.Z)(gt,[["render",function(e,n,t,i,l,s){return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.opmerkingData,(n=>((0,a.wg)(),(0,a.j4)((0,a.LL)(e.getComponent(n.naam)),{key:n.naam,modelValue:n.selectie,"onUpdate:modelValue":e=>n.selectie=e,keuze:e.getKeuze(n.naam)},null,8,["modelValue","onUpdate:modelValue","keuze"])))),128)),(0,a._)("button",{class:"btn btn-primary",onClick:n[0]||(n[0]=n=>e.$emit("aanmelden",e.opmerkingData))}," Aanmelden ")])}]]),pt=(0,a._)("th",{scope:"col"},null,-1);const ht=(0,a.aZ)({props:{keuzes:{required:!0,type:Array}}}),vt=(0,Bn.Z)(ht,[["render",function(e,n,t,i,s,o){return(0,a.wg)(),(0,a.iD)("thead",null,[(0,a._)("tr",null,[pt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.keuzes,(e=>((0,a.wg)(),(0,a.iD)("th",{key:e.description,scope:"col"},(0,l.zw)(e.description),1)))),128))])])}]]),bt=["innerHTML"],ft=["innerHTML"];var kt=t(5946);const wt=(0,a.aZ)({components:{Icon:xn},props:{lid:{required:!0,type:Object},keuzes:{required:!0,type:Array}},methods:{getLidKeuze(e){return this.lid.opmerking2?this.lid.opmerking2.find((n=>n.naam===e.naam)):void 0},isKeuzeCheckbox:e=>e.type===Gn,renderSelectie:e=>(0,kt.Ak)(e.selectie)}}),At=(0,Bn.Z)(wt,[["render",function(e,n,t,i,l,s){const o=(0,a.up)("Icon");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.kq)(" eslint-disable vue/no-v-html "),(0,a._)("tr",null,[(0,a._)("td",{class:"text-nowrap",innerHTML:e.lid.link},null,8,bt),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.keuzes,(n=>((0,a.wg)(),(0,a.iD)("td",{key:n.naam},[void 0===e.getLidKeuze(n)?((0,a.wg)(),(0,a.j4)(o,{key:0,icon:"ban"})):e.isKeuzeCheckbox(n)&&e.getLidKeuze(n).selectie?((0,a.wg)(),(0,a.j4)(o,{key:1,icon:"check"})):e.isKeuzeCheckbox(n)&&!e.getLidKeuze(n).selectie?((0,a.wg)(),(0,a.j4)(o,{key:2,icon:"xmark"})):((0,a.wg)(),(0,a.iD)("span",{key:3,innerHTML:e.renderSelectie(e.getLidKeuze(n))},null,8,ft))])))),128))])],2112)}]]),_t=(0,a.aZ)({components:{GroepAanmeldForm:mt,GroepLidRow:At,GroepHeaderRow:vt},props:{settings:{required:!0,type:Object},groep:{required:!0,type:Object}},data:()=>({id:0,naam:"",familie:"",beginMoment:new Date,eindMoment:new Date,status:"",samenvatting:"",omschrijving:"",makerUid:"",versie:"",keuzelijst2:[],leden:[],mijnUid:"",mijnLink:"",aanmeldUrl:"",mijnOpmerking:[]}),computed:{mijnAanmelding(){return this.leden.find((e=>e.uid===this.mijnUid))},aangemeld(){return void 0!==this.mijnAanmelding},magAanmelden(){return console.log(this.groep.aanmeldenTot,new Date),!this.groep.aanmeldenTot||new Date(this.groep.aanmeldenTot)>new Date}},created(){this.id=this.groep.id,this.naam=this.groep.naam,this.familie=this.groep.familie,this.beginMoment=this.groep.beginMoment,this.eindMoment=this.groep.eindMoment,this.status=this.groep.status,this.samenvatting=this.groep.samenvatting,this.omschrijving=this.groep.omschrijving,this.makerUid=this.groep.makerUid,this.versie=this.groep.versie,this.keuzelijst2=this.groep.keuzelijst2,this.leden=this.groep.leden,this.mijnUid=this.settings.mijn_uid,this.mijnLink=this.settings.mijn_link,this.aanmeldUrl=this.settings.aanmeld_url,this.aangemeld?this.mijnOpmerking=this.mijnAanmelding.opmerking2:this.mijnOpmerking=this.keuzelijst2.map((e=>({selectie:e.default,naam:e.naam})))},methods:{aanmelden(){this.aangemeld||(this.leden.push({uid:this.mijnUid,link:this.mijnLink,opmerking2:this.mijnOpmerking}),Dn().post(this.aanmeldUrl,{opmerking2:this.mijnOpmerking}))}}});var yt=t(5458),Dt=t.n(yt),Ct=t(3554),xt={insert:"head",singleton:!1};Dt()(Ct.Z,xt);Ct.Z.locals;const Et=(0,Bn.Z)(_t,[["render",function(e,n,t,i,s,o){const d=(0,a.up)("GroepAanmeldForm"),r=(0,a.up)("GroepHeaderRow"),c=(0,a.up)("GroepLidRow");return(0,a.wg)(),(0,a.iD)("div",Sn,[(0,a._)("div",Mn,[(0,a._)("h3",Vn,(0,l.zw)(e.naam),1),(0,a._)("div",On,[!e.aangemeld&&e.magAanmelden?((0,a.wg)(),(0,a.iD)("div",qn,[(0,a._)("p",Ln,(0,l.zw)(e.samenvatting),1),(0,a.Wm)(d,{keuzes:e.keuzelijst2,opmerking:e.mijnOpmerking,aangemeld:e.aangemeld,onAanmelden:e.aanmelden},null,8,["keuzes","opmerking","aangemeld","onAanmelden"])])):(0,a.kq)("v-if",!0),(0,a._)("div",Un,[(0,a._)("table",Pn,[(0,a.Wm)(r,{keuzes:e.keuzelijst2},null,8,["keuzes"]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.leden,(n=>((0,a.wg)(),(0,a.j4)(c,{key:n.uid,lid:n,keuzes:e.keuzelijst2},null,8,["lid","keuzes"])))),128))])])])])])])}],["__scopeId","data-v-4994458c"]]),zt=e=>((0,a.dD)("data-v-41bcf2c9"),e=e(),(0,a.Cn)(),e),Bt={key:0,class:"score-blok"},jt={class:"titel"},St=zt((()=>(0,a._)("div",{class:"score-titel"},"Jouw score:",-1))),Mt={class:"score"},Vt={key:1},Ot={class:"row"},qt={class:"col-sm-6"},Lt=zt((()=>(0,a._)("strong",{class:"mb-1 block"},"Lichting(en)",-1))),Ut=zt((()=>(0,a._)("label",{for:"alleLichtingen"},"Alle lichtingen",-1))),Pt=["id","value"],Gt=["checked"],It=["for"],Tt={class:"col-sm-6"},Zt=zt((()=>(0,a._)("strong",{class:"mb-1 block"},"Verticale(n)",-1))),Rt=zt((()=>(0,a._)("label",{for:"alleVerticalen"},"Alle verticalen",-1))),Kt=["id","value"],Ht=["checked"],Ft=["for"],Wt=zt((()=>(0,a._)("strong",{class:"mb-1 block"},"Onderkant verbergen",-1))),Yt=zt((()=>(0,a._)("label",{for:"verbergOnderkant"},"Voorkom leesbare namen op foto's",-1))),$t=zt((()=>(0,a._)("strong",{class:"mt-3 mb-1 block"},"Antwoordmethode",-1))),Nt=[zt((()=>(0,a._)("option",{value:"voornaam"},"Voornaam",-1))),zt((()=>(0,a._)("option",{value:"achternaam"},"Achternaam",-1))),zt((()=>(0,a._)("option",{value:"combi"},"Voor- en achternaam",-1))),zt((()=>(0,a._)("option",{value:"civi"},"Achternaam en achtervoegsel",-1)))],Jt={key:2},Qt={class:"progress"},Xt=["src"],ei={class:"info"},ni={class:"naam"},ti={class:"tekst"},ii={key:0},ai={key:1,class:"mb-1 block"},li={key:2,class:"mb-1 block"},si={key:3,class:"mb-1 block"},oi={key:4,class:"mb-1 block"},di=["value"];const ri=[],ci=e=>{if(ri.includes(e))return;ri.push(e);(new Image).src=e},ui=e=>Array.from(new Set(e)),gi=(0,a.aZ)({components:{Icon:xn},props:{leden:{required:!0,type:Array}},data:()=>({alleLichtingen:!1,alleVerticalen:!0,lichtingSelectie:[],verticaleSelectie:[],antwoordMethode:"voornaam",aantalPerKeer:5,verbergOnderkant:!0,started:!1,finished:!1,goed:[],opnieuw:[],fout:[],todo:[],laatste:null,laatsteGoed:null,huidig:null,ingevuld:"",titel:""}),computed:{aantal(){return this.gefilterdeLeden.length},gefilterdeLeden(){return this.leden.filter((e=>(this.alleLichtingen||this.lichtingSelectie.includes(e.lichting))&&(this.alleVerticalen||this.verticaleSelectie.includes(e.verticale))))},lichtingen(){return ui(this.leden.map((e=>e.lichting))).sort()},verticalen(){return ui(this.leden.map((e=>e.verticale))).sort()},klaarVoorDeStart(){return this.gefilterdeLeden.length>0},totaalAantal(){return this.todo.length+this.goed.length+this.opnieuw.length+this.fout.length},percentageGoed(){return this.totaalAantal>0?this.goed.length/this.totaalAantal*100:0},percentageOpnieuw(){return this.totaalAantal>0?this.opnieuw.length/this.totaalAantal*100:0},percentageFout(){return this.totaalAantal>0?this.fout.length/this.totaalAantal*100:0}},methods:{start(){this.klaarVoorDeStart&&(this.started=!0,this.goed=[],this.opnieuw=[],this.fout=[],this.todo=this.gefilterdeLeden,(e=>{let n,t,i=e.length;for(;0!==i;)t=Math.floor(Math.random()*i),i-=1,n=e[i],e[i]=e[t],e[t]=n})(this.todo),this.huidig=null,this.laatste=null,this.finished=!1,this.volgende(),this.titel=this.bouwTitel(),document.title=`C.S.R. Delft - Namen ${this.titel} leren`,window.scrollTo(0,0))},volgende(){const e=this.fout.concat(this.todo.slice(0,Math.max(this.aantalPerKeer-this.fout.length,0))),n=e.filter((n=>1===e.length||!this.huidig||n.uid!==this.huidig.uid));if(n.length>0){for(const e of n)ci("/profiel/pasfoto/"+e.uid+".jpg");this.huidig=n[Math.floor(Math.random()*n.length)],this.ingevuld=""}else this.finished=!0,this.started=!1},controleer(){if(null==this.huidig)throw new Error("huidig niet gezet");const e=[];"voornaam"!==this.antwoordMethode&&"combi"!==this.antwoordMethode||e.push(this.huidig.voornaam),"achternaam"!==this.antwoordMethode&&"combi"!==this.antwoordMethode&&"civi"!==this.antwoordMethode||(this.huidig.tussenvoegsel&&e.push(this.huidig.tussenvoegsel),e.push(this.huidig.achternaam)),"civi"===this.antwoordMethode&&this.huidig.postfix&&e.push(this.huidig.postfix);const n=e.map((e=>e.trim())).join(" ");this.laatste=this.huidig,this.laatsteGoed=n.toLowerCase().replace(".","")===this.ingevuld.toLowerCase().replace(".","");let t=this.todo.findIndex((e=>{var n;return e.uid===(null===(n=this.huidig)||void 0===n?void 0:n.uid)}));-1===t?this.laatsteGoed&&(t=this.fout.findIndex((e=>{var n;return e.uid===(null===(n=this.huidig)||void 0===n?void 0:n.uid)})),this.fout.splice(t,1),this.opnieuw.push(this.huidig)):(this.todo.splice(t,1),this.laatsteGoed?this.goed.push(this.huidig):this.fout.push(this.huidig)),this.volgende()},bouwTitel(){if(this.alleLichtingen&&this.alleVerticalen)return"Alle leden";let e="";return this.alleLichtingen||(this.lichtingSelectie.sort(),e+="Lichting ",e+=this.lichtingSelectie.slice(0,this.lichtingSelectie.length-1).join(", "),this.lichtingSelectie.length>1&&(e+=" & "),e+=this.lichtingSelectie[this.lichtingSelectie.length-1]),this.alleVerticalen||(e&&(e+=", "),this.verticaleSelectie.sort(),e+=this.verticaleSelectie.slice(0,this.verticaleSelectie.length-1).join(", "),this.verticaleSelectie.length>1&&(e+=" & "),e+=this.verticaleSelectie[this.verticaleSelectie.length-1]),e}}});var mi=t(298),pi={insert:"head",singleton:!1};Dt()(mi.Z,pi);mi.Z.locals;const hi=(0,Bn.Z)(gi,[["render",function(e,n,t,s,o,d){const r=(0,a.up)("Icon");return(0,a.wg)(),(0,a.iD)("div",null,[e.finished?((0,a.wg)(),(0,a.iD)("div",Bt,[(0,a._)("div",jt,(0,l.zw)(e.titel),1),St,(0,a._)("div",Mt,(0,l.zw)(Math.round(e.percentageGoed))+"%",1)])):(0,a.kq)("v-if",!0),e.started?e.finished?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",Jt,[(0,a._)("div",Qt,[(0,a._)("div",{class:"correct",style:(0,l.j5)({width:e.percentageGoed+"%"})},null,4),(0,a._)("div",{class:"again",style:(0,l.j5)({width:e.percentageOpnieuw+"%"})},null,4),(0,a._)("div",{class:"wrong",style:(0,l.j5)({width:e.percentageFout+"%"})},null,4)]),e.laatste?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,l.C_)(["laatste",{goed:e.laatsteGoed}])},[(0,a._)("img",{src:"/profiel/pasfoto/"+e.laatste.uid+".jpg",alt:""},null,8,Xt),(0,a._)("div",ei,[(0,a._)("div",ni,[(0,a._)("span",{class:(0,l.C_)({bold:"voornaam"===e.antwoordMethode||"combi"===e.antwoordMethode})},(0,l.zw)(e.laatste.voornaam),3),(0,a._)("span",{class:(0,l.C_)({bold:"achternaam"===e.antwoordMethode||"combi"===e.antwoordMethode||"civi"===e.antwoordMethode})},(0,l.zw)(e.laatste.tussenvoegsel)+" "+(0,l.zw)(e.laatste.achternaam),3),e.laatste.postfix?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,l.C_)({bold:"civi"===e.antwoordMethode})},(0,l.zw)(e.laatste.postfix),3)):(0,a.kq)("v-if",!0)]),(0,a._)("div",ti,[(0,a._)("span",null,(0,l.zw)(e.laatste.lichting),1),e.laatste.verticale&&"Geen"!==e.laatste.verticale?((0,a.wg)(),(0,a.iD)("span",ii,(0,l.zw)(e.laatste.verticale),1)):(0,a.kq)("v-if",!0),(0,a._)("span",null,(0,l.zw)(e.laatste.studie),1)])]),e.laatsteGoed?((0,a.wg)(),(0,a.j4)(r,{key:0,icon:"check"})):((0,a.wg)(),(0,a.j4)(r,{key:1,icon:"xmark"}))],2)):(0,a.kq)("v-if",!0),(0,a._)("div",{class:(0,l.C_)(["pasfotoContainer",{onderkantVerbergen:e.verbergOnderkant}])},[(0,a._)("div",{style:(0,l.j5)({"background-image":"url(/profiel/pasfoto/"+e.huidig.uid+".jpg)"}),class:"pasfoto"},null,4)],2),"voornaam"===e.antwoordMethode?((0,a.wg)(),(0,a.iD)("strong",ai,"Voornaam:")):(0,a.kq)("v-if",!0),"achternaam"===e.antwoordMethode?((0,a.wg)(),(0,a.iD)("strong",li,"Achternaam:")):(0,a.kq)("v-if",!0),"combi"===e.antwoordMethode?((0,a.wg)(),(0,a.iD)("strong",si,"Voor- en achternaam:")):(0,a.kq)("v-if",!0),"civi"===e.antwoordMethode?((0,a.wg)(),(0,a.iD)("strong",oi,"Achternaam en achtervoegsel:")):(0,a.kq)("v-if",!0),(0,a._)("input",{type:"text",class:"form-control",value:e.ingevuld,autofocus:"",onInput:n[7]||(n[7]=n=>e.ingevuld=n.target.value),onKeydown:n[8]||(n[8]=(0,i.D2)(((...n)=>e.controleer&&e.controleer(...n)),["enter"]))},null,40,di)])):((0,a.wg)(),(0,a.iD)("div",Vt,[(0,a._)("div",Ot,[(0,a._)("div",qt,[Lt,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"alleLichtingen","onUpdate:modelValue":n[0]||(n[0]=n=>e.alleLichtingen=n),type:"checkbox"},null,512),[[i.e8,e.alleLichtingen]]),Ut]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.lichtingen,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},[e.alleLichtingen?(0,a.kq)("v-if",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,id:"lichting"+t,"onUpdate:modelValue":n[1]||(n[1]=n=>e.lichtingSelectie=n),type:"checkbox",value:t},null,8,Pt)),[[i.e8,e.lichtingSelectie]]),e.alleLichtingen?((0,a.wg)(),(0,a.iD)("input",{key:1,type:"checkbox",checked:e.alleLichtingen,disabled:""},null,8,Gt)):(0,a.kq)("v-if",!0),(0,a._)("label",{for:"lichting"+t},(0,l.zw)(t),9,It)])))),128))]),(0,a._)("div",Tt,[Zt,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"alleVerticalen","onUpdate:modelValue":n[2]||(n[2]=n=>e.alleVerticalen=n),type:"checkbox"},null,512),[[i.e8,e.alleVerticalen]]),Rt]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.verticalen,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},[e.alleVerticalen?(0,a.kq)("v-if",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,id:"verticale"+t,"onUpdate:modelValue":n[3]||(n[3]=n=>e.verticaleSelectie=n),type:"checkbox",value:t},null,8,Kt)),[[i.e8,e.verticaleSelectie]]),e.alleVerticalen?((0,a.wg)(),(0,a.iD)("input",{key:1,type:"checkbox",checked:e.alleVerticalen,disabled:""},null,8,Ht)):(0,a.kq)("v-if",!0),(0,a._)("label",{for:"verticale"+t},(0,l.zw)(t),9,Ft)])))),128))])]),(0,a._)("div",null,[Wt,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{id:"verbergOnderkant","onUpdate:modelValue":n[4]||(n[4]=n=>e.verbergOnderkant=n),type:"checkbox"},null,512),[[i.e8,e.verbergOnderkant]]),Yt])]),$t,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":n[5]||(n[5]=n=>e.antwoordMethode=n),class:"form-control"},Nt,512),[[i.bM,e.antwoordMethode]]),(0,a._)("a",{href:"#",class:(0,l.C_)(["btn btn-primary btn-block mt-3",{disabled:!e.klaarVoorDeStart}]),onClick:n[6]||(n[6]=(0,i.iM)(((...n)=>e.start&&e.start(...n)),["prevent"]))},"Start met "+(0,l.zw)(e.aantal)+" "+(0,l.zw)(1===e.aantal?"lid":"leden"),3)]))])}],["__scopeId","data-v-41bcf2c9"]]);var vi=t(8633),bi=t(5303);const fi={class:"progress"},ki=(0,a.aZ)({__name:"ProgressBar",props:{progress:null},setup:e=>(n,t)=>((0,a.wg)(),(0,a.iD)("div",fi,[(0,a._)("div",{class:"progress-bar",style:(0,l.j5)({width:e.progress+"%"})},[(0,a.WI)(n.$slots,"default")],4)]))}),wi={key:0,class:"row"},Ai={class:"col-md-4"},_i={class:"col-md-6"},yi={class:"col-md-2"},Di=["innerHTML"],Ci={key:1,class:"row"},xi={class:"col-md-12"},Ei={class:"form-check"},zi=["id","value","disabled","checked"],Bi=["for"],ji=["innerHTML"],Si=(0,a.aZ)({__name:"PeilingOptie",props:{id:null,titel:null,beschrijving:null,stemmen:null,magStemmen:{type:Boolean},aantalGestemd:null,heeftGestemd:{type:Boolean},keuzesOver:{type:Boolean},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e){const n=e,t=(0,Cn.iH)(null),i=(0,Cn.iH)(null),s=(0,a.Fl)((()=>n.magStemmen&&!n.heeftGestemd)),o=(0,a.Fl)((()=>(n.stemmen/n.aantalGestemd*100).toFixed(2))),d=(0,a.Fl)((()=>`${o.value}% (${n.stemmen})`)),r=(0,a.Fl)((()=>!n.modelValue&&!n.keuzesOver));(0,a.YP)(s,(()=>c())),(0,a.bv)((()=>c()));const c=()=>setTimeout((()=>{s.value&&t.value instanceof HTMLElement?(0,bi.S)(t.value):i.value instanceof HTMLElement&&(0,bi.S)(i.value)}));return(n,c)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.kq)(" eslint-disable vue/no-v-html "),(0,Cn.SU)(s)?((0,a.wg)(),(0,a.iD)("div",Ci,[(0,a._)("div",xi,[(0,a._)("div",Ei,[(0,a._)("input",{id:"PeilingOptie"+e.id,type:"checkbox",class:"form-check-input",name:"optie",value:e.id,disabled:(0,Cn.SU)(r),checked:e.modelValue,onChange:c[0]||(c[0]=e=>n.$emit("update:modelValue",e.target.checked))},null,40,zi),(0,a._)("label",{for:"PeilingOptie"+e.id,class:"form-check-label"},(0,l.zw)(e.titel),9,Bi)])]),(0,a._)("div",{ref_key:"beschrijvingRef",ref:t,class:"col-md-12 pt-2",innerHTML:e.beschrijving},null,8,ji)])):((0,a.wg)(),(0,a.iD)("div",wi,[(0,a._)("div",Ai,(0,l.zw)(e.titel),1),(0,a._)("div",_i,[(0,a.Wm)(ki,{progress:(0,Cn.SU)(o)},null,8,["progress"])]),(0,a._)("div",yi,(0,l.zw)((0,Cn.SU)(d)),1),(0,a._)("div",{ref_key:"beschrijvingGestemdRef",ref:i,class:"col text-muted pt-2",innerHTML:e.beschrijving},null,8,Di)]))],2112))}});var Mi=t(9809);const Vi=(0,a.aZ)({__name:"PeilingOptieToevoegen",props:{id:null},setup(e){const n=e,t=(0,Cn.qj)({icon:"plus",text:"Optie toevoegen"}),i=(0,a.Fl)((()=>`/peilingen/opties/${n.id}/toevoegen`)),s=e=>{e.preventDefault(),t.icon="spinner fa-spin",Dn().post(i.value.toString()).then((e=>{(0,Mi.q)(e.data),t.icon="plus"})).catch((()=>{t.icon="ban",t.text="Mag geen optie meer toevoegen"}))};return(e,n)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("a",{onClick:s},[(0,a.Wm)(xn,{icon:t.icon},null,8,["icon"]),(0,a.Uk)(" "+(0,l.zw)(t.text),1)])]))}}),Oi={class:"card peiling"},qi={class:"card-body"},Li=["href"],Ui={class:"totaal"},Pi={class:"card-title"},Gi=["innerHTML"],Ii={key:0},Ti=[(e=>((0,a.dD)("data-v-fcb43970"),e=e(),(0,a.Cn)(),e))((()=>(0,a._)("div",{class:"card-body"},"Bedankt voor het stemmen!",-1)))],Zi={key:1,class:"card-body"},Ri={key:0,class:"pb-2"},Ki={class:"list-group list-group-flush"},Hi={key:0,class:"card-footer footer"},Fi=["disabled"],Wi=(0,a.aZ)({__name:"Peiling",props:{settings:null},setup(e){const n=e,t=(0,Cn.qj)({id:"",titel:"",beschrijving:"",resultaatZichtbaar:!1,aantalVoorstellen:0,aantalStemmen:0,aantalGestemd:0,isMod:!1,heeftGestemd:!1,magStemmen:!1,opties:[],zoekterm:"",huidigePagina:1,paginaSize:10}),s=(0,a.Fl)((()=>`/peilingen/beheer/${t.id}`)),o=(0,a.Fl)((()=>t.opties.filter((e=>e.selected)))),d=(0,a.Fl)((()=>t.opties.filter((e=>e.titel.toLowerCase().includes(t.zoekterm.toLowerCase()))))),r=(0,a.Fl)((()=>{const e=(t.huidigePagina-1)*t.paginaSize,n=e+t.paginaSize;return d.value.slice(e,n)})),c=(0,a.Fl)((()=>t.aantalStemmen-o.value.length>0)),u=(0,a.Fl)((()=>`${o.value.length} van de ${t.aantalStemmen} geselecteerd`)),g=(0,a.Fl)((()=>t.aantalGestemd>0?`(${t.aantalGestemd} stem${t.aantalGestemd>1?"men":""})`:"")),m=(0,a.Fl)((()=>t.opties.length>10)),p=()=>Dn().post(`/peilingen/stem/${t.id}`,{opties:o.value.map((e=>e.id))}).then((()=>{t.heeftGestemd=!0,t.aantalGestemd=t.aantalGestemd+o.value.length,h()})),h=()=>Dn().post(`/peilingen/opties/${t.id}`).then((e=>{t.opties=e.data.data})),v=e=>t.huidigePagina=e;return(0,a.bv)((()=>{t.id=n.settings.id,t.titel=n.settings.titel,t.beschrijving=n.settings.beschrijving,t.resultaatZichtbaar=n.settings.resultaat_zichtbaar,t.aantalVoorstellen=n.settings.aantal_voorstellen,t.aantalStemmen=n.settings.aantal_stemmen,t.aantalGestemd=n.settings.aantal_gestemd,t.isMod=n.settings.is_mod,t.heeftGestemd=n.settings.heeft_gestemd,t.magStemmen=n.settings.mag_stemmen,t.opties=n.settings.opties,document.addEventListener("modalClose",(()=>h()))})),(e,n)=>((0,a.wg)(),(0,a.iD)("div",Oi,[(0,a._)("div",qi,[t.isMod?((0,a.wg)(),(0,a.iD)("a",{key:0,href:(0,Cn.SU)(s),class:"bewerken"},[(0,a.Wm)(xn,{icon:"pencil"})],8,Li)):(0,a.kq)("v-if",!0),(0,a._)("span",Ui,(0,l.zw)((0,Cn.SU)(g)),1),(0,a._)("h3",Pi,(0,l.zw)(t.titel),1),(0,a.kq)(" eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line "),(0,a._)("p",{class:"card-text pt-2",innerHTML:t.beschrijving},null,8,Gi)]),(0,a._)("div",null,[t.heeftGestemd&&!t.resultaatZichtbaar?((0,a.wg)(),(0,a.iD)("div",Ii,Ti)):((0,a.wg)(),(0,a.iD)("div",Zi,[(0,Cn.SU)(m)?((0,a.wg)(),(0,a.iD)("div",Ri,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>t.zoekterm=e),type:"text",placeholder:"Zoeken",class:"form-control"},null,512),[[i.nr,t.zoekterm]])])):(0,a.kq)("v-if",!0),(0,a._)("ul",Ki,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,Cn.SU)(r),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:"list-group-item"},[((0,a.wg)(),(0,a.j4)(Si,{id:e.id,key:e.id,modelValue:e.selected,"onUpdate:modelValue":n=>e.selected=n,titel:e.titel,beschrijving:e.beschrijving_formatted,stemmen:e.stemmen,"mag-stemmen":t.magStemmen,"heeft-gestemd":t.heeftGestemd,"aantal-gestemd":t.aantalGestemd,"keuzes-over":(0,Cn.SU)(c)},null,8,["id","modelValue","onUpdate:modelValue","titel","beschrijving","stemmen","mag-stemmen","heeft-gestemd","aantal-gestemd","keuzes-over"]))])))),128))]),(0,Cn.SU)(d).length>t.paginaSize?((0,a.wg)(),(0,a.j4)((0,Cn.SU)(vi.Z),{key:1,modelValue:t.huidigePagina,"onUpdate:modelValue":n[1]||(n[1]=e=>t.huidigePagina=e),"page-count":Math.ceil((0,Cn.SU)(d).length/t.paginaSize),"prev-text":"Vorige","next-text":"Volgende","click-handler":v,size:"md",align:"center",limit:15,"total-rows":(0,Cn.SU)(d).length,"per-page":t.paginaSize},null,8,["modelValue","page-count","total-rows","per-page"])):(0,a.kq)("v-if",!0)]))]),!t.heeftGestemd&&t.magStemmen?((0,a.wg)(),(0,a.iD)("div",Hi,[(0,a._)("div",null,(0,l.zw)((0,Cn.SU)(u)),1),t.aantalVoorstellen>0?((0,a.wg)(),(0,a.j4)(Vi,{key:0,id:t.id},null,8,["id"])):(0,a.kq)("v-if",!0),(0,a._)("input",{type:"button",class:"btn btn-primary",value:"Stem",disabled:0===(0,Cn.SU)(o).length,onClick:p},null,8,Fi)])):(0,a.kq)("v-if",!0)]))}});var Yi=t(6351),$i={insert:"head",singleton:!1};Dt()(Yi.Z,$i);Yi.Z.locals;const Ni=(0,Bn.Z)(Wi,[["__scopeId","data-v-fcb43970"]]);var Ji=t(9633),Qi=t.n(Ji);const Xi={peiling:Ni,groep:Et,namenleren:hi,declaratie:jn},ea=e=>Xi[e],na=(e,n)=>{const t=(0,i.ri)(e,n);return t.directive("input-mask",{beforeMount:function(e){(new(Qi())).mask(e)}}),t.use(En.ZP),t}},7663:(e,n,t)=>{e.exports=t.p+"images/7708997ef1f5564db44e.gif"}}]);
//# sourceMappingURL=2806.d34cd876702e74f6dff4.bundle.js.map