(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{176:function(e,t,n){"use strict";n.r(t),n.d(t,"initBbPreviewBtn",(function(){return d})),n.d(t,"initBbPreview",(function(){return b})),n.d(t,"CsrBBPreviewEl",(function(){return u})),n.d(t,"loadBbImage",(function(){return p})),n.d(t,"activeerLidHints",(function(){return g}));var r=n(12),i=n.n(r),o=n(0),a=n.n(o),s=n(258),l=n(13),c=n(3);const d=e=>{const t=e.dataset.bbpreviewBtn;if(!t)throw new Error("Geen previewId gevonden");const n=document.querySelector("#"+t),r=document.querySelector("#preview_"+t);if(!n||!r)throw new Error("Bbpreview van niet bestaande elementen");e.addEventListener("click",()=>u(n,r))},b=e=>{const t=e.dataset.bbpreview;if(!t)throw new Error("Geen previewId gevonden");const n=document.querySelector("#preview_"+t);if(!n)throw new Error("Geen target gevonden voor bbpreview");e.addEventListener("keyup",t=>{"Enter"===t.key&&u(e,n)})},u=(e,t,n={})=>{const r=e.value;if(""===r.trim())return t.innerHTML="",void(t.style.display="none");i.a.post("/tools/bbcode",Object.assign({data:encodeURIComponent(r)},n)).then(e=>{t.innerHTML=e.data,Object(l.b)(t),t.style.display="block"}).catch(e=>{alert(e)})},p=e=>{const t=c.h`<img
													class="bb-img"
													alt="${e.getAttribute("title")}"
													style="${e.getAttribute("style")}"
													src="${e.getAttribute("src")}"/>`;t.onerror=()=>{e.setAttribute("title","Afbeelding bestaat niet of is niet toegankelijk!"),e.setAttribute("src","/plaetjes/famfamafm/picture_error.png"),e.style.width="16px",e.style.height="16px",e.classList.replace("bb-img-loading","bb-img")};const n=e.getAttribute("src");if(!n)throw new Error("Bb image heeft geen src");Object(c.p)(n,()=>{var r,i;const o=n.indexOf("/plaetjes/fotoalbum/")>=0,s=null===(i=null===(r=e.parentElement)||void 0===r?void 0:r.parentElement)||void 0===i?void 0:i.classList.contains("bb-video-preview"),l=0!==a()(e).closest("a").length,d=e.parentElement;if(!d)throw new Error("BBimage heeft geen parent.");if(o||s||l)d.replaceChild(t,e);else{const n=null==e.getAttribute("bb-href")?e.getAttribute("src"):e.getAttribute("bb-href"),r=c.h`<a class="lightbox-link" href="${n}" data-lightbox="page-lightbox"></a>`;r.appendChild(t),d.replaceChild(r,e)}})};function g(e){const t=new s.Textarea(e),n=new s.Textcomplete(t);n.register([{match:/(^|\s|])@((?:[^ ]+ ?){1,5})$/,replace:e=>"$1[lid="+e.label+"]",search:w,template:v},{index:3,match:/(^|\s|])\[(citaat|lid)=(?:[0-9]{4}|([^\]]+))$/,search:w,template:v,replace:e=>"$1[$2="+e.label}]),n.on("rendered",()=>{n.dropdown.items.length>=1&&n.dropdown.items[0].activate()})}function w(e,t){e&&1!==e.length?a.a.ajax("/tools/naamsuggesties?vorm=user&zoekin=voorkeur&q="+encodeURI(e)).done(e=>{t(e)}).fail(()=>{t([])}):t([])}function v(e){return e.value}}}]);
//# sourceMappingURL=bbcode.d81b1110bd5a2ff2fd2a.chunk.js.map