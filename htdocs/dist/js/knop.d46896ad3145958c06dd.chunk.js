(window.webpackJsonp=window.webpackJsonp||[]).push([[40,15],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),o=n(11),s=n(19),i=n(4);function l(e){if("string"!=typeof e)return;"<!DOCTYPE"===(e=r.a.trim(e)).substring(0,9)&&(alert("response error"),document.write(e));const t=Object(i.i)(e);r()(t).each((function(e,t){if(!(t instanceof Element))return;const n=r()(t),a=r()(t).attr("id"),i=r()(t).attr("parentid"),l=r()("#"+a),c=r()("#"+i);if(1===l.length)n.hasClass("remove")?l.effect("fade",{},400,()=>{l.remove()}):l.replaceWith(n.show().get()).effect("highlight");else if(1===c.length)c.append(n.show());else if(t instanceof HTMLScriptElement)r()("head").append(n);else{const e=r()(this).attr("parentid");e?r()(this).prependTo("#"+e).show().effect("highlight"):r()(this).prependTo("#maalcie-tabel tbody:visible:first").show().effect("highlight")}Object(o.b)(t),"modal"===a?Object(s.b)():Object(s.a)()}))}},171:function(e,t,n){"use strict";n.r(t),n.d(t,"knopPost",(function(){return f})),n.d(t,"knopGet",(function(){return p})),n.d(t,"knopVergroot",(function(){return g}));var a=n(0),r=n.n(a),o=n(23),s=n(20),i=n(12),l=n(34),c=n(19),d=n(51);function u(e,t){if(e.hasClass("confirm")&&!confirm(e.attr("title")+".\n\nWeet u het zeker?"))return Object(c.a)(),!1;let n=e,a=i.a,r=e.attr("data");if(e.hasClass("popup")&&(n=!1),e.hasClass("prompt")){if(!r)throw new Error("Prompt knop heeft geen data");const[e,t]=r.split("="),n=prompt(e,t);if(!n)return!1;r=encodeURIComponent(r[0])+"="+encodeURIComponent(n)}if(e.hasClass("addfav")&&(r={tekst:document.title.replace("C.S.R. Delft - ",""),link:window.location.href}),e.hasClass("DataTableRowKnop")){const t=e.parents("table").attr("id");r={DataTableId:t,DataTableSelection:e.parents("tr").attr("data-uuid")},a=e=>{Object(o.isDataTableResponse)(e)?(Object(o.fnUpdateDataTable)("#"+t,e),e&&e.modal?Object(i.a)(e.modal):Object(c.a)()):"string"==typeof e&&Object(i.a)(e)}}if(e.hasClass("DataTableResponse")){let t=e.attr("data-tableid");if(!(t&&document.getElementById(t)||(t=e.closest("form").attr("data-tableid"),t&&document.getElementById(t))))throw alert("DataTable not found"),new Error("DataTable not found");r={DataTableId:t,"DataTableSelection[]":Object(o.fnGetSelection)("#"+t)},a=e=>{if(Object(o.isDataTableResponse)(e))Object(o.fnUpdateDataTable)("#"+t,e),e.modal?Object(i.a)(e.modal):Object(c.a)();else{if("string"!=typeof e)throw new Error("Niets met deze response: "+e);Object(i.a)(e)}},e.hasClass("SingleRow")||(n=!1)}e.hasClass("ReloadPage")?a=d.b:e.hasClass("redirect")&&(a=d.a);const l=e.attr("href");if(!l)throw new Error("Knop heeft geen href");Object(s.a)(t,l,r,n,a,alert)}function f(e){e.preventDefault();const t=e.target;return r()(t).hasClass("range")?("INPUT"===t.tagName.toUpperCase()?Object(l.d)(e):Object(l.f)(e),!1):(u(r()(this),"POST"),!1)}function p(e){return e.preventDefault(),u(r()(this),"GET"),!1}function g(e,t){const n=t;if(!(n instanceof HTMLElement))throw new Error("Knop vergroot klik heeft geen target");const{vergroot:a,vergrootOud:o}=n.dataset;if(!a)throw new Error("Knop vergroot heeft geen data-vergroot");const s=n.querySelector("span.fa");if(!s)throw new Error("knopVergroot heeft geen icon");o?(r()(a).animate({height:o},600),delete n.dataset.vergrootOud,s.classList.replace("fa-compress","fa-expand"),n.title="Uitklappen"):(n.title="Inklappen",s.classList.replace("fa-expand","fa-compress"),n.dataset.vergrootOud=String(r()(a).height()),r()(a).animate({height:r()(a).prop("scrollHeight")+1},600))}},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a);function o(e=""){const t=r()("#modal"),n=r()(".modal-backdrop");return(""!==t.html()||""!==e)&&(n.length&&n.remove(),""!==e&&(t.replaceWith(e),t.find("input:visible:first").trigger("focus")),t.modal("show"),r()(document.body).trigger("modalOpen"),!0)}function s(){r()("#modal").modal("hide"),r()(document.body).trigger("modalClose")}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(0),r=n.n(a),o=n(19);function s(e,t,n,a,s,i,l){a&&(a.hasClass("noanim")?a.hasClass("InlineForm")?r()(a).find(".FormElement:first").css({"background-image":'url("/images/loading-fb.gif")',"background-position":"center right","background-repeat":"no-repeat"}):a.addClass("loading"):(r()(a).replaceWith(`<img alt="Laden" id="${a.attr("id")}" title="${t}" src="/images/loading-arrows.gif" />`),a=r()(`img[title="${t}"]`)));let c="application/x-www-form-urlencoded; charset=UTF-8",d=!0;n instanceof FormData&&(c=!1,d=!1),r.a.ajax({cache:!1,contentType:c,data:n,processData:d,type:e,url:t}).done(e=>{a&&(r()(a).hasClass("noanim")?r()(a).hasClass("InlineForm")&&r()(a).find(".FormElement:first").css({"background-image":"","background-position":"","background-repeat":""}):r()(a).hide(),a.removeClass("loading")),s(e)}).fail((e,t,n)=>{""===n&&(n="Nog bezig met laden!"),a?r()(a).replaceWith('<img alt="Mislukt" title="'+n+'" src="/plaetjes/famfamfam/cancel.png" />'):Object(o.a)(),i&&(e.responseText.startsWith("<!DOC")&&i("Er ging iets fout, code is: "+e.status),i(e.responseText))}).always(()=>{l&&l()})}function i(e,t){return r()(t+" .aanmeldbtn").addClass("loading"),r.a.ajax({cache:!1,data:"",type:"GET",url:e}).done(e=>{r()(t).replaceWith(e)}).fail((e,n,a)=>{r()(t+" .aanmeldbtn").replaceWith(r()(`<div class="alert alert-danger"><strong>Actie mislukt!</strong> ${a}</div>`)),alert(e.responseText)}),!0}},23:function(e,t,n){"use strict";n.r(t),n.d(t,"isDataTableResponse",(function(){return l})),n.d(t,"initDataTable",(function(){return c})),n.d(t,"initOfflineDataTable",(function(){return d})),n.d(t,"fnUpdateDataTable",(function(){return u})),n.d(t,"fnGetSelection",(function(){return f})),n.d(t,"getApiFromSettings",(function(){return p})),n.d(t,"fnGetLastUpdate",(function(){return g})),n.d(t,"fnSetLastUpdate",(function(){return h})),n.d(t,"fnAjaxUpdateCallback",(function(){return m})),n.d(t,"replacePlaceholders",(function(){return b}));var a=n(0),r=n.n(a),o=n(11),s=n(4),i=n(76);function l(e){return"lastUpdate"in e&&"autoUpdate"in e&&"data"in e}async function c(e){await Promise.all([n.e(4),n.e(11)]).then(n.bind(null,88));const t=r()(e),a=t.data("settings"),s=t.data("search");a.ajax&&(a.ajax.data.lastUpdate=g(t),a.ajax.dataSrc=m(t)),a.columns.forEach(e=>e.render=i.a[e.render]);const l=t.DataTable(a);t.dataTable().api().search(s),l.on("page",()=>l.rows({selected:!0}).deselect()),l.on("childRow.dt",(e,t)=>Object(o.b)(t.container.get(0)))}async function d(e){await Promise.all([n.e(4),n.e(11)]).then(n.bind(null,88)),r()(e).DataTable(Object(s.l)(e))}function u(e,t){const n=r()(e).DataTable();t.data.forEach(e=>{const t=r()('tr[data-uuid="'+e.UUID+'"]');1===t.length?"remove"in e?n.row(t).remove():(n.row(t).data(e),Object(o.b)(t.get(0))):0===t.length?n.row.add(e):alert(t.length)}),n.draw(!1)}function f(e){const t=[];return r()(e+" tbody tr.selected").each((function(){const e=r()(this).attr("data-uuid");if(!e)throw new Error("Tablerow heeft geen uuid");t.push(e)})),t}function p(e){return new r.a.fn.dataTable.Api(e)}const g=e=>()=>Number(e.data("lastupdate")),h=e=>t=>e.data("lastupdate",t),m=e=>t=>{h(e)(t.lastUpdate);const n=e.DataTable();if(t.autoUpdate){const a=parseInt(t.autoUpdate,10);!isNaN(a)&&a<6e5&&setTimeout(()=>{r.a.post(n.ajax.url(),{lastUpdate:g(e)},t=>{const n=e.attr("id");if(!n)throw new Error("Table heeft geen id");u(n,t),m(e)(t)})},a)}return function(e){const t=e.parent();if(t.hasClass("dataTables_scrollBody")){const e=t.scrollTop(),n=t.innerHeight();if(!e||!n)throw new Error("$scroll heeft geen top of height");e+n>=t[0].scrollHeight-20&&window.setTimeout(()=>{t.animate({scrollTop:t[0].scrollHeight},800)},200)}}(e),t.data};function b(e,t){const n=/:(\w+)/g.exec(e);if(!n)return e;for(let a=1;a<n.length;a++)e=e.replace(":"+n[a],t[n[a]]);return e}},34:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return w}));var a=n(0),r=n.n(a),o=n(44),s=n(20),i=n(12);function l(e){let t=e.target;if("IMG"===t.tagName.toUpperCase()&&(t=t.parentElement),r()(t).find("input").prop("checked",!0),r()(t).hasClass("confirm")&&!confirm(r()(t).attr("title")+".\n\nWeet u het zeker?"))return!1;r()('input[name="'+r()(t).find("input:first").attr("name")+'"]:visible').each((function(){if(r()(this).prop("checked")){const e=r()(t).parent().attr("href"),n=r()(t).parent().attr("post");if(!e||!n)throw new Error("Element heeft geen href of post");Object(s.a)("POST",e,n,r()(t).parent(),i.a,alert)}}))}function c(){const e=r()("#suggesties-tabel");e.find("tr:visible:odd").css("background-color","#FAFAFA"),e.find("tr:visible:even").css("background-color","#EBEBEB")}function d(e,t){r()("#suggesties-tabel ."+e).each((function(){let n=0;void 0!==t?t?r()(this).removeClass(e+"verborgen"):r()(this).addClass(e+"verborgen"):r()(this).toggleClass(e+"verborgen"),r()(this).hasClass("geenvoorkeurverborgen")&&n++,r()(this).hasClass("recentverborgen")&&n++,r()(this).hasClass("jongsteverborgen")&&n++,r()(this).hasClass("oudereverborgen")&&n++,n>0?r()(this).hide():r()(this).show()})),c()}function u(e,t){"taak-datum-head-"+e===r()("#maalcie-tabel tr:visible").eq(t).attr("id")&&r()("#taak-datum-head-first").toggleClass("verborgen")}function f(){r()("tr.taak-datum-summary:visible:odd th").css("background-color","#FAFAFA"),r()("tr.taak-datum-summary:visible:even th").css("background-color","#f5f5f5")}function p(e){u(e,0),r()(".taak-datum-"+e).toggleClass("verborgen"),u(e,1),f()}function g(){r()("#taak-datum-head-first").removeClass("verborgen"),r()("tr.taak-datum-oud").removeClass("verborgen"),f()}function h(e){let t=e.target;"IMG"===t.tagName.toUpperCase()&&(t=t.parentElement);const n=o.a.el;n&&n.attr("id")!==t.id&&e.preventDefault()}function m(e){e.preventDefault();let t=e.target;"IMG"===t.tagName.toUpperCase()&&(t=t.parentElement);const n=o.a.el;if(!n||!confirm("Toegekende corveepunten worden meegeruild!\n\nDoorgaan met ruilen?"))return;let a=n.attr("uid");a||(a="");const l=t.getAttribute("href");if(!l)throw new Error("Element heeft geen href");Object(s.a)("POST",l,"uid="+a,r()(t),i.a,alert),a=r()(t).attr("uid"),a||(a=""),Object(s.a)("POST",l,"uid="+a,n,i.a,alert)}let b;function w(e){const t=e.target;if(!t)throw new Error("Er is geen target");let n=!1;r()("#maalcie-tabel").find('tbody tr td a input[name="'+r()(t).attr("name")+'"]:visible').each((function(){const t=r()(this).attr("id");if(t===b&&(n=!n),t===e.target.id){n=!n;const e=r()(this).prop("checked");setTimeout(()=>{r()("#"+t).prop("checked",e)},50)}else e.shiftKey&&n&&r()(this).prop("checked",!0)})),b=e.target.id}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a);const o={el:void 0};r()(()=>{let e,t,n;function a(){return document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft}function s(){return document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}function i(e){return e.pageX?e.pageX:e.clientX?e.clientX+a():0}function l(e){return e.pageY?e.pageY:e.clientY?e.clientY+s():0}function c(r){if(!o.el)return;const c=o.el,d=i(r=r||window.event),u=l(r);e=c.hasClass("savepos");const f=c.scrollTop()||0,p=c.scrollLeft()||0;if(c.hasClass("dragvertical"))c.scrollTop(f+n-u);else if(c.hasClass("draghorizontal"))c.scrollLeft(p+t-d);else{const e=c.offset()||{left:0,top:0};c.css({left:e.left-a()+d-t+"px",top:e.top-s()+u-n+"px"})}t=d,n=u}window.addEventListener("mousedown",(function(a){const s=(a=a||window.event).target;if(s instanceof Element){const e=s.tagName.toUpperCase(),d=r()(s).css("overflow");if("DIV"!==e&&"H1"!==e||"auto"===d||"scroll"===d)return;o.el=r()(s),void 0!==o.el&&o.el.hasClass("dragobject")||(o.el=r()(s).closest(".dragobject")),void 0!==o.el?(t=i(a),n=l(a),window.addEventListener("mousemove",c,!0)):o.el=void 0}e=!1}),!1),window.addEventListener("mouseup",(function(){if(o.el){if(window.removeEventListener("mousemove",c,!0),e){const t=o.el;let n,i;if(t.hasClass("dragvertical")||t.hasClass("draghorizontal"))n=t.scrollTop(),i=t.scrollLeft();else{const e=t.offset()||{top:0,left:0};n=e.top-s(),i=e.left-a()}r.a.post("/tools/dragobject",{coords:{left:i,top:n},id:t.attr("id")}),e=!1}o.el=void 0}}),!1)})},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(12);function r(e){"string"!=typeof e||'<div id="modal" '!==e.substring(0,16)?location.reload():Object(a.a)(e)}function o(e){'<div id="modal" '!==e.substring(0,16)?window.location.href=e:Object(a.a)(e)}},76:function(e,t,n){"use strict";var a=n(28),r=n.n(a),o=n(4),s=n(23);t.a={default(e,t){if(null===e||"object"!=typeof e)return e;switch(t){case"sort":return e.sort;case"export":return e.export;default:return e.display}},bedrag:e=>Object(o.e)(e),check:e=>'<span class="ico '+(e?"tick":"cross")+'"></span>',aanmeldFilter:e=>e?`<span class="ico group_key" title="Aanmeld filter actief: '${e}'"></span>`:"",aanmeldingen:(e,t,n)=>n.aantal_aanmeldingen+" ("+n.aanmeld_limiet+")",totaalPrijs:(e,t,n)=>Object(o.e)(n.aantal_aanmeldingen*parseInt(n.prijs,10)),datetime:e=>Number(e)==e?r()(1e3*e).format("YYYY-MM-DD HH:mm"):e?"<time"===e.substr(0,5)?e:r()(e).format("YYYY-MM-DD HH:mm"):"",timeago(e,t,n,a){const r=Object(s.getApiFromSettings)(a.settings).cell(a.row,a.col).node().firstChild;switch(t){case"sort":case"export":return r.dateTime;default:return e}},filesize(e,t){switch(t){case"sort":return Number(e);default:return Object(o.f)(e)}}}},90:function(e,t,n){var a={"./nl":75,"./nl.js":75};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=90}}]);
//# sourceMappingURL=knop.d46896ad3145958c06dd.chunk.js.map