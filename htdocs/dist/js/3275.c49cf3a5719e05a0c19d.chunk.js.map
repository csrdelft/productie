{"version":3,"file":"js/3275.c49cf3a5719e05a0c19d.chunk.js","mappings":"2LAMA,IACI,MAAMA,GAAW,QAAO,yBAClBC,GAAU,QAAO,iBAEvB,IAAIC,GAAW,EAEfC,aAAYC,UACR,MAAMC,EAAYL,EAASM,QAAUN,EAASO,aAAa,aAC3D,GAAIF,GAAaH,EACb,IACI,MAAM,KAAEM,SAAe,SAAWP,EAAQQ,QAAQC,IAAK,CACnDC,KAAMN,KAEV,OAAUG,GACVN,EAAWG,EAEf,MAAOO,GAEHC,OAAOC,SAASC,YAGzB,KASP,MAAOH,IAIP,IAAKC,OAAOC,SAASE,MAC0B,oBAA3CH,OAAOC,SAASG,SAASC,OAAO,EAAG,IAA2B,CAC9D,MAAMC,EAAYC,SAASP,OAAOC,SAASG,SAASC,OAAO,IAAK,IAChEL,OAAOC,SAASE,KAAO,IAAMG,EAEjC,IAAE,gBAAgBE,GAAG,WAAW,IAAM,IAAE,kBAAkBC,UAAU,OACpE,IAAE,kBAAkBD,GAAG,SAAS,WAC5B,IAAEE,MAAMC,SAASC,KAAK,iBAAiBC,YAAY,iBAEvD,QAAU,WAAWC,SAASC,IAC1B,MAAMC,GAAkB,QAAU,iBAAkBD,GACpD,IAAYA,GAAQ,IAAMC,EAAgBF,SAASG,GAAQA,EAAGC,MAAMC,QAAU,QAAO,IAAMH,EAAgBF,SAASG,GAAQA,EAAGC,MAAMC,QAAU,WAEnJC,YAAW7B,gBACD,QAAiB,uBACvB,YACD,KACH,IAAK,MAAM8B,KAAc,QAAU,aAC/BA,EAAWC,iBAAiB,SAAS,KAAM,QAAaD,EAAWzB,QAAQ2B,WAE/E,MAAMC,GAAqB,QAAU,sBAErC,IAAK,MAAMC,KAAUD,EAAoB,CACrC,MAAME,EAAcD,EAAO7B,QAAQ8B,YAC7BC,EAAMC,UACZH,EAAOH,iBAAiB,SAAS/B,UAC7B,IACI,GAAI,UAAWoC,QACLC,UAAUC,MAAM,CAClBC,MAAO,qBACPjC,IAAK6B,QAGR,MAAI,cAAeC,GAKpB,MAAM,IAAII,MAAM,oCAJVH,UAAUI,UAAUC,UAAUP,GACpCQ,MAAM,kDAMd,MAAOC,GACHC,QAAQC,MAAMF,EAAIG,aAI9B,MAAMC,GAAiB,QAAU,kBAC3BC,GAAmB,QAAU,oBAEnC,IAAK,MAAMf,KAAUc,EAAgB,CACjC,MAAME,EAAUhB,EAAO7B,QAAQ6C,QACzBd,EAAMC,UACZH,EAAOH,iBAAiB,SAAS/B,UAC7B6C,QAAQM,IAAI,MAAOD,GACnB,IACI,GAAgB,OAAZA,QACMxC,SAAS0C,OAAO,mDAErB,GAAI,UAAWhB,QACVC,UAAUC,MAAM,CAClBC,MAAO,8BACPjC,IAAK4C,QAGR,MAAI,cAAed,GAKpB,MAAM,IAAII,MAAM,gCAJVH,UAAUI,UAAUC,UAAUQ,GACpCP,MAAM,mDAMd,MAAOC,GACHC,QAAQC,MAAMF,EAAIG,aAK9B,IAAK,MAAMb,KAAUe,EAAkB,CACnC,MAAMI,EAAYnB,EAAO7B,QAAQgD,UAC3BjB,EAAMC,UACZH,EAAOH,iBAAiB,SAAS/B,UAC7B6C,QAAQM,IAAI,QAASE,GACrB,IACI,GAAI,UAAWjB,QACLC,UAAUC,MAAM,CAClBC,MAAO,qBACPjC,IAAK+C,QAGR,MAAI,cAAejB,GAKpB,MAAM,IAAII,MAAM,kCAJVH,UAAUI,UAAUC,UAAUW,GACpCV,MAAM,gDAMd,MAAOC,GACHC,QAAQC,MAAMF,EAAIG,e,SCzI9BO,EAAOC,QAAU,SAAS7B,EAAI8B,EAAQC,GACpC,IAAIC,EAAGC,EAAGC,EAAIC,EACVC,GAAY,EACZC,GAAU,EACVC,EAAI,GACNC,EAAQ,EACRC,EAAQ,EAENC,EAAU,CACZC,YAAa,EACbC,SAAU,IACVC,QAAS,EACTC,aAAa,GASf,SAASC,EAAQhE,GACfkD,EAAIlD,EAAEiE,QACNd,EAAInD,EAAEkE,QAGR,SAASC,EAAQjD,EAAIlB,GAEnB,GADI0D,IAAOA,EAAQU,aAAaV,IAC3BW,KAAKC,IAAIlB,EAAKF,GAAKmB,KAAKC,IAAIjB,EAAKF,GAAMQ,EAAQC,YAElD,OADAH,EAAQ,EACDF,OAAUgB,EAAYvB,EAAOwB,KAAKtD,EAAIlB,GAE7CoD,EAAKF,EACLG,EAAKF,EACLO,EAAQrC,YAAW,WACjB8C,EAAQjD,EAAIlB,KACX2D,EAAQE,UAcf,SAASY,EAAazE,GAgBpB,OAfAsD,GAAY,EACRI,IAAOA,EAAQU,aAAaV,IAChCxC,EAAGwD,oBAAoB,YAAaV,GAAS,GAE/B,IAAVP,IACFL,EAAKpD,EAAEiE,QACPZ,EAAKrD,EAAEkE,QAEPhD,EAAGK,iBAAiB,YAAayC,GAAS,GAE1CN,EAAQrC,YAAW,WACjB8C,EAAQjD,EAAIlB,KACX2D,EAAQE,WAGNlD,KAGT,SAASgE,EAAY3E,GAWnB,OAVAsD,GAAY,EACRI,IAAOA,EAAQU,aAAaV,IAChCxC,EAAGwD,oBAAoB,YAAaV,GAAS,GAE/B,IAAVP,IACFC,EAAQrC,YAAW,YA5DvB,SAAeH,EAAIlB,GACb0D,IAAOA,EAAQU,aAAaV,IAChCD,EAAQ,EACDF,GAAsBN,EAAMuB,KAAKtD,EAAIlB,GA0DxC4E,CAAM1D,EAAIlB,KACT2D,EAAQG,UAGNnD,KAGT,SAASkE,EAAc7E,GAChBsD,IACHC,GAAU,EACVP,EAAOwB,KAAKtD,EAAIlB,IAIpB,SAAS8E,EAAa9E,IACfsD,GAAaC,IAChBA,GAAU,EACVN,EAAMuB,KAAKtD,EAAIlB,IASnB,SAAS+E,IACP7D,EAAGwD,oBAAoB,QAASG,GAAe,GAC/C3D,EAAGwD,oBAAoB,OAAQI,GAAc,GAe/C,OA9EAtB,EAAEG,QAAU,SAASqB,GACnB,IAAIC,EAAqBD,EAAIjB,cAAgBJ,EAAQI,YAKrD,OAJAJ,EAAUuB,OAAOtC,OAAO,GAAIe,EAASqB,GACjCC,IACFtB,EAAQI,aAqDV7C,EAAGK,iBAAiB,QAASsD,GAAe,GAC5C3D,EAAGK,iBAAiB,OAAQuD,GAAc,IAtDLC,KAE9BvB,GA4DTA,EAAE2B,OAAS,WACJjE,IACLA,EAAGwD,oBAAoB,YAAaD,GAAc,GAClDvD,EAAGwD,oBAAoB,WAAYC,GAAa,GAChDI,MAGE7D,IACFA,EAAGK,iBAAiB,YAAakD,GAAc,GAC/CvD,EAAGK,iBAAiB,WAAYoD,GAAa,IAGxCnB","sources":["webpack:///./js/page/forum.ts","webpack:///../.yarn/cache/hoverintent-npm-2.2.1-3558b88d2d-50c776b5cc.zip/node_modules/hoverintent/index.js"],"sourcesContent":["import $ from 'jquery';\nimport axios from 'axios';\nimport { domUpdate } from '../lib/domUpdate';\nimport { forumCiteren, laadForumDraden, slaOpForumDraden } from '../lib/forum';\nimport hoverintent from 'hoverintent';\nimport { select, selectAll } from '../lib/dom';\ntry {\n    const textarea = select('textarea#forumBericht');\n    const concept = select('#forumConcept');\n    // The last value that we pinged\n    let lastPing = false;\n    /*var ping = */\n    setInterval(async () => {\n        const pingValue = textarea.value !== textarea.getAttribute('origvalue');\n        if (pingValue || lastPing) {\n            try {\n                const { data } = await axios.post(concept.dataset.url, {\n                    ping: pingValue,\n                });\n                domUpdate(data);\n                lastPing = pingValue;\n            }\n            catch (e) {\n                // Herlaad de pagina als dit niet lukt\n                window.location.reload();\n            }\n        }\n    }, 60000);\n    /*var autosave;\n     $textarea.focusin(function () {\n     autosave = setInterval(saveConceptForumBericht, 3000);\n     });\n     $textarea.focusout(function () {\n     clearInterval(autosave);\n     });*/\n}\ncatch (e) {\n    // Geen edit veld hier\n}\n// naar juiste forumreactie scrollen door hash toe te voegen\nif (!window.location.hash &&\n    window.location.pathname.substr(0, 15) === '/forum/reactie/') {\n    const reactieid = parseInt(window.location.pathname.substr(15), 10);\n    window.location.hash = '#' + reactieid;\n}\n$('#nieuweTitel').on('focusin', () => $('#draad-melding').slideDown(200));\n$('.togglePasfoto').on('click', function () {\n    $(this).parent().find('.forumpasfoto').toggleClass('verborgen');\n});\nselectAll('.auteur').forEach((auteur) => {\n    const forummodKnoppen = selectAll('a.forummodknop', auteur);\n    hoverintent(auteur, () => forummodKnoppen.forEach((el) => (el.style.opacity = '1')), () => forummodKnoppen.forEach((el) => (el.style.opacity = '0')));\n});\nsetTimeout(async () => {\n    await slaOpForumDraden('section.forum-deel');\n    laadForumDraden();\n}, 1000);\nfor (const citeerKnop of selectAll('a.citeren')) {\n    citeerKnop.addEventListener('click', () => forumCiteren(citeerKnop.dataset.citeren));\n}\nconst berichtLinkButtons = selectAll('.berichtLinkButton');\n// Event listener om forum feed te delen\nfor (const button of berichtLinkButtons) {\n    const berichtLink = button.dataset.berichtLink;\n    const nav = navigator;\n    button.addEventListener('click', async () => {\n        try {\n            if ('share' in nav) {\n                await navigator.share({\n                    title: 'C.S.R. Delft Forum',\n                    url: berichtLink,\n                });\n            }\n            else if ('clipboard' in nav) {\n                await navigator.clipboard.writeText(berichtLink);\n                alert('Bericht link is gekopieerd naar het clipboard'); // TODO: kan eleganter\n            }\n            else {\n                throw new Error('Kan niets met bericht link');\n            }\n        }\n        catch (err) {\n            console.error(err.message);\n        }\n    });\n}\nconst rssFeedButtons = selectAll('.rssFeedButton');\nconst forumLinkButtons = selectAll('.forumLinkButton');\n// Event listener om RSS feed te delen\nfor (const button of rssFeedButtons) {\n    const rssLink = button.dataset.rssLink;\n    const nav = navigator;\n    button.addEventListener('click', async () => {\n        console.log('rss', rssLink);\n        try {\n            if (rssLink === null) {\n                await location.assign('/profiel/{{ app.user.uid }}#tokenaanvragen');\n            }\n            else if ('share' in nav) {\n                await navigator.share({\n                    title: 'C.S.R. Delft Forum RSS feed',\n                    url: rssLink,\n                });\n            }\n            else if ('clipboard' in nav) {\n                await navigator.clipboard.writeText(rssLink);\n                alert('RSS feed link is gekopieerd naar het clipboard'); // TODO: kan eleganter\n            }\n            else {\n                throw new Error('Kan niets met RSS feed');\n            }\n        }\n        catch (err) {\n            console.error(err.message);\n        }\n    });\n}\n// Event listener om forum feed te delen\nfor (const button of forumLinkButtons) {\n    const forumLink = button.dataset.forumLink;\n    const nav = navigator;\n    button.addEventListener('click', async () => {\n        console.log('forum', forumLink);\n        try {\n            if ('share' in nav) {\n                await navigator.share({\n                    title: 'C.S.R. Delft Forum',\n                    url: forumLink,\n                });\n            }\n            else if ('clipboard' in nav) {\n                await navigator.clipboard.writeText(forumLink);\n                alert('Forum link is gekopieerd naar het clipboard'); // TODO: kan eleganter\n            }\n            else {\n                throw new Error('Kan niets met forum link');\n            }\n        }\n        catch (err) {\n            console.error(err.message);\n        }\n    });\n}\n","'use strict';\n\nmodule.exports = function(el, onOver, onOut) {\n  var x, y, pX, pY;\n  var mouseOver = false;\n  var focused = false;\n  var h = {},\n    state = 0,\n    timer = 0;\n\n  var options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0,\n    handleFocus: false\n  };\n\n  function delay(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    state = 0;\n    return focused ? undefined : onOut.call(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return focused ? undefined : onOver.call(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    var focusOptionChanged = opt.handleFocus !== options.handleFocus;\n    options = Object.assign({}, options, opt);\n    if (focusOptionChanged) {\n      options.handleFocus ? addFocus() : removeFocus();\n    }\n    return h;\n  };\n\n  function dispatchOver(e) {\n    mouseOver = true;\n    if (timer) timer = clearTimeout(timer);\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  function dispatchOut(e) {\n    mouseOver = false;\n    if (timer) timer = clearTimeout(timer);\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  function dispatchFocus(e) {\n    if (!mouseOver) {\n      focused = true;\n      onOver.call(el, e);\n    }\n  }\n\n  function dispatchBlur(e) {\n    if (!mouseOver && focused) {\n      focused = false;\n      onOut.call(el, e);\n    }\n  }\n\n  function addFocus() {\n    el.addEventListener('focus', dispatchFocus, false);\n    el.addEventListener('blur', dispatchBlur, false);\n  }\n\n  function removeFocus() {\n    el.removeEventListener('focus', dispatchFocus, false);\n    el.removeEventListener('blur', dispatchBlur, false);\n  }\n\n  h.remove = function() {\n    if (!el) return;\n    el.removeEventListener('mouseover', dispatchOver, false);\n    el.removeEventListener('mouseout', dispatchOut, false);\n    removeFocus();\n  };\n\n  if (el) {\n    el.addEventListener('mouseover', dispatchOver, false);\n    el.addEventListener('mouseout', dispatchOut, false);\n  }\n\n  return h;\n};\n"],"names":["textarea","concept","lastPing","setInterval","async","pingValue","value","getAttribute","data","dataset","url","ping","e","window","location","reload","hash","pathname","substr","reactieid","parseInt","on","slideDown","this","parent","find","toggleClass","forEach","auteur","forummodKnoppen","el","style","opacity","setTimeout","citeerKnop","addEventListener","citeren","berichtLinkButtons","button","berichtLink","nav","navigator","share","title","Error","clipboard","writeText","alert","err","console","error","message","rssFeedButtons","forumLinkButtons","rssLink","log","assign","forumLink","module","exports","onOver","onOut","x","y","pX","pY","mouseOver","focused","h","state","timer","options","sensitivity","interval","timeout","handleFocus","tracker","clientX","clientY","compare","clearTimeout","Math","abs","undefined","call","dispatchOver","removeEventListener","dispatchOut","delay","dispatchFocus","dispatchBlur","removeFocus","opt","focusOptionChanged","Object","remove"],"sourceRoot":""}