{"version":3,"sources":["webpack:///./js/lib/bbcode.ts"],"names":["loadBbImage","async","el","_a","_b","content","getAttribute","src","Error","foto","indexOf","video","parentElement","classList","contains","hasAnchor","$","closest","length","parent","replaceChild","targetUrl","link","appendChild","_c","replaceWith"],"mappings":"oIACO,MAAMA,EAAcC,MAAOC,IAC9B,IAAIC,EAAIC,EACR,MAAMC,EAAU,IAAK;;oBAELH,EAAGI,aAAa;sBACdJ,EAAGI,aAAa;oBAClBJ,EAAGI,aAAa,YAC1BC,EAAML,EAAGI,aAAa,OAC5B,IAAKC,EACD,MAAM,IAAIC,MAAM,2BAEpB,UACU,QAAaD,GACnB,MAAME,EAAOF,EAAIG,QAAQ,yBAA2B,EAC9CC,EAAiG,QAAxFP,EAAiC,QAA3BD,EAAKD,EAAGU,qBAAkC,IAAPT,OAAgB,EAASA,EAAGS,qBAAkC,IAAPR,OAAgB,EAASA,EAAGS,UAAUC,SAAS,oBACxJC,EAA0C,IAA9BC,EAAEd,GAAIe,QAAQ,KAAKC,OAC/BC,EAASjB,EAAGU,cAClB,IAAKO,EACD,MAAM,IAAIX,MAAM,8BAEpB,GAAIC,GAAQE,GAASI,EACjBI,EAAOC,aAAaf,EAASH,OAE5B,CACD,MAAMmB,EAA0C,MAA9BnB,EAAGI,aAAa,WAAqBJ,EAAGI,aAAa,OAASJ,EAAGI,aAAa,WAC1FgB,EAAO,IAAK,kCAAkCD,wCACpDC,EAAKC,YAAYlB,GACjBc,EAAOC,aAAaE,EAAMpB,IAGlC,MAAOsB,GACHtB,EAAGuB,YAAY,IAAK","file":"js/bbcode.8c442a7676110686f583.chunk.js","sourcesContent":["import { html, preloadImage } from \"./util\";\nexport const loadBbImage = async (el) => {\n    var _a, _b;\n    const content = html `<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bb-img\"\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"${el.getAttribute('title')}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"${el.getAttribute('style')}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"${el.getAttribute('src')}\"/>`;\n    const src = el.getAttribute('src');\n    if (!src) {\n        throw new Error('Bb image heeft geen src');\n    }\n    try {\n        await preloadImage(src);\n        const foto = src.indexOf('/plaetjes/fotoalbum/') >= 0;\n        const video = (_b = (_a = el.parentElement) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.classList.contains('bb-video-preview');\n        const hasAnchor = $(el).closest('a').length !== 0;\n        const parent = el.parentElement;\n        if (!parent) {\n            throw new Error(\"BBimage heeft geen parent.\");\n        }\n        if (foto || video || hasAnchor) {\n            parent.replaceChild(content, el);\n        }\n        else {\n            const targetUrl = el.getAttribute('bb-href') == null ? el.getAttribute('src') : el.getAttribute('bb-href');\n            const link = html `<a class=\"lightbox-link\" href=\"${targetUrl}\" data-lightbox=\"page-lightbox\"></a>`;\n            link.appendChild(content);\n            parent.replaceChild(link, el);\n        }\n    }\n    catch (_c) {\n        el.replaceWith(html `<div class=\"alert alert-danger\" role=\"alert\"><i class=\"fa fa-exclamation-triangle\"></i> Afbeelding kan niet geladen worden.</div>`);\n    }\n};\n"],"sourceRoot":""}