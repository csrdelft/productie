{"version":3,"sources":["webpack:///./js/lib/fotoalbum/with-download-button.ts","webpack:///./js/lib/fotoalbum/with-full-size-preview.ts","webpack:///./js/lib/fotoalbum/with-fullscreen-button.ts","webpack:///./js/lib/fotoalbum/with-hotkeys.ts","webpack:///./js/lib/fotoalbum/with-preload.ts","webpack:///./js/lib/fotoalbum/main.ts","webpack:///./js/page/fotoalbum.ts"],"names":["constructor","albums","params","super","downloadIcon","style","color","backgroundColor","background","textColor","transform","content","addEventListener","window","location","href","this","getFullUrl","appendControlsElements","item","currentItem","goToItem","fullUrl","setSize","preview","bind","size","updateImage","getElement","querySelector","Error","load","img","Image","src","backgroundImage","backgroundSize","Math","min","width","url","fullscreenIcon","fullscreenButton","children","toggleFullscreen","document","fullscreenElement","classList","replace","exitFullscreen","previewElement","requestFullscreen","e","key","prev","next","items","album","indexOf","first","last","length","async","Array","from","querySelectorAll","isLoggedIn","magAanpassen","root","fotos","dataset","decorators","withTags","push","default","withAdminButtons","appendChild","JSON","parse","previewSize","tooltipThumbnailsToggle","tooltipChangeSize","tooltipSeeAllItems","tooltipSeeOtherAlbums","tooltipSlideShowPause","tooltipSlideShowStart","loadFotoAlbum"],"mappings":"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","file":"js/5318.ee927d4219a0abfe2639.chunk.js","sourcesContent":["import createElement from 'jgallery/src/utils/create-element';\nimport withTooltip from 'jgallery/src/utils/with-tooltip';\nconst withDownloadButton = (constructor) => class extends constructor {\n    constructor(albums, params) {\n        super(albums, params);\n        const downloadIcon = withTooltip(createElement(`<span class=\"j-gallery-icon\"><i class=\"fa fa-download\"></i></span>`), {\n            style: {\n                color: params.backgroundColor,\n                background: params.textColor,\n                transform: 'translateY(-8px)',\n            },\n            content: 'Downloaden',\n        });\n        downloadIcon.addEventListener('click', () => window.location.href = `${this.getFullUrl()}?download`);\n        this.appendControlsElements([downloadIcon]);\n    }\n    goToItem(item) {\n        this.currentItem = item;\n        return super.goToItem(item);\n    }\n    getFullUrl() {\n        return this.currentItem.fullUrl;\n    }\n};\nexport default withDownloadButton;\n","import { Size } from 'jgallery/src/preview';\nimport load from 'jgallery/src/utils/load';\nconst withFullSizePreview = (constructor) => class extends constructor {\n    constructor(albums, params) {\n        super(albums, params);\n        const setSize = this.preview.setSize.bind(this.preview);\n        this.preview.setSize = (size) => {\n            this.updateImage(size);\n            return setSize(size);\n        };\n    }\n    async updateImage(size) {\n        const content = this.preview.getElement().querySelector('.j-gallery-preview-content');\n        if (!content) {\n            throw new Error(\"Geen content gevonden\");\n        }\n        if (size === Size.auto) {\n            await load(this.currentItem.fullUrl);\n            const img = new Image();\n            img.src = this.currentItem.fullUrl;\n            content.style.backgroundImage = `url(${this.currentItem.fullUrl})`;\n            content.style.backgroundSize = `${Math.min(3000, img.width)}px`;\n        }\n        else {\n            content.style.backgroundImage = `url(${this.currentItem.url})`;\n        }\n    }\n};\nexport default withFullSizePreview;\n","import createElement from 'jgallery/src/utils/create-element';\nimport withTooltip from 'jgallery/src/utils/with-tooltip';\nconst withFullscreenButton = (constructor) => class extends constructor {\n    constructor(albums, params) {\n        super(albums, params);\n        const fullscreenIcon = createElement(`<i class=\"fa fa-expand\"></i>`);\n        const fullscreenButton = withTooltip(createElement(`<span class=\"j-gallery-icon change-mode\"></span>`, {\n            children: [fullscreenIcon],\n        }), {\n            style: {\n                color: params.backgroundColor,\n                background: params.textColor,\n                transform: 'translateY(-8px)',\n            },\n            content: 'Volledig scherm',\n        });\n        fullscreenButton.addEventListener('click', () => this.toggleFullscreen());\n        this.appendControlsElements([fullscreenButton]);\n        document.addEventListener('fullscreenchange', () => {\n            if (document.fullscreenElement) {\n                fullscreenIcon.classList.replace('fa-expand', 'fa-compress');\n            }\n            else {\n                fullscreenIcon.classList.replace('fa-compress', 'fa-expand');\n            }\n        });\n    }\n    async toggleFullscreen() {\n        if (document.fullscreenElement) {\n            await document.exitFullscreen();\n        }\n        else {\n            await this.previewElement.requestFullscreen();\n        }\n    }\n};\nexport default withFullscreenButton;\n","const withHotkeys = (constructor) => class extends constructor {\n    constructor(albums, params) {\n        super(albums, params);\n        document.addEventListener('keydown', (e) => {\n            switch (e.key) {\n                case 'ArrowLeft':\n                    this.prev();\n                    break;\n                case 'ArrowRight':\n                    this.next();\n                    break;\n            }\n        });\n    }\n};\nexport default withHotkeys;\n","import load from 'jgallery/src/utils/load';\nconst withPreload = (constructor) => class extends constructor {\n    goToItem(item) {\n        const { items } = this.album;\n        const next = items[items.indexOf(item) + 1];\n        if (next) {\n            next.url && load(next.url);\n        }\n        else {\n            const first = items[0];\n            first.url && load(first.url);\n        }\n        const prev = items[items.indexOf(item) + 1];\n        if (prev) {\n            prev.url && load(prev.url);\n        }\n        else {\n            const last = items[items.length - 1];\n            last.url && load(last.url);\n        }\n        return super.goToItem(item);\n    }\n};\nexport default withPreload;\n","import JGallery from 'jgallery';\nimport { Size } from 'jgallery/src/preview';\nimport withDownloadButton from './with-download-button';\nimport withFullSizePreview from './with-full-size-preview';\nimport withFullscreenButton from './with-fullscreen-button';\nimport withHotkeys from './with-hotkeys';\nimport withPreload from './with-preload';\nexport const loadFotoAlbum = async () => {\n    const albums = Array.from(document.querySelectorAll('.fotoalbum'));\n    for (const album of albums) {\n        const { isLoggedIn, magAanpassen, root, fotos } = album.dataset;\n        if (!fotos || !root) {\n            throw new Error(\"Album heeft geen foto's of geen root\");\n        }\n        const decorators = [withFullscreenButton, withDownloadButton, withHotkeys, withPreload, withFullSizePreview];\n        if (isLoggedIn === 'true') {\n            const withTags = await import('./with-tags');\n            decorators.push(withTags.default);\n        }\n        if (magAanpassen === 'true') {\n            const withAdminButtons = await import('./with-admin-buttons');\n            decorators.push(withAdminButtons.default);\n        }\n        album.appendChild(JGallery.create(JSON.parse(fotos), {\n            decorators,\n            root,\n            previewSize: Size.contain,\n            tooltipThumbnailsToggle: 'Thumbnails weergeven',\n            tooltipChangeSize: 'Grootte veranderen',\n            tooltipSeeAllItems: 'Alle foto\\'s weergeven',\n            tooltipSeeOtherAlbums: 'Andere albums weergeven',\n            tooltipSlideShowPause: 'Voorstelling pauzeren',\n            tooltipSlideShowStart: 'Voorstelling starten',\n        }).getElement());\n    }\n};\n","import { loadFotoAlbum } from '../lib/fotoalbum/main';\n// loadFotoAlbum moet async zijn.\n// noinspection JSIgnoredPromiseFromCall\nloadFotoAlbum();\n"],"sourceRoot":""}