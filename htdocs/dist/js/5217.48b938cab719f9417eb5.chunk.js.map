{"version":3,"sources":["webpack:///./js/datatable/api.ts","webpack:///./js/datatable/render.ts","webpack:///./js/dragobject.ts","webpack:///./js/lib/ajax.ts","webpack:///./js/lib/domUpdate.ts","webpack:///./js/lib/knop.ts","webpack:///./js/lib/maalcie.ts","webpack:///./js/lib/modal.ts","webpack:///./js/lib/reload.ts","webpack:////home/runner/work/csrdelft.nl/csrdelft.nl/.yarn/cache/moment-npm-2.29.2-7e4b405a08-ee850b5776.zip/node_modules/moment/locale|sync|/[/\\\\](nl(\\.js)"],"names":["isDataTableResponse","response","async","initDataTable","el","$el","settingsJson","data","search","ajax","lastUpdate","fnGetLastUpdate","dataSrc","fnAjaxUpdateCallback","columns","forEach","col","render","table","DataTable","dataTable","api","on","rows","selected","deselect","event","container","get","initOfflineDataTable","fnUpdateDataTable","tableId","row","$tr","UUID","length","remove","add","alert","draw","fnGetSelection","selection","each","uuid","this","attr","Error","push","getApiFromSettings","settings","$table","Number","fnSetLastUpdate","json","tableConfig","autoUpdate","timeout","parseInt","isNaN","setTimeout","url","$scroll","parent","hasClass","top","scrollTop","height","innerHeight","scrollHeight","window","animate","fnAutoScroll","replacePlaceholders","action","replacements","exec","i","replace","type","sort","export","display","bedrag","check","aanmeldFilter","aanmeldingen","aantal_aanmeldingen","aanmeld_limiet","totaalPrijs","prijs","datum","isValid","format","tijd","date","substr","meta","cell","node","firstChild","dateTime","dragObject","dragged","oldX","oldY","docScrollLeft","document","documentElement","scrollLeft","body","docScrollTop","mouseX","e","pageX","clientX","mouseY","pageY","clientY","mouseMoveHandler","instance","newX","newY","classList","contains","offset","left","offsetLeft","offsetTop","style","addEventListener","target","HTMLElement","tag","tagName","toUpperCase","overflow","getComputedStyle","closest","removeEventListener","coords","id","ajaxRequest","source","onsuccess","onerror","onfinish","Object","assign","backgroundImage","backgroundPosition","backgroundRepeat","img","replaceWith","method","then","find","css","hide","catch","error","message","startsWith","code","ketzerAjax","ketzer","addClass","cache","done","fail","jqXHR","textStatus","errorThrown","responseText","domUpdate","htmlString","trim","substring","elements","element","parentId","getAttribute","HTMLScriptElement","eval","innerText","querySelector","targetParent","append","head","knopAjax","knop","confirm","title","key","value","split","userVal","prompt","encodeURIComponent","tekst","link","location","href","dataTableId","DataTableId","DataTableSelection","dataset","modal","tableid","getElementById","form","knopPost","preventDefault","initKnopPost","ev","initKnopGet","initKnopVergroot","knopVergroot","vergroot","vergrootOud","icon","String","prop","initRadioButtons","btn","active","takenSubmitRange","post","parentElement","takenColorSuggesties","$suggestiesTabel","takenToggleSuggestie","soort","show","verborgen","removeClass","toggleClass","takenToggleDatumFirst","index","eq","takenColorDatum","takenToggleDatum","takenShowOld","takenMagRuilen","takenRuilen","elmnt","lastSelectedId","takenSelectRange","withinRange","thisId","shiftKey","modalOpen","_a","_b","modalEl","Modal","modalBackdrop","innerHTML","Array","from","querySelectorAll","dispatchEvent","FocusEvent","Event","modalClose","reload","redirect","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","keys","resolve","module","exports"],"mappings":"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","file":"js/5217.48b938cab719f9417eb5.chunk.js","sourcesContent":["import $ from 'jquery';\nimport { init } from '../ctx';\nimport { parseData } from '../lib/util';\nimport render from './render';\nexport function isDataTableResponse(response) {\n    const check = response;\n    return typeof response == 'object'\n        && \"lastUpdate\" in check\n        && \"autoUpdate\" in check\n        && \"data\" in check;\n}\nexport async function initDataTable(el) {\n    await import('./bootstrap');\n    const $el = $(el);\n    const settingsJson = $el.data('settings');\n    const search = $el.data('search');\n    // Zet de callback voor ajax\n    if (settingsJson.ajax) {\n        settingsJson.ajax.data.lastUpdate = fnGetLastUpdate($el);\n        settingsJson.ajax.dataSrc = fnAjaxUpdateCallback($el);\n    }\n    // Zet de render method op de columns\n    settingsJson.columns.forEach((col) => col.render = render[col.render]);\n    // Init DataTable\n    const table = $el.DataTable(settingsJson);\n    $el.dataTable().api().search(search);\n    table.on('page', () => table.rows({ selected: true }).deselect());\n    table.on('childRow.dt', (event, data) => init(data.container.get(0)));\n}\nexport async function initOfflineDataTable(el) {\n    await import('./bootstrap');\n    $(el).DataTable(parseData(el));\n}\n/****************************\n * Een paar functies om met datatables te\n * praten, laadt datatables zelf niet in.\n */\nexport function fnUpdateDataTable(tableId, response) {\n    const $table = $(tableId);\n    const table = $table.DataTable();\n    // update or remove existing rows or add new rows\n    response.data.forEach((row) => {\n        const $tr = $('tr[data-uuid=\"' + row.UUID + '\"]');\n        if ($tr.length === 1) {\n            if ('remove' in row) {\n                table.row($tr).remove();\n            }\n            else {\n                table.row($tr).data(row);\n                init($tr.get(0));\n            }\n        }\n        else if ($tr.length === 0) {\n            table.row.add(row);\n        }\n        else {\n            alert($tr.length);\n        }\n    });\n    table.draw(false);\n}\nexport function fnGetSelection(tableId) {\n    const selection = [];\n    $(tableId + ' tbody tr.selected').each(function () {\n        const uuid = $(this).attr('data-uuid');\n        if (!uuid) {\n            throw new Error(\"Tablerow heeft geen uuid\");\n        }\n        selection.push(uuid);\n    });\n    return selection;\n}\n// new Api(selector: Settings) is valide, maar wordt als type niet geaccepteerd, type lijkt niet uit te breiden.\n// https://datatables.net/reference/type/DataTables.Settings\nexport function getApiFromSettings(settings) {\n    return new $.fn.dataTable.Api(settings);\n}\n/**\n * Wordt gebruikt in gesprekken.\n *\n * @param {jQuery} $table\n */\nfunction fnAutoScroll($table) {\n    const $scroll = $table.parent();\n    if ($scroll.hasClass('dataTables_scrollBody')) {\n        const top = $scroll.scrollTop();\n        const height = $scroll.innerHeight();\n        if (!top || !height) {\n            throw new Error(\"$scroll heeft geen top of height\");\n        }\n        // autoscroll if already on bottom\n        if (top + height >= $scroll[0].scrollHeight - 20) {\n            // check before draw and scroll after\n            window.setTimeout(() => {\n                $scroll.animate({\n                    scrollTop: $scroll[0].scrollHeight,\n                }, 800);\n            }, 200);\n        }\n    }\n}\nexport const fnGetLastUpdate = ($table) => () => Number($table.data('lastupdate'));\nexport const fnSetLastUpdate = ($table) => (lastUpdate) => $table.data('lastupdate', lastUpdate);\n/**\n * Called after ajax load complete.\n *\n * @returns object\n * @param {jQuery} $table\n */\nexport const fnAjaxUpdateCallback = ($table) => (json) => {\n    fnSetLastUpdate($table)(json.lastUpdate);\n    const tableConfig = $table.DataTable();\n    if (json.autoUpdate) {\n        const timeout = parseInt(json.autoUpdate, 10);\n        if (!isNaN(timeout) && timeout < 600000) { // max 10 min\n            setTimeout(() => {\n                $.post(tableConfig.ajax.url(), {\n                    lastUpdate: fnGetLastUpdate($table),\n                }, (data) => {\n                    const tableId = $table.attr('id');\n                    if (!tableId) {\n                        throw new Error(\"Table heeft geen id\");\n                    }\n                    fnUpdateDataTable(tableId, data);\n                    fnAjaxUpdateCallback($table)(data);\n                });\n            }, timeout);\n        }\n    }\n    fnAutoScroll($table);\n    return json.data;\n};\nexport function replacePlaceholders(action, row) {\n    const replacements = /:(\\w+)/g.exec(action);\n    if (!replacements) {\n        return action;\n    }\n    for (let i = 1; i < replacements.length; i++) {\n        action = action.replace(':' + replacements[i], row[replacements[i]]);\n    }\n    return action;\n}\n","import moment from 'moment';\nimport { formatBedrag, formatFilesize } from '../lib/util';\nimport { getApiFromSettings } from './api';\n/**\n * Standaard gedefinieerde render functies.\n */\nexport default {\n    default(data, type) {\n        if (data === null || typeof data !== 'object') {\n            return data;\n        }\n        switch (type) {\n            case 'sort':\n                return data.sort;\n            case 'export':\n                return data.export;\n            default:\n                return data.display;\n        }\n    },\n    bedrag(data) {\n        return formatBedrag(data);\n    },\n    check(data) {\n        return '<span class=\"ico ' + (data ? 'tick' : 'cross') + '\"></span>';\n    },\n    aanmeldFilter(data) {\n        return data ? `<span class=\"ico group_key\" title=\"Aanmeld filter actief: '${data}'\"></span>` : '';\n    },\n    aanmeldingen(data, type, row) {\n        return (row.aantal_aanmeldingen || 0) + ' (' + row.aanmeld_limiet + ')';\n    },\n    totaalPrijs(data, type, row) {\n        return formatBedrag(row.aantal_aanmeldingen * parseInt(row.prijs, 10));\n    },\n    date(data) {\n        const datum = moment(data);\n        if (datum.isValid()) {\n            return datum.format('L');\n        }\n        return data;\n    },\n    time(data) {\n        const tijd = moment(data);\n        if (tijd.isValid()) {\n            return tijd.format('LT');\n        }\n        return data;\n    },\n    datetime(date) {\n        if (Number(date) == date) {\n            return moment.unix(date).format('YYYY-MM-DD HH:mm');\n        }\n        if (!date) {\n            return '';\n        }\n        if (date.substr(0, 5) === '<time') {\n            return date;\n        }\n        if (date.substr(0, 1) === '-') {\n            return \"Nooit\";\n        }\n        const datumTijd = moment(date);\n        if (datumTijd.isValid()) {\n            return moment(date).format('YYYY-MM-DD HH:mm');\n        }\n        return date;\n    },\n    timeago(data, type, row, meta) {\n        const api = getApiFromSettings(meta.settings);\n        const cell = api.cell(meta.row, meta.col).node().firstChild;\n        switch (type) {\n            case 'sort':\n            case 'export':\n                return cell.dateTime;\n            default:\n                return data;\n        }\n    },\n    filesize(data, type) {\n        switch (type) {\n            case 'sort':\n                return Number(data);\n            default:\n                return formatFilesize(data);\n        }\n    },\n};\n","/**\n * dragobject.js  |  P.W.G. Brussee (brussee@live.nl)\n */\nimport axios from 'axios';\nexport const dragObject = {\n    el: null,\n};\nlet dragged;\nlet oldX;\nlet oldY;\nfunction docScrollLeft() {\n    return (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);\n}\nfunction docScrollTop() {\n    return (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);\n}\nfunction mouseX(e) {\n    if (e.pageX) {\n        return e.pageX;\n    }\n    if (e.clientX) {\n        return e.clientX + docScrollLeft();\n    }\n    return 0;\n}\n/**\n * @param {MouseEvent} e\n * @returns {number|null}\n */\nfunction mouseY(e) {\n    if (e.pageY) {\n        return e.pageY;\n    }\n    if (e.clientY) {\n        return e.clientY + docScrollTop();\n    }\n    return 0;\n}\n/**\n * @param {MouseEvent} e\n */\nfunction mouseMoveHandler(e) {\n    if (!dragObject.el) {\n        return;\n    }\n    const instance = dragObject.el;\n    const newX = mouseX(e);\n    const newY = mouseY(e);\n    dragged = instance.classList.contains('savepos');\n    const scrollTop = instance.scrollTop;\n    const scrollLeft = instance.scrollLeft;\n    if (instance.classList.contains('dragvertical')) {\n        instance.scrollTop = scrollTop + oldY - newY;\n    }\n    else if (instance.classList.contains('draghorizontal')) {\n        instance.scrollLeft = scrollLeft + oldX - newX;\n    }\n    else {\n        const offset = { left: instance.offsetLeft, top: instance.offsetTop };\n        instance.style.left = (offset.left - docScrollLeft() + newX - oldX) + 'px';\n        instance.style.top = (offset.top - docScrollTop() + newY - oldY) + 'px';\n    }\n    oldX = newX;\n    oldY = newY;\n}\n/**\n * @param {MouseEvent} e\n */\nfunction startDrag(e) {\n    const target = e.target;\n    if (target instanceof HTMLElement) {\n        const tag = target.tagName.toUpperCase();\n        const overflow = getComputedStyle(target).overflow;\n        // sliding scrollbar of dropdown menu or input field\n        if ((tag !== 'DIV' && tag !== 'H1') || overflow === 'auto' || overflow === 'scroll') {\n            return;\n        }\n        dragObject.el = target;\n        if (typeof dragObject.el === 'undefined' || !dragObject.el.classList.contains('dragobject')) {\n            dragObject.el = target.closest('.dragobject');\n        }\n        if (typeof dragObject.el !== 'undefined') {\n            oldX = mouseX(e);\n            oldY = mouseY(e);\n            window.addEventListener('mousemove', mouseMoveHandler, true);\n        }\n        else {\n            dragObject.el = null;\n        }\n    }\n    dragged = false;\n}\nfunction stopDrag() {\n    if (!dragObject.el) {\n        return;\n    }\n    window.removeEventListener('mousemove', mouseMoveHandler, true);\n    if (dragged) {\n        const instance = dragObject.el;\n        let top;\n        let left;\n        if (instance.classList.contains('dragvertical') || instance.classList.contains('draghorizontal')) {\n            top = instance.scrollTop;\n            left = instance.scrollLeft;\n        }\n        else {\n            const offset = { top: instance.offsetTop, left: instance.offsetLeft };\n            top = offset.top - docScrollTop();\n            left = offset.left - docScrollLeft();\n        }\n        axios.post('/tools/dragobject', {\n            coords: { left, top },\n            id: instance.id,\n        });\n        dragged = false;\n    }\n    dragObject.el = null;\n}\nwindow.addEventListener('mousedown', startDrag, false);\nwindow.addEventListener('mouseup', stopDrag, false);\n","import $ from 'jquery';\nimport { modalClose } from './modal';\nimport axios from 'axios';\nimport { select } from \"./dom\";\nexport function ajaxRequest(type, url, data, source, onsuccess, onerror, onfinish) {\n    if (source) {\n        if (!source.classList.contains('noanim')) {\n            const img = $(`<img alt=\"Laden\" id=\"${source.id}\" title=\"${url}\" src=\"/images/loading-arrows.gif\" />`);\n            $(source).replaceWith(img);\n            source = img.get(0);\n        }\n        else if (source.classList.contains('InlineForm')) {\n            try {\n                Object.assign(select('.FormElement:first', source).style, {\n                    backgroundImage: 'url(\"/images/loading-fb.gif\")',\n                    backgroundPosition: 'center right',\n                    backgroundRepeat: 'no-repeat',\n                });\n            }\n            catch (e) {\n                // negeer\n            }\n        }\n        else {\n            source.classList.add('loading');\n        }\n    }\n    axios(url, {\n        method: type,\n        data,\n    }).then((response) => {\n        if (source) {\n            if (!$(source).hasClass('noanim')) {\n                $(source).hide();\n            }\n            else if ($(source).hasClass('InlineForm')) {\n                $(source).find('.FormElement:first').css({\n                    'background-image': '',\n                    'background-position': '',\n                    'background-repeat': '',\n                });\n            }\n            source.classList.remove('loading');\n        }\n        onsuccess(response.data);\n    }).catch((error) => {\n        if (source) {\n            $(source).replaceWith('<img alt=\"Mislukt\" title=\"' + error.message + '\" src=\"/plaetjes/famfamfam/cancel.png\" />');\n        }\n        else {\n            modalClose();\n        }\n        if (onerror) {\n            if (error.message.startsWith('<!DOC')) {\n                onerror('Er ging iets fout, code is: ' + error.code);\n            }\n            onerror(error.message);\n        }\n    }).then(() => {\n        if (onfinish) {\n            onfinish();\n        }\n    });\n}\n/**\n * @param url\n * @param ketzer\n * @returns {boolean}\n */\nexport function ketzerAjax(url, ketzer) {\n    $(ketzer + ' .aanmeldbtn').addClass('loading');\n    $.ajax({\n        cache: false,\n        data: '',\n        type: 'GET',\n        url,\n    }).done((data) => {\n        $(ketzer).replaceWith(data);\n    }).fail((jqXHR, textStatus, errorThrown) => {\n        $(ketzer + ' .aanmeldbtn')\n            .replaceWith($(`<div class=\"alert alert-danger\"><strong>Actie mislukt!</strong> ${errorThrown}</div>`));\n        throw new Error(jqXHR.responseText);\n    });\n    return true;\n}\n","import $ from 'jquery';\nimport { init } from '../ctx';\nimport { modalClose, modalOpen } from './modal';\nimport { fadeAway, htmlParse } from './util';\nimport { select } from \"./dom\";\nexport function domUpdate(htmlString) {\n    if (typeof htmlString !== 'string') {\n        return;\n    }\n    htmlString = htmlString.trim();\n    if (htmlString.substring(0, 9) === '<!DOCTYPE') {\n        alert('response error');\n        throw new Error(htmlString);\n    }\n    const elements = htmlParse(htmlString);\n    for (const element of elements) {\n        if (!(element instanceof HTMLElement)) {\n            // element kan ook een stuk tekst zijn, hier kunnen we niets mee.\n            continue;\n        }\n        const id = element.id;\n        const parentId = element.getAttribute('parentid');\n        if (!id && element instanceof HTMLScriptElement) {\n            eval(element.innerText);\n            modalClose();\n            return;\n        }\n        // Probeer niet een lege id te laden.\n        const target = id ? document.querySelector(`#${id}`) : null;\n        const targetParent = parentId ? document.querySelector(`#${parentId}`) : null;\n        if (target) {\n            if (element.classList.contains('remove')) {\n                fadeAway(target, 400);\n            }\n            else {\n                // Jquery voert ook js uit, dat is nodig op dit moment voor forms\n                $(target).replaceWith($(element));\n            }\n        }\n        else if (targetParent) {\n            targetParent.append(element);\n        }\n        else if (element instanceof HTMLScriptElement) {\n            document.head.append(element);\n        }\n        else {\n            select('#maalcie-tabel tbody:visible:first').append(element); // FIXME: make generic\n        }\n        init(element);\n        if (id === 'modal') {\n            modalOpen();\n        }\n        else {\n            modalClose();\n        }\n    }\n}\n","import $ from 'jquery';\nimport { fnGetSelection, fnUpdateDataTable, isDataTableResponse } from '../datatable/api';\nimport { ajaxRequest } from './ajax';\nimport { domUpdate } from './domUpdate';\nimport { takenSelectRange, takenSubmitRange } from './maalcie';\nimport { modalClose } from './modal';\nimport { redirect, reload } from './reload';\nimport { parents, selectAll } from \"./dom\";\nimport { throwError } from \"./util\";\nfunction knopAjax(knop, type) {\n    if (!(knop instanceof HTMLElement)) {\n        throw new Error(\"Knop is geen HTMLElement\");\n    }\n    if (knop.classList.contains('confirm') && !confirm(knop.title + '.\\n\\nWeet u het zeker?')) {\n        modalClose();\n        return false;\n    }\n    let source = knop;\n    let done = domUpdate;\n    let data = knop.getAttribute('data');\n    if (knop.classList.contains('popup')) {\n        source = null;\n    }\n    if (knop.classList.contains('prompt')) {\n        if (!data) {\n            throw new Error(\"Prompt knop heeft geen data\");\n        }\n        const [key, value] = data.split('=');\n        const userVal = prompt(key, value);\n        if (!userVal) {\n            return false;\n        }\n        data = encodeURIComponent(key) + '=' + encodeURIComponent(userVal);\n    }\n    if (knop.classList.contains('addfav')) {\n        data = {\n            tekst: document.title.replace('C.S.R. Delft - ', ''),\n            link: window.location.href,\n        };\n    }\n    if (knop.classList.contains('DataTableRowKnop')) {\n        const dataTableId = parents(knop, 'table').id;\n        data = {\n            DataTableId: dataTableId,\n            DataTableSelection: parents(knop, 'tr').dataset.uuid\n        };\n        done = (response) => {\n            if (isDataTableResponse(response)) { // JSON\n                fnUpdateDataTable('#' + dataTableId, response);\n                if (response && response.modal) {\n                    domUpdate(response.modal);\n                }\n                else {\n                    modalClose();\n                }\n            }\n            else if (typeof response == \"string\") { // HTML\n                domUpdate(response);\n            }\n        };\n    }\n    if (knop.classList.contains('DataTableResponse')) {\n        let tableId = knop.dataset.tableid;\n        if (!tableId || !document.getElementById(tableId)) {\n            const form = knop.closest('form');\n            if (!form) {\n                throw new Error('Geen form gevonden');\n            }\n            tableId = form.dataset.tableid;\n            if (!tableId || !document.getElementById(tableId)) {\n                throw new Error(\"DataTable not found\");\n            }\n        }\n        data = {\n            'DataTableId': tableId,\n            'DataTableSelection': fnGetSelection('#' + tableId),\n        };\n        done = (response) => {\n            if (isDataTableResponse(response)) { // JSON\n                fnUpdateDataTable('#' + tableId, response);\n                if (response.modal) {\n                    domUpdate(response.modal);\n                }\n                else {\n                    modalClose();\n                }\n            }\n            else if (typeof response == 'string') { // HTML\n                domUpdate(response);\n            }\n            else {\n                throw new Error(\"Niets met deze response: \" + response);\n            }\n        };\n        if (!knop.classList.contains('SingleRow')) {\n            source = null;\n        }\n    }\n    if (knop.classList.contains('ReloadPage')) {\n        done = reload;\n    }\n    else if (knop.classList.contains('redirect')) {\n        done = redirect;\n    }\n    const url = knop.getAttribute('href');\n    if (!url) {\n        throw new Error(\"Knop heeft geen href\");\n    }\n    ajaxRequest(type, url, data, source, done, throwError);\n}\nexport function knopPost(el, event) {\n    event.preventDefault();\n    const target = event.target;\n    if ($(target).hasClass('range')) {\n        if ((target).tagName.toUpperCase() === 'INPUT') {\n            takenSelectRange(event);\n        }\n        else {\n            takenSubmitRange(event);\n        }\n        return false;\n    }\n    knopAjax(el, 'POST');\n    return false;\n}\nexport const initKnopPost = (el) => {\n    el.classList.add('loaded');\n    el.addEventListener('click', (ev) => knopPost(el, ev));\n};\nexport const initKnopGet = (el) => {\n    el.classList.add('loaded');\n    el.addEventListener('click', (event) => {\n        event.preventDefault();\n        knopAjax(el, 'GET');\n        return false;\n    });\n};\nexport const initKnopVergroot = (el) => el.addEventListener('click', (e) => knopVergroot(e, el));\nexport function knopVergroot(event, el) {\n    const target = el;\n    if (!(target instanceof HTMLElement)) {\n        throw new Error(\"Knop vergroot klik heeft geen target\");\n    }\n    const { vergroot, vergrootOud } = target.dataset;\n    if (!vergroot) {\n        throw new Error(\"Knop vergroot heeft geen data-vergroot\");\n    }\n    const icon = target.querySelector('span.fa');\n    if (!icon) {\n        throw new Error(\"knopVergroot heeft geen icon\");\n    }\n    if (vergrootOud) {\n        $(vergroot).animate({ height: vergrootOud }, 600);\n        delete target.dataset.vergrootOud;\n        icon.classList.replace('fa-compress', 'fa-expand');\n        target.title = 'Uitklappen';\n    }\n    else {\n        target.title = 'Inklappen';\n        icon.classList.replace('fa-expand', 'fa-compress');\n        target.dataset.vergrootOud = String($(vergroot).height());\n        $(vergroot).animate({\n            height: $(vergroot).prop('scrollHeight') + 1,\n        }, 600);\n    }\n}\nexport const initRadioButtons = (el) => {\n    for (const btn of selectAll('a.btn', el)) {\n        btn.addEventListener('click', () => {\n            for (const active of selectAll('.active', el)) {\n                active.classList.remove('active');\n            }\n            btn.classList.add('active');\n        });\n    }\n};\n","import $ from 'jquery';\nimport { dragObject } from '../dragobject';\nimport { ajaxRequest } from './ajax';\nimport { domUpdate } from './domUpdate';\nimport { parents } from \"./dom\";\nimport { throwError } from \"./util\";\nexport function takenSubmitRange(e) {\n    let target = e.target;\n    if (target.tagName.toUpperCase() === 'IMG') { // over an image inside of anchor\n        target = parents(target);\n    }\n    $(target).find('input').prop('checked', true);\n    if ($(target).hasClass('confirm') && !confirm($(target).attr('title') + '.\\n\\nWeet u het zeker?')) {\n        return false;\n    }\n    $('input[name=\"' + $(target).find('input:first').attr('name') + '\"]:visible').each(function () {\n        if ($(this).prop('checked')) {\n            const href = $(target).parent().attr('href');\n            const post = $(target).parent().attr('post');\n            if (!href || !post) {\n                throw new Error(\"Element heeft geen href of post\");\n            }\n            ajaxRequest('POST', href, post, target.parentElement, domUpdate, throwError);\n        }\n    });\n}\nexport function takenColorSuggesties() {\n    const $suggestiesTabel = $('#suggesties-tabel');\n    $suggestiesTabel.find('tr:visible:odd').css('background-color', '#FAFAFA');\n    $suggestiesTabel.find('tr:visible:even').css('background-color', '#EBEBEB');\n}\nexport function takenToggleSuggestie(soort, show) {\n    $('#suggesties-tabel .' + soort).each(function () {\n        let verborgen = 0;\n        if (typeof show !== 'undefined') {\n            if (show) {\n                $(this).removeClass(soort + 'verborgen');\n            }\n            else {\n                $(this).addClass(soort + 'verborgen');\n            }\n        }\n        else {\n            $(this).toggleClass(soort + 'verborgen');\n        }\n        if ($(this).hasClass('geenvoorkeurverborgen')) {\n            verborgen++;\n        }\n        if ($(this).hasClass('recentverborgen')) {\n            verborgen++;\n        }\n        if ($(this).hasClass('jongsteverborgen')) {\n            verborgen++;\n        }\n        if ($(this).hasClass('oudereverborgen')) {\n            verborgen++;\n        }\n        if (verborgen > 0) {\n            $(this).hide();\n        }\n        else {\n            $(this).show();\n        }\n    });\n    takenColorSuggesties();\n}\nfunction takenToggleDatumFirst(datum, index) {\n    if ('taak-datum-head-' + datum === $('#maalcie-tabel tr:visible').eq(index).attr('id')) {\n        $('#taak-datum-head-first').toggleClass('verborgen');\n    }\n}\nfunction takenColorDatum() {\n    $('tr.taak-datum-summary:visible:odd th').css('background-color', '#FAFAFA');\n    $('tr.taak-datum-summary:visible:even th').css('background-color', '#f5f5f5');\n}\nexport function takenToggleDatum(datum) {\n    takenToggleDatumFirst(datum, 0);\n    $('.taak-datum-' + datum).toggleClass('verborgen');\n    takenToggleDatumFirst(datum, 1);\n    takenColorDatum();\n}\nexport function takenShowOld() {\n    $('#taak-datum-head-first').removeClass('verborgen');\n    $('tr.taak-datum-oud').removeClass('verborgen');\n    takenColorDatum();\n}\n/* Ruilen van CorveeTaak */\nexport function takenMagRuilen(e) {\n    let target = e.target;\n    if (target.tagName.toUpperCase() === 'IMG') { // over an image inside of anchor\n        target = parents(target);\n    }\n    if (dragObject.el && dragObject.el.id !== target.id) {\n        e.preventDefault();\n    }\n}\nexport function takenRuilen(e) {\n    e.preventDefault();\n    let elmnt = e.target;\n    if (elmnt.tagName.toUpperCase() === 'IMG') { // dropped on image inside of anchor\n        elmnt = parents(elmnt);\n    }\n    const source = dragObject.el;\n    if (!source || !confirm('Toegekende corveepunten worden meegeruild!\\n\\nDoorgaan met ruilen?')) {\n        return;\n    }\n    let attr = source.getAttribute('uid');\n    if (!attr) {\n        attr = '';\n    }\n    const href = elmnt.getAttribute('href');\n    if (!href) {\n        throw new Error(\"Element heeft geen href\");\n    }\n    ajaxRequest('POST', href, 'uid=' + attr, elmnt, domUpdate, throwError);\n    attr = elmnt.getAttribute('uid');\n    if (!attr) {\n        attr = '';\n    }\n    ajaxRequest('POST', href, 'uid=' + attr, source, domUpdate, throwError);\n}\nlet lastSelectedId;\nexport function takenSelectRange(e) {\n    const target = e.target;\n    if (!target) {\n        throw new Error(\"Er is geen target\");\n    }\n    let withinRange = false;\n    $('#maalcie-tabel').find('tbody tr td a input[name=\"' + $(target).attr('name') + '\"]:visible').each(function () {\n        const thisId = $(this).attr('id');\n        if (thisId === lastSelectedId) {\n            withinRange = !withinRange;\n        }\n        if (thisId === e.target.id) {\n            withinRange = !withinRange;\n            const check = $(this).prop('checked');\n            setTimeout(() => {\n                $('#' + thisId).prop('checked', check);\n            }, 50);\n        }\n        else if (e.shiftKey && withinRange) {\n            $(this).prop('checked', true);\n        }\n    });\n    lastSelectedId = e.target.id;\n}\n","import $ from 'jquery';\nimport { Modal } from \"bootstrap\";\nexport function modalOpen(htmlString = '') {\n    var _a, _b;\n    const modalEl = document.getElementById(\"modal\");\n    const modal = (_a = Modal.getInstance(modalEl)) !== null && _a !== void 0 ? _a : new Modal(modalEl);\n    const modalBackdrop = $('.modal-backdrop');\n    if (modalEl.innerHTML === '' && htmlString === '') {\n        return false;\n    }\n    if (modalBackdrop.length) {\n        modalBackdrop.remove();\n    }\n    if (htmlString !== '') {\n        modalEl.replaceWith(htmlString);\n        (_b = Array.from(modalEl.querySelectorAll('input'))\n            .find(el => window.getComputedStyle(el).display != 'none')) === null || _b === void 0 ? void 0 : _b.dispatchEvent(new FocusEvent('focus'));\n    }\n    modal.show();\n    document.dispatchEvent(new Event('modalOpen'));\n    return true;\n}\nexport function modalClose() {\n    const modal = Modal.getInstance(document.getElementById(\"modal\"));\n    if (modal) {\n        modal.hide();\n    }\n    document.dispatchEvent(new Event('modalClose'));\n}\n","import { domUpdate } from './domUpdate';\nexport function reload(htmlString) {\n    if (typeof htmlString === 'string' && htmlString.substring(0, 16) === '<div id=\"modal\" ') {\n        domUpdate(htmlString);\n        return;\n    }\n    location.reload();\n}\nexport function redirect(htmlString) {\n    if (htmlString.substring(0, 16) === '<div id=\"modal\" ') {\n        domUpdate(htmlString);\n        return;\n    }\n    window.location.href = htmlString;\n}\n","var map = {\n\t\"./nl\": 5519,\n\t\"./nl.js\": 5519\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 5973;"],"sourceRoot":""}