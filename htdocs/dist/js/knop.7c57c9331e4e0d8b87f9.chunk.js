(window.webpackJsonp=window.webpackJsonp||[]).push([[40,15],{11:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return s}));var n=a(0),r=a.n(n);function o(t=""){const e=r()("#modal"),a=r()(".modal-backdrop");return(""!==e.html()||""!==t)&&(a.length&&a.remove(),""!==t&&(e.replaceWith(t),e.find("input:visible:first").trigger("focus")),e.modal("show"),r()(document.body).trigger("modalOpen"),!0)}function s(){r()("#modal").modal("hide"),r()(document.body).trigger("modalClose")}},12:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var n=a(0),r=a.n(n),o=a(11);function s(t,e,a,n,s,i,l){n&&(n.hasClass("noanim")?n.hasClass("InlineForm")?r()(n).find(".FormElement:first").css({"background-image":'url("/images/loading-fb.gif")',"background-position":"center right","background-repeat":"no-repeat"}):n.addClass("loading"):(r()(n).replaceWith(`<img alt="Laden" id="${n.attr("id")}" title="${e}" src="/images/loading-arrows.gif" />`),n=r()(`img[title="${e}"]`)));let c="application/x-www-form-urlencoded; charset=UTF-8",d=!0;a instanceof FormData&&(c=!1,d=!1),r.a.ajax({cache:!1,contentType:c,data:a,processData:d,type:t,url:e}).done(t=>{n&&(r()(n).hasClass("noanim")?r()(n).hasClass("InlineForm")&&r()(n).find(".FormElement:first").css({"background-image":"","background-position":"","background-repeat":""}):r()(n).hide(),n.removeClass("loading")),s(t)}).fail((t,e,a)=>{""===a&&(a="Nog bezig met laden!"),n?r()(n).replaceWith('<img alt="Mislukt" title="'+a+'" src="/plaetjes/famfamfam/cancel.png" />'):Object(o.a)(),i&&(t.responseText.startsWith("<!DOC")&&i("Er ging iets fout, code is: "+t.status),i(t.responseText))}).always(()=>{l&&l()})}function i(t,e){return r()(e+" .aanmeldbtn").addClass("loading"),r.a.ajax({cache:!1,data:"",type:"GET",url:t}).done(t=>{r()(e).replaceWith(t)}).fail((t,a,n)=>{r()(e+" .aanmeldbtn").replaceWith(r()(`<div class="alert alert-danger"><strong>Actie mislukt!</strong> ${n}</div>`)),alert(t.responseText)}),!0}},152:function(t,e,a){"use strict";a.r(e),a.d(e,"knopPost",(function(){return f})),a.d(e,"knopGet",(function(){return p})),a.d(e,"knopVergroot",(function(){return m}));var n=a(0),r=a.n(n),o=a(16),s=a(12),i=a(9),l=a(24),c=a(11),d=a(38);function u(t,e){if(t.hasClass("confirm")&&!confirm(t.attr("title")+".\n\nWeet u het zeker?"))return Object(c.a)(),!1;let a=t,n=i.a,r=t.attr("data");if(t.hasClass("popup")&&(a=!1),t.hasClass("prompt")){r=r.split("=");const t=prompt(r[0],r[1]);if(!t)return!1;r=encodeURIComponent(r[0])+"="+encodeURIComponent(t)}if(t.hasClass("addfav")&&(r={tekst:document.title.replace("C.S.R. Delft - ",""),link:window.location.href}),t.hasClass("DataTableRowKnop")){const e=t.parents("table").attr("id");r={DataTableId:e,DataTableSelection:t.parents("tr").attr("data-uuid")},n=t=>{"object"==typeof t?(Object(o.fnUpdateDataTable)("#"+e,t),t.modal?Object(i.a)(t.modal):Object(c.a)()):Object(i.a)(t)}}if(t.hasClass("DataTableResponse")){let e=t.attr("data-tableid");document.getElementById(e)||(e=t.closest("form").attr("data-tableid"),document.getElementById(e)||alert("DataTable not found")),r={DataTableId:e,"DataTableSelection[]":Object(o.fnGetSelection)("#"+e)},n=t=>{"object"==typeof t?(Object(o.fnUpdateDataTable)("#"+e,t),t.modal?Object(i.a)(t.modal):Object(c.a)()):Object(i.a)(t)},t.hasClass("SingleRow")||(a=!1)}t.hasClass("ReloadPage")?n=d.b:t.hasClass("redirect")&&(n=d.a),Object(s.a)(e,t.attr("href"),r,a,n,alert)}function f(t){t.preventDefault();const e=t.target;return r()(e).hasClass("range")?("INPUT"===e.tagName.toUpperCase()?Object(l.d)(t):Object(l.f)(t),!1):(u(r()(this),"POST"),!1)}function p(t){return t.preventDefault(),u(r()(this),"GET"),!1}function m(t){const e=r()(this),a=e.attr("data-vergroot"),n=e.attr("data-vergroot-oud");n?(r()(a).animate({height:n},600),e.removeAttr("data-vergroot-oud"),e.find("span.fa").removeClass("fa-compress").addClass("fa-expand"),e.attr("title","Uitklappen")):(e.attr("title","Inklappen"),e.find("span.fa").removeClass("fa-expand").addClass("fa-compress"),e.attr("data-vergroot-oud",r()(a).height()),r()(a).animate({height:r()(a).prop("scrollHeight")+1},600))}},16:function(t,e,a){"use strict";a.r(e),a.d(e,"initDataTable",(function(){return l})),a.d(e,"initOfflineDataTable",(function(){return c})),a.d(e,"fnUpdateDataTable",(function(){return d})),a.d(e,"fnGetSelection",(function(){return u})),a.d(e,"getApiFromSettings",(function(){return f})),a.d(e,"fnGetLastUpdate",(function(){return p})),a.d(e,"fnSetLastUpdate",(function(){return m})),a.d(e,"fnAjaxUpdateCallback",(function(){return g})),a.d(e,"replacePlaceholders",(function(){return h}));var n=a(0),r=a.n(n),o=a(7),s=a(3),i=a(63);async function l(t){await Promise.all([a.e(4),a.e(11)]).then(a.bind(null,74));const e=r()(t),n=e.data("settings"),s=e.data("search");n.ajax&&(n.ajax.data.lastUpdate=p(e),n.ajax.dataSrc=g(e)),n.columns.forEach(t=>t.render=i.a[t.render]);const l=e.DataTable(n);e.dataTable().api().search(s),l.on("page",()=>l.rows({selected:!0}).deselect()),l.on("childRow.dt",(t,e)=>Object(o.b)(e.container.get(0)))}async function c(t){await Promise.all([a.e(4),a.e(11)]).then(a.bind(null,74)),r()(t).DataTable(Object(s.l)(t))}function d(t,e){const a=r()(t).DataTable();e.data.forEach(t=>{const e=r()('tr[data-uuid="'+t.UUID+'"]');1===e.length?"remove"in t?a.row(e).remove():(a.row(e).data(t),Object(o.b)(e.get(0))):0===e.length?a.row.add(t):alert(e.length)}),a.draw(!1)}function u(t){const e=[];return r()(t+" tbody tr.selected").each((function(){e.push(r()(this).attr("data-uuid"))})),e}function f(t){return new r.a.fn.dataTable.Api(t)}const p=t=>()=>Number(t.data("lastupdate")),m=t=>e=>t.data("lastupdate",e),g=t=>e=>{m(t)(e.lastUpdate);const a=t.DataTable();if(e.autoUpdate){const n=parseInt(e.autoUpdate,10);!isNaN(n)&&n<6e5&&setTimeout(()=>{r.a.post(a.ajax.url(),{lastUpdate:p(t)},e=>{d(t.attr("id"),e),g(t)(e)})},n)}return function(t){const e=t.parent();e.hasClass("dataTables_scrollBody")&&e.scrollTop()+e.innerHeight()>=e[0].scrollHeight-20&&window.setTimeout(()=>{e.animate({scrollTop:e[0].scrollHeight},800)},200)}(t),e.data};function h(t,e){const a=/:(\w+)/g.exec(t);if(!a)return t;for(let n=1;n<a.length;n++)t=t.replace(":"+a[n],e[a[n]]);return t}},24:function(t,e,a){"use strict";a.d(e,"f",(function(){return l})),a.d(e,"a",(function(){return c})),a.d(e,"h",(function(){return d})),a.d(e,"g",(function(){return p})),a.d(e,"e",(function(){return m})),a.d(e,"b",(function(){return g})),a.d(e,"c",(function(){return h})),a.d(e,"d",(function(){return v}));var n=a(0),r=a.n(n),o=a(32),s=a(12),i=a(9);function l(t){let e=t.target;if("IMG"===e.tagName.toUpperCase()&&(e=e.parentElement),r()(e).find("input").prop("checked",!0),r()(e).hasClass("confirm")&&!confirm(r()(e).attr("title")+".\n\nWeet u het zeker?"))return!1;r()('input[name="'+r()(e).find("input:first").attr("name")+'"]:visible').each((function(){r()(this).prop("checked")&&Object(s.a)("POST",r()(e).parent().attr("href"),r()(e).parent().attr("post"),r()(e).parent(),i.a,alert)}))}function c(){const t=r()("#suggesties-tabel");t.find("tr:visible:odd").css("background-color","#FAFAFA"),t.find("tr:visible:even").css("background-color","#EBEBEB")}function d(t,e){r()("#suggesties-tabel ."+t).each((function(){let a=0;void 0!==e?e?r()(this).removeClass(t+"verborgen"):r()(this).addClass(t+"verborgen"):r()(this).toggleClass(t+"verborgen"),r()(this).hasClass("geenvoorkeurverborgen")&&a++,r()(this).hasClass("recentverborgen")&&a++,r()(this).hasClass("jongsteverborgen")&&a++,r()(this).hasClass("oudereverborgen")&&a++,a>0?r()(this).hide():r()(this).show()})),c()}function u(t,e){"taak-datum-head-"+t===r()("#maalcie-tabel tr:visible").eq(e).attr("id")&&r()("#taak-datum-head-first").toggleClass("verborgen")}function f(){r()("tr.taak-datum-summary:visible:odd th").css("background-color","#FAFAFA"),r()("tr.taak-datum-summary:visible:even th").css("background-color","#f5f5f5")}function p(t){u(t,0),r()(".taak-datum-"+t).toggleClass("verborgen"),u(t,1),f()}function m(){r()("#taak-datum-head-first").removeClass("verborgen"),r()("tr.taak-datum-oud").removeClass("verborgen"),f()}function g(t){let e=t.target;"IMG"===e.tagName.toUpperCase()&&(e=e.parentElement);o.a.el.attr("id")!==e.id&&t.preventDefault()}function h(t){t.preventDefault();let e=t.target;"IMG"===e.tagName.toUpperCase()&&(e=e.parentElement);const a=o.a.el;if(!confirm("Toegekende corveepunten worden meegeruild!\n\nDoorgaan met ruilen?"))return;let n=a.attr("uid");n||(n=""),Object(s.a)("POST",e.getAttribute("href"),"uid="+n,r()(e),i.a,alert),n=r()(e).attr("uid"),n||(n=""),Object(s.a)("POST",e.getAttribute("href"),"uid="+n,a,i.a,alert)}let b;function v(t){let e=!1;r()("#maalcie-tabel").find('tbody tr td a input[name="'+r()(t.target).attr("name")+'"]:visible').each((function(){const a=r()(this).attr("id");if(a===b&&(e=!e),a===t.target.id){e=!e;const t=r()(this).prop("checked");setTimeout(()=>{r()("#"+a).prop("checked",t)},50)}else t.shiftKey&&e&&r()(this).prop("checked",!0)})),b=t.target.id}},32:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a(0),r=a.n(n);const o={el:void 0};r()(()=>{let t,e,a;function n(){return document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft}function s(){return document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}function i(t){return t.pageX?t.pageX:t.clientX?t.clientX+n():0}function l(t){return t.pageY?t.pageY:t.clientY?t.clientY+s():0}function c(r){if(!o.el)return;const c=o.el,d=i(r=r||window.event),u=l(r);t=c.hasClass("savepos");const f=c.scrollTop()||0,p=c.scrollLeft()||0;if(c.hasClass("dragvertical"))c.scrollTop(f+a-u);else if(c.hasClass("draghorizontal"))c.scrollLeft(p+e-d);else{const t=c.offset()||{left:0,top:0};c.css({left:t.left-n()+d-e+"px",top:t.top-s()+u-a+"px"})}e=d,a=u}window.addEventListener("mousedown",(function(n){const s=(n=n||window.event).target;if(s instanceof Element){const t=s.tagName.toUpperCase(),d=r()(s).css("overflow");if("DIV"!==t&&"H1"!==t||"auto"===d||"scroll"===d)return;o.el=r()(s),void 0!==o.el&&o.el.hasClass("dragobject")||(o.el=r()(s).closest(".dragobject")),void 0!==o.el?(e=i(n),a=l(n),window.addEventListener("mousemove",c,!0)):o.el=void 0}t=!1}),!1),window.addEventListener("mouseup",(function(){if(o.el){if(window.removeEventListener("mousemove",c,!0),t){const e=o.el;let a,i;if(e.hasClass("dragvertical")||e.hasClass("draghorizontal"))a=e.scrollTop(),i=e.scrollLeft();else{const t=e.offset()||{top:0,left:0};a=t.top-s(),i=t.left-n()}r.a.post("/tools/dragobject",{coords:{left:i,top:a},id:e.attr("id")}),t=!1}o.el=void 0}}),!1)})},38:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return o}));var n=a(9);function r(t){"string"!=typeof t||'<div id="modal" '!==t.substring(0,16)?location.reload():Object(n.a)(t)}function o(t){'<div id="modal" '!==t.substring(0,16)?window.location.href=t:Object(n.a)(t)}},63:function(t,e,a){"use strict";var n=a(18),r=a.n(n),o=a(3),s=a(16);e.a={default(t,e){if(null===t||"object"!=typeof t)return t;switch(e){case"sort":return t.sort;case"export":return t.export;default:return t.display}},bedrag:t=>Object(o.e)(t),check:t=>'<span class="ico '+(t?"tick":"cross")+'"></span>',aanmeldFilter:t=>t?`<span class="ico group_key" title="Aanmeld filter actief: '${t}'"></span>`:"",aanmeldingen:(t,e,a)=>a.aantal_aanmeldingen+" ("+a.aanmeld_limiet+")",totaalPrijs:(t,e,a)=>Object(o.e)(a.aantal_aanmeldingen*parseInt(a.prijs,10)),datetime:(t,e,a)=>Number(t)==t?r()(1e3*t).format("YYYY-MM-DD HH:mm"):t?"<time"===t.substr(0,5)?t:r()(t).format("YYYY-MM-DD HH:mm"):"",timeago(t,e,a,n){const r=Object(s.getApiFromSettings)(n.settings).cell(n.row,n.col).node().firstChild;switch(e){case"sort":case"export":return r.dateTime;default:return t}},filesize(t,e){switch(e){case"sort":return Number(t);default:return Object(o.f)(t)}}}},76:function(t,e,a){var n={"./nl":62,"./nl.js":62};function r(t){var e=o(t);return a(e)}function o(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id=76},9:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a(0),r=a.n(n),o=a(7),s=a(11),i=a(3);function l(t){if("string"!=typeof t)return;"<!DOCTYPE"===(t=r.a.trim(t)).substring(0,9)&&(alert("response error"),document.write(t));const e=Object(i.i)(t);r()(e).each((function(t,e){if(!(e instanceof Element))return;const a=r()(e),n=r()(e).attr("id"),i=r()(e).attr("parentid"),l=r()("#"+n),c=r()("#"+i);if(1===l.length)a.hasClass("remove")?l.effect("fade",{},400,()=>{l.remove()}):l.replaceWith(a.show().get()).effect("highlight");else if(1===c.length)c.append(a.show());else if(e instanceof HTMLScriptElement)r()("head").append(a);else{const t=r()(this).attr("parentid");t?r()(this).prependTo("#"+t).show().effect("highlight"):r()(this).prependTo("#maalcie-tabel tbody:visible:first").show().effect("highlight")}Object(o.b)(e),"modal"===n?Object(s.b)():Object(s.a)()}))}}}]);
//# sourceMappingURL=knop.7c57c9331e4e0d8b87f9.chunk.js.map