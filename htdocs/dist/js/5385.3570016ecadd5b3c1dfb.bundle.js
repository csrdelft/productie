"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5385],{5350:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(6805),i=t.n(a),l=t(6915),o=t.n(l)()(i());o.push([e.id,"\n.left-col[data-v-4994458c] {\n  border-right: 1px solid rgba(0, 0, 0, 0.125);\n}\n.groep[data-v-4994458c] {\n  min-height: 300px;\n}\n.results[data-v-4994458c] {\n  overflow: auto;\n}\n","",{version:3,sources:["webpack://./js/components/groep/Groep.vue"],names:[],mappings:";AA6IA;EACE,4CAA4C;AAC9C;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,cAAc;AAChB",sourcesContent:['<template>\n  <div class="card groep">\n    <div class="card-body">\n      <h3 class="card-title">\n        {{ naam }}\n      </h3>\n      <div class="row">\n        <div v-if="!aangemeld && magAanmelden" class="left-col col-md-5">\n          <p class="card-text">\n            {{ samenvatting }}\n          </p>\n          <GroepAanmeldForm\n            :keuzes="keuzelijst2"\n            :opmerking="mijnOpmerking"\n            :aangemeld="aangemeld"\n            @aanmelden="aanmelden"\n          />\n        </div>\n        <div class="col results">\n          <table class="table table-sm">\n            <GroepHeaderRow :keuzes="keuzelijst2" />\n            <tbody>\n              <GroepLidRow\n                v-for="lid of leden"\n                :key="lid.uid"\n                :lid="lid"\n                :keuzes="keuzelijst2"\n              />\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport axios from \'axios\';\nimport type { PropType } from \'vue\';\nimport { defineComponent } from \'vue\';\nimport {\n  GroepInstance,\n  GroepKeuzeSelectie,\n  GroepLid,\n  GroepSettings,\n  KeuzeOptie,\n} from \'../../model/groep\';\nimport GroepAanmeldForm from \'./GroepAanmeldForm.vue\';\nimport GroepHeaderRow from \'./GroepHeaderRow.vue\';\nimport GroepLidRow from \'./GroepLidRow.vue\';\n\nexport default defineComponent({\n  components: { GroepAanmeldForm, GroepLidRow, GroepHeaderRow },\n  props: {\n    settings: {\n      required: true,\n      type: Object as PropType<GroepSettings>,\n    },\n    groep: {\n      required: true,\n      type: Object as PropType<GroepInstance>,\n    },\n  },\n  data: () => ({\n    id: 0,\n    naam: \'\',\n    familie: \'\',\n    beginMoment: new Date(),\n    eindMoment: new Date(),\n    status: \'\',\n    samenvatting: \'\',\n    omschrijving: \'\',\n    makerUid: \'\',\n    versie: \'\',\n    keuzelijst2: [] as KeuzeOptie[],\n    leden: [] as GroepLid[],\n    mijnUid: \'\',\n    mijnLink: \'\',\n    aanmeldUrl: \'\',\n    mijnOpmerking: [] as GroepKeuzeSelectie[],\n  }),\n  computed: {\n    mijnAanmelding() {\n      return this.leden.find((lid) => lid.uid === this.mijnUid);\n    },\n    aangemeld() {\n      return this.mijnAanmelding !== undefined;\n    },\n    magAanmelden() {\n      console.log(this.groep.aanmeldenTot, new Date());\n      if (this.groep.aanmeldenTot) {\n        return new Date(this.groep.aanmeldenTot) > new Date();\n      }\n\n      return true;\n    },\n  },\n  created() {\n    this.id = this.groep.id;\n    this.naam = this.groep.naam;\n    this.familie = this.groep.familie;\n    this.beginMoment = this.groep.beginMoment;\n    this.eindMoment = this.groep.eindMoment;\n    this.status = this.groep.status;\n    this.samenvatting = this.groep.samenvatting;\n    this.omschrijving = this.groep.omschrijving;\n    this.makerUid = this.groep.makerUid;\n    this.versie = this.groep.versie;\n    this.keuzelijst2 = this.groep.keuzelijst2;\n    this.leden = this.groep.leden;\n\n    this.mijnUid = this.settings.mijn_uid;\n    this.mijnLink = this.settings.mijn_link;\n    this.aanmeldUrl = this.settings.aanmeld_url;\n\n    if (this.aangemeld) {\n      this.mijnOpmerking = this.mijnAanmelding.opmerking2;\n    } else {\n      this.mijnOpmerking = this.keuzelijst2.map((value) => ({\n        selectie: value.default,\n        naam: value.naam,\n      }));\n    }\n  },\n  methods: {\n    aanmelden() {\n      if (!this.aangemeld) {\n        this.leden.push({\n          uid: this.mijnUid,\n          link: this.mijnLink,\n          opmerking2: this.mijnOpmerking,\n        });\n\n        axios.post(this.aanmeldUrl, { opmerking2: this.mijnOpmerking });\n      }\n    },\n  },\n});\n<\/script>\n\n<style scoped>\n.left-col {\n  border-right: 1px solid rgba(0, 0, 0, 0.125);\n}\n\n.groep {\n  min-height: 300px;\n}\n\n.results {\n  overflow: auto;\n}\n</style>\n'],sourceRoot:""}]);const s=o},7050:(e,n,t)=>{t.d(n,{Z:()=>g});var a=t(6805),i=t.n(a),l=t(6915),o=t.n(l),s=t(6461),d=t.n(s),r=new URL(t(7663),t.b),c=o()(i()),u=d()(r);c.push([e.id,"\n.progress[data-v-090c44cf] {\n  height: 20px;\n  width: 100%;\n  border-radius: 3px;\n  background: #adadad;\n}\n.progress div[data-v-090c44cf] {\n  float: left;\n  height: 100%;\n  transition: width ease-in-out 0.5s;\n}\n.progress div.correct[data-v-090c44cf] {\n  background: #2ecc71;\n}\n.progress div.again[data-v-090c44cf] {\n  background: #f1c40f;\n}\n.progress div.wrong[data-v-090c44cf] {\n  background: #c0392b;\n}\n.pasfotoContainer[data-v-090c44cf] {\n  width: 170px;\n  height: 255px;\n  margin: 15px auto;\n  background: url("+u+") no-repeat center center\n    white;\n  overflow: hidden;\n}\n.pasfotoContainer.onderkantVerbergen[data-v-090c44cf] {\n  height: 150px;\n}\n.pasfotoContainer .pasfoto[data-v-090c44cf] {\n  width: 170px;\n  height: 255px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n.laatste[data-v-090c44cf] {\n  border-radius: 6px;\n  background: #c0392b;\n  color: white;\n  overflow: hidden;\n  margin-top: 10px;\n}\n.laatste.goed[data-v-090c44cf] {\n  background: #2ecc71;\n}\n.laatste .fas[data-v-090c44cf] {\n  display: inline-block;\n  font-size: 26px;\n  line-height: 90px;\n  vertical-align: middle;\n  float: right;\n  margin: 0 18px 0 15px;\n}\n.laatste img[data-v-090c44cf] {\n  display: inline-block;\n  height: 90px;\n}\n.laatste .info[data-v-090c44cf] {\n  display: inline-block;\n  padding: 29px 0 0 15px;\n  vertical-align: top;\n  max-width: calc(100% - 123px);\n  box-sizing: border-box;\n}\n.laatste .info .naam[data-v-090c44cf] {\n  font-size: 19px;\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  line-height: 19px;\n}\n.laatste .info .naam .bold[data-v-090c44cf] {\n  font-weight: bold;\n}\n.laatste .info .tekst[data-v-090c44cf] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 24px;\n}\n.laatste .info .tekst span[data-v-090c44cf] {\n  margin-right: 6px;\n}\ninput[data-v-090c44cf] {\n  text-transform: capitalize;\n}\n.score-blok[data-v-090c44cf] {\n  background: #2ecc71;\n  padding: 20px;\n  text-align: center;\n  color: white;\n  border-radius: 6px;\n  margin-bottom: 20px;\n}\n.score-blok .titel[data-v-090c44cf] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 19px;\n  font-weight: bold;\n  text-align: center;\n}\n.score-blok .score-titel[data-v-090c44cf] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  margin-top: 18px;\n}\n.score-blok .score[data-v-090c44cf] {\n  font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif;\n  font-size: 50px;\n  line-height: 50px;\n  font-weight: 300;\n}\n","",{version:3,sources:["webpack://./js/components/namen-leren/NamenLeren.vue"],names:[],mappings:";AA0YA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,mBAAmB;AACrB;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kCAAkC;AACpC;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB;SACO;EACP,gBAAgB;AAClB;AAEA;EACE,aAAa;AACf;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,4BAA4B;EAC5B,kCAAkC;AACpC;AAEA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;AAClB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,iBAAiB;EACjB,sBAAsB;EACtB,YAAY;EACZ,qBAAqB;AACvB;AAEA;EACE,qBAAqB;EACrB,YAAY;AACd;AAEA;EACE,qBAAqB;EACrB,sBAAsB;EACtB,mBAAmB;EACnB,6BAA6B;EAC7B,sBAAsB;AACxB;AAEA;EACE,eAAe;EACf,4DAA4D;EAC5D,iBAAiB;AACnB;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;AACnB;AAEA;EACE,iBAAiB;AACnB;AAEA;EACE,0BAA0B;AAC5B;AAEA;EACE,mBAAmB;EACnB,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,mBAAmB;AACrB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;AAEA;EACE,4DAA4D;EAC5D,iBAAiB;EACjB,gBAAgB;AAClB;AAEA;EACE,4DAA4D;EAC5D,eAAe;EACf,iBAAiB;EACjB,gBAAgB;AAClB",sourcesContent:['<template>\n  <div>\n    <div v-if="data.finished" class="score-blok">\n      <div class="titel">\n        {{ data.titel }}\n      </div>\n      <div class="score-titel">Jouw score:</div>\n      <div class="score">{{ Math.round(percentageGoed) }}%</div>\n    </div>\n    <div v-if="!data.started">\n      <div class="row">\n        <div class="col-sm-6">\n          <strong class="mb-1 block">Lichting(en)</strong>\n          <div>\n            <input\n              id="alleLichtingen"\n              v-model="data.alleLichtingen"\n              type="checkbox"\n            />\n            <label for="alleLichtingen">Alle lichtingen</label>\n          </div>\n          <div v-for="lichting in lichtingen" :key="lichting">\n            <input\n              v-if="!data.alleLichtingen"\n              :id="\'lichting\' + lichting"\n              v-model="data.lichtingSelectie"\n              type="checkbox"\n              :value="lichting"\n            />\n            <input\n              v-if="data.alleLichtingen"\n              type="checkbox"\n              :checked="data.alleLichtingen"\n              disabled\n            />\n            <label :for="\'lichting\' + lichting">{{ lichting }}</label>\n          </div>\n        </div>\n        <div class="col-sm-6">\n          <strong class="mb-1 block">Verticale(n)</strong>\n          <div>\n            <input\n              id="alleVerticalen"\n              v-model="data.alleVerticalen"\n              type="checkbox"\n            />\n            <label for="alleVerticalen">Alle verticalen</label>\n          </div>\n          <div v-for="verticale in verticalen" :key="verticale">\n            <input\n              v-if="!data.alleVerticalen"\n              :id="\'verticale\' + verticale"\n              v-model="data.verticaleSelectie"\n              type="checkbox"\n              :value="verticale"\n            />\n            <input\n              v-if="data.alleVerticalen"\n              type="checkbox"\n              :checked="data.alleVerticalen"\n              disabled\n            />\n            <label :for="\'verticale\' + verticale">{{ verticale }}</label>\n          </div>\n        </div>\n      </div>\n      <div>\n        <strong class="mb-1 block">Onderkant verbergen</strong>\n        <div>\n          <input\n            id="verbergOnderkant"\n            v-model="data.verbergOnderkant"\n            type="checkbox"\n          />\n          <label for="verbergOnderkant">Voorkom leesbare namen op foto\'s</label>\n        </div>\n      </div>\n      <strong class="mt-3 mb-1 block">Antwoordmethode</strong>\n      <select v-model="data.antwoordMethode" class="form-control">\n        <option value="voornaam">Voornaam</option>\n        <option value="achternaam">Achternaam</option>\n        <option value="combi">Voor- en achternaam</option>\n        <option value="civi">Achternaam en achtervoegsel</option>\n      </select>\n      <a\n        href="#"\n        class="btn btn-primary btn-block mt-3"\n        :class="{ disabled: !klaarVoorDeStart }"\n        @click.prevent="start"\n      >\n        Start met {{ aantal }} {{ aantal === 1 ? \'lid\' : \'leden\' }}\n      </a>\n    </div>\n    <div v-else-if="!data.finished">\n      <div class="progress">\n        <div class="correct" :style="{ width: percentageGoed + \'%\' }" />\n        <div class="again" :style="{ width: percentageOpnieuw + \'%\' }" />\n        <div class="wrong" :style="{ width: percentageFout + \'%\' }" />\n      </div>\n      <div\n        v-if="data.laatste"\n        class="laatste"\n        :class="{ goed: data.laatsteGoed }"\n      >\n        <img :src="\'/profiel/pasfoto/\' + data.laatste.uid + \'.jpg\'" alt="" />\n        <div class="info">\n          <div class="naam">\n            <span\n              :class="{\n                bold:\n                  data.antwoordMethode === \'voornaam\' ||\n                  data.antwoordMethode === \'combi\',\n              }"\n            >\n              {{ data.laatste.voornaam }}\n            </span>\n            <span\n              :class="{\n                bold:\n                  data.antwoordMethode === \'achternaam\' ||\n                  data.antwoordMethode === \'combi\' ||\n                  data.antwoordMethode === \'civi\',\n              }"\n            >\n              <span v-if="data.laatste.tussenvoegsel">\n                &#8203;{{ data.laatste.tussenvoegsel }}\n              </span>\n              {{ data.laatste.achternaam }}\n            </span>\n            <span\n              v-if="data.laatste.postfix"\n              :class="{ bold: data.antwoordMethode === \'civi\' }"\n            >\n              {{ data.laatste.postfix }}\n            </span>\n          </div>\n          <div class="tekst">\n            <span>{{ data.laatste.lichting }}</span>\n            <span\n              v-if="data.laatste.verticale && data.laatste.verticale !== \'Geen\'"\n            >\n              {{ data.laatste.verticale }}\n            </span>\n            <span>{{ data.laatste.studie }}</span>\n          </div>\n        </div>\n        <Icon v-if="data.laatsteGoed" icon="check" />\n        <Icon v-else icon="xmark" />\n      </div>\n      <div\n        class="pasfotoContainer"\n        :class="{ onderkantVerbergen: data.verbergOnderkant }"\n      >\n        <div\n          :style="{\n            \'background-image\':\n              \'url(/profiel/pasfoto/\' + data.huidig.uid + \'.jpg)\',\n          }"\n          class="pasfoto"\n        />\n      </div>\n      <strong v-if="data.antwoordMethode === \'voornaam\'" class="mb-1 block">\n        Voornaam:\n      </strong>\n      <strong v-if="data.antwoordMethode === \'achternaam\'" class="mb-1 block">\n        Achternaam:\n      </strong>\n      <strong v-if="data.antwoordMethode === \'combi\'" class="mb-1 block">\n        Voor- en achternaam:\n      </strong>\n      <strong v-if="data.antwoordMethode === \'civi\'" class="mb-1 block">\n        Achternaam en achtervoegsel:\n      </strong>\n      <input\n        type="text"\n        class="form-control"\n        :value="data.ingevuld"\n        autofocus\n        @input="data.ingevuld = $event.target.value"\n        @keydown.enter="controleer"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { computed, reactive } from \'vue\';\nimport Icon from \'../common/Icon.vue\';\nimport { shuffle, uniq } from \'../../lib/util\';\n\nconst preloaded: string[] = [];\n\nconst preloadImage = (url: string) => {\n  if (preloaded.includes(url)) {\n    return;\n  }\n  preloaded.push(url);\n  const img = new Image();\n  img.src = url;\n};\n\ninterface Lid {\n  uid: string;\n  lichting: string;\n  verticale: string;\n  tussenvoegsel: string;\n  achternaam: string;\n  voornaam: string;\n  postfix: string;\n  studie: string;\n}\n\ntype AntwoordMethode = \'voornaam\' | \'achternaam\' | \'civi\' | \'combi\';\n\nconst props = defineProps<{ leden: Lid[] }>();\n\nconst data = reactive({\n  // Config\n  alleLichtingen: false,\n  alleVerticalen: true,\n  lichtingSelectie: [] as string[],\n  verticaleSelectie: [] as string[],\n  antwoordMethode: \'voornaam\' as AntwoordMethode,\n  aantalPerKeer: 5,\n\n  // Game state\n  verbergOnderkant: true,\n  started: false,\n  finished: false,\n  goed: [] as Lid[],\n  opnieuw: [] as Lid[],\n  fout: [] as Lid[],\n  todo: [] as Lid[],\n  laatste: null as Lid | null,\n  laatsteGoed: null as boolean | null,\n  huidig: null as Lid | null,\n  ingevuld: \'\',\n  titel: \'\',\n});\n\nconst aantal = computed(() => gefilterdeLeden.value.length);\nconst gefilterdeLeden = computed(() =>\n  props.leden.filter(\n    (lid: Lid) =>\n      (data.alleLichtingen || data.lichtingSelectie.includes(lid.lichting)) &&\n      (data.alleVerticalen || data.verticaleSelectie.includes(lid.verticale))\n  )\n);\nconst lichtingen = computed(() =>\n  uniq(props.leden.map((lid) => lid.lichting)).sort()\n);\nconst verticalen = computed(() =>\n  uniq(props.leden.map((lid) => lid.verticale)).sort()\n);\nconst klaarVoorDeStart = computed(() => gefilterdeLeden.value.length > 0);\nconst totaalAantal = computed(\n  () =>\n    data.todo.length + data.goed.length + data.opnieuw.length + data.fout.length\n);\nconst percentageGoed = computed(() =>\n  totaalAantal.value > 0 ? (data.goed.length / totaalAantal.value) * 100 : 0\n);\nconst percentageOpnieuw = computed(() =>\n  totaalAantal.value > 0 ? (data.opnieuw.length / totaalAantal.value) * 100 : 0\n);\nconst percentageFout = computed(() =>\n  totaalAantal.value > 0 ? (data.fout.length / totaalAantal.value) * 100 : 0\n);\n\nconst start = () => {\n  if (!klaarVoorDeStart.value) {\n    return;\n  }\n  data.started = true;\n  data.goed = [];\n  data.opnieuw = [];\n  data.fout = [];\n  data.todo = gefilterdeLeden.value;\n  shuffle(data.todo);\n  data.huidig = null;\n  data.laatste = null;\n  data.finished = false;\n  volgende();\n  data.titel = bouwTitel();\n  document.title = `C.S.R. Delft - Namen ${data.titel} leren`;\n  window.scrollTo(0, 0);\n};\nconst volgende = () => {\n  const choice = data.fout.concat(\n    data.todo.slice(0, Math.max(data.aantalPerKeer - data.fout.length, 0))\n  );\n  const pickable = choice.filter(\n    (lid) => choice.length === 1 || !data.huidig || lid.uid !== data.huidig.uid\n  );\n  if (pickable.length > 0) {\n    for (const lid of pickable) {\n      preloadImage(\'/profiel/pasfoto/\' + lid.uid + \'.jpg\');\n    }\n    data.huidig = pickable[Math.floor(Math.random() * pickable.length)];\n    data.ingevuld = \'\';\n  } else {\n    data.finished = true;\n    data.started = false;\n  }\n};\nconst controleer = () => {\n  if (data.huidig == null) {\n    throw new Error(\'huidig niet gezet\');\n  }\n  // Antwoord vormen\n  const onderdelen = [];\n  if (data.antwoordMethode === \'voornaam\' || data.antwoordMethode === \'combi\') {\n    onderdelen.push(data.huidig.voornaam);\n  }\n  if (\n    data.antwoordMethode === \'achternaam\' ||\n    data.antwoordMethode === \'combi\' ||\n    data.antwoordMethode === \'civi\'\n  ) {\n    if (data.huidig.tussenvoegsel) {\n      onderdelen.push(data.huidig.tussenvoegsel);\n    }\n    onderdelen.push(data.huidig.achternaam);\n  }\n  if (data.antwoordMethode === \'civi\') {\n    if (data.huidig.postfix) {\n      onderdelen.push(data.huidig.postfix);\n    }\n  }\n  const antwoord = onderdelen.map((s) => s.trim()).join(\' \');\n\n  // Antwoord checken\n  data.laatste = data.huidig;\n  data.laatsteGoed =\n    antwoord.toLowerCase().replace(\'.\', \'\') ===\n    data.ingevuld.toLowerCase().replace(\'.\', \'\');\n\n  // Verwijderen uit oude lijst en toevoegen aan nieuwe lijst\n  let index = data.todo.findIndex((lid) => lid.uid === data.huidig?.uid);\n  if (index === -1) {\n    // Fout lijst\n    if (data.laatsteGoed) {\n      index = data.fout.findIndex((lid) => lid.uid === data.huidig?.uid);\n      data.fout.splice(index, 1);\n      data.opnieuw.push(data.huidig);\n    }\n  } else {\n    // Te doen lijst\n    data.todo.splice(index, 1);\n    if (data.laatsteGoed) {\n      data.goed.push(data.huidig);\n    } else {\n      data.fout.push(data.huidig);\n    }\n  }\n\n  volgende();\n};\nconst bouwTitel = () => {\n  if (data.alleLichtingen && data.alleVerticalen) {\n    return \'Alle leden\';\n  }\n\n  let titel = \'\';\n  if (!data.alleLichtingen) {\n    data.lichtingSelectie.sort();\n    titel += \'Lichting \';\n    titel += data.lichtingSelectie\n      .slice(0, data.lichtingSelectie.length - 1)\n      .join(\', \');\n    if (data.lichtingSelectie.length > 1) {\n      titel += \' & \';\n    }\n    titel += data.lichtingSelectie[data.lichtingSelectie.length - 1];\n  }\n  if (!data.alleVerticalen) {\n    if (titel) {\n      titel += \', \';\n    }\n    data.verticaleSelectie.sort();\n    titel += data.verticaleSelectie\n      .slice(0, data.verticaleSelectie.length - 1)\n      .join(\', \');\n    if (data.verticaleSelectie.length > 1) {\n      titel += \' & \';\n    }\n    titel += data.verticaleSelectie[data.verticaleSelectie.length - 1];\n  }\n\n  return titel;\n};\n<\/script>\n\n<style scoped>\n.progress {\n  height: 20px;\n  width: 100%;\n  border-radius: 3px;\n  background: #adadad;\n}\n\n.progress div {\n  float: left;\n  height: 100%;\n  transition: width ease-in-out 0.5s;\n}\n\n.progress div.correct {\n  background: #2ecc71;\n}\n\n.progress div.again {\n  background: #f1c40f;\n}\n\n.progress div.wrong {\n  background: #c0392b;\n}\n\n.pasfotoContainer {\n  width: 170px;\n  height: 255px;\n  margin: 15px auto;\n  background: url(\'../../../images/loading-fb.gif\') no-repeat center center\n    white;\n  overflow: hidden;\n}\n\n.pasfotoContainer.onderkantVerbergen {\n  height: 150px;\n}\n\n.pasfotoContainer .pasfoto {\n  width: 170px;\n  height: 255px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n\n.laatste {\n  border-radius: 6px;\n  background: #c0392b;\n  color: white;\n  overflow: hidden;\n  margin-top: 10px;\n}\n\n.laatste.goed {\n  background: #2ecc71;\n}\n\n.laatste .fas {\n  display: inline-block;\n  font-size: 26px;\n  line-height: 90px;\n  vertical-align: middle;\n  float: right;\n  margin: 0 18px 0 15px;\n}\n\n.laatste img {\n  display: inline-block;\n  height: 90px;\n}\n\n.laatste .info {\n  display: inline-block;\n  padding: 29px 0 0 15px;\n  vertical-align: top;\n  max-width: calc(100% - 123px);\n  box-sizing: border-box;\n}\n\n.laatste .info .naam {\n  font-size: 19px;\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  line-height: 19px;\n}\n\n.laatste .info .naam .bold {\n  font-weight: bold;\n}\n\n.laatste .info .tekst {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 24px;\n}\n\n.laatste .info .tekst span {\n  margin-right: 6px;\n}\n\ninput {\n  text-transform: capitalize;\n}\n\n.score-blok {\n  background: #2ecc71;\n  padding: 20px;\n  text-align: center;\n  color: white;\n  border-radius: 6px;\n  margin-bottom: 20px;\n}\n\n.score-blok .titel {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 19px;\n  font-weight: bold;\n  text-align: center;\n}\n\n.score-blok .score-titel {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  margin-top: 18px;\n}\n\n.score-blok .score {\n  font-family: \'Source Sans Pro\', Helvetica, Arial, sans-serif;\n  font-size: 50px;\n  line-height: 50px;\n  font-weight: 300;\n}\n</style>\n'],sourceRoot:""}]);const g=c},1030:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(6805),i=t.n(a),l=t(6915),o=t.n(l)()(i());o.push([e.id,"\n.bewerken[data-v-fcb43970],\n.totaal[data-v-fcb43970] {\n  float: right;\n}\n.footer[data-v-fcb43970] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.pagination[data-v-fcb43970] {\n  margin-top: 1.25rem;\n  margin-bottom: 0;\n}\n","",{version:3,sources:["webpack://./js/components/peilingen/Peiling.vue"],names:[],mappings:";AA+LA;;EAEE,YAAY;AACd;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,8BAA8B;AAChC;AAEA;EACE,mBAAmB;EACnB,gBAAgB;AAClB",sourcesContent:['<template>\n  <div class="card peiling">\n    <div class="card-body">\n      <a v-if="data.isMod" :href="beheerUrl" class="bewerken">\n        <Icon icon="pencil" />\n      </a>\n      <span class="totaal">{{ strAantalGestemd }}</span>\n      <h3 class="card-title">\n        {{ data.titel }}\n      </h3>\n      \x3c!-- eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line --\x3e\n      <p class="card-text pt-2" v-html="data.beschrijving" />\n    </div>\n    <div>\n      <div v-if="data.heeftGestemd && !data.resultaatZichtbaar">\n        <div class="card-body">Bedankt voor het stemmen!</div>\n      </div>\n      <div v-else class="card-body">\n        <div v-if="zoekbalkZichtbaar" class="pb-2">\n          <input\n            v-model="data.zoekterm"\n            type="text"\n            placeholder="Zoeken"\n            class="form-control"\n          />\n        </div>\n        <ul class="list-group list-group-flush">\n          <li\n            v-for="optie in optiesZichtbaar"\n            :key="optie.id"\n            class="list-group-item"\n          >\n            <PeilingOptie\n              :id="optie.id"\n              :key="optie.id"\n              v-model="optie.selected"\n              :titel="optie.titel"\n              :beschrijving="optie.beschrijving_formatted"\n              :stemmen="optie.stemmen"\n              :mag-stemmen="data.magStemmen"\n              :heeft-gestemd="data.heeftGestemd"\n              :aantal-gestemd="data.aantalGestemd"\n              :keuzes-over="keuzesOver"\n            />\n          </li>\n        </ul>\n        <paginate\n          v-if="optiesFiltered.length > data.paginaSize"\n          v-model="data.huidigePagina"\n          :page-count="Math.ceil(optiesFiltered.length / data.paginaSize)"\n          :prev-text="\'Vorige\'"\n          :next-text="\'Volgende\'"\n          :click-handler="zetHuidigePagina"\n          size="md"\n          align="center"\n          :limit="15"\n          :total-rows="optiesFiltered.length"\n          :per-page="data.paginaSize"\n        />\n      </div>\n    </div>\n\n    <div\n      v-if="!data.heeftGestemd && data.magStemmen"\n      class="card-footer footer"\n    >\n      <div>{{ strKeuzes }}</div>\n      <PeilingOptieToevoegen v-if="data.aantalVoorstellen > 0" :id="data.id" />\n\n      <input\n        type="button"\n        class="btn btn-primary"\n        value="Stem"\n        :disabled="selected.length === 0"\n        @click="stem"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport axios from \'axios\';\nimport Paginate from \'vuejs-paginate-next\';\nimport { computed, onMounted, reactive } from \'vue\';\nimport Icon from \'../common/Icon.vue\';\nimport PeilingOptie from \'./PeilingOptie.vue\';\nimport PeilingOptieToevoegen from \'./PeilingOptieToevoegen.vue\';\n\ninterface PeilingSettings {\n  id: string;\n  titel: string;\n  beschrijving: string;\n  resultaat_zichtbaar: boolean;\n  aantal_voorstellen: number;\n  aantal_stemmen: number;\n  aantal_gestemd: number;\n  is_mod: boolean;\n  mag_stemmen: boolean;\n  heeft_gestemd: boolean;\n  opties: PeilingOptieSettings[];\n}\n\ninterface PeilingOptieSettings {\n  id: string;\n  titel: string;\n  beschrijving_formatted: string;\n  selected: boolean;\n  stemmen: number;\n}\n\nconst props = defineProps<{ settings: PeilingSettings }>();\n\nconst data = reactive({\n  id: \'\',\n  titel: \'\',\n  beschrijving: \'\',\n  resultaatZichtbaar: false,\n  aantalVoorstellen: 0,\n  aantalStemmen: 0,\n  aantalGestemd: 0,\n  isMod: false,\n  heeftGestemd: false,\n  magStemmen: false,\n  opties: [] as PeilingOptieSettings[],\n  zoekterm: \'\',\n  huidigePagina: 1,\n  paginaSize: 10,\n});\n\nconst beheerUrl = computed(() => `/peilingen/beheer/${data.id}`);\nconst selected = computed(() => data.opties.filter((o) => o.selected));\nconst optiesFiltered = computed(() =>\n  data.opties.filter((o) =>\n    o.titel.toLowerCase().includes(data.zoekterm.toLowerCase())\n  )\n);\nconst optiesZichtbaar = computed(() => {\n  const begin = (data.huidigePagina - 1) * data.paginaSize;\n  const eind = begin + data.paginaSize;\n\n  return optiesFiltered.value.slice(begin, eind);\n});\nconst keuzesOver = computed(\n  () => data.aantalStemmen - selected.value.length > 0\n);\nconst strKeuzes = computed(\n  () => `${selected.value.length} van de ${data.aantalStemmen} geselecteerd`\n);\nconst strAantalGestemd = computed(() =>\n  data.aantalGestemd > 0\n    ? `(${data.aantalGestemd} stem${data.aantalGestemd > 1 ? \'men\' : \'\'})`\n    : \'\'\n);\nconst zoekbalkZichtbaar = computed(() => data.opties.length > 10);\n\nconst stem = () =>\n  axios\n    .post(`/peilingen/stem/${data.id}`, {\n      opties: selected.value.map((o) => o.id),\n    })\n    .then(() => {\n      data.heeftGestemd = true;\n      data.aantalGestemd = data.aantalGestemd + selected.value.length;\n      reload();\n    });\nconst reload = () =>\n  axios.post(`/peilingen/opties/${data.id}`).then((response) => {\n    data.opties = response.data.data;\n  });\nconst zetHuidigePagina = (paginaNum) => (data.huidigePagina = paginaNum);\n\nonMounted(() => {\n  data.id = props.settings.id;\n  data.titel = props.settings.titel;\n  data.beschrijving = props.settings.beschrijving;\n  data.resultaatZichtbaar = props.settings.resultaat_zichtbaar;\n  data.aantalVoorstellen = props.settings.aantal_voorstellen;\n  data.aantalStemmen = props.settings.aantal_stemmen;\n  data.aantalGestemd = props.settings.aantal_gestemd;\n  data.isMod = props.settings.is_mod;\n  data.heeftGestemd = props.settings.heeft_gestemd;\n  data.magStemmen = props.settings.mag_stemmen;\n  data.opties = props.settings.opties;\n\n  // Als er op deze pagina een modal gesloten wordt is dat misschien die van\n  // de optie toevoegen modal. Dit is de enige manier om dit te weten op dit moment\n  document.addEventListener(\'modalClose\', () => reload());\n});\n<\/script>\n\n<style scoped>\n.bewerken,\n.totaal {\n  float: right;\n}\n\n.footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.pagination {\n  margin-top: 1.25rem;\n  margin-bottom: 0;\n}\n</style>\n'],sourceRoot:""}]);const s=o},7673:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>domUpdate});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8597),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_ctx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7432),_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(584),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8307),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4948);function domUpdate(htmlString){if("string"!=typeof htmlString)return;if(htmlString=htmlString.trim(),"<!DOCTYPE"===htmlString.substring(0,9))throw alert("response error"),new Error(htmlString);const elements=(0,_util__WEBPACK_IMPORTED_MODULE_3__.QA)(htmlString);for(const element of elements){if(!(element instanceof HTMLElement))continue;const id=element.id,parentId=element.getAttribute("parentid");if(!id&&element instanceof HTMLScriptElement)return eval(element.innerText),void(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)();const target=id?document.querySelector(`#${id}`):null,targetParent=parentId?document.querySelector(`#${parentId}`):null;target?element.classList.contains("remove")?(0,_util__WEBPACK_IMPORTED_MODULE_3__.c7)(target,400):jquery__WEBPACK_IMPORTED_MODULE_0___default()(target).replaceWith(jquery__WEBPACK_IMPORTED_MODULE_0___default()(element)):targetParent?targetParent.append(element):element instanceof HTMLScriptElement?document.head.append(element):(0,_dom__WEBPACK_IMPORTED_MODULE_4__.Ys)("#maalcie-tabel tbody:visible:first").append(element),(0,_ctx__WEBPACK_IMPORTED_MODULE_1__.S)(element),"modal"===id?(0,_modal__WEBPACK_IMPORTED_MODULE_2__.O)():(0,_modal__WEBPACK_IMPORTED_MODULE_2__.I)()}}},584:(e,n,t)=>{t.d(n,{I:()=>o,O:()=>l});var a=t(6326),i=t(4948);function l(e=""){var n,t;const l=document.getElementById("modal"),o=null!==(n=a.Modal.getInstance(l))&&void 0!==n?n:new a.Modal(l);if(""===l.innerHTML&&""===e)return!1;try{(0,i.Ys)(".modal-backdrop").remove()}catch(e){}return""!==e&&(l.replaceWith(e),null===(t=Array.from(l.querySelectorAll("input")).find((e=>"none"!=window.getComputedStyle(e).display)))||void 0===t||t.dispatchEvent(new FocusEvent("focus"))),o.show(),document.dispatchEvent(new Event("modalOpen")),!0}function o(){const e=a.Modal.getInstance(document.getElementById("modal"));e&&e.hide(),document.dispatchEvent(new Event("modalClose"))}},5385:(e,n,t)=>{t.r(n),t.d(n,{createDefaultApp:()=>ei,getVueComponent:()=>Xa});var a=t(5961),i=t(7936),l=t(798);const o=e=>((0,i.dD)("data-v-a9135194"),e=e(),(0,i.Cn)(),e),s={class:"declaratie"},d={class:"voortgang"},r=[o((()=>(0,i._)("span",{class:"status"},"Concept",-1)))],c=o((()=>(0,i._)("span",{class:"status"},"Ingediend",-1))),u={key:0,class:"datum"},g=o((()=>(0,i._)("span",{class:"status"},"Goedgekeurd",-1))),m={key:0,class:"datum"},p=o((()=>(0,i._)("span",{class:"status"},"Goedgekeurd",-1))),v={key:0,class:"datum"},h=o((()=>(0,i._)("span",{class:"status"},"Afgekeurd",-1))),b={key:0,class:"datum"},f=o((()=>(0,i._)("span",{class:"status"},"Uitbetaald",-1))),k={class:"datum"},w={key:0,class:"field"},A=o((()=>(0,i._)("label",{for:"datumDeclaratie"},"Datum declaratie",-1))),_=["disabled"],y={class:"field"},D=o((()=>(0,i._)("label",{for:"categorie"},"Categorie",-1))),C=["disabled"],E=o((()=>(0,i._)("option",{disabled:""},null,-1))),x=["value"],z={class:"field"},j=o((()=>(0,i._)("label",null,"Omschrijving declaratie",-1))),B=["disabled"],S={class:"field"},M=o((()=>(0,i._)("label",null,"Betaalwijze",-1))),V=["disabled"],O=o((()=>(0,i._)("label",{for:"C.S.R.-pas"},"Betaald met C.S.R.-pas",-1))),U=["disabled"],q=o((()=>(0,i._)("label",{for:"voorgeschoten"},"Voorgeschoten",-1))),L={key:1,class:"field"},P=o((()=>(0,i._)("label",null,"Terugstorten",-1))),G=["disabled"],I={for:"eigenRekening"},T=["disabled"],Z=o((()=>(0,i._)("label",{for:"nietEigenRekening"},"Naar andere rekening",-1))),R={key:2,class:"field"},K=o((()=>(0,i._)("label",{for:"rekening"},"IBAN",-1))),F=["disabled"],H={key:3,class:"field"},Y={key:0,for:"tnv"},W={key:1,for:"tnv"},$=["disabled"],N={key:4,class:"bonnen bon-upload"},J={class:"inhoud"},Q=o((()=>(0,i._)("div",{class:"titel"},"Voeg je bonnen en facturen toe",-1))),X=o((()=>(0,i._)("p",null," Upload je bon of factuur als PDF of goed leesbare foto. Neem daarna de bedragen van de bon of het factuur over. ",-1))),ee={class:"buttons"},ne={key:0,class:"loading blue",disabled:""},te=o((()=>(0,i._)("label",{class:"blue",for:"fileUpload"}," Kies bestand ",-1))),ae={key:5,class:"bonnen bonnen-weergave"},ie={class:"lijst"},le=["onClick"],oe={class:"left"},se={class:"title"},de={class:"date"},re={class:"right"},ce={class:"title"},ue=o((()=>(0,i._)("div",{class:"btw"},"incl. btw",-1))),ge={key:1,class:"bon-selected"},me=["onClick"],pe={class:"title"},ve={class:"field"},he=["for"],be=["id","onUpdate:modelValue","disabled"],fe={class:"bon-regels"},ke=o((()=>(0,i._)("div",{class:"regels-row"},[(0,i._)("label",null,"Omschrijving"),(0,i._)("label",null,"Bedrag"),(0,i._)("label",null,"Btw"),(0,i._)("div")],-1))),we={class:"field"},Ae=["onUpdate:modelValue","disabled"],_e={class:"field"},ye={class:"field"},De=["onUpdate:modelValue","disabled"],Ce=[(0,i.uE)('<option value="" disabled data-v-a9135194></option><option value="incl. 9%" data-v-a9135194>incl. 9%</option><option value="incl. 21%" data-v-a9135194>incl. 21%</option><option value="excl. 9%" data-v-a9135194>excl. 9%</option><option value="excl. 21%" data-v-a9135194>excl. 21%</option><option value="geen: 0%" data-v-a9135194>geen: 0%</option>',6)],Ee=["onClick"],xe=["onClick"],ze=(0,i.uE)('<div class="field" data-v-a9135194><input type="text" disabled data-v-a9135194></div><div class="field" data-v-a9135194><input type="text" disabled data-v-a9135194></div><div class="field" data-v-a9135194><select disabled data-v-a9135194><option value="" data-v-a9135194></option></select></div>',3),je={class:"add"},Be={class:"regels-row totaal streep"},Se=o((()=>(0,i._)("div",{class:"onderdeel"},"Totaal excl. btw",-1))),Me={class:"bedrag"},Ve={key:1,class:"regels-row totaal"},Oe=o((()=>(0,i._)("div",{class:"onderdeel"},"Btw 9%",-1))),Ue={class:"bedrag"},qe={key:2,class:"regels-row totaal"},Le=o((()=>(0,i._)("div",{class:"onderdeel"},"Btw 21%",-1))),Pe={class:"bedrag"},Ge={class:"regels-row totaal totaalBold"},Ie=o((()=>(0,i._)("div",{class:"onderdeel"},"Totaal incl. btw",-1))),Te={class:"bedrag"},Ze={class:"voorbeeld"},Re=["src"],Ke=["src"],Fe={key:6,class:"totaal"},He=o((()=>(0,i._)("div",{class:"left"},"Totaal",-1))),Ye={class:"right"},We={class:"title"},$e=o((()=>(0,i._)("div",{class:"btw"},"incl. btw",-1))),Ne={class:"field"},Je=o((()=>(0,i._)("label",{for:"opmerkingen"},"Opmerkingen",-1))),Qe=["disabled"],Xe={key:7,class:"field"},en=o((()=>(0,i._)("label",{for:"rekening"},"Nummer",-1))),nn=["placeholder","disabled"],tn={key:8,class:"save-buttons"},an=["disabled"],ln=["disabled"],on=["disabled"],sn={key:9,class:"save-buttons"},dn=["disabled"],rn=["disabled"],cn={key:10,class:"save-buttons"},un=["disabled"],gn=["disabled"],mn=["disabled"],pn=["disabled"],vn=["disabled"],hn=["disabled"],bn=o((()=>(0,i._)("span",{class:"divider"},null,-1))),fn=["href"],kn=[o((()=>(0,i._)("button",{class:"mail"},"Mail lid",-1)))],wn=["href"],An=[o((()=>(0,i._)("button",{class:"confirm"},"Download",-1)))],_n={key:11,class:"opslaan"};var yn=t(4474),Dn=t.n(yn),Cn=t(7227);const En=(0,i.aZ)({__name:"Icon",props:{icon:null},setup(e){const n=e,t={toevoegen:"plus",bewerken:"pencil",verwijderen:"trash",goedkeuren:"circle-check",verjaardag:"cake-candles",vraagteken:"circle-question",tonen:"eye",verbergen:"eye-slash",sluiten:"xmark",kopieren:"clipboard",undo:"arrow-rotate-left",redo:"arrow-rotate-right",alert:"stop",stop:"ban","mime-onbekend":"file-circle-exclamation","mime-audio":"file-audio","mime-html":"file-code","mime-word":"file-word","mime-excel":"file-excel","mime-powerpoint":"file-powerpoint","mime-image":"file-image","mime-pdf":"file-pdf","mime-plain":"file-lines","mime-zip":"file-zipper",citeren:"quote-left",slotje:"lock",plakkerig:"note-sticky",belangrijk:"star",ruby:"gem",asterisk_orange:"star",flag_red:"flag",flag_orange:"flag",flag_green:"flag",flag_blue:"flag",stats:"chart-line",resetpassword:"user-lock",instellingen:"gear","alert-danger":"bell-exclamation","alert-info":"bell-on","alert-success":"circle-check","alert-warning":"bell",tabel:"table",log:"rectangle-terminal",prullenbak:"dumpster",opslaan:"floppy-disk",calendar:"calendar",forum:"comments",profiel:"user",fotoalbum:"images",document:"file",woonoord:"home",commissie:"users",ondervereniging:"users",kring:"circle-notch",boek:"book",wiki:"book-atlas",rechten:"key"},a=(0,i.Fl)((()=>n.icon.includes("fab fa-")?n.icon:n.icon in t?`fas fa-${t[n.icon]}`:`fas fa-${n.icon}`));return(e,n)=>((0,i.wg)(),(0,i.iD)("i",{class:(0,l.C_)((0,Cn.SU)(a)),"aria-hidden":"true"},null,2))}});var xn=t(8186);const zn=(0,i.aZ)({components:{Icon:En,money3:xn.Cz},props:{type:{required:!0,type:String},categorieen:{required:!0,type:Object},declaratieinput:{default:{opmerkingen:"",eigenRekening:!0,status:"concept",statusData:{uitbetaaldOp:"",goedgekeurdOp:"",afgekeurdOp:"",ingediendOp:"",magBeoordelen:!1,magUitbetalen:!1},bonnen:[]},type:Object},iban:{required:!0,type:String},tenaamstelling:{required:!0,type:String},email:{required:!0,type:String}},data:()=>({declaratie:{opmerkingen:"",eigenRekening:!0,status:"concept",statusData:{uitbetaaldOp:"",goedgekeurdOp:"",afgekeurdOp:"",ingediendOp:"",magBeoordelen:!1,magUitbetalen:!1},bonnen:[]},bonUploaden:!1,uploading:!1,geselecteerdeBon:0,money:{precision:2,decimal:",",thousands:" ",prefix:"€ "},submitting:!1,editing:!1,errors:[],isZoomFit:!0}),computed:{veldenDisabled(){return this.submitting||"concept"!==this.declaratie.status&&!this.editing},heeftBonnen(){return this.declaratie.bonnen&&this.declaratie.bonnen.length>0},totaal(){let e=0;for(let n of this.declaratie.bonnen)e+=this.berekening(n).totaalIncl;return this.round(e)}},created(){var e;this.declaratieinput&&(this.declaratie=this.declaratieinput),this.bonUploaden=0===(null===(e=this.declaratie.bonnen)||void 0===e?void 0:e.length)},methods:{zoomFit(){this.isZoomFit=!this.isZoomFit},nieuweBon(e,n){var t;this.declaratie.bonnen.push(((e,n)=>({id:n,bestandsnaam:e,datum:"",regels:[{omschrijving:"",bedrag:0,btw:""}]}))(e,n)),this.geselecteerdeBon=(null===(t=this.declaratie.bonnen)||void 0===t?void 0:t.length)-1},bonVerwijderen(e){this.declaratie.bonnen.splice(e,1)},nieuweRegel(e){e.regels.push({omschrijving:"",bedrag:0,btw:""})},regelVerwijderen(e,n){e.regels.splice(n,1)},round:e=>Math.round(100*(e+Number.EPSILON))/100,berekening(e){const n={totaalExcl:0,totaalIncl:0,btw:{0:0,9:0,21:0}};for(const t of e.regels)if(t.btw&&t.bedrag){t.bedrag=parseFloat(t.bedrag.toString());const e="incl"===t.btw.substr(0,4),a=parseInt(t.btw.substr(6).replace("%",""),10),i=a/100;e?(n.totaalExcl+=t.bedrag/(1+i),n.btw[a]+=t.bedrag/(1+i)*i,n.totaalIncl+=t.bedrag):(n.totaalExcl+=t.bedrag,n.btw[a]+=t.bedrag*i,n.totaalIncl+=t.bedrag*(1+i))}return{totaalExcl:this.round(n.totaalExcl),totaalIncl:this.round(n.totaalIncl),btw:{0:this.round(n.btw[0]),9:this.round(n.btw[9]),21:this.round(n.btw[21])}}},uploadBon(e){const n=new FormData;1===e.length&&(this.uploading=!0,n.append("bon",e[0],e[0].name),Dn()({method:"post",url:"/declaratie/upload",data:n,headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.uploading=!1,this.bonUploaden=!1,this.nieuweBon(e.data.file,e.data.id)})).catch((e=>{var n,t,a;this.uploading=!1,alert(null!==(a=null===(t=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===t?void 0:t.detail)&&void 0!==a?a:e)})))},declaratieOpslaan(e){this.submitting=!0,this.errors=[],Dn().request({method:"post",url:"/declaratie/opslaan",data:{declaratie:this.declaratie,indienen:"concept"===this.declaratie.status&&!0===e}}).then(this.processAjaxResponse).catch((e=>{var n,t,a;this.submitting=!1,alert(null!==(a=null===(t=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===t?void 0:t.detail)&&void 0!==a?a:e)}))},setStatus(e){this.submitting=!0,this.errors=[],Dn().request({method:"post",url:"/declaratie/status/"+this.declaratie.id,data:{status:e,nummer:this.declaratie.nummer}}).then(this.processAjaxResponse).catch((e=>{var n,t,a;this.submitting=!1,alert(null!==(a=null===(t=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===t?void 0:t.detail)&&void 0!==a?a:e)}))},processAjaxResponse(e){const{data:n}=e;n.id&&(this.declaratie.id=n.id,this.declaratie.status=n.status,this.declaratie.statusData=n.statusData,this.declaratie.statusData.ingediendOp&&(this.declaratie.datum=this.declaratie.statusData.ingediendOp),window.location.pathname.endsWith("nieuw")&&window.history.pushState("Declaratie "+n.id,"Declaratie","/declaratie/"+n.id)),this.errors=n.messages,this.submitting=!1,this.editing=!1,n.success&&window.scrollTo(0,0)},reload(){window.location.reload()},declaratieBewerken(){this.editing=!0},vulNummer(e){this.declaratie.nummer||(this.declaratie.nummer=e)},removeNummer(e){this.declaratie.nummer===e&&(this.declaratie.nummer=void 0)},conceptVerwijderen(){window.confirm("Wil je deze declaratie verwijderen?")&&(this.submitting=!0,Dn().request({method:"post",url:"/declaratie/verwijderen/"+this.declaratie.id}).then((e=>{window.location.replace(e.data.redirect)})).catch((e=>{var n,t,a;this.submitting=!1,alert(null!==(a=null===(t=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===t?void 0:t.detail)&&void 0!==a?a:e)})))},bedrag(e){const n=e.toString(),t=n.split(".");return 1===t.length?n+",00":t[0]+","+t[1].padEnd(2,"0")}}});var jn=t(9255);const Bn=(0,jn.Z)(zn,[["render",function(e,n,t,o,yn,Dn){const Cn=(0,i.up)("Icon"),En=(0,i.up)("money3"),xn=(0,i.Q2)("input-mask");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("h2",null,"Declaratie "+(0,l.zw)(e.declaratie.nummer),1),(0,i._)("div",d,[(0,i._)("div",{class:(0,l.C_)(["fase concept",{active:"concept"===e.declaratie.status,done:"concept"!==e.declaratie.status}])},r,2),(0,i._)("div",{class:(0,l.C_)(["fase ingediend",{active:"ingediend"===e.declaratie.status,done:"goedgekeurd"===e.declaratie.status||"afgekeurd"===e.declaratie.status||"uitbetaald"===e.declaratie.status}])},[c,"concept"!==e.declaratie.status?((0,i.wg)(),(0,i.iD)("span",u,(0,l.zw)(e.declaratie.statusData.ingediendDoor)+", "+(0,l.zw)(e.declaratie.statusData.ingediendOp),1)):(0,i.kq)("v-if",!0)],2),"afgekeurd"!==e.declaratie.status&&"C.S.R.-pas"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,l.C_)(["fase goedgekeurd",{active:"goedgekeurd"===e.declaratie.status,done:"uitbetaald"===e.declaratie.status}])},[g,e.declaratie.statusData.beoordeeldDoor?((0,i.wg)(),(0,i.iD)("span",m,(0,l.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,l.zw)(e.declaratie.statusData.goedgekeurdOp),1)):(0,i.kq)("v-if",!0)],2)):(0,i.kq)("v-if",!0),"afgekeurd"!==e.declaratie.status&&"voorgeschoten"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,l.C_)(["fase uitbetaald",{active:"goedgekeurd"===e.declaratie.status,done:"uitbetaald"===e.declaratie.status}])},[p,e.declaratie.statusData.beoordeeldDoor?((0,i.wg)(),(0,i.iD)("span",v,(0,l.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,l.zw)(e.declaratie.statusData.goedgekeurdOp),1)):(0,i.kq)("v-if",!0)],2)):(0,i.kq)("v-if",!0),"afgekeurd"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("div",{key:2,class:(0,l.C_)(["fase afgekeurd",{active:"afgekeurd"===e.declaratie.status}])},[h,e.declaratie.statusData.beoordeeldDoor?((0,i.wg)(),(0,i.iD)("span",b,(0,l.zw)(e.declaratie.statusData.beoordeeldDoor)+", "+(0,l.zw)(e.declaratie.statusData.afgekeurdOp),1)):(0,i.kq)("v-if",!0)],2)):(0,i.kq)("v-if",!0),"afgekeurd"!==e.declaratie.status&&"voorgeschoten"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",{key:3,class:(0,l.C_)(["fase goedgekeurd",{active:"uitbetaald"===e.declaratie.status}])},[f,(0,i._)("span",k,(0,l.zw)(e.declaratie.statusData.uitbetaaldOp),1)],2)):(0,i.kq)("v-if",!0)]),e.declaratie.statusData.magBeoordelen&&"concept"!==e.declaratie.status?((0,i.wg)(),(0,i.iD)("div",w,[A,(0,i.wy)((0,i._)("input",{id:"datumDeclaratie","onUpdate:modelValue":n[0]||(n[0]=n=>e.declaratie.datum=n),"data-inputmask":"'alias': 'datetime', 'inputFormat': 'dd-mm-yyyy'",type:"text",disabled:e.veldenDisabled},null,8,_),[[a.nr,e.declaratie.datum],[xn]])])):(0,i.kq)("v-if",!0),(0,i._)("div",y,[D,(0,i.wy)((0,i._)("select",{id:"categorie","onUpdate:modelValue":n[1]||(n[1]=n=>e.declaratie.categorie=n),disabled:e.veldenDisabled},[E,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.categorieen,((e,n)=>((0,i.wg)(),(0,i.iD)("option",{key:"categorie-"+e,value:e},(0,l.zw)(n),9,x)))),128))],8,C),[[a.bM,e.declaratie.categorie]])]),(0,i._)("div",z,[j,(0,i.wy)((0,i._)("input",{id:"omschrijving","onUpdate:modelValue":n[2]||(n[2]=n=>e.declaratie.omschrijving=n),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,B),[[a.nr,e.declaratie.omschrijving]])]),(0,i._)("div",S,[M,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"C.S.R.-pas","onUpdate:modelValue":n[3]||(n[3]=n=>e.declaratie.betaalwijze=n),type:"radio",name:"betaalwijze",value:"C.S.R.-pas",disabled:e.veldenDisabled},null,8,V),[[a.G2,e.declaratie.betaalwijze]]),O]),(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"voorgeschoten","onUpdate:modelValue":n[4]||(n[4]=n=>e.declaratie.betaalwijze=n),type:"radio",name:"betaalwijze",value:"voorgeschoten",disabled:e.veldenDisabled},null,8,U),[[a.G2,e.declaratie.betaalwijze]]),q])]),"voorgeschoten"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",L,[P,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"eigenRekening","onUpdate:modelValue":n[5]||(n[5]=n=>e.declaratie.eigenRekening=n),type:"radio",value:!0,disabled:e.veldenDisabled},null,8,G),[[a.G2,e.declaratie.eigenRekening]]),(0,i._)("label",I,"Naar eigen rekening: "+(0,l.zw)(e.iban)+" t.n.v. "+(0,l.zw)(e.tenaamstelling),1)]),(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"nietEigenRekening","onUpdate:modelValue":n[6]||(n[6]=n=>e.declaratie.eigenRekening=n),type:"radio",value:!1,disabled:e.veldenDisabled},null,8,T),[[a.G2,e.declaratie.eigenRekening]]),Z])])):(0,i.kq)("v-if",!0),"voorgeschoten"!==e.declaratie.betaalwijze||e.declaratie.eigenRekening?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",R,[K,(0,i.wy)((0,i._)("input",{id:"rekening","onUpdate:modelValue":n[7]||(n[7]=n=>e.declaratie.rekening=n),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,F),[[a.nr,e.declaratie.rekening]])])),"voorgeschoten"===e.declaratie.betaalwijze&&!e.declaratie.eigenRekening||"C.S.R.-pas"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("div",H,["voorgeschoten"===e.declaratie.betaalwijze?((0,i.wg)(),(0,i.iD)("label",Y,"Ten name van")):((0,i.wg)(),(0,i.iD)("label",W,"Bij bedrijf")),(0,i.wy)((0,i._)("input",{id:"tnv","onUpdate:modelValue":n[8]||(n[8]=n=>e.declaratie.tnv=n),type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,$),[[a.nr,e.declaratie.tnv]])])):(0,i.kq)("v-if",!0),e.bonUploaden||!e.heeftBonnen?((0,i.wg)(),(0,i.iD)("div",N,[(0,i._)("div",J,[Q,X,(0,i._)("div",ee,[e.uploading?((0,i.wg)(),(0,i.iD)("button",ne,[(0,i.Wm)(Cn,{icon:"spinner fa-spin"})])):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[te,(0,i._)("input",{id:"fileUpload",type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:n[9]||(n[9]=n=>e.uploadBon(n.target.files))},null,32),e.heeftBonnen?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"open",onClick:n[10]||(n[10]=n=>e.bonUploaden=!1)}," Annuleren ")):(0,i.kq)("v-if",!0)],64))])])])):(0,i.kq)("v-if",!0),!e.bonUploaden&&e.heeftBonnen?((0,i.wg)(),(0,i.iD)("div",ae,[(0,i._)("div",ie,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.declaratie.bonnen,((n,t)=>((0,i.wg)(),(0,i.iD)("div",{key:"bon-"+t,class:"bon"},[t!==e.geselecteerdeBon?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"bon-collapsed",onClick:n=>e.geselecteerdeBon=t},[(0,i._)("div",oe,[(0,i._)("div",se,"Bon "+(0,l.zw)(Number(t)+1),1),(0,i._)("div",de,(0,l.zw)(n.datum),1)]),(0,i._)("div",re,[(0,i._)("div",ce," € "+(0,l.zw)(e.bedrag(e.berekening(n).totaalIncl)),1),ue])],8,le)):((0,i.wg)(),(0,i.iD)("div",ge,[(e.declaratie.bonnen.length>1||"concept"===e.declaratie.status)&&!e.veldenDisabled?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"bonVerwijderen",onClick:n=>e.bonVerwijderen(t)},[(0,i.Wm)(Cn,{icon:"verwijderen"})],8,me)):(0,i.kq)("v-if",!0),(0,i._)("div",pe,"Bon "+(0,l.zw)(Number(t)+1),1),(0,i._)("div",ve,[(0,i._)("label",{for:"bon"+t+"_datum"},"Datum",8,he),(0,i.wy)((0,i._)("input",{id:"bon"+t+"_datum","onUpdate:modelValue":e=>n.datum=e,"data-inputmask":"'alias': 'datetime', 'inputFormat': 'dd-mm-yyyy'",type:"text",disabled:e.veldenDisabled},null,8,be),[[a.nr,n.datum],[xn]])]),(0,i._)("div",fe,[ke,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.regels,((l,o)=>((0,i.wg)(),(0,i.iD)("div",{key:"regel-"+t+"-"+o,class:"regels-row"},[(0,i._)("div",we,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e=>l.omschrijving=e,type:"text",disabled:e.veldenDisabled,maxlength:"255"},null,8,Ae),[[a.nr,l.omschrijving]])]),(0,i._)("div",_e,[(0,i.Wm)(En,(0,i.dG)(e.money,{modelValue:l.bedrag,"onUpdate:modelValue":e=>l.bedrag=e,style:{"text-align":"right"},disabled:e.veldenDisabled}),null,16,["modelValue","onUpdate:modelValue","disabled"])]),(0,i._)("div",ye,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>l.btw=e,disabled:e.veldenDisabled},Ce,8,De),[[a.bM,l.btw]])]),n.regels.length>1&&!e.veldenDisabled?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"trash",onClick:t=>e.regelVerwijderen(n,o)},[(0,i.Wm)(Cn,{icon:"verwijderen"})],8,Ee)):(0,i.kq)("v-if",!0)])))),128)),e.veldenDisabled?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"regels-row nieuw",onClick:t=>e.nieuweRegel(n)},[ze,(0,i._)("div",je,[(0,i.Wm)(Cn,{icon:"toevoegen"})])],8,xe)),(0,i._)("div",Be,[Se,(0,i._)("div",Me,(0,l.zw)(e.bedrag(e.berekening(n).totaalExcl)),1)]),0!==e.berekening(n).btw[9]?((0,i.wg)(),(0,i.iD)("div",Ve,[Oe,(0,i._)("div",Ue,(0,l.zw)(e.bedrag(e.berekening(n).btw[9])),1)])):(0,i.kq)("v-if",!0),0!==e.berekening(n).btw[21]?((0,i.wg)(),(0,i.iD)("div",qe,[Le,(0,i._)("div",Pe,(0,l.zw)(e.bedrag(e.berekening(n).btw[21])),1)])):(0,i.kq)("v-if",!0),(0,i._)("div",Ge,[Ie,(0,i._)("div",Te,(0,l.zw)(e.bedrag(e.berekening(n).totaalIncl)),1)])])]))])))),128)),e.veldenDisabled?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"nieuwe-bon",onClick:n[11]||(n[11]=n=>e.bonUploaden=!0)},[(0,i.Wm)(Cn,{icon:"toevoegen"}),(0,i.Uk)(" Nieuwe bon ")]))]),(0,i._)("div",Ze,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.declaratie.bonnen,((t,o)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:"voorbeeld-"+o},[t.bestandsnaam.toLowerCase().endsWith(".pdf")?((0,i.wg)(),(0,i.iD)("iframe",{key:0,src:t.bestandsnaam,title:"Bon"},null,8,Re)):((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,l.C_)(["imageContainer",{zoomFit:e.isZoomFit}])},[(0,i._)("img",{src:t.bestandsnaam,alt:"Bon",onClick:n[12]||(n[12]=n=>e.zoomFit())},null,8,Ke)],2))])),[[a.F8,e.geselecteerdeBon===o]]))),128))])])):(0,i.kq)("v-if",!0),e.totaal>0?((0,i.wg)(),(0,i.iD)("div",Fe,[He,(0,i._)("div",Ye,[(0,i._)("div",We,"€ "+(0,l.zw)(e.bedrag(e.totaal)),1),$e])])):(0,i.kq)("v-if",!0),(0,i._)("div",Ne,[Je,(0,i.wy)((0,i._)("textarea",{id:"opmerkingen","onUpdate:modelValue":n[13]||(n[13]=n=>e.declaratie.opmerkingen=n),disabled:e.veldenDisabled},null,8,Qe),[[a.nr,e.declaratie.opmerkingen]])]),"concept"!==e.declaratie.status&&"afgekeurd"!==e.declaratie.status&&e.declaratie.statusData.magBeoordelen?((0,i.wg)(),(0,i.iD)("div",Xe,[en,(0,i.wy)((0,i._)("input",{id:"nummer","onUpdate:modelValue":n[14]||(n[14]=n=>e.declaratie.nummer=n),placeholder:"ingediend"!==e.declaratie.status&&!e.editing||e.submitting?"":e.declaratie.statusData.nummerPrefix+"000",type:"text",disabled:"ingediend"!==e.declaratie.status&&!e.editing||e.submitting,onFocus:n[15]||(n[15]=n=>e.vulNummer(e.declaratie.statusData.nummerPrefix)),onBlur:n[16]||(n[16]=n=>e.removeNummer(e.declaratie.statusData.nummerPrefix))},null,40,nn),[[a.nr,e.declaratie.nummer]])])):(0,i.kq)("v-if",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.errors,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{key:"error-"+n,class:"field alert alert-warning",role:"alert"},(0,l.zw)(e),1)))),128)),e.veldenDisabled||e.submitting||e.editing?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",tn,["concept"===e.declaratie.status&&e.declaratie.id?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"afkeuren",disabled:e.submitting,onClick:n[17]||(n[17]=n=>e.conceptVerwijderen())}," Concept verwijderen ",8,an)):(0,i.kq)("v-if",!0),"concept"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"concept",disabled:e.submitting,onClick:n[18]||(n[18]=n=>e.declaratieOpslaan(!1))}," Concept opslaan en later afmaken ",8,ln)):(0,i.kq)("v-if",!0),(0,i._)("button",{class:"confirm",disabled:e.submitting,onClick:n[19]||(n[19]=n=>e.declaratieOpslaan(!0))}," Declaratie indienen ",8,on)])),e.editing&&!e.submitting?((0,i.wg)(),(0,i.iD)("div",sn,[(0,i._)("button",{class:"afkeuren",disabled:e.submitting,onClick:n[20]||(n[20]=n=>e.reload())}," Wijzigingen annuleren ",8,dn),(0,i._)("button",{class:"confirm",disabled:e.submitting,onClick:n[21]||(n[21]=n=>e.declaratieOpslaan(!0))}," Opslaan ",8,rn)])):(0,i.kq)("v-if",!0),"concept"===e.declaratie.status||!e.declaratie.statusData.magBeoordelen||e.editing||e.submitting?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",cn,["ingediend"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"concept",disabled:e.submitting,onClick:n[22]||(n[22]=n=>e.setStatus("concept"))}," Terug naar concept ",8,un)):(0,i.kq)("v-if",!0),"goedgekeurd"===e.declaratie.status||"afgekeurd"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"ingediend",disabled:e.submitting,onClick:n[23]||(n[23]=n=>e.setStatus("ingediend"))}," Terug naar ingediend ",8,gn)):(0,i.kq)("v-if",!0),"ingediend"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:2,class:"goedkeuren",disabled:e.submitting,onClick:n[24]||(n[24]=n=>e.setStatus("goedgekeurd"))}," Goedkeuren ",8,mn)):(0,i.kq)("v-if",!0),"ingediend"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:3,class:"afkeuren",disabled:e.submitting,onClick:n[25]||(n[25]=n=>e.setStatus("afgekeurd"))}," Afkeuren ",8,pn)):(0,i.kq)("v-if",!0),e.declaratie.statusData.magUitbetalen&&"goedgekeurd"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:4,class:"uitbetaald",disabled:e.submitting,onClick:n[26]||(n[26]=n=>e.setStatus("uitbetaald"))}," Uitbetaald ",8,vn)):(0,i.kq)("v-if",!0),e.declaratie.statusData.magUitbetalen&&"uitbetaald"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("button",{key:5,class:"goedkeuren",disabled:e.submitting,onClick:n[27]||(n[27]=n=>e.setStatus("goedgekeurd"))}," Uitbetaald ongedaan maken ",8,hn)):(0,i.kq)("v-if",!0),bn,(0,i._)("button",{class:"concept",onClick:n[28]||(n[28]=n=>e.declaratieBewerken())},"Bewerken"),(0,i._)("a",{href:"mailto:"+e.email,class:"no-mail"},kn,8,fn),"goedgekeurd"===e.declaratie.status||"uitbetaald"===e.declaratie.status?((0,i.wg)(),(0,i.iD)("a",{key:6,href:"/declaratie/print/"+e.declaratie.id,class:"no-mail"},An,8,wn)):(0,i.kq)("v-if",!0)])),e.submitting?((0,i.wg)(),(0,i.iD)("div",_n,[(0,i.Wm)(Cn,{icon:"spinner fa-spin"})])):(0,i.kq)("v-if",!0)])}],["__scopeId","data-v-a9135194"]]),Sn={class:"card groep"},Mn={class:"card-body"},Vn={class:"card-title"},On={class:"row"},Un={key:0,class:"left-col col-md-5"},qn={class:"card-text"},Ln={class:"col results"},Pn={class:"table table-sm"};const Gn="checkbox_1",In="dropdown_1",Tn="radios_1",Zn="text_1";const Rn={class:"mb-3"},Kn={class:"custom-control custom-checkbox"},Fn=["id","checked"],Hn=["for"];const Yn=(0,i.aZ)({props:{keuze:{required:!0,type:Object},modelValue:Boolean},emits:["update:modelValue"]}),Wn=(0,jn.Z)(Yn,[["render",function(e,n,t,a,o,s){return(0,i.wg)(),(0,i.iD)("div",Rn,[(0,i._)("div",Kn,[(0,i._)("input",{id:`customCheck${e.keuze.naam}`,type:"checkbox",class:"custom-control-input",checked:e.modelValue,onInput:n[0]||(n[0]=n=>e.$emit("update:modelValue",n.target.checked))},null,40,Fn),(0,i._)("label",{class:"custom-control-label",for:`customCheck${e.keuze.naam}`},(0,l.zw)(e.keuze.description),9,Hn)])])}]]),$n={class:"mb-3"},Nn={class:"w-100"},Jn=["name"],Qn=["value","selected"];const Xn=(0,i.aZ)({props:{keuze:{required:!0,type:Object},modelValue:{required:!0,type:String}},emits:["update:modelValue"]}),et=(0,jn.Z)(Xn,[["render",function(e,n,t,a,o,s){return(0,i.wg)(),(0,i.iD)("div",$n,[(0,i._)("label",Nn,[(0,i.Uk)((0,l.zw)(e.keuze.description)+" ",1),(0,i._)("select",{class:"form-select",name:"DropDownKeuze-"+e.keuze.naam,onInput:n[0]||(n[0]=n=>e.$emit("update:modelValue",n.target.value))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.keuze.opties,((n,t)=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:n,selected:n===e.modelValue},(0,l.zw)(n),9,Qn)))),128))],40,Jn)])])}]]),nt={class:"mb-3"},tt={class:"w-100"},at={class:"btn-group"},it=["name","value","checked"];const lt=(0,i.aZ)({props:{keuze:{required:!0,type:Object},modelValue:{required:!0,type:String}},emits:["update:modelValue"]}),ot=(0,jn.Z)(lt,[["render",function(e,n,t,a,o,s){return(0,i.wg)(),(0,i.iD)("div",nt,[(0,i._)("label",tt,(0,l.zw)(e.keuze.description),1),(0,i._)("div",at,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.keuze.opties,((t,a)=>((0,i.wg)(),(0,i.iD)("label",{key:a,class:(0,l.C_)({"btn btn-outline-primary":!0,active:t===e.modelValue})},[(0,i._)("input",{type:"radio",name:"MultiSelectKeuze-"+e.keuze.naam,class:"d-none",value:t,checked:t===e.modelValue,onInput:n[0]||(n[0]=n=>e.$emit("update:modelValue",n.target.value))},null,40,it),(0,i.Uk)((0,l.zw)(t),1)],2)))),128))])])}]]),st={class:"mb-3"},dt=["for"],rt=["id","value"];const ct=(0,i.aZ)({props:{keuze:{required:!0,type:Object},modelValue:{required:!0,type:String}},emits:["update:modelValue"]}),ut=(0,jn.Z)(ct,[["render",function(e,n,t,a,o,s){return(0,i.wg)(),(0,i.iD)("div",st,[(0,i._)("label",{for:"customCheck"+e.keuze.naam},(0,l.zw)(e.keuze.description),9,dt),(0,i._)("input",{id:"customCheck"+e.keuze.naam,type:"text",class:"form-control",value:e.modelValue,onInput:n[0]||(n[0]=n=>e.$emit("update:modelValue",n.target.value))},null,40,rt)])}]]),gt=(0,i.aZ)({props:{keuzes:{required:!0,type:Array},opmerking:{required:!0,type:Array},aangemeld:{required:!0,type:Boolean}},emits:["aanmelden"],data:()=>({opmerkingData:[]}),created(){this.opmerkingData=this.opmerking},methods:{getKeuze(e){return this.keuzes.find((n=>n.naam===e))},getComponent(e){const n=this.getKeuze(e).type;switch(n){case Gn:return Wn;case Zn:return ut;case Tn:return ot;case In:return et;default:throw Error(`Kan component voor GroepKeuzeType '${n}' niet vinden.`)}}}}),mt=(0,jn.Z)(gt,[["render",function(e,n,t,a,l,o){return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.opmerkingData,(n=>((0,i.wg)(),(0,i.j4)((0,i.LL)(e.getComponent(n.naam)),{key:n.naam,modelValue:n.selectie,"onUpdate:modelValue":e=>n.selectie=e,keuze:e.getKeuze(n.naam)},null,8,["modelValue","onUpdate:modelValue","keuze"])))),128)),(0,i._)("button",{class:"btn btn-primary",onClick:n[0]||(n[0]=n=>e.$emit("aanmelden",e.opmerkingData))}," Aanmelden ")])}]]),pt=(0,i._)("th",{scope:"col"},null,-1);const vt=(0,i.aZ)({props:{keuzes:{required:!0,type:Array}}}),ht=(0,jn.Z)(vt,[["render",function(e,n,t,a,o,s){return(0,i.wg)(),(0,i.iD)("thead",null,[(0,i._)("tr",null,[pt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.keuzes,(e=>((0,i.wg)(),(0,i.iD)("th",{key:e.description,scope:"col"},(0,l.zw)(e.description),1)))),128))])])}]]),bt=["innerHTML"],ft=["innerHTML"];var kt=t(8307);const wt=(0,i.aZ)({components:{Icon:En},props:{lid:{required:!0,type:Object},keuzes:{required:!0,type:Array}},methods:{getLidKeuze(e){return this.lid.opmerking2?this.lid.opmerking2.find((n=>n.naam===e.naam)):void 0},isKeuzeCheckbox:e=>e.type===Gn,renderSelectie:e=>(0,kt.Ak)(e.selectie)}}),At=(0,jn.Z)(wt,[["render",function(e,n,t,a,l,o){const s=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.kq)(" eslint-disable vue/no-v-html "),(0,i._)("tr",null,[(0,i._)("td",{class:"text-nowrap",innerHTML:e.lid.link},null,8,bt),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.keuzes,(n=>((0,i.wg)(),(0,i.iD)("td",{key:n.naam},[void 0===e.getLidKeuze(n)?((0,i.wg)(),(0,i.j4)(s,{key:0,icon:"ban"})):e.isKeuzeCheckbox(n)&&e.getLidKeuze(n).selectie?((0,i.wg)(),(0,i.j4)(s,{key:1,icon:"check"})):e.isKeuzeCheckbox(n)&&!e.getLidKeuze(n).selectie?((0,i.wg)(),(0,i.j4)(s,{key:2,icon:"xmark"})):((0,i.wg)(),(0,i.iD)("span",{key:3,innerHTML:e.renderSelectie(e.getLidKeuze(n))},null,8,ft))])))),128))])],2112)}]]),_t=(0,i.aZ)({components:{GroepAanmeldForm:mt,GroepLidRow:At,GroepHeaderRow:ht},props:{settings:{required:!0,type:Object},groep:{required:!0,type:Object}},data:()=>({id:0,naam:"",familie:"",beginMoment:new Date,eindMoment:new Date,status:"",samenvatting:"",omschrijving:"",makerUid:"",versie:"",keuzelijst2:[],leden:[],mijnUid:"",mijnLink:"",aanmeldUrl:"",mijnOpmerking:[]}),computed:{mijnAanmelding(){return this.leden.find((e=>e.uid===this.mijnUid))},aangemeld(){return void 0!==this.mijnAanmelding},magAanmelden(){return console.log(this.groep.aanmeldenTot,new Date),!this.groep.aanmeldenTot||new Date(this.groep.aanmeldenTot)>new Date}},created(){this.id=this.groep.id,this.naam=this.groep.naam,this.familie=this.groep.familie,this.beginMoment=this.groep.beginMoment,this.eindMoment=this.groep.eindMoment,this.status=this.groep.status,this.samenvatting=this.groep.samenvatting,this.omschrijving=this.groep.omschrijving,this.makerUid=this.groep.makerUid,this.versie=this.groep.versie,this.keuzelijst2=this.groep.keuzelijst2,this.leden=this.groep.leden,this.mijnUid=this.settings.mijn_uid,this.mijnLink=this.settings.mijn_link,this.aanmeldUrl=this.settings.aanmeld_url,this.aangemeld?this.mijnOpmerking=this.mijnAanmelding.opmerking2:this.mijnOpmerking=this.keuzelijst2.map((e=>({selectie:e.default,naam:e.naam})))},methods:{aanmelden(){this.aangemeld||(this.leden.push({uid:this.mijnUid,link:this.mijnLink,opmerking2:this.mijnOpmerking}),Dn().post(this.aanmeldUrl,{opmerking2:this.mijnOpmerking}))}}});var yt=t(665),Dt=t.n(yt),Ct=t(5350),Et={insert:"head",singleton:!1};Dt()(Ct.Z,Et);Ct.Z.locals;const xt=(0,jn.Z)(_t,[["render",function(e,n,t,a,o,s){const d=(0,i.up)("GroepAanmeldForm"),r=(0,i.up)("GroepHeaderRow"),c=(0,i.up)("GroepLidRow");return(0,i.wg)(),(0,i.iD)("div",Sn,[(0,i._)("div",Mn,[(0,i._)("h3",Vn,(0,l.zw)(e.naam),1),(0,i._)("div",On,[!e.aangemeld&&e.magAanmelden?((0,i.wg)(),(0,i.iD)("div",Un,[(0,i._)("p",qn,(0,l.zw)(e.samenvatting),1),(0,i.Wm)(d,{keuzes:e.keuzelijst2,opmerking:e.mijnOpmerking,aangemeld:e.aangemeld,onAanmelden:e.aanmelden},null,8,["keuzes","opmerking","aangemeld","onAanmelden"])])):(0,i.kq)("v-if",!0),(0,i._)("div",Ln,[(0,i._)("table",Pn,[(0,i.Wm)(r,{keuzes:e.keuzelijst2},null,8,["keuzes"]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.leden,(n=>((0,i.wg)(),(0,i.j4)(c,{key:n.uid,lid:n,keuzes:e.keuzelijst2},null,8,["lid","keuzes"])))),128))])])])])])])}],["__scopeId","data-v-4994458c"]]),zt=e=>((0,i.dD)("data-v-090c44cf"),e=e(),(0,i.Cn)(),e),jt={key:0,class:"score-blok"},Bt={class:"titel"},St=zt((()=>(0,i._)("div",{class:"score-titel"},"Jouw score:",-1))),Mt={class:"score"},Vt={key:1},Ot={class:"row"},Ut={class:"col-sm-6"},qt=zt((()=>(0,i._)("strong",{class:"mb-1 block"},"Lichting(en)",-1))),Lt=zt((()=>(0,i._)("label",{for:"alleLichtingen"},"Alle lichtingen",-1))),Pt=["id","value"],Gt=["checked"],It=["for"],Tt={class:"col-sm-6"},Zt=zt((()=>(0,i._)("strong",{class:"mb-1 block"},"Verticale(n)",-1))),Rt=zt((()=>(0,i._)("label",{for:"alleVerticalen"},"Alle verticalen",-1))),Kt=["id","value"],Ft=["checked"],Ht=["for"],Yt=zt((()=>(0,i._)("strong",{class:"mb-1 block"},"Onderkant verbergen",-1))),Wt=zt((()=>(0,i._)("label",{for:"verbergOnderkant"},"Voorkom leesbare namen op foto's",-1))),$t=zt((()=>(0,i._)("strong",{class:"mt-3 mb-1 block"},"Antwoordmethode",-1))),Nt=[zt((()=>(0,i._)("option",{value:"voornaam"},"Voornaam",-1))),zt((()=>(0,i._)("option",{value:"achternaam"},"Achternaam",-1))),zt((()=>(0,i._)("option",{value:"combi"},"Voor- en achternaam",-1))),zt((()=>(0,i._)("option",{value:"civi"},"Achternaam en achtervoegsel",-1)))],Jt=["onClick"],Qt={key:2},Xt={class:"progress"},ea=["src"],na={class:"info"},ta={class:"naam"},aa={key:0},ia={class:"tekst"},la={key:0},oa={key:1,class:"mb-1 block"},sa={key:2,class:"mb-1 block"},da={key:3,class:"mb-1 block"},ra={key:4,class:"mb-1 block"},ca=["value","onKeydown"],ua=(0,i.aZ)({__name:"NamenLeren",props:{leden:null},setup(e){const n=e,t=[],o=e=>{if(t.includes(e))return;t.push(e);(new Image).src=e},s=(0,Cn.qj)({alleLichtingen:!1,alleVerticalen:!0,lichtingSelectie:[],verticaleSelectie:[],antwoordMethode:"voornaam",aantalPerKeer:5,verbergOnderkant:!0,started:!1,finished:!1,goed:[],opnieuw:[],fout:[],todo:[],laatste:null,laatsteGoed:null,huidig:null,ingevuld:"",titel:""}),d=(0,i.Fl)((()=>r.value.length)),r=(0,i.Fl)((()=>n.leden.filter((e=>(s.alleLichtingen||s.lichtingSelectie.includes(e.lichting))&&(s.alleVerticalen||s.verticaleSelectie.includes(e.verticale)))))),c=(0,i.Fl)((()=>(0,kt.jj)(n.leden.map((e=>e.lichting))).sort())),u=(0,i.Fl)((()=>(0,kt.jj)(n.leden.map((e=>e.verticale))).sort())),g=(0,i.Fl)((()=>r.value.length>0)),m=(0,i.Fl)((()=>s.todo.length+s.goed.length+s.opnieuw.length+s.fout.length)),p=(0,i.Fl)((()=>m.value>0?s.goed.length/m.value*100:0)),v=(0,i.Fl)((()=>m.value>0?s.opnieuw.length/m.value*100:0)),h=(0,i.Fl)((()=>m.value>0?s.fout.length/m.value*100:0)),b=()=>{g.value&&(s.started=!0,s.goed=[],s.opnieuw=[],s.fout=[],s.todo=r.value,(0,kt.TV)(s.todo),s.huidig=null,s.laatste=null,s.finished=!1,f(),s.titel=w(),document.title=`C.S.R. Delft - Namen ${s.titel} leren`,window.scrollTo(0,0))},f=()=>{const e=s.fout.concat(s.todo.slice(0,Math.max(s.aantalPerKeer-s.fout.length,0))),n=e.filter((n=>1===e.length||!s.huidig||n.uid!==s.huidig.uid));if(n.length>0){for(const e of n)o("/profiel/pasfoto/"+e.uid+".jpg");s.huidig=n[Math.floor(Math.random()*n.length)],s.ingevuld=""}else s.finished=!0,s.started=!1},k=()=>{if(null==s.huidig)throw new Error("huidig niet gezet");const e=[];"voornaam"!==s.antwoordMethode&&"combi"!==s.antwoordMethode||e.push(s.huidig.voornaam),"achternaam"!==s.antwoordMethode&&"combi"!==s.antwoordMethode&&"civi"!==s.antwoordMethode||(s.huidig.tussenvoegsel&&e.push(s.huidig.tussenvoegsel),e.push(s.huidig.achternaam)),"civi"===s.antwoordMethode&&s.huidig.postfix&&e.push(s.huidig.postfix);const n=e.map((e=>e.trim())).join(" ");s.laatste=s.huidig,s.laatsteGoed=n.toLowerCase().replace(".","")===s.ingevuld.toLowerCase().replace(".","");let t=s.todo.findIndex((e=>{var n;return e.uid===(null===(n=s.huidig)||void 0===n?void 0:n.uid)}));-1===t?s.laatsteGoed&&(t=s.fout.findIndex((e=>{var n;return e.uid===(null===(n=s.huidig)||void 0===n?void 0:n.uid)})),s.fout.splice(t,1),s.opnieuw.push(s.huidig)):(s.todo.splice(t,1),s.laatsteGoed?s.goed.push(s.huidig):s.fout.push(s.huidig)),f()},w=()=>{if(s.alleLichtingen&&s.alleVerticalen)return"Alle leden";let e="";return s.alleLichtingen||(s.lichtingSelectie.sort(),e+="Lichting ",e+=s.lichtingSelectie.slice(0,s.lichtingSelectie.length-1).join(", "),s.lichtingSelectie.length>1&&(e+=" & "),e+=s.lichtingSelectie[s.lichtingSelectie.length-1]),s.alleVerticalen||(e&&(e+=", "),s.verticaleSelectie.sort(),e+=s.verticaleSelectie.slice(0,s.verticaleSelectie.length-1).join(", "),s.verticaleSelectie.length>1&&(e+=" & "),e+=s.verticaleSelectie[s.verticaleSelectie.length-1]),e};return(e,n)=>((0,i.wg)(),(0,i.iD)("div",null,[s.finished?((0,i.wg)(),(0,i.iD)("div",jt,[(0,i._)("div",Bt,(0,l.zw)(s.titel),1),St,(0,i._)("div",Mt,(0,l.zw)(Math.round((0,Cn.SU)(p)))+"%",1)])):(0,i.kq)("v-if",!0),s.started?s.finished?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",Qt,[(0,i._)("div",Xt,[(0,i._)("div",{class:"correct",style:(0,l.j5)({width:(0,Cn.SU)(p)+"%"})},null,4),(0,i._)("div",{class:"again",style:(0,l.j5)({width:(0,Cn.SU)(v)+"%"})},null,4),(0,i._)("div",{class:"wrong",style:(0,l.j5)({width:(0,Cn.SU)(h)+"%"})},null,4)]),s.laatste?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,l.C_)(["laatste",{goed:s.laatsteGoed}])},[(0,i._)("img",{src:"/profiel/pasfoto/"+s.laatste.uid+".jpg",alt:""},null,8,ea),(0,i._)("div",na,[(0,i._)("div",ta,[(0,i._)("span",{class:(0,l.C_)({bold:"voornaam"===s.antwoordMethode||"combi"===s.antwoordMethode})},(0,l.zw)(s.laatste.voornaam),3),(0,i._)("span",{class:(0,l.C_)({bold:"achternaam"===s.antwoordMethode||"combi"===s.antwoordMethode||"civi"===s.antwoordMethode})},[s.laatste.tussenvoegsel?((0,i.wg)(),(0,i.iD)("span",aa," ​"+(0,l.zw)(s.laatste.tussenvoegsel),1)):(0,i.kq)("v-if",!0),(0,i.Uk)(" "+(0,l.zw)(s.laatste.achternaam),1)],2),s.laatste.postfix?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,l.C_)({bold:"civi"===s.antwoordMethode})},(0,l.zw)(s.laatste.postfix),3)):(0,i.kq)("v-if",!0)]),(0,i._)("div",ia,[(0,i._)("span",null,(0,l.zw)(s.laatste.lichting),1),s.laatste.verticale&&"Geen"!==s.laatste.verticale?((0,i.wg)(),(0,i.iD)("span",la,(0,l.zw)(s.laatste.verticale),1)):(0,i.kq)("v-if",!0),(0,i._)("span",null,(0,l.zw)(s.laatste.studie),1)])]),s.laatsteGoed?((0,i.wg)(),(0,i.j4)(En,{key:0,icon:"check"})):((0,i.wg)(),(0,i.j4)(En,{key:1,icon:"xmark"}))],2)):(0,i.kq)("v-if",!0),(0,i._)("div",{class:(0,l.C_)(["pasfotoContainer",{onderkantVerbergen:s.verbergOnderkant}])},[(0,i._)("div",{style:(0,l.j5)({"background-image":"url(/profiel/pasfoto/"+s.huidig.uid+".jpg)"}),class:"pasfoto"},null,4)],2),"voornaam"===s.antwoordMethode?((0,i.wg)(),(0,i.iD)("strong",oa," Voornaam: ")):(0,i.kq)("v-if",!0),"achternaam"===s.antwoordMethode?((0,i.wg)(),(0,i.iD)("strong",sa," Achternaam: ")):(0,i.kq)("v-if",!0),"combi"===s.antwoordMethode?((0,i.wg)(),(0,i.iD)("strong",da," Voor- en achternaam: ")):(0,i.kq)("v-if",!0),"civi"===s.antwoordMethode?((0,i.wg)(),(0,i.iD)("strong",ra," Achternaam en achtervoegsel: ")):(0,i.kq)("v-if",!0),(0,i._)("input",{type:"text",class:"form-control",value:s.ingevuld,autofocus:"",onInput:n[6]||(n[6]=e=>s.ingevuld=e.target.value),onKeydown:(0,a.D2)(k,["enter"])},null,40,ca)])):((0,i.wg)(),(0,i.iD)("div",Vt,[(0,i._)("div",Ot,[(0,i._)("div",Ut,[qt,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"alleLichtingen","onUpdate:modelValue":n[0]||(n[0]=e=>s.alleLichtingen=e),type:"checkbox"},null,512),[[a.e8,s.alleLichtingen]]),Lt]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,Cn.SU)(c),(e=>((0,i.wg)(),(0,i.iD)("div",{key:e},[s.alleLichtingen?(0,i.kq)("v-if",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,id:"lichting"+e,"onUpdate:modelValue":n[1]||(n[1]=e=>s.lichtingSelectie=e),type:"checkbox",value:e},null,8,Pt)),[[a.e8,s.lichtingSelectie]]),s.alleLichtingen?((0,i.wg)(),(0,i.iD)("input",{key:1,type:"checkbox",checked:s.alleLichtingen,disabled:""},null,8,Gt)):(0,i.kq)("v-if",!0),(0,i._)("label",{for:"lichting"+e},(0,l.zw)(e),9,It)])))),128))]),(0,i._)("div",Tt,[Zt,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"alleVerticalen","onUpdate:modelValue":n[2]||(n[2]=e=>s.alleVerticalen=e),type:"checkbox"},null,512),[[a.e8,s.alleVerticalen]]),Rt]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,Cn.SU)(u),(e=>((0,i.wg)(),(0,i.iD)("div",{key:e},[s.alleVerticalen?(0,i.kq)("v-if",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,id:"verticale"+e,"onUpdate:modelValue":n[3]||(n[3]=e=>s.verticaleSelectie=e),type:"checkbox",value:e},null,8,Kt)),[[a.e8,s.verticaleSelectie]]),s.alleVerticalen?((0,i.wg)(),(0,i.iD)("input",{key:1,type:"checkbox",checked:s.alleVerticalen,disabled:""},null,8,Ft)):(0,i.kq)("v-if",!0),(0,i._)("label",{for:"verticale"+e},(0,l.zw)(e),9,Ht)])))),128))])]),(0,i._)("div",null,[Yt,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{id:"verbergOnderkant","onUpdate:modelValue":n[4]||(n[4]=e=>s.verbergOnderkant=e),type:"checkbox"},null,512),[[a.e8,s.verbergOnderkant]]),Wt])]),$t,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":n[5]||(n[5]=e=>s.antwoordMethode=e),class:"form-control"},Nt,512),[[a.bM,s.antwoordMethode]]),(0,i._)("a",{href:"#",class:(0,l.C_)(["btn btn-primary btn-block mt-3",{disabled:!(0,Cn.SU)(g)}]),onClick:(0,a.iM)(b,["prevent"])}," Start met "+(0,l.zw)((0,Cn.SU)(d))+" "+(0,l.zw)(1===(0,Cn.SU)(d)?"lid":"leden"),11,Jt)]))]))}});var ga=t(7050),ma={insert:"head",singleton:!1};Dt()(ga.Z,ma);ga.Z.locals;const pa=(0,jn.Z)(ua,[["__scopeId","data-v-090c44cf"]]);var va=t(4306),ha=t(7432);const ba={class:"progress"},fa=(0,i.aZ)({__name:"ProgressBar",props:{progress:null},setup:e=>(n,t)=>((0,i.wg)(),(0,i.iD)("div",ba,[(0,i._)("div",{class:"progress-bar",style:(0,l.j5)({width:e.progress+"%"})},[(0,i.WI)(n.$slots,"default")],4)]))}),ka={key:0,class:"row"},wa={class:"col-md-4"},Aa={class:"col-md-6"},_a={class:"col-md-2"},ya=["innerHTML"],Da={key:1,class:"row"},Ca={class:"col-md-12"},Ea={class:"form-check"},xa=["id","value","disabled","checked"],za=["for"],ja=["innerHTML"],Ba=(0,i.aZ)({__name:"PeilingOptie",props:{id:null,titel:null,beschrijving:null,stemmen:null,magStemmen:{type:Boolean},aantalGestemd:null,heeftGestemd:{type:Boolean},keuzesOver:{type:Boolean},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e){const n=e,t=(0,Cn.iH)(null),a=(0,Cn.iH)(null),o=(0,i.Fl)((()=>n.magStemmen&&!n.heeftGestemd)),s=(0,i.Fl)((()=>(n.stemmen/n.aantalGestemd*100).toFixed(2))),d=(0,i.Fl)((()=>`${s.value}% (${n.stemmen})`)),r=(0,i.Fl)((()=>!n.modelValue&&!n.keuzesOver));(0,i.YP)(o,(()=>c())),(0,i.bv)((()=>c()));const c=()=>setTimeout((()=>{o.value&&t.value instanceof HTMLElement?(0,ha.S)(t.value):a.value instanceof HTMLElement&&(0,ha.S)(a.value)}));return(n,c)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.kq)(" eslint-disable vue/no-v-html "),(0,Cn.SU)(o)?((0,i.wg)(),(0,i.iD)("div",Da,[(0,i._)("div",Ca,[(0,i._)("div",Ea,[(0,i._)("input",{id:"PeilingOptie"+e.id,type:"checkbox",class:"form-check-input",name:"optie",value:e.id,disabled:(0,Cn.SU)(r),checked:e.modelValue,onChange:c[0]||(c[0]=e=>n.$emit("update:modelValue",e.target.checked))},null,40,xa),(0,i._)("label",{for:"PeilingOptie"+e.id,class:"form-check-label"},(0,l.zw)(e.titel),9,za)])]),(0,i._)("div",{ref_key:"beschrijvingRef",ref:t,class:"col-md-12 pt-2",innerHTML:e.beschrijving},null,8,ja)])):((0,i.wg)(),(0,i.iD)("div",ka,[(0,i._)("div",wa,(0,l.zw)(e.titel),1),(0,i._)("div",Aa,[(0,i.Wm)(fa,{progress:(0,Cn.SU)(s)},null,8,["progress"])]),(0,i._)("div",_a,(0,l.zw)((0,Cn.SU)(d)),1),(0,i._)("div",{ref_key:"beschrijvingGestemdRef",ref:a,class:"col text-muted pt-2",innerHTML:e.beschrijving},null,8,ya)]))],2112))}});var Sa=t(7673);const Ma=(0,i.aZ)({__name:"PeilingOptieToevoegen",props:{id:null},setup(e){const n=e,t=(0,Cn.qj)({icon:"plus",text:"Optie toevoegen"}),a=(0,i.Fl)((()=>`/peilingen/opties/${n.id}/toevoegen`)),o=e=>{e.preventDefault(),t.icon="spinner fa-spin",Dn().post(a.value.toString()).then((e=>{(0,Sa.q)(e.data),t.icon="plus"})).catch((()=>{t.icon="ban",t.text="Mag geen optie meer toevoegen"}))};return(e,n)=>((0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("a",{onClick:o},[(0,i.Wm)(En,{icon:t.icon},null,8,["icon"]),(0,i.Uk)(" "+(0,l.zw)(t.text),1)])]))}}),Va={class:"card peiling"},Oa={class:"card-body"},Ua=["href"],qa={class:"totaal"},La={class:"card-title"},Pa=["innerHTML"],Ga={key:0},Ia=[(e=>((0,i.dD)("data-v-fcb43970"),e=e(),(0,i.Cn)(),e))((()=>(0,i._)("div",{class:"card-body"},"Bedankt voor het stemmen!",-1)))],Ta={key:1,class:"card-body"},Za={key:0,class:"pb-2"},Ra={class:"list-group list-group-flush"},Ka={key:0,class:"card-footer footer"},Fa=["disabled"],Ha=(0,i.aZ)({__name:"Peiling",props:{settings:null},setup(e){const n=e,t=(0,Cn.qj)({id:"",titel:"",beschrijving:"",resultaatZichtbaar:!1,aantalVoorstellen:0,aantalStemmen:0,aantalGestemd:0,isMod:!1,heeftGestemd:!1,magStemmen:!1,opties:[],zoekterm:"",huidigePagina:1,paginaSize:10}),o=(0,i.Fl)((()=>`/peilingen/beheer/${t.id}`)),s=(0,i.Fl)((()=>t.opties.filter((e=>e.selected)))),d=(0,i.Fl)((()=>t.opties.filter((e=>e.titel.toLowerCase().includes(t.zoekterm.toLowerCase()))))),r=(0,i.Fl)((()=>{const e=(t.huidigePagina-1)*t.paginaSize,n=e+t.paginaSize;return d.value.slice(e,n)})),c=(0,i.Fl)((()=>t.aantalStemmen-s.value.length>0)),u=(0,i.Fl)((()=>`${s.value.length} van de ${t.aantalStemmen} geselecteerd`)),g=(0,i.Fl)((()=>t.aantalGestemd>0?`(${t.aantalGestemd} stem${t.aantalGestemd>1?"men":""})`:"")),m=(0,i.Fl)((()=>t.opties.length>10)),p=()=>Dn().post(`/peilingen/stem/${t.id}`,{opties:s.value.map((e=>e.id))}).then((()=>{t.heeftGestemd=!0,t.aantalGestemd=t.aantalGestemd+s.value.length,v()})),v=()=>Dn().post(`/peilingen/opties/${t.id}`).then((e=>{t.opties=e.data.data})),h=e=>t.huidigePagina=e;return(0,i.bv)((()=>{t.id=n.settings.id,t.titel=n.settings.titel,t.beschrijving=n.settings.beschrijving,t.resultaatZichtbaar=n.settings.resultaat_zichtbaar,t.aantalVoorstellen=n.settings.aantal_voorstellen,t.aantalStemmen=n.settings.aantal_stemmen,t.aantalGestemd=n.settings.aantal_gestemd,t.isMod=n.settings.is_mod,t.heeftGestemd=n.settings.heeft_gestemd,t.magStemmen=n.settings.mag_stemmen,t.opties=n.settings.opties,document.addEventListener("modalClose",(()=>v()))})),(e,n)=>((0,i.wg)(),(0,i.iD)("div",Va,[(0,i._)("div",Oa,[t.isMod?((0,i.wg)(),(0,i.iD)("a",{key:0,href:(0,Cn.SU)(o),class:"bewerken"},[(0,i.Wm)(En,{icon:"pencil"})],8,Ua)):(0,i.kq)("v-if",!0),(0,i._)("span",qa,(0,l.zw)((0,Cn.SU)(g)),1),(0,i._)("h3",La,(0,l.zw)(t.titel),1),(0,i.kq)(" eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line "),(0,i._)("p",{class:"card-text pt-2",innerHTML:t.beschrijving},null,8,Pa)]),(0,i._)("div",null,[t.heeftGestemd&&!t.resultaatZichtbaar?((0,i.wg)(),(0,i.iD)("div",Ga,Ia)):((0,i.wg)(),(0,i.iD)("div",Ta,[(0,Cn.SU)(m)?((0,i.wg)(),(0,i.iD)("div",Za,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>t.zoekterm=e),type:"text",placeholder:"Zoeken",class:"form-control"},null,512),[[a.nr,t.zoekterm]])])):(0,i.kq)("v-if",!0),(0,i._)("ul",Ra,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,Cn.SU)(r),(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id,class:"list-group-item"},[((0,i.wg)(),(0,i.j4)(Ba,{id:e.id,key:e.id,modelValue:e.selected,"onUpdate:modelValue":n=>e.selected=n,titel:e.titel,beschrijving:e.beschrijving_formatted,stemmen:e.stemmen,"mag-stemmen":t.magStemmen,"heeft-gestemd":t.heeftGestemd,"aantal-gestemd":t.aantalGestemd,"keuzes-over":(0,Cn.SU)(c)},null,8,["id","modelValue","onUpdate:modelValue","titel","beschrijving","stemmen","mag-stemmen","heeft-gestemd","aantal-gestemd","keuzes-over"]))])))),128))]),(0,Cn.SU)(d).length>t.paginaSize?((0,i.wg)(),(0,i.j4)((0,Cn.SU)(va.Z),{key:1,modelValue:t.huidigePagina,"onUpdate:modelValue":n[1]||(n[1]=e=>t.huidigePagina=e),"page-count":Math.ceil((0,Cn.SU)(d).length/t.paginaSize),"prev-text":"Vorige","next-text":"Volgende","click-handler":h,size:"md",align:"center",limit:15,"total-rows":(0,Cn.SU)(d).length,"per-page":t.paginaSize},null,8,["modelValue","page-count","total-rows","per-page"])):(0,i.kq)("v-if",!0)]))]),!t.heeftGestemd&&t.magStemmen?((0,i.wg)(),(0,i.iD)("div",Ka,[(0,i._)("div",null,(0,l.zw)((0,Cn.SU)(u)),1),t.aantalVoorstellen>0?((0,i.wg)(),(0,i.j4)(Ma,{key:0,id:t.id},null,8,["id"])):(0,i.kq)("v-if",!0),(0,i._)("input",{type:"button",class:"btn btn-primary",value:"Stem",disabled:0===(0,Cn.SU)(s).length,onClick:p},null,8,Fa)])):(0,i.kq)("v-if",!0)]))}});var Ya=t(1030),Wa={insert:"head",singleton:!1};Dt()(Ya.Z,Wa);Ya.Z.locals;const $a=(0,jn.Z)(Ha,[["__scopeId","data-v-fcb43970"]]);var Na=t(2613),Ja=t.n(Na);const Qa={peiling:$a,groep:xt,namenleren:pa,declaratie:Bn},Xa=e=>Qa[e],ei=(e,n)=>{const t=(0,a.ri)(e,n);return t.directive("input-mask",{beforeMount:function(e){(new(Ja())).mask(e)}}),t.use(xn.ZP),t}},7663:(e,n,t)=>{e.exports=t.p+"images/7708997ef1f5564db44e.gif"}}]);
//# sourceMappingURL=5385.3570016ecadd5b3c1dfb.bundle.js.map