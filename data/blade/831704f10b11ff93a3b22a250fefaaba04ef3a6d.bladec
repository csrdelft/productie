<?php $_shouldextend[1]=1; ?>

<?php $this->startSection('titel', 'Lid instellingen'); ?>

<?php $this->startSection('bodyArgs', 'data-offset="5" data-spy="scroll" data-target="#instellingen"'); ?>

<?php $this->startSection('content'); ?>
	<div class="row">
 <div class="col">
 <h1>Lid instellingen</h1>

 <p>
 Deze instellingen zijn voor hoe de stek er voor jou uit ziet. Wees dus niet bang dat er iets kapot gaat als je
 deze instellingen veranderd.
 </p>

 <a href="<?php echo static::e(REQUEST_URI); ?>">
 <div class="instellingen-bericht alert alert-warning d-none sticky-top">
 Er zijn instellingen veranderd, klik hier of ververs de pagina om de veranderingen te
 zien.
 <?php echo call_user_func_array(['CsrDelft\view\Icon', 'getTag'], ['page_error', 'page_refresh', 'Pagina verversen', 'float-right']); ?>
 </div>
 </a>

 <?php $__currentLoopData = $defaultInstellingen; $this->addLoop($__currentLoopData); foreach($__currentLoopData as $module => $moduleInstellingen): $this->incrementLoopIndices(); $loop = $this->getFirstLoop(); ?>
 <h2 id="instelling-<?php echo static::e($module); ?>"><?php echo static::e(ucfirst($module)); ?></h2>

 <?php $__currentLoopData = $moduleInstellingen; $this->addLoop($__currentLoopData); foreach($__currentLoopData as $id => $instelling): $this->incrementLoopIndices(); $loop = $this->getFirstLoop(); ?>
 <?php 
 $titel = $instelling['titel'];
 $type = $instelling['type'];
 $opties = $instelling['opties'];
  	$default = $instelling['default'];
 $beschrijving = $instelling['beschrijving']
  ?>
 <?php ($keuze = isset($instellingen[$module][$id]) ? $instellingen[$module][$id] : $default); ?>
 <div class="form-group row instelling" id="instelling-<?php echo static::e($module); ?>-<?php echo static::e($id); ?>">
 <label class="col-md-3 col-form-label" for="inst_<?php echo static::e($module); ?>_<?php echo static::e($id); ?>"><?php echo $titel; ?></label>

 <div class="col-md-9">
 <?php if($type === \CsrDelft\common\instellingen\InstellingType::Enumeration): ?>
 <?php if(count($opties) > 8): ?>
 <select name="<?php echo static::e($module); ?>_<?php echo static::e($id); ?>" id="inst_<?php echo static::e($module); ?>_<?php echo static::e($id); ?>" class="form-control change-opslaan"
 data-href="/instellingen/update/<?php echo static::e($module); ?>/<?php echo static::e($id); ?>">
 <?php $__currentLoopData = $opties; $this->addLoop($__currentLoopData); foreach($__currentLoopData as $optieId => $optie): $this->incrementLoopIndices(); $loop = $this->getFirstLoop(); ?>
 <?php if(is_numeric($optieId)): ?>
 <option value="<?php echo static::e($optie); ?>"
 <?php if($optie === $keuze): ?> selected <?php endif; ?>><?php echo static::e(ucfirst($optie)); ?></option>
 <?php else: ?>
 <option value="<?php echo static::e($optieId); ?>"
 <?php if($optieId === $keuze): ?> selected <?php endif; ?>><?php echo static::e(ucfirst($optie)); ?></option>
 <?php endif; ?>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </select>
 <?php else: ?>
 <?php /* Verticaal op xs */ ?>
 <div class="btn-group-vertical btn-group-toggle d-inline-flex d-sm-none" data-buttons="radio">
 <?php $__currentLoopData = $opties; $this->addLoop($__currentLoopData); foreach($__currentLoopData as $optieId => $optie): $this->incrementLoopIndices(); $loop = $this->getFirstLoop(); ?>
 <?php ($optieId = is_int($optieId) ? $optie : $optieId); ?>
 <a class="noanim instellingKnop btn btn-secondary <?php if($optie === $keuze): ?> active <?php endif; ?>"
  href="/instellingen/update/<?php echo static::e($module); ?>/<?php echo static::e($id); ?>/<?php echo static::e($optieId); ?>"><?php echo static::e(ucfirst($optie)); ?></a>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </div>
 <?php /* Horizontaal op alle andere */ ?>
 <div class="d-none d-sm-inline-flex btn-group btn-group-toggle"
  data-buttons="radio">
 <?php $__currentLoopData = $opties; $this->addLoop($__currentLoopData); foreach($__currentLoopData as $optieId => $optie): $this->incrementLoopIndices(); $loop = $this->getFirstLoop(); ?>
 <?php ($optieId = is_int($optieId) ? $optie : $optieId); ?>
 <a class="noanim instellingKnop btn btn-secondary <?php if($optieId === $keuze): ?> active <?php endif; ?>"
  href="/instellingen/update/<?php echo static::e($module); ?>/<?php echo static::e($id); ?>/<?php echo static::e($optieId); ?>"><?php echo static::e(ucfirst($optie)); ?></a>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </div>
 <?php endif; ?>
 <?php elseif($type === \CsrDelft\common\instellingen\InstellingType::String): ?>
 <input type="text" name="<?php echo static::e($module); ?>_<?php echo static::e($id); ?>" id="inst_<?php echo static::e($module); ?>_<?php echo static::e($id); ?>" value="<?php echo static::e($keuze); ?>"
  data-href="/instellingen/update/<?php echo static::e($module); ?>/<?php echo static::e($id); ?>"
  class="form-control change-opslaan" minlength="<?php echo static::e($opties[0]); ?>" maxlength="<?php echo static::e($opties[1]); ?>"/>
 <?php elseif($type === \CsrDelft\common\instellingen\InstellingType::Integer): ?>
 <input type="number" name="<?php echo static::e($module); ?>_<?php echo static::e($id); ?>" id="inst_<?php echo static::e($module); ?>_<?php echo static::e($id); ?>" value="<?php echo static::e($keuze); ?>"
  data-href="/instellingen/update/<?php echo static::e($module); ?>/<?php echo static::e($id); ?>"
  class="form-control change-opslaan" data-href="/instellingen/update/<?php echo static::e($module); ?>/<?php echo static::e($id); ?>"
  min="<?php echo static::e($opties[0]); ?>" max="<?php echo static::e($opties[1]); ?>"/>
 <?php else: ?>
 <div class="bg-danger">Voor dit type bestaat geen optie.</div>
 <?php endif; ?>
 <small class="form-text text-muted">
 <?php ($default = isset($opties[$default]) ? $opties[$default] : $default); ?>
 <?php echo static::e($beschrijving); ?> Standaard waarde: "<?php echo static::e(ucfirst($default)); ?>".
 </small>
 </div>
 </div>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>

 <?php ((new \CsrDelft\view\login\RememberLoginTable())->view()); ?>
 <?php ((new \CsrDelft\view\login\LoginSessionsTable())->view()); ?>
 </div>

 <div class="col-md-4 d-none d-lg-block">
 <div id="instellingen" class="sticky-top list-group">
 <?php $__currentLoopData = $defaultInstellingen; $this->addLoop($__currentLoopData); foreach($__currentLoopData as $module => $moduleInstellingen): $this->incrementLoopIndices(); $loop = $this->getFirstLoop(); ?>
 <a class="list-group-item list-group-item-action" href="#instelling-<?php echo static::e($module); ?>"><?php echo static::e(ucfirst($module)); ?></a>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>

 <a class="list-group-item list-group-item-action" href="#table-automatisch-inloggen">Automatisch inloggen</a>
 <a class="list-group-item list-group-item-action" href="#table-sessiebeheer">Sessiebeheer</a>
 </div>
 </div>
	</div>
<?php $this->stopSection(); ?>

<?php if (@$_shouldextend[1]) { echo $this->runChild('layout'); } ?>